<?xml version="1.0" encoding="utf-8"?>
<search> 
  
  
    
    <entry>
      <title>Wordæ’ç‰ˆæŠ€å·§</title>
      <link href="/2024/04/04/Word%E6%8E%92%E7%89%88%E6%8A%80%E5%B7%A7/"/>
      <url>/2024/04/04/Word%E6%8E%92%E7%89%88%E6%8A%80%E5%B7%A7/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> Word </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Hello World</title>
      <link href="/2024/04/01/hello-world/"/>
      <url>/2024/04/01/hello-world/</url>
      
        <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues">GitHub</a>.</p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">&quot;My New Post&quot;</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/one-command-deployment.html">Deployment</a></p>]]></content>
      
      
      <categories>
          
          <category> å¤§å­¦ç”Ÿæ¶¯ </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>template-02-Javaå¼€å‘å·¥å…·ç±»</title>
      <link href="/2023/11/26/template-02-Java%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E7%B1%BB/"/>
      <url>/2023/11/26/template-02-Java%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E7%B1%BB/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¿—è¯è¯´å¾—å¥½ï¼šå­¦æ¸£å°±æ˜¯ä¸€ä¸ªå­—ï¼ŒæŠ„ï¼</p><p>æœ¬æ–‡ç« ä¸»è¦æ˜¯å°†æ—¥å¸¸å­¦ä¹ ä¸­ç”¨åˆ°çš„Javaå·¥å…·ç±»æ¨¡æ¿è®°å½•ä¸‹æ¥ã€‚</p></blockquote><h2 id="JWT"><a href="#JWT" class="headerlink" title="JWT"></a>JWT</h2><ul><li>maven</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--JWTä¾èµ–--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>io.jsonwebtoken<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>jjwt<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>0.9.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>annotation<ul><li>@WebFilter(urlPatterns &#x3D; â€œ&#x2F;*â€)</li><li>@ServletComponentScanï¼š å¯åŠ¨ç±»ä¸Šæ·»åŠ </li></ul></li><li>JwtUtil</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Claims;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.Jwts;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.SignatureAlgorithm;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Date;</span><br><span class="line"><span class="keyword">import</span> java.util.Map;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> JwtUtil</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/6 13:57</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç­¾åå¯†é’¥</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SIGN_KEY</span> <span class="operator">=</span> <span class="string">&quot;lwsj&quot;</span>;</span><br><span class="line">    <span class="comment">// è¿‡æœŸæ—¶é—´ï¼ˆä¸€å¤©ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Long</span> <span class="variable">EXPIRE</span> <span class="operator">=</span> <span class="number">60</span> * <span class="number">60</span> * <span class="number">24</span> * <span class="number">1000L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”ŸæˆJwtä»¤ç‰Œ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> claims JWTç¬¬äºŒéƒ¨åˆ†è´Ÿè½½payloadä¸­å­˜å‚¨çš„å†…å®¹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> è¿”å›ä¸€ä¸ªJwtä»¤ç‰Œå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">generateJwt</span><span class="params">(Map&lt;String, Object&gt; claims)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.builder()</span><br><span class="line">            <span class="comment">// è‡ªå®šä¹‰ä¿¡æ¯ï¼ˆæœ‰æ•ˆè½½è·ï¼‰</span></span><br><span class="line">            .addClaims(claims)</span><br><span class="line">            <span class="comment">// ç­¾åç®—æ³•ï¼ˆå¤´éƒ¨ï¼‰</span></span><br><span class="line">            .signWith(SignatureAlgorithm.HS256, SIGN_KEY)</span><br><span class="line">            <span class="comment">// è¿‡æœŸæ—¶é—´</span></span><br><span class="line">            .setExpiration(<span class="keyword">new</span> <span class="title class_">Date</span>(System.currentTimeMillis() + EXPIRE))</span><br><span class="line">            .compact();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§£æJWTä»¤ç‰Œ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> jwt JWTä»¤ç‰Œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> JWTç¬¬äºŒéƒ¨åˆ†è´Ÿè½½payloadä¸­å­˜å‚¨çš„å†…å®¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Claims <span class="title function_">parseJWT</span><span class="params">(String jwt)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> Jwts.parser()</span><br><span class="line">            <span class="comment">// æŒ‡å®šç­¾åç§˜é’¥</span></span><br><span class="line">            .setSigningKey(SIGN_KEY)</span><br><span class="line">            <span class="comment">// æŒ‡å®šJWTä»¤ç‰Œ</span></span><br><span class="line">            .parseClaimsJws(jwt)</span><br><span class="line">            .getBody();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»jwtè§£æå½“å‰ç™»å½•ç”¨æˆ·çš„id</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> jwt è¾“å…¥ä¸€ä¸ªä»¤ç‰Œ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ç™»å½•ç”¨æˆ·id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer <span class="title function_">getUserId</span><span class="params">(String jwt)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> (Integer) JwtUtil.parseJWT(jwt).get(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/11/26/template-02-Java%E5%BC%80%E5%8F%91%E5%B7%A5%E5%85%B7%E7%B1%BB/image-20231106192840135.png" alt="image-20231106192840135"></p><h2 id="WebConfig"><a href="#WebConfig" class="headerlink" title="WebConfig"></a>WebConfig</h2><ul><li>è·¨åŸŸé—®é¢˜</li><li>æ‹¦æˆªå™¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.cms.web.interceptor.JwtInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.cors.CorsConfiguration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.cors.UrlBasedCorsConfigurationSource;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.filter.CorsFilter;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.InterceptorRegistry;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.config.annotation.WebMvcConfigurer;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> WebConfig</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/16 10:27</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//ä½¿ç”¨@Configurationæ³¨è§£å’Œä»£ç ï¼Œæ›¿ä»£xmlæ–‡ä»¶è¿›è¡Œé…ç½®</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebConfig</span> <span class="keyword">implements</span> <span class="title class_">WebMvcConfigurer</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (æ–°å¢ä»£ç )æ·»åŠ jwtæ‹¦æˆªå™¨,å¹¶æŒ‡å®šæ‹¦æˆªè·¯å¾„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">addInterceptors</span><span class="params">(InterceptorRegistry registry)</span> &#123;</span><br><span class="line">        registry.addInterceptor(jwtInterceptor())</span><br><span class="line">            .addPathPatterns(<span class="string">&quot;/auth/**&quot;</span>)</span><br><span class="line">            <span class="comment">//ä¸éœ€è¦è¢«æ ¡éªŒurl: æŸ¥è¯¢æ‰€æœ‰ä¸€çº§æ ç›®åŠå…¶äºŒçº§æ ç›®çš„æ¥å£(ä¾›å‰å°ä½¿ç”¨)</span></span><br><span class="line">            .excludePathPatterns(<span class="string">&quot;/auth/category/queryAllParent&quot;</span>,</span><br><span class="line">                                 <span class="string">&quot;/auth/comment/queryByArticleId/&#123;id&#125;&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * (æ–°å¢ä»£ç )åˆ›å»ºjwtæ‹¦æˆªå™¨å¯¹è±¡å¹¶åŠ å…¥springå®¹å™¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> JwtInterceptor <span class="title function_">jwtInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">JwtInterceptor</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// (åŸæœ‰ä»£ç )è·¨åŸŸé…ç½®: é€šè¿‡è·¨åŸŸè¿‡æ»¤å™¨å®ç°</span></span><br><span class="line">    <span class="comment">// OPTIONSé¢„æ£€è¯·æ±‚å…¶å®å°±æ˜¯ä¸ºäº†è§£å†³è·¨åŸŸé—®é¢˜</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> CorsFilter <span class="title function_">corsFilter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">UrlBasedCorsConfigurationSource</span> <span class="variable">source</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlBasedCorsConfigurationSource</span>();</span><br><span class="line">        <span class="type">CorsConfiguration</span> <span class="variable">config</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">CorsConfiguration</span>();</span><br><span class="line">        <span class="comment">// å…è®¸è·¨åŸŸçš„å¤´éƒ¨ä¿¡æ¯</span></span><br><span class="line">        config.addAllowedHeader(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="comment">// å…è®¸è·¨åŸŸçš„æ–¹æ³•</span></span><br><span class="line">        config.addAllowedMethod(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="comment">// å¯è®¿é—®çš„å¤–éƒ¨åŸŸ</span></span><br><span class="line">        config.addAllowedOrigin(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">        <span class="comment">// éœ€è¦è·¨åŸŸç”¨æˆ·å‡­è¯ï¼ˆcookieã€HTTPè®¤è¯åŠå®¢æˆ·ç«¯SSLè¯æ˜ç­‰ï¼‰</span></span><br><span class="line">        <span class="comment">//config.setAllowCredentials(true);</span></span><br><span class="line">        <span class="comment">//config.addAllowedOriginPattern(&quot;*&quot;);</span></span><br><span class="line">        <span class="comment">// è·¨åŸŸè·¯å¾„é…ç½®</span></span><br><span class="line">        source.registerCorsConfiguration(<span class="string">&quot;/**&quot;</span>, config);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CorsFilter</span>(source);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>JwtInterceptor</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.web.interceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.cms.exception.ServiceException;</span><br><span class="line"><span class="keyword">import</span> com.briup.cms.result.ResultCode;</span><br><span class="line"><span class="keyword">import</span> com.briup.cms.util.JwtUtil;</span><br><span class="line"><span class="keyword">import</span> com.briup.cms.util.UserInfoUtil;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.ExpiredJwtException;</span><br><span class="line"><span class="keyword">import</span> io.jsonwebtoken.MalformedJwtException;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.method.HandlerMethod;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.servlet.HandlerInterceptor;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> JwtInterceptor</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/16 9:52</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtInterceptor</span> <span class="keyword">implements</span> <span class="title class_">HandlerInterceptor</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">preHandle</span><span class="params">(HttpServletRequest request, HttpServletResponse response, Object handler)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ¤æ–­æ˜¯å¦å¯ä»¥ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="comment">// 1ã€1ã€å¦‚æœä¸æ˜¯æ˜ å°„æ–¹æ³•ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">if</span> (!(handler <span class="keyword">instanceof</span> HandlerMethod)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 1ã€2ã€é¢„æ£€è¯·æ±‚ç›´æ¥æ”¾è¡Œ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">method</span> <span class="operator">=</span> request.getMethod();</span><br><span class="line">        <span class="keyword">if</span> (method.equals(<span class="string">&quot;OPTIONS&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€è·å–token</span></span><br><span class="line">        <span class="comment">// <span class="doctag">TODO:</span> 2023/11/16 å‰åç«¯äº¤æµå†³å®šæ˜¯ Authorization</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> request.getHeader(<span class="string">&quot;Authorization&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (token == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;tokenæ— æ•ˆï¼Œè¯·é‡æ–°ç™»å½•&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3ã€éªŒè¯token</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// Claims claims = JwtUtil.parseJWT(token);</span></span><br><span class="line">            <span class="comment">// String userId = String.valueOf(claims.get(&quot;userId&quot;));</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">userId</span> <span class="operator">=</span> JwtUtil.getUserId(token);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// å°†userIdæ”¾å…¥åˆ°requestå½“ä¸­ï¼Œæ–¹ä¾¿åé¢/auth/user/info ä»£ç ä½¿ç”¨</span></span><br><span class="line">            request.setAttribute(<span class="string">&quot;userId&quot;</span>, userId);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// ThreadLocal&lt;String&gt; categoryThreadLocal = new ThreadLocal&lt;&gt;();</span></span><br><span class="line">            <span class="comment">// categoryThreadLocal.set(userId);</span></span><br><span class="line">        &#125; <span class="keyword">catch</span> (ExpiredJwtException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç™»å½•åˆ°æœŸ,è¯·é‡æ–°ç™»å½•&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (MalformedJwtException e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ä»¤ç‰Œå¤±æ•ˆ,è¯·é‡æ–°ç™»å½•&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(ResultCode.SYSTEM_INNER_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 4ã€æ”¾è¡Œ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ç»Ÿä¸€å“åº”å®ä½“"><a href="#ç»Ÿä¸€å“åº”å®ä½“" class="headerlink" title="ç»Ÿä¸€å“åº”å®ä½“"></a>ç»Ÿä¸€å“åº”å®ä½“</h2><ul><li>Result<T></T></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.response;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModel;</span><br><span class="line"><span class="keyword">import</span> io.swagger.annotations.ApiModelProperty;</span><br><span class="line"><span class="keyword">import</span> lombok.AllArgsConstructor;</span><br><span class="line"><span class="keyword">import</span> lombok.Data;</span><br><span class="line"><span class="keyword">import</span> lombok.NoArgsConstructor;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; å“åº”æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"> * ç»Ÿä¸€å“åº”å®ä½“</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@ApiModel(&quot;ç»Ÿä¸€å“åº”å®ä½“&quot;)</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@NoArgsConstructor</span></span><br><span class="line"><span class="meta">@AllArgsConstructor</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Result</span>&lt;T&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;å“åº”ç ï¼Œ200 ä»£è¡¨æˆåŠŸ; å…¶ä»–ä»£è¡¨å¤±è´¥ é»˜è®¤0&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> Integer code;</span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;å“åº”ä¿¡æ¯ æè¿°å­—ç¬¦ä¸²&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">    <span class="meta">@ApiModelProperty(&quot;è¿”å›çš„æ•°æ®&quot;)</span></span><br><span class="line">    <span class="keyword">private</span> T data;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è®¾ç½®å“åº”æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> resultCode ç»“æœæšä¸¾</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setResultCode</span><span class="params">(ResultCode resultCode)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = resultCode.code();</span><br><span class="line">        <span class="built_in">this</span>.msg = resultCode.msg();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æˆåŠŸå“åº”,æ— æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; å“åº”æ•°æ®çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">()</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;();</span><br><span class="line">        result.setResultCode(ResultCode.SUCCESS);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æˆåŠŸå“åº”,æœ‰æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> data å“åº”æ•°æ®</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; å“åº”æ•°æ®çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">success</span><span class="params">(T data)</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;();</span><br><span class="line">        result.setResultCode(ResultCode.SUCCESS);</span><br><span class="line">        result.setData(data);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤±è´¥å“åº”,é»˜è®¤å¤±è´¥çŠ¶æ€ç ä¸º 0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> msg æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; è¿”å›çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">error</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(<span class="number">0</span>, msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤±è´¥å“åº”, è‡ªå®šä¹‰å¤±è´¥çŠ¶æ€ç åŠå¤±è´¥å“åº”æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> code çŠ¶æ€ç </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> msg æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; è¿”å›çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">error</span><span class="params">(Integer code, String msg)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;(code, msg, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¤±è´¥å“åº”, ä»å“åº”æšä¸¾ä¸­è·å–å¤±è´¥ å“åº”çŠ¶æ€ç åŠå“åº”æ¶ˆæ¯</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> resultCode ç»“æœæšä¸¾</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> &lt;T&gt; è¿”å›çš„ç±»å‹</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; Result&lt;T&gt; <span class="title function_">error</span><span class="params">(ResultCode resultCode)</span> &#123;</span><br><span class="line">        Result&lt;T&gt; result = <span class="keyword">new</span> <span class="title class_">Result</span>&lt;&gt;();</span><br><span class="line">        result.setResultCode(resultCode);</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="ç»Ÿä¸€å“åº”æ ¼å¼"><a href="#ç»Ÿä¸€å“åº”æ ¼å¼" class="headerlink" title="ç»Ÿä¸€å“åº”æ ¼å¼"></a>ç»Ÿä¸€å“åº”æ ¼å¼</h2><ul><li>ResultCode</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.response;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç»Ÿä¸€å“åº”æ ¼å¼</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ResultCode</span> &#123;</span><br><span class="line">    <span class="comment">/* æˆåŠŸçŠ¶æ€ç  */</span></span><br><span class="line">    SUCCESS(<span class="number">200</span>, <span class="string">&quot;success&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* å‚æ•°é”™è¯¯ï¼š10001-19999 */</span></span><br><span class="line">    PARAM_IS_INVALID(<span class="number">10001</span>, <span class="string">&quot;å‚æ•°æ— æ•ˆ&quot;</span>),</span><br><span class="line">    PARAM_IS_BLANK(<span class="number">10002</span>, <span class="string">&quot;å‚æ•°ä¸ºç©º&quot;</span>),</span><br><span class="line">    PARAM_TYPE_BIND_ERROR(<span class="number">10003</span>, <span class="string">&quot;å‚æ•°ç±»å‹é”™è¯¯&quot;</span>),</span><br><span class="line">    PARAM_NOT_COMPLETE(<span class="number">10004</span>, <span class="string">&quot;å‚æ•°ç¼ºå¤±&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ç”¨æˆ·é”™è¯¯ï¼š20001-29999*/</span></span><br><span class="line">    USER_NOT_LOGIN(<span class="number">20001</span>, <span class="string">&quot;ç”¨æˆ·æœªç™»å½•&quot;</span>),</span><br><span class="line">    USER_LOGIN_ERROR(<span class="number">20002</span>, <span class="string">&quot;è´¦å·ä¸å­˜åœ¨æˆ–å¯†ç é”™è¯¯&quot;</span>),</span><br><span class="line">    USER_ACCOUNT_FORBIDDEN(<span class="number">20003</span>, <span class="string">&quot;è´¦å·å·²è¢«ç¦ç”¨&quot;</span>),</span><br><span class="line">    USER_NOT_EXIST(<span class="number">20004</span>, <span class="string">&quot;ç”¨æˆ·ä¸å­˜åœ¨&quot;</span>),</span><br><span class="line">    USER_HAS_EXISTED(<span class="number">20005</span>, <span class="string">&quot;ç”¨æˆ·å·²å­˜åœ¨&quot;</span>),</span><br><span class="line">    <span class="comment">/*tokenç›¸å…³:*/</span></span><br><span class="line">    TOKEN_MISSION(<span class="number">20006</span>, <span class="string">&quot;tokenä¸å­˜åœ¨ï¼Œè¯·è¿›è¡Œç™»å½•&quot;</span>),</span><br><span class="line">    TOKEN_TIMEOUT(<span class="number">20007</span>, <span class="string">&quot;tokenä»¤ç‰Œå·²è¿‡æœŸ&quot;</span>),</span><br><span class="line">    TOKEN_IS_INVALID(<span class="number">20008</span>, <span class="string">&quot;tokenä»¤ç‰Œæ— æ•ˆ&quot;</span>),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* ç³»ç»Ÿé”™è¯¯ï¼š40001-49999 */</span></span><br><span class="line">    SYSTEM_INNER_ERROR(<span class="number">40001</span>, <span class="string">&quot;ç³»ç»Ÿå†…éƒ¨é”™è¯¯ï¼Œè¯·ç¨åé‡è¯•&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æ•°æ®é”™è¯¯ï¼š50001-599999 */</span></span><br><span class="line">    DATA_NONE(<span class="number">50001</span>, <span class="string">&quot;æ•°æ®æœªæ‰¾åˆ°&quot;</span>),</span><br><span class="line">    DATA_WRONG(<span class="number">50002</span>, <span class="string">&quot;æ•°æ®é”™è¯¯&quot;</span>),</span><br><span class="line">    DATA_EXISTED(<span class="number">50003</span>, <span class="string">&quot;æ•°æ®å·²å­˜åœ¨&quot;</span>),</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æ¥å£é”™è¯¯ï¼š60001-69999 */</span></span><br><span class="line">    INTERFACE_INNER_INVOKE_ERROR(<span class="number">60001</span>, <span class="string">&quot;å†…éƒ¨ç³»ç»Ÿæ¥å£è°ƒç”¨å¼‚å¸¸&quot;</span>),</span><br><span class="line">    INTERFACE_OUTTER_INVOKE_ERROR(<span class="number">60002</span>, <span class="string">&quot;å¤–éƒ¨ç³»ç»Ÿæ¥å£è°ƒç”¨å¼‚å¸¸&quot;</span>),</span><br><span class="line">    INTERFACE_FORBID_VISIT(<span class="number">60003</span>, <span class="string">&quot;è¯¥æ¥å£ç¦æ­¢è®¿é—®&quot;</span>),</span><br><span class="line">    INTERFACE_ADDRESS_INVALID(<span class="number">60004</span>, <span class="string">&quot;æ¥å£åœ°å€æ— æ•ˆ&quot;</span>),</span><br><span class="line">    INTERFACE_REQUEST_TIMEOUT(<span class="number">60005</span>, <span class="string">&quot;æ¥å£è¯·æ±‚è¶…æ—¶&quot;</span>),</span><br><span class="line"></span><br><span class="line">    <span class="comment">/* æƒé™é”™è¯¯ï¼š70001-79999 */</span></span><br><span class="line">    PERMISSION_NO_ACCESS(<span class="number">70001</span>, <span class="string">&quot;æ— è®¿é—®æƒé™&quot;</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> Integer code;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String msg;</span><br><span class="line"></span><br><span class="line">    ResultCode(Integer code, String msg) &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">code</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">msg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">this</span>.msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="å…¨å±€å¼‚å¸¸å¤„ç†"><a href="#å…¨å±€å¼‚å¸¸å¤„ç†" class="headerlink" title="å…¨å±€å¼‚å¸¸å¤„ç†"></a>å…¨å±€å¼‚å¸¸å¤„ç†</h2><ul><li>GlobalExceptionHandler</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.response.Result;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.ExceptionHandler;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.bind.annotation.RestControllerAdvice;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…¨å±€å¼‚å¸¸å¤„ç†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="comment">//@ControllerAdvice + @ResponseBody</span></span><br><span class="line"><span class="meta">@RestControllerAdvice</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GlobalExceptionHandler</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ExceptionHandler(Exception.class)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">handleException</span><span class="params">(Exception e)</span> &#123;</span><br><span class="line">        Result&lt;String&gt; result = <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">if</span> (e <span class="keyword">instanceof</span> ServiceException) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;ç³»ç»Ÿé”™è¯¯ï¼š&#123;&#125;&quot;</span>,e.getMessage());</span><br><span class="line">            result = Result.error(((ServiceException) e).getResultCode());</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            log.info(<span class="string">&quot;ç³»ç»Ÿé”™è¯¯ï¼š&#123;&#125;&quot;</span>,e.getMessage());</span><br><span class="line">            result = Result.error(<span class="number">500</span>, <span class="string">&quot;æœåŠ¡å™¨æ„å¤–é”™è¯¯ï¼š&quot;</span> + e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ServiceException</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.response.ResultCode;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰serviceå±‚å¼‚å¸¸ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServiceException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">1L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> ResultCode resultCode;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ServiceException</span><span class="params">(ResultCode resultCode)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(resultCode.msg());</span><br><span class="line">        <span class="built_in">this</span>.resultCode = resultCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">ServiceException</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> ResultCode <span class="title function_">getResultCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> resultCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setResultCode</span><span class="params">(ResultCode resultCode)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.resultCode = resultCode;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">long</span> <span class="title function_">getSerialVersionUID</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> serialVersionUID;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="mybatisPlusä»£ç ç”Ÿæˆå™¨"><a href="#mybatisPlusä»£ç ç”Ÿæˆå™¨" class="headerlink" title="mybatisPlusä»£ç ç”Ÿæˆå™¨"></a>mybatisPlusä»£ç ç”Ÿæˆå™¨</h2><ul><li>maven</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatisPluså¯åŠ¨ç±»--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--mybatisPlusä»£ç ç”Ÿæˆå™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--freemarker ä»£ç ç”Ÿæˆçš„æ—¶å€™éœ€è¦--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>MybatisPlusGenerator</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.OutputFile;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.converts.MySqlTypeConvert;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.po.LikeTable;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.querys.MySqlQuery;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.query.SQLQuery;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> MybatisPlusGenerator</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/13 11:50</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/cms?characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai&amp;allowMultiQueries=true&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">projectAbPath</span> <span class="operator">=</span> <span class="string">&quot;F:\\languages\\idea_workspace\\cms\\&quot;</span>;</span><br><span class="line">        FastAutoGenerator.create(url, username, password)</span><br><span class="line">            .globalConfig(builder -&gt; &#123;</span><br><span class="line">                builder.author(<span class="string">&quot;Luozw&quot;</span>) <span class="comment">// è®¾ç½®ä½œè€…</span></span><br><span class="line">                    .enableSwagger() <span class="comment">// å¼€å¯ swagger æ¨¡å¼</span></span><br><span class="line">                    .fileOverride() <span class="comment">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">                    .outputDir(projectAbPath + <span class="string">&quot;src\\main\\java&quot;</span>) <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">                    .commentDate(<span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                    .disableOpenDir();</span><br><span class="line">            &#125;)</span><br><span class="line">            .dataSourceConfig(builder -&gt; builder.databaseQueryClass(SQLQuery.class).typeConvert(<span class="keyword">new</span> <span class="title class_">MySqlTypeConvert</span>()).dbQuery(<span class="keyword">new</span> <span class="title class_">MySqlQuery</span>()))</span><br><span class="line">            .packageConfig(builder -&gt; &#123;</span><br><span class="line">                builder.parent(<span class="string">&quot;com.briup.cms&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…å</span></span><br><span class="line">                    <span class="comment">// .moduleName(&quot;system&quot;) // è®¾ç½®çˆ¶åŒ…æ¨¡å—å</span></span><br><span class="line">                    .entity(<span class="string">&quot;bean&quot;</span>)</span><br><span class="line">                    .controller(<span class="string">&quot;web.controller&quot;</span>)</span><br><span class="line">                    .pathInfo(Collections.singletonMap(OutputFile.xml, projectAbPath + <span class="string">&quot;src\\main\\resources\\mappers&quot;</span>)); <span class="comment">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .strategyConfig(builder -&gt; &#123;</span><br><span class="line">                <span class="comment">// è®¾ç½®entityç±»ä¿¡æ¯</span></span><br><span class="line">                builder.entityBuilder().enableFileOverride().enableLombok().build();</span><br><span class="line">                <span class="comment">// è®¾ç½®äº§ç”Ÿä¸ºRestController</span></span><br><span class="line">                builder.controllerBuilder().enableRestStyle().build();</span><br><span class="line">                builder.mapperBuilder().enableFileOverride().enableBaseResultMap().enableBaseColumnList().build();</span><br><span class="line">                builder.likeTable(<span class="keyword">new</span> <span class="title class_">LikeTable</span>(<span class="string">&quot;cms_&quot;</span>))</span><br><span class="line">                    .addTablePrefix(<span class="string">&quot;cms_&quot;</span>); <span class="comment">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>()) <span class="comment">// ä½¿ç”¨Freemarkerå¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿</span></span><br><span class="line">            .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Knife4jConfig"><a href="#Knife4jConfig" class="headerlink" title="Knife4jConfig"></a>Knife4jConfig</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.ApiInfoBuilder;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.PathSelectors;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.builders.RequestHandlerSelectors;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.ApiInfo;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.service.Contact;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spi.DocumentationType;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.spring.web.plugins.Docket;</span><br><span class="line"><span class="keyword">import</span> springfox.documentation.swagger2.annotations.EnableSwagger2WebMvc;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@EnableSwagger2WebMvc</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Knife4jConfig</span> &#123;</span><br><span class="line">    <span class="comment">//Swaggerç•Œé¢ä¸­æ˜¾ç¤ºçš„åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">private</span> ApiInfo <span class="title function_">apiInfo</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//é…ç½®åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">        <span class="type">Contact</span> <span class="variable">briup</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Contact</span>(<span class="string">&quot;briup&quot;</span>, <span class="string">&quot;http://www.briup.com/index.php/&quot;</span>, <span class="string">&quot;briup@briup.com&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">            <span class="comment">//æ ‡é¢˜</span></span><br><span class="line">            .title(<span class="string">&quot;CMSå†…å®¹ç®¡ç†ç³»ç»Ÿ&quot;</span>)</span><br><span class="line">            .description(<span class="string">&quot;æ¬¢è¿è®¿é—®CMSæ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">            <span class="comment">//åŸºæœ¬ä¿¡æ¯</span></span><br><span class="line">            .contact(briup)</span><br><span class="line">            <span class="comment">//ç‰ˆæœ¬å·</span></span><br><span class="line">            .version(<span class="string">&quot;1.0.0&quot;</span>)</span><br><span class="line">            <span class="comment">//åˆ›å»º</span></span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//é…ç½®Controllerçš„åŒ…è·¯å¾„</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> Docket <span class="title function_">createRestApi</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">            .apiInfo(apiInfo())</span><br><span class="line">            .select()</span><br><span class="line">            <span class="comment">//ä¼ å…¥è¦æ‰«æçš„åŒ…ç»“æ„</span></span><br><span class="line">            .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.briup.cms.web.controller&quot;</span>))</span><br><span class="line">            .paths(PathSelectors.any())</span><br><span class="line">            .build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="md5"><a href="#md5" class="headerlink" title="md5"></a>md5</h2><blockquote><p>ä¸»è¦ç”¨æˆ·å¯†ç æˆ–è€…æ•æ„Ÿä¿¡æ¯åŠ å¯†</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.security.MessageDigest;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> MD5Utils</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/16 9:18</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MD5Utils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">MD5</span><span class="params">(String inStr)</span> &#123;</span><br><span class="line">        <span class="type">MessageDigest</span> <span class="variable">md5</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            md5 = MessageDigest.getInstance(<span class="string">&quot;MD5&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.toString());</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">byte</span>[] byteArray = inStr.getBytes();</span><br><span class="line">        <span class="type">byte</span>[] md5Bytes = md5.digest(byteArray);</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">hexValue</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">byte</span> md5Byte : md5Bytes) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">val</span> <span class="operator">=</span> ((<span class="type">int</span>) md5Byte) &amp; <span class="number">0xff</span>;</span><br><span class="line">            <span class="keyword">if</span> (val &lt; <span class="number">16</span>)</span><br><span class="line">                hexValue.append(<span class="string">&quot;0&quot;</span>);</span><br><span class="line">            hexValue.append(Integer.toHexString(val));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> hexValue.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¯é€†çš„åŠ å¯†ç®—æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">KL</span><span class="params">(String inStr)</span> &#123;</span><br><span class="line">        <span class="comment">// String s = new String(inStr);</span></span><br><span class="line">        <span class="type">char</span>[] a = inStr.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            a[i] = (<span class="type">char</span>) (a[i] ^ <span class="string">&#x27;t&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŠ å¯†åè§£å¯†</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">JM</span><span class="params">(String inStr)</span> &#123;</span><br><span class="line">        <span class="type">char</span>[] a = inStr.toCharArray();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; a.length; i++) &#123;</span><br><span class="line">            a[i] = (<span class="type">char</span>) (a[i] ^ <span class="string">&#x27;t&#x27;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">String</span>(a);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="ExcelUtils"><a href="#ExcelUtils" class="headerlink" title="ExcelUtils"></a>ExcelUtils</h2><blockquote><p>å¯¹excelåŸºæœ¬å¯¼å…¥å¯¼å‡ºåŠŸèƒ½çš„å°è£…ï¼Œæ¯”å¦‚å¯¼å‡ºä¸€ä¸ªsheetå’Œå¯¼å‡ºå¤šä¸ªsheetã€‚</p><p>ä½†æ˜¯å¯¹äºå¤æ‚excelçš„å¯¼å…¥å¯¼å‡ºè¿˜éœ€è¦è‡ªå·±è®¾è®¡</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util.excel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.EasyExcel;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.ExcelWriter;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.converters.Converter;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.event.AnalysisEventListener;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.read.builder.ExcelReaderBuilder;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.support.ExcelTypeEnum;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.write.builder.ExcelWriterBuilder;</span><br><span class="line"><span class="keyword">import</span> com.alibaba.excel.write.metadata.WriteSheet;</span><br><span class="line"><span class="keyword">import</span> lombok.Cleanup;</span><br><span class="line"><span class="keyword">import</span> lombok.SneakyThrows;</span><br><span class="line"><span class="keyword">import</span> org.springframework.stereotype.Component;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.multipart.MultipartFile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletResponse;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.OutputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.UnsupportedEncodingException;</span><br><span class="line"><span class="keyword">import</span> java.net.URLEncoder;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> horry</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> ä½¿ç”¨EasyExcelæ“ä½œexcelå¯¼å…¥å¯¼å‡ºæ•°æ®çš„å·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/22-10:39</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ExcelUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ— éœ€æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢æ—¶å¯¼å…¥ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="title function_">importData</span><span class="params">(MultipartFile file, Class&lt;T&gt; tClass,</span></span><br><span class="line"><span class="params">                                  AnalysisEventListener&lt;T&gt; listener)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> importData(file, tClass, listener, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä»Excelæ–‡ä»¶ä¸­å¯¼å…¥æ•°æ®</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file      æ•°æ®æ–‡ä»¶å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tClass    å¾…å¯¼å…¥æ•°æ®çš„ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> listener  è‡ªå®šä¹‰ç›‘å¬å™¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> converter è‡ªå®šä¹‰å‚æ•°è½¬æ¢å™¨</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> &lt;T&gt;       æ³›å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¯¼å…¥çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; List&lt;T&gt; <span class="title function_">importData</span><span class="params">(MultipartFile file, Class&lt;T&gt; tClass,</span></span><br><span class="line"><span class="params">                                  AnalysisEventListener&lt;T&gt; listener, Converter&lt;?&gt; converter)</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶çš„è¾“å…¥æµ</span></span><br><span class="line">        <span class="meta">@Cleanup</span><span class="comment">//æ·»åŠ ä¸€ä¸ªfinallyä»£ç å—è¿›è¡Œå…³é—­èµ„æºçš„æ“ä½œ</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> file.getInputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è°ƒç”¨readæ–¹æ³•</span></span><br><span class="line">        <span class="type">ExcelReaderBuilder</span> <span class="variable">readerBuilder</span> <span class="operator">=</span> EasyExcel.read(in)</span><br><span class="line">            <span class="comment">//æ³¨å†Œè‡ªå®šä¹‰ç›‘å¬å™¨ï¼Œå­—æ®µæ ¡éªŒå¯ä»¥åœ¨ç›‘å¬å™¨å†…å®ç°</span></span><br><span class="line">            .registerReadListener(listener)</span><br><span class="line">            <span class="comment">//å¯¹åº”å¯¼å…¥çš„å®ä½“ç±»</span></span><br><span class="line">            .head(tClass);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ³¨å†Œè‡ªå®šä¹‰å‚æ•°è½¬æ¢å™¨</span></span><br><span class="line">        <span class="keyword">if</span> (converter != <span class="literal">null</span>) &#123;</span><br><span class="line">            readerBuilder.registerConverter(converter);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è¯»å– æ‰€æœ‰sheeté¡µçš„æ•°æ®</span></span><br><span class="line">        <span class="keyword">return</span> readerBuilder</span><br><span class="line">            <span class="comment">//åˆ—è¡¨å¤´è¡Œæ•°ï¼Œ1ä»£è¡¨åˆ—è¡¨å¤´æœ‰1è¡Œï¼Œç¬¬äºŒè¡Œå¼€å§‹ä¸ºæ•°æ®è¡Œ</span></span><br><span class="line">            .headRowNumber(<span class="number">1</span>)</span><br><span class="line">            <span class="comment">//å¼€å§‹è¯»Excelï¼Œè¿”å›ä¸€ä¸ªList&lt;T&gt;é›†åˆï¼Œç»§ç»­åç»­å…¥åº“æ“ä½œ</span></span><br><span class="line">            .doReadAllSync();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ— éœ€æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢æ—¶å¯¼å‡ºä½¿ç”¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">exportExcel</span><span class="params">(HttpServletResponse response, List&lt;T&gt; list, Class&lt;T&gt; tClass, String fileName)</span> &#123;</span><br><span class="line">        exportExcel(response, list, tClass, fileName, (Converter&lt;?&gt;[]) <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å‡ºæ•°æ®åˆ°excel,å•sheetè¡¨</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response   å“åº”å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> list       å¾…å¯¼å‡ºçš„æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tClass     å¯¼å‡ºæ•°æ®çš„ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName   æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> converters è‡ªå®šä¹‰å‚æ•°è½¬æ¢å™¨åˆ—è¡¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">exportExcel</span><span class="params">(HttpServletResponse response, List&lt;T&gt; list, Class&lt;T&gt; tClass,</span></span><br><span class="line"><span class="params">                                String fileName, Converter&lt;?&gt;... converters)</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–è¾“å‡ºæµ</span></span><br><span class="line">        <span class="meta">@Cleanup</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è®¾ç½®å“åº”ç»“æœ</span></span><br><span class="line">        <span class="built_in">this</span>.setExcelResponseProp(response, fileName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–å¯¼å‡ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">ExcelWriter</span> <span class="variable">excelWriter</span> <span class="operator">=</span> getExcelWriter(outputStream, tClass, converters);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//åˆ›å»ºä¸€ä¸ªsheetè¡¨</span></span><br><span class="line">        <span class="type">WriteSheet</span> <span class="variable">sheet</span> <span class="operator">=</span> EasyExcel.writerSheet().build();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¯¼å‡ºæ•°æ®</span></span><br><span class="line">        excelWriter.write(list, sheet);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¯¼å‡ºå®Œæ¯•ååˆ·æ–°ç­‰æ”¶å°¾å·¥ä½œ</span></span><br><span class="line">        excelWriter.finish();</span><br><span class="line">        outputStream.flush();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ— éœ€è‡ªå®šä¹‰ç±»å‹è½¬æ¢æ—¶å¯¼å‡ºå¤šsheetè¡¨ä½¿ç”¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">exportManySheet</span><span class="params">(HttpServletResponse response, List&lt;T&gt; list, Class&lt;T&gt; tClass,</span></span><br><span class="line"><span class="params">                                    String fileName)</span> &#123;</span><br><span class="line">        exportManySheet(response, list, tClass, fileName, (Converter&lt;?&gt;[]) <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å‡ºæ•°æ®åˆ°excel,å¤šsheetè¡¨</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response  å“åº”å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> list      å¾…å¯¼å‡ºçš„æ•°æ®</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> tClass    å¯¼å‡ºæ•°æ®çš„ç±»å‹</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> fileName  æ–‡ä»¶åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> converter è‡ªå®šä¹‰å‚æ•°è½¬æ¢å™¨</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@SneakyThrows</span></span><br><span class="line">    <span class="keyword">public</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">exportManySheet</span><span class="params">(HttpServletResponse response, List&lt;T&gt; list, Class&lt;T&gt; tClass,</span></span><br><span class="line"><span class="params">                                    String fileName, Converter&lt;?&gt;... converter)</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–è¾“å‡ºæµ</span></span><br><span class="line">        <span class="meta">@Cleanup</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">outputStream</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">        <span class="comment">//è®¾ç½®å“åº”ç»“æœ</span></span><br><span class="line">        <span class="built_in">this</span>.setExcelResponseProp(response, fileName);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è·å–å¯¼å‡ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">ExcelWriter</span> <span class="variable">excelWriter</span> <span class="operator">=</span> getExcelWriter(outputStream, tClass, converter);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å°†éœ€è¦å¯¼å‡ºçš„æ•°æ®è¿›è¡Œåˆ†å‰²,æ¯1000æ¡æ•°æ®æ”¾å…¥åˆ°ä¸€ä¸ªsheetä¸­</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> list.size();</span><br><span class="line">        <span class="type">int</span> <span class="variable">total</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; size; i += <span class="number">1000</span>) &#123;</span><br><span class="line">            <span class="comment">//åˆ›å»ºsheetå¯¹è±¡,å‘½åæ–¹å¼ å¦‚:æ—¥å¿—ä¿¡æ¯1ã€æ—¥å¿—ä¿¡æ¯2....</span></span><br><span class="line">            <span class="type">WriteSheet</span> <span class="variable">writeSheet</span> <span class="operator">=</span> EasyExcel.writerSheet(fileName + total++).build();</span><br><span class="line">            <span class="comment">//å°†æ•°æ®å†™å‡ºåˆ°sheetä¸­</span></span><br><span class="line">            excelWriter.write(list.subList(i, size &gt;= <span class="number">1000</span> ? i + <span class="number">1000</span> : size), writeSheet);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//å¯¼å‡ºå®Œæ¯•ååˆ·æ–°ç­‰æ”¶å°¾å·¥ä½œ</span></span><br><span class="line">        excelWriter.finish();</span><br><span class="line">        outputStream.flush();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®å·²æœ‰æ¡ä»¶,åˆ›å»ºå¯¼å‡ºå¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> &lt;T&gt; ExcelWriter <span class="title function_">getExcelWriter</span><span class="params">(OutputStream outputStream, Class&lt;T&gt; tClass,</span></span><br><span class="line"><span class="params">                                           Converter&lt;?&gt;... converters)</span> &#123;</span><br><span class="line">        <span class="comment">//è·å–å¯¼å‡ºå¯¹è±¡å»ºé€ è€…</span></span><br><span class="line">        <span class="type">ExcelWriterBuilder</span> <span class="variable">writerBuilder</span> <span class="operator">=</span> EasyExcel.write(outputStream, tClass)</span><br><span class="line">            .excelType(ExcelTypeEnum.XLSX);</span><br><span class="line">        <span class="comment">//æ³¨å†Œè‡ªå®šä¹‰ç±»å‹è½¬æ¢å™¨</span></span><br><span class="line">        <span class="keyword">if</span> (converters != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Converter&lt;?&gt; converter : converters) &#123;</span><br><span class="line">                writerBuilder.registerConverter(converter);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> writerBuilder.build();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è®¾ç½®å“åº”ç»“æœ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response    å“åº”ç»“æœå¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> rawFileName æ–‡ä»¶å</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> UnsupportedEncodingException ä¸æ”¯æŒçš„ç¼–ç å¼‚å¸¸</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">setExcelResponseProp</span><span class="params">(HttpServletResponse response, String rawFileName)</span> <span class="keyword">throws</span> UnsupportedEncodingException &#123;</span><br><span class="line">        <span class="comment">//è®¾ç½®ç¼–ç æ ¼å¼</span></span><br><span class="line">        response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å¯¼å‡ºæ–‡ä»¶åç§°ï¼ˆé¿å…ä¹±ç ï¼‰</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> URLEncoder.encode(rawFileName.concat(<span class="string">&quot;.xlsx&quot;</span>), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å†…å®¹ç±»å‹</span></span><br><span class="line">        response.setHeader(<span class="string">&quot;content-type&quot;</span>, <span class="string">&quot;application/octet-stream&quot;</span>);</span><br><span class="line">        <span class="comment">//è®¾ç½®å“åº”çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">        response.setHeader(<span class="string">&quot;content-disposition&quot;</span>, <span class="string">&quot;attachment;filename=&quot;</span> + fileName);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="mybatis-plusä»£ç ç”Ÿæˆå™¨"><a href="#mybatis-plusä»£ç ç”Ÿæˆå™¨" class="headerlink" title="mybatis-plusä»£ç ç”Ÿæˆå™¨"></a>mybatis-plusä»£ç ç”Ÿæˆå™¨</h2><ul><li>mavne</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--mybatisPluså¯åŠ¨ç±»--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-boot-starter<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--mybatisPlusä»£ç ç”Ÿæˆå™¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.baomidou<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>mybatis-plus-generator<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>3.5.3.1<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--freemarker ä»£ç ç”Ÿæˆçš„æ—¶å€™éœ€è¦--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-freemarker<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>MybatisPlusGenerator</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.FastAutoGenerator;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.OutputFile;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.converts.MySqlTypeConvert;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.po.LikeTable;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.config.querys.MySqlQuery;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.engine.FreemarkerTemplateEngine;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.generator.query.SQLQuery;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.Collections;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> MybatisPlusGenerator</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/13 11:50</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusGenerator</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://localhost:3306/cms?characterEncoding=utf-8&amp;serverTimezone=Asia/Shanghai&amp;allowMultiQueries=true&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;123456&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">projectAbPath</span> <span class="operator">=</span> <span class="string">&quot;F:\\languages\\idea_workspace\\cms\\&quot;</span>;</span><br><span class="line">        FastAutoGenerator.create(url, username, password)</span><br><span class="line">            .globalConfig(builder -&gt; &#123;</span><br><span class="line">                builder.author(<span class="string">&quot;Luozw&quot;</span>) <span class="comment">// è®¾ç½®ä½œè€…</span></span><br><span class="line">                    .enableSwagger() <span class="comment">// å¼€å¯ swagger æ¨¡å¼</span></span><br><span class="line">                    .fileOverride() <span class="comment">// è¦†ç›–å·²ç”Ÿæˆæ–‡ä»¶</span></span><br><span class="line">                    .outputDir(projectAbPath + <span class="string">&quot;src\\main\\java&quot;</span>) <span class="comment">// æŒ‡å®šè¾“å‡ºç›®å½•</span></span><br><span class="line">                    .commentDate(<span class="string">&quot;yyyy-MM-dd&quot;</span>)</span><br><span class="line">                    .disableOpenDir();</span><br><span class="line">            &#125;)</span><br><span class="line">            .dataSourceConfig(builder -&gt; builder.databaseQueryClass(SQLQuery.class).typeConvert(<span class="keyword">new</span> <span class="title class_">MySqlTypeConvert</span>()).dbQuery(<span class="keyword">new</span> <span class="title class_">MySqlQuery</span>()))</span><br><span class="line">            .packageConfig(builder -&gt; &#123;</span><br><span class="line">                builder.parent(<span class="string">&quot;com.briup.cms&quot;</span>) <span class="comment">// è®¾ç½®çˆ¶åŒ…å</span></span><br><span class="line">                    <span class="comment">// .moduleName(&quot;system&quot;) // è®¾ç½®çˆ¶åŒ…æ¨¡å—å</span></span><br><span class="line">                    .entity(<span class="string">&quot;bean&quot;</span>)</span><br><span class="line">                    .controller(<span class="string">&quot;web.controller&quot;</span>)</span><br><span class="line">                    .pathInfo(Collections.singletonMap(OutputFile.xml, projectAbPath + <span class="string">&quot;src\\main\\resources\\mappers&quot;</span>)); <span class="comment">// è®¾ç½®mapperXmlç”Ÿæˆè·¯å¾„</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .strategyConfig(builder -&gt; &#123;</span><br><span class="line">                <span class="comment">// è®¾ç½®entityç±»ä¿¡æ¯</span></span><br><span class="line">                builder.entityBuilder().enableFileOverride().enableTableFieldAnnotation().enableLombok().build();</span><br><span class="line">                <span class="comment">// è®¾ç½®äº§ç”Ÿä¸ºRestController</span></span><br><span class="line">                builder.controllerBuilder().enableRestStyle().build();</span><br><span class="line">                builder.mapperBuilder().enableFileOverride().enableBaseResultMap().enableBaseColumnList().build();</span><br><span class="line">                builder.likeTable(<span class="keyword">new</span> <span class="title class_">LikeTable</span>(<span class="string">&quot;cms_&quot;</span>))</span><br><span class="line">                    .addTablePrefix(<span class="string">&quot;cms_&quot;</span>); <span class="comment">// è®¾ç½®è¿‡æ»¤è¡¨å‰ç¼€</span></span><br><span class="line">            &#125;)</span><br><span class="line">            .templateEngine(<span class="keyword">new</span> <span class="title class_">FreemarkerTemplateEngine</span>()) <span class="comment">// ä½¿ç”¨Freemarkerå¼•æ“æ¨¡æ¿ï¼Œé»˜è®¤çš„æ˜¯Velocityå¼•æ“æ¨¡æ¿</span></span><br><span class="line">            .execute();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>mpåˆ†é¡µåŠŸèƒ½å¼€å¯</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.annotation.DbType;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.MybatisPlusInterceptor;</span><br><span class="line"><span class="keyword">import</span> com.baomidou.mybatisplus.extension.plugins.inner.PaginationInnerInterceptor;</span><br><span class="line"><span class="keyword">import</span> org.mybatis.spring.annotation.MapperScan;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;com.briup.cms.mapper&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ åˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));<span class="comment">//å¦‚æœé…ç½®å¤šä¸ªæ’ä»¶,åˆ‡è®°åˆ†é¡µæœ€åæ·»åŠ </span></span><br><span class="line">        <span class="comment">//interceptor.addInnerInterceptor(new PaginationInnerInterceptor()); å¦‚æœæœ‰å¤šæ•°æ®æºå¯ä»¥ä¸é…å…·ä½“ç±»å‹ å¦åˆ™éƒ½å»ºè®®é…ä¸Šå…·ä½“çš„DbType</span></span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="IPå·¥å…·ç±»"><a href="#IPå·¥å…·ç±»" class="headerlink" title="IPå·¥å…·ç±»"></a>IPå·¥å…·ç±»</h2><ul><li>maven</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--google jsonå¤„ç†å·¥å…·--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.cms.bean.Ip;</span><br><span class="line"><span class="keyword">import</span> com.google.gson.Gson;</span><br><span class="line"><span class="keyword">import</span> lombok.extern.slf4j.Slf4j;</span><br><span class="line"><span class="keyword">import</span> org.springframework.util.StringUtils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.servlet.http.HttpServletRequest;</span><br><span class="line"><span class="keyword">import</span> java.io.BufferedReader;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStreamReader;</span><br><span class="line"><span class="keyword">import</span> java.net.ConnectException;</span><br><span class="line"><span class="keyword">import</span> java.net.SocketTimeoutException;</span><br><span class="line"><span class="keyword">import</span> java.net.URL;</span><br><span class="line"><span class="keyword">import</span> java.net.URLConnection;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> horry</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> ipå·¥å…·ç±»ç”¨äºipçš„è·å–ä¸è§£æ</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@date</span> 2023/8/18-9:57</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IPUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// IPåœ°å€æŸ¥è¯¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">IP_URL</span> <span class="operator">=</span> <span class="string">&quot;http://whois.pconline.com.cn/ipJson.jsp&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœªçŸ¥åœ°å€</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">UNKNOWN</span> <span class="operator">=</span> <span class="string">&quot;unknown&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å…¬å…±å¯¹å¤–æ¥å£,è·å–ipå¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request è¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ipå¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Ip <span class="title function_">getIP</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> getIp(getIpAddress(request));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å– IPåœ°å€</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨ Nginxç­‰åå‘ä»£ç†è½¯ä»¶ï¼Œ åˆ™ä¸èƒ½é€šè¿‡ request.getRemoteAddr()è·å– IPåœ°å€</span></span><br><span class="line"><span class="comment">     * å¦‚æœä½¿ç”¨äº†å¤šçº§åå‘ä»£ç†çš„è¯ï¼ŒX-Forwarded-Forçš„å€¼å¹¶ä¸æ­¢ä¸€ä¸ªï¼Œè€Œæ˜¯ä¸€ä¸²IPåœ°å€ï¼Œ</span></span><br><span class="line"><span class="comment">     * X-Forwarded-Forä¸­ç¬¬ä¸€ä¸ªé unknownçš„æœ‰æ•ˆIPå­—ç¬¦ä¸²ï¼Œåˆ™ä¸ºçœŸå®IPåœ°å€</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request è¯·æ±‚å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ipåœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">getIpAddress</span><span class="params">(HttpServletRequest request)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">ip</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//X-Forwarded-Forï¼šSquid æœåŠ¡ä»£ç†</span></span><br><span class="line">        ip = request.getHeader(<span class="string">&quot;x-forwarded-for&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="literal">null</span> || ip.length() == <span class="number">0</span> || UNKNOWN.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            <span class="comment">//Proxy-Client-IPï¼šapache æœåŠ¡ä»£ç†</span></span><br><span class="line">            ip = request.getHeader(<span class="string">&quot;Proxy-Client-IP&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="literal">null</span> || ip.length() == <span class="number">0</span> || UNKNOWN.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            <span class="comment">//WL-Proxy-Client-IPï¼šweblogic æœåŠ¡ä»£ç†</span></span><br><span class="line">            ip = request.getHeader(<span class="string">&quot;WL-Proxy-Client-IP&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="literal">null</span> || ip.length() == <span class="number">0</span> || UNKNOWN.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            <span class="comment">//HTTP_CLIENT_IPï¼šæœ‰äº›ä»£ç†æœåŠ¡å™¨</span></span><br><span class="line">            ip = request.getHeader(<span class="string">&quot;HTTP_CLIENT_IP&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æœ‰äº›ç½‘ç»œé€šè¿‡å¤šå±‚ä»£ç†ï¼Œé‚£ä¹ˆè·å–åˆ°çš„ipå°±ä¼šæœ‰å¤šä¸ªï¼Œä¸€èˆ¬éƒ½æ˜¯é€šè¿‡é€—å·ï¼ˆ,ï¼‰åˆ†å‰²å¼€æ¥ï¼Œå¹¶ä¸”ç¬¬ä¸€ä¸ªipä¸ºå®¢æˆ·ç«¯çš„çœŸå®IP</span></span><br><span class="line">        <span class="keyword">if</span> (ip != <span class="literal">null</span> &amp;&amp; ip.length() != <span class="number">0</span>) &#123;</span><br><span class="line">            ip = ip.split(<span class="string">&quot;,&quot;</span>)[<span class="number">0</span>];</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="literal">null</span> || ip.length() == <span class="number">0</span> || UNKNOWN.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            <span class="comment">//X-Real-IPï¼šnginxæœåŠ¡ä»£ç†</span></span><br><span class="line">            ip = request.getHeader(<span class="string">&quot;X-Real-IP&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ip == <span class="literal">null</span> || ip.length() == <span class="number">0</span> || UNKNOWN.equalsIgnoreCase(ip)) &#123;</span><br><span class="line">            ip = request.getRemoteAddr();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// return &quot;0:0:0:0:0:0:0:1&quot;.equals(ip) ? &quot;127.0.0.1&quot; : ip;</span></span><br><span class="line">        <span class="keyword">return</span> ip;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®IPåœ°å€,è§£æè¯¥IP,è·å–åŸºç¡€ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨sendGet()æ–¹æ³• è§£æipåœ°å€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Ip <span class="title function_">getIp</span><span class="params">(String ipAddress)</span> &#123;</span><br><span class="line">        <span class="type">Ip</span> <span class="variable">ip</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Ip</span>();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">rspStr</span> <span class="operator">=</span> sendGet(<span class="string">&quot;ip=&quot;</span> + ipAddress + <span class="string">&quot;&amp;json=true&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (!StringUtils.hasText(rspStr)) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;è·å–åœ°ç†ä½ç½®å¼‚å¸¸ &#123;&#125;&quot;</span>, ipAddress);</span><br><span class="line">                ip.setIp(UNKNOWN);</span><br><span class="line">                <span class="keyword">return</span> ip;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">Gson</span> <span class="variable">gson</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>();</span><br><span class="line">            ip = gson.fromJson(rspStr, Ip.class);</span><br><span class="line">            <span class="keyword">return</span> ip;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;è·å–åœ°ç†ä½ç½®å¼‚å¸¸ &#123;&#125;&quot;</span>, ip);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> ip;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//è¿”å›æ ¼å¼</span></span><br><span class="line">    <span class="comment">/*</span></span><br><span class="line"><span class="comment">    &#123;</span></span><br><span class="line"><span class="comment">        ip: &quot;58.63.47.115&quot;,</span></span><br><span class="line"><span class="comment">        pro: &quot;å¹¿ä¸œçœ&quot;,</span></span><br><span class="line"><span class="comment">        proCode: &quot;440000&quot;,</span></span><br><span class="line"><span class="comment">        city: &quot;å¹¿å·å¸‚&quot;,</span></span><br><span class="line"><span class="comment">        cityCode: &quot;440100&quot;,</span></span><br><span class="line"><span class="comment">        region: &quot;å¤©æ²³åŒº&quot;,</span></span><br><span class="line"><span class="comment">        regionCode: &quot;440106&quot;,</span></span><br><span class="line"><span class="comment">        addr: &quot;å¹¿ä¸œçœå¹¿å·å¸‚å¤©æ²³åŒº ç”µä¿¡&quot;,</span></span><br><span class="line"><span class="comment">        regionNames: &quot;&quot;,</span></span><br><span class="line"><span class="comment">        err: &quot;&quot;</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> String <span class="title function_">sendGet</span><span class="params">(String param)</span> &#123;</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">urlNameString</span> <span class="operator">=</span> IPUtils.IP_URL + <span class="string">&quot;?&quot;</span> + param;</span><br><span class="line">            log.info(<span class="string">&quot;sendGet - &#123;&#125;&quot;</span>, urlNameString);</span><br><span class="line">            <span class="type">URL</span> <span class="variable">realUrl</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(urlNameString);</span><br><span class="line">            <span class="comment">//è¿æ¥è®¾ç½®</span></span><br><span class="line">            <span class="type">URLConnection</span> <span class="variable">connection</span> <span class="operator">=</span> realUrl.openConnection();</span><br><span class="line">            connection.setRequestProperty(<span class="string">&quot;accept&quot;</span>, <span class="string">&quot;*/*&quot;</span>);</span><br><span class="line">            connection.setRequestProperty(<span class="string">&quot;connection&quot;</span>, <span class="string">&quot;Keep-Alive&quot;</span>);</span><br><span class="line">            connection.setRequestProperty(<span class="string">&quot;user-agent&quot;</span>, <span class="string">&quot;Mozilla/4.0 (compatible; MSIE 6.0; Windows NT 5.1;SV1)&quot;</span>);</span><br><span class="line">            <span class="comment">//å‘é€è¿æ¥</span></span><br><span class="line">            connection.connect();</span><br><span class="line">            <span class="comment">//è·å–è§£æåçš„è¿”å›çš„å“åº”æ•°æ®</span></span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(connection.getInputStream(), <span class="string">&quot;GBK&quot;</span>));</span><br><span class="line">            String line;</span><br><span class="line">            <span class="keyword">while</span> ((line = in.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">//æ‹¼æ¥ç»“æœ</span></span><br><span class="line">                result.append(line);</span><br><span class="line">            &#125;</span><br><span class="line">            log.info(<span class="string">&quot;recv - &#123;&#125;&quot;</span>, result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ConnectException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;è°ƒç”¨HttpUtils.sendGet ConnectException, url=&quot;</span> + IPUtils.IP_URL + <span class="string">&quot;,param=&quot;</span> + param, e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SocketTimeoutException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;è°ƒç”¨HttpUtils.sendGet SocketTimeoutException, url=&quot;</span> + IPUtils.IP_URL + <span class="string">&quot;,param=&quot;</span> + param, e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;è°ƒç”¨HttpUtils.sendGet IOException, url=&quot;</span> + IPUtils.IP_URL + <span class="string">&quot;,param=&quot;</span> + param, e);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.error(<span class="string">&quot;è°ƒç”¨HttpsUtil.sendGet Exception, url=&quot;</span> + IPUtils.IP_URL + <span class="string">&quot;,param=&quot;</span> + param, e);</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (in != <span class="literal">null</span>) &#123;</span><br><span class="line">                    in.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">                log.error(<span class="string">&quot;è°ƒç”¨in.close Exception, url=&quot;</span> + IPUtils.IP_URL + <span class="string">&quot;,param=&quot;</span> + param, ex);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> template </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>project-03-çœ‹ç‚¹èµ„è®¯ç®¡ç†ç³»ç»Ÿ</title>
      <link href="/2023/11/21/project-03-%E7%9C%8B%E7%82%B9%E8%B5%84%E8%AE%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/11/21/project-03-%E7%9C%8B%E7%82%B9%E8%B5%84%E8%AE%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>é¡¹ç›®ç®€ä»‹ï¼šcmsä¸»è¦æ˜¯é€šè¿‡ç”¨æˆ·ç®¡ç†ã€è§’è‰²ç®¡ç†ã€æ ç›®ç®¡ç†ã€è¯„è®ºç®¡ç†ã€èµ„è®¯ç®¡ç†ç­‰æ¨¡å—å®ç°å¯¹æ–‡ç« ã€æ–°é—»ç­‰æ•°æ®å†…å®¹çš„ç®¡ç†</p><p>é¡¹ç›®ä»£ç ï¼š<a href="https://gitee.com/luozongwei/cms">https://gitee.com/luozongwei/cms</a></p></blockquote><h1 id="é¡¹ç›®ç‰¹è‰²"><a href="#é¡¹ç›®ç‰¹è‰²" class="headerlink" title="é¡¹ç›®ç‰¹è‰²"></a>é¡¹ç›®ç‰¹è‰²</h1><h2 id="MyBatis-Plus"><a href="#MyBatis-Plus" class="headerlink" title="MyBatis-Plus"></a>MyBatis-Plus</h2><blockquote><p>å®˜ç½‘yydsï¼š<a href="https://baomidou.com/">https://baomidou.com/</a></p></blockquote><p>é€šè¿‡MyBatis-Plusæˆ‘ä»¬å¯ä»¥å­¦åˆ°ï¼š</p><ul><li>mpæ³¨è§£ä½¿ç”¨ã€</li><li>ä»£ç ç”Ÿæˆå™¨(å¿«é€Ÿæ­å»ºåŸºæœ¬æ¶æ„)</li><li>CRUDæ¥å£ï¼šå•è¡¨çš„æ“ä½œåŸºæœ¬ä¸Šä¸åœ¨éœ€è¦å†™sqlè¯­å¥å•¦ï¼</li><li>æ¡ä»¶æ„é€ å™¨ï¼šæ ¹æ®è‡ªå·±çš„ä¸šåŠ¡éœ€æ±‚ï¼Œåˆ›å»ºå•è¡¨çš„whereæ¡ä»¶</li><li>ä¸»é”®ç­–ç•¥ï¼š<ul><li>AUTOï¼šæ•°æ®åº“IDè‡ªå¢</li><li>NONEï¼šä¸è®¾ç½®ä¸»é”®ç±»å‹ï¼ˆé»˜è®¤è·Ÿéšå…¨å±€~&#x3D;INPUTï¼‰</li><li>INPUTï¼šç”¨æˆ·è‡ªå®šä¹‰IDç­–ç•¥ï¼Œæ¯”å¦‚ JD234351</li><li>ASSIGN_IDï¼šé›ªèŠ±ç®—æ³•</li><li>ASSIGN_UUIDï¼šUUIDç®—æ³•</li></ul></li></ul><p><font color="#d12920">æ³¨æ„ï¼šä½¿ç”¨é›ªèŠ±ç®—æ³•ä½œä¸ºidç”Ÿæˆç­–ç•¥ä¼šå­˜åœ¨Bugï¼ï¼</font></p><p>å®˜æ–¹é›ªèŠ±ç®—æ³•é•¿åº¦è¿‡é•¿å¯¼è‡´JSç²¾åº¦ä¸¢å¤±é—®é¢˜ï¼š</p><p><img src="/2023/11/21/project-03-%E7%9C%8B%E7%82%B9%E8%B5%84%E8%AE%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/image-20231121102323682.png" alt="image-20231121102323682"></p><p>è§£å†³æ–¹æ¡ˆï¼š</p><p>æ³¨è§£ï¼š@JsonSerialize(using &#x3D; ToStringSerializer.class)ï¼Œå°†åç«¯â€“&gt;Longâ€“&gt;Stringâ€“&gt;å‰ç«¯; å‰ç«¯â€“&gt;Stringâ€“&gt;Longâ€“&gt;åç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ–‡ç« id</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="meta">@JsonSerialize(using = ToStringSerializer.class)</span></span><br><span class="line"><span class="keyword">private</span> Long id;</span><br></pre></td></tr></table></figure><p><strong>å»ºè®®ï¼šé›ªèŠ±ç®—æ³•ç”Ÿæˆçš„IDå€¼ï¼Œæ•°æ®åº“ä¸­varcharæˆ–charç±»å‹ï¼ŒJavaç±»ä¸­ç”¨Stringç±»å‹</strong></p><ul><li>è‡ªå®šä¹‰IDç”Ÿæˆå™¨</li></ul><p>è‡ªå®šä¹‰idç”Ÿæˆå™¨ å®ç° IdentifierGenerator</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç”¨æˆ·è‡ªå®šä¹‰çš„idç”Ÿæˆå™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">CustomIdGenerator</span> <span class="keyword">implements</span> <span class="title class_">IdentifierGenerator</span>&#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Number <span class="title function_">nextId</span><span class="params">(Object entity)</span> &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿæˆä¸€ä¸ªæ•°å­—id</span></span><br><span class="line">        <span class="keyword">return</span> Math.random();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">nextUUID</span><span class="params">(Object entity)</span> &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿæˆä¸€ä¸ªå­—ç¬¦ä¸²id</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;JD&quot;</span>+System.currentTimeMillis();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨MybatisPlusConfigæ³¨å†ŒCustomIdGeneratoråˆ°IOCå®¹å™¨ä¸­</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> IdentifierGenerator <span class="title function_">idGenerator</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">CustomIdGenerator</span>();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>é€»è¾‘åˆ é™¤</li></ul><p>åœ¨application.ymlä¸­è®¾ç½®å…¨å±€é€»è¾‘åˆ é™¤å­—æ®µå’Œå€¼</p><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">mybatis-plus:</span></span><br><span class="line">  <span class="attr">global-config:</span></span><br><span class="line">    <span class="attr">db-config:</span></span><br><span class="line">      <span class="attr">table-prefix:</span> <span class="string">cms_</span></span><br><span class="line">      <span class="comment"># é€»è¾‘åˆ é™¤å­—æ®µå</span></span><br><span class="line">      <span class="attr">logic-delete-field:</span> <span class="string">deleted</span></span><br><span class="line">      <span class="comment"># é€»è¾‘åˆ é™¤å­—é¢å€¼ï¼šæœªåˆ é™¤ä¸º0</span></span><br><span class="line">      <span class="attr">logic-not-delete-value:</span> <span class="number">0</span></span><br><span class="line">      <span class="comment"># é€»è¾‘åˆ é™¤å­—é¢å€¼ï¼šåˆ é™¤ä¸º1</span></span><br><span class="line">      <span class="attr">logic-delete-value:</span> <span class="number">1</span></span><br><span class="line">      <span class="comment"># é›ªèŠ±ç®—æ³•å…¨å±€è®¾ç½®</span></span><br><span class="line">      <span class="attr">id-type:</span> <span class="string">assign_id</span></span><br><span class="line">  <span class="attr">configuration:</span></span><br><span class="line">    <span class="attr">log-impl:</span> <span class="string">org.apache.ibatis.logging.stdout.StdOutImpl</span></span><br><span class="line">    <span class="attr">map-underscore-to-camel-case:</span> <span class="literal">true</span></span><br><span class="line">  <span class="attr">mapper-locations:</span> <span class="string">classpath:mapper/*.xml</span></span><br><span class="line">  <span class="attr">type-aliases-package:</span> <span class="string">com.briup.cms.bean</span></span><br></pre></td></tr></table></figure><ul><li>åˆ†é¡µæŸ¥è¯¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@MapperScan(&quot;scan.your.mapper.package&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MybatisPlusConfig</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ·»åŠ åˆ†é¡µæ’ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> MybatisPlusInterceptor <span class="title function_">mybatisPlusInterceptor</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">MybatisPlusInterceptor</span> <span class="variable">interceptor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MybatisPlusInterceptor</span>();</span><br><span class="line">        interceptor.addInnerInterceptor(<span class="keyword">new</span> <span class="title class_">PaginationInnerInterceptor</span>(DbType.MYSQL));<span class="comment">//å¦‚æœé…ç½®å¤šä¸ªæ’ä»¶,åˆ‡è®°åˆ†é¡µæœ€åæ·»åŠ </span></span><br><span class="line">        <span class="comment">//interceptor.addInnerInterceptor(new PaginationInnerInterceptor()); å¦‚æœæœ‰å¤šæ•°æ®æºå¯ä»¥ä¸é…å…·ä½“ç±»å‹ å¦åˆ™éƒ½å»ºè®®é…ä¸Šå…·ä½“çš„DbType</span></span><br><span class="line">        <span class="keyword">return</span> interceptor;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å…·ä½“çš„ä½¿ç”¨è¯·çœ‹å®˜ç½‘</li></ul><p><img src="/2023/11/21/project-03-%E7%9C%8B%E7%82%B9%E8%B5%84%E8%AE%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/image-20231121113009900.png" alt="image-20231121113009900"></p><p><img src="/2023/11/21/project-03-%E7%9C%8B%E7%82%B9%E8%B5%84%E8%AE%AF%E7%AE%A1%E7%90%86%E7%B3%BB%E7%BB%9F/image-20231121113026102.png" alt="image-20231121113026102"></p><p><strong>å°è±¡æ·±åˆ»ç‚¹</strong>ï¼šselectMaps å¯ä»¥æœ‰é€‰æ‹©çš„  å±•ç¤ºåˆ—ã€èšåˆå‡½æ•°</p><p>æ³¨æ„ï¼šå› ä¸ºè¦ä½¿ç”¨è‡ªå®šä¹‰åˆ—çš„å½¢å¼ï¼Œåº”å½“ä½¿ç”¨QueryWrapper&lt;&gt; è€Œé lqw</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å€ŸåŠ©mybatisPlusç®€åŒ–æ“ä½œ</span></span><br><span class="line">QueryWrapper&lt;Category&gt; categoryQueryWrapper = <span class="keyword">new</span> <span class="title class_">QueryWrapper</span>&lt;&gt;();</span><br><span class="line">categoryQueryWrapper.select(<span class="string">&quot;max(order_num) as num&quot;</span>);</span><br><span class="line">List&lt;Map&lt;String, Object&gt;&gt; maps = categoryMapper.selectMaps(categoryQueryWrapper);</span><br><span class="line">orderNum = (Integer) maps.get(<span class="number">0</span>).get(<span class="string">&quot;num&quot;</span>);</span><br></pre></td></tr></table></figure><p>lqw.select(å¯å˜é•¿å‡½æ•°æ¥å£);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SafeVarargs</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> LambdaQueryWrapper&lt;T&gt; <span class="title function_">select</span><span class="params">(SFunction&lt;T, ?&gt;... columns)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.select(Arrays.asList(columns));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>qw.select(å¯å˜é•¿å­—ç¬¦ä¸²);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@SafeVarargs</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> QueryWrapper&lt;T&gt; <span class="title function_">select</span><span class="params">(String... columns)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">this</span>.select(Arrays.asList(columns));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é™¤äº†ä½¿ç”¨mpè¿˜èƒ½é€šè¿‡æµçš„å½¢å¼æ¥å®ç°ï¼Œä½†æ˜¯è¿™åªæ˜¯å¯¹äºæ•°æ®é‡æ¯”è¾ƒå°çš„æƒ…å†µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é¦–å…ˆä¸€æ¬¡æ€§ä»æ•°æ®åº“ä¸­å°†æ•°æ®æŸ¥è¯¢å‡ºæ¥</span></span><br><span class="line">List&lt;Category&gt; categoryList = categoryMapper.selectList(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">// findAny è¿”å›çš„æ˜¯ä¸€ä¸ªOptionalç±»å‹ï¼›orElseè¡¨ç¤ºå‰é¢æ²¡æœ‰ç»“æœåˆ™è¿”å›null</span></span><br><span class="line"><span class="type">Category</span> <span class="variable">oldCategory</span> <span class="operator">=</span> categoryList.stream().filter(e -&gt; e.getId().equals(id)).findAny().orElse(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line"><span class="comment">// anyMatchåªè¦åŒ¹é…åˆ°ä¸€ä¸ªå°±è¿”å›true</span></span><br><span class="line"><span class="keyword">return</span> categoryList.stream().anyMatch(e -&gt; &#123;</span><br><span class="line">    <span class="keyword">if</span> (e.getParentId() == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> e.getParentId().equals(id);</span><br><span class="line">&#125;);</span><br></pre></td></tr></table></figure><h2 id="EasyExcel"><a href="#EasyExcel" class="headerlink" title="EasyExcel"></a>EasyExcel</h2><blockquote><p>å…¥å‘ï¼š<a href="https://easyexcel.opensource.alibaba.com/">EasyExcelå®˜æ–¹æ–‡æ¡£ </a></p></blockquote><h3 id="è¯»EasyExcel"><a href="#è¯»EasyExcel" class="headerlink" title="è¯»EasyExcel"></a>è¯»EasyExcel</h3><ul><li>controller</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * RequestPart å˜æˆå‚æ•°å¿…é€‰ï¼Œå¯ä»¥è®¾ç½®å‚æ•°åå¯¹åº”</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@ApiOperation(&quot;å¯¼å…¥æ ç›®æ•°æ®ä»excelä¸­&quot;)</span></span><br><span class="line"><span class="meta">@PostMapping(&quot;/import&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result <span class="title function_">imports</span><span class="params">(<span class="meta">@RequestPart(&quot;file&quot;)</span> MultipartFile file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">  <span class="comment">// ä¸»è¦æ˜¯ä¸ºäº†å¾—åˆ°ä¸€ä¸ªè¾“å…¥æµ</span></span><br><span class="line">    categoryService.imports(file.getInputStream());</span><br><span class="line">    <span class="keyword">return</span> Result.success(<span class="string">&quot;æ•°æ®å¯¼å…¥æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸¤ç§æ–¹å¼å®ç°excelå­—æ®µå’ŒJavaå¯¹è±¡å­—æ®µè½¬æ¢åŠŸèƒ½ï¼š</p><p>éš¾ç‚¹ï¼šexcelâ€“&gt;converterâ€“&gt;listenerâ€“&gt;service å¦‚ä½•èƒ½å¤Ÿé¡ºåˆ©å¾—å®ç°çˆ¶æ ç›®åç§°è½¬å˜æˆçˆ¶æ ç›®id</p><h4 id="ç¬¬ä¸€ç§å®ç°æ–¹æ³•ï¼šä½¿ç”¨è½¬æ¢å™¨è½¬æ¢å™¨Converter"><a href="#ç¬¬ä¸€ç§å®ç°æ–¹æ³•ï¼šä½¿ç”¨è½¬æ¢å™¨è½¬æ¢å™¨Converter" class="headerlink" title="ç¬¬ä¸€ç§å®ç°æ–¹æ³•ï¼šä½¿ç”¨è½¬æ¢å™¨è½¬æ¢å™¨Converter"></a>ç¬¬ä¸€ç§å®ç°æ–¹æ³•ï¼šä½¿ç”¨è½¬æ¢å™¨è½¬æ¢å™¨Converter</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ç›®åˆ é™¤çŠ¶æ€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@TableLogic</span></span><br><span class="line"><span class="meta">@ExcelProperty(value = &quot;æ ç›®åˆ é™¤çŠ¶æ€&quot;, converter = DeletedConverter.class)</span></span><br><span class="line"><span class="keyword">private</span> Integer deleted;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * çˆ¶æ ç›®id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@ExcelProperty(value = &quot;çˆ¶æ ç›®&quot;, converter = CategoryParentIdConverter.class)</span></span><br><span class="line"><span class="keyword">private</span> Integer parentId;</span><br></pre></td></tr></table></figure><p>ä¸¤ä¸ªè½¬æ¢å™¨å¦‚ä¸‹ï¼š</p><ul><li>DeletedConverter</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util.excel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DeletedConverter</span> <span class="keyword">implements</span> <span class="title class_">Converter</span>&lt;Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¼€å¯å¯¹Integerçš„æ”¯æŒ ï¼ˆæ„Ÿè§‰å¼€å¯å¯¹åº”Javaå±æ€§çš„ç±»å‹ï¼Œç›¸å½“äºå¤šäº†ä¸€ä¸ªæ³›å‹æ£€æŸ¥ï¼‰</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Integer.class</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Class&lt;?&gt; supportJavaTypeKey() &#123;</span><br><span class="line">        <span class="keyword">return</span> Integer.class;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Excelæ–‡ä»¶ä¸­å•å…ƒæ ¼çš„æ•°æ®ç±»å‹-String (å¯¹åº”ä½ç½®å¯¼å‡ºåˆ°Excelçš„æ•°æ®ç±»å‹)</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> CellDataTypeEnum <span class="title function_">supportExcelTypeKey</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> CellDataTypeEnum.STRING;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½œç”¨ï¼šå°†å•å…ƒæ ¼é‡Œçš„æ•°æ®è½¬ä¸ºjavaå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ è¢«åˆ é™¤-&gt;1ï¼Œæœªè¢«åˆ é™¤-&gt;0</span></span><br><span class="line"><span class="comment">     * ç”¨äºå¯¼å…¥excelæ—¶å¯¹é€»è¾‘å­—æ®µåˆ é™¤å­—æ®µè¿›è¡Œè½¬æ¢</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> cellData            æ•°æ®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contentProperty     å•å…ƒæ ¼å†…å®¹å±æ€§</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> globalConfiguration å…¨å±€é…ç½®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Integer -&gt; javaå®ä½“ç±»å±æ€§ä¸­</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">convertToJavaData</span><span class="params">(ReadCellData&lt;?&gt; cellData, ExcelContentProperty contentProperty, GlobalConfiguration globalConfiguration)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> cellData.getStringValue().equals(<span class="string">&quot;è¢«åˆ é™¤&quot;</span>) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ä½œç”¨ï¼šå°†å•å…ƒæ ¼é‡Œçš„æ•°æ®è½¬ä¸ºjavaå¯¹è±¡ï¼Œä¹Ÿå°±æ˜¯ è¢«åˆ é™¤-&gt;1ï¼Œæœªè¢«åˆ é™¤-&gt;0</span></span><br><span class="line"><span class="comment">     * ç”¨äºå¯¼å…¥excelæ—¶å¯¹é€»è¾‘å­—æ®µåˆ é™¤å­—æ®µè¿›è¡Œè½¬æ¢</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context è¯»å–è½¬æ¢å™¨ä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> Integer</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Integer <span class="title function_">convertToJavaData</span><span class="params">(ReadConverterContext&lt;?&gt; context)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> context.getReadCellData().getStringValue().equals(<span class="string">&quot;è¢«åˆ é™¤&quot;</span>) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœ¨å¯¼å‡ºæ—¶ï¼Œå°†é€»è¾‘åˆ é™¤å­—æ®µä¸­çš„ 0-&gt;æœªè¢«åˆ é™¤ï¼›1-&gt;è¢«åˆ é™¤</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> value               é€»è¾‘åˆ é™¤å­—æ®µçš„å€¼ 1-&gt;è¢«åˆ é™¤ï¼›0-&gt;æœªè¢«åˆ é™¤</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> contentProperty     å•å…ƒæ ¼å†…å®¹å±æ€§</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> globalConfiguration å…¨å±€é…ç½®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> WriteCellData&lt;?&gt; convertToExcelData(Integer value, ExcelContentProperty contentProperty, GlobalConfiguration globalConfiguration) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WriteCellData</span>&lt;Integer&gt;(value.equals(<span class="number">1</span>) ? <span class="string">&quot;è¢«åˆ é™¤&quot;</span> : <span class="string">&quot;æœªè¢«åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åœ¨å¯¼å‡ºæ—¶,å°†é€»è¾‘åˆ é™¤å­—æ®µä¸­çš„ 0 è½¬æ¢ä¸º æœªè¢«åˆ é™¤ 1 è½¬æ¢ä¸º è¢«åˆ é™¤</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> context ç¼–å†™è½¬æ¢å™¨ä¸Šä¸‹æ–‡å¯¹è±¡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> WriteCellData&lt;?&gt; convertToExcelData(WriteConverterContext&lt;Integer&gt; context) <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">WriteCellData</span>&lt;Integer&gt;(context.getValue().equals(<span class="number">1</span>) ? <span class="string">&quot;è¢«åˆ é™¤&quot;</span> : <span class="string">&quot;æœªè¢«åˆ é™¤&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>CategoryParentIdConverter</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util.excel;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">CategoryParentIdConverter</span> <span class="keyword">implements</span> <span class="title class_">Converter</span>&lt;Integer&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç”¨äºå­˜æ”¾çˆ¶æ ç›®æ•°æ®</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> List&lt;Category&gt; categoryList;</span><br><span class="line">    <span class="comment">// ç”¨æ¥å­˜æ”¾parentNameå’Œè¿”å›å€¼çš„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Map&lt;Integer, String&gt; parentNameMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ® çˆ¶æ ç›®åç§° æ‰¾å¯» çˆ¶æ ç›®id</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> parentName çˆ¶æ ç›®åç§°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> çˆ¶æ ç›®id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> Integer <span class="title function_">convertNameToId</span><span class="params">(String parentName)</span> &#123;</span><br><span class="line">        <span class="comment">// å‚æ•°æ ¡éªŒ</span></span><br><span class="line">        <span class="keyword">if</span> (StringUtils.hasText(parentName) &amp;&amp; !parentName.trim().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// æ ¹æ®parentNameæŸ¥æ‰¾categoryå¯¹è±¡</span></span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> categoryList.stream().filter(e -&gt; e.getName().equals(parentName))</span><br><span class="line">                .findAny().orElse(<span class="literal">null</span>);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­categoryæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">            <span class="keyword">if</span> (category == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// ä¸å­˜åœ¨</span></span><br><span class="line">                <span class="comment">// throw new ServiceException(ResultCode.PCATEGORY_IS_INVALID);</span></span><br><span class="line">                <span class="comment">// é€šè¿‡æ—¶é—´æˆ³è®¡ç®—å‡ºä¸€ä¸ªå”¯ä¸€çš„Longç±»å‹id</span></span><br><span class="line">                <span class="comment">// parentNameMap.put(System.currentTimeMillis(),)</span></span><br><span class="line">                <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">                <span class="type">int</span> <span class="variable">randomNum</span> <span class="operator">=</span> random.nextInt(Integer.MAX_VALUE);</span><br><span class="line">                <span class="keyword">while</span> (parentNameMap.containsKey(-randomNum)) &#123;</span><br><span class="line">                    randomNum = -random.nextInt(Integer.MAX_VALUE);</span><br><span class="line">                &#125;</span><br><span class="line">                parentNameMap.put(-randomNum, parentName);</span><br><span class="line">                <span class="keyword">return</span> -randomNum;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// å­˜åœ¨ è·å–idï¼Œæ•°æ®åº“ä¸­å­˜åœ¨è¯¥parentNameå¯¹åº”çš„ parentId</span></span><br><span class="line">            <span class="keyword">return</span> category.getId();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>CategoryListener</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è§£æä¸€è¡Œï¼Œå›è°ƒæ–¹æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> category        ä»excelä¸­å¯¼å…¥çš„æ ç›®å¯¹è±¡</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> analysisContext åˆ†æä¸Šä¸‹æ–‡</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">invoke</span><span class="params">(Category category, AnalysisContext analysisContext)</span> &#123;</span><br><span class="line">    <span class="comment">// æ ¡éªŒåå­—</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> category.getName();</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ ç›®åæ˜¯å¦æœ‰æ•ˆ</span></span><br><span class="line">    <span class="keyword">if</span> (!StringUtils.hasText(name) || name.trim().equals(<span class="string">&quot;&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(String.format(<span class="string">&quot;ç¬¬%sè¡Œåç§°ä¸ºç©ºï¼Œè¯·æ ¸å®&quot;</span>,</span><br><span class="line">                                                 analysisContext.readRowHolder().getRowIndex() + <span class="number">1</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­æ ç›®åæ˜¯å¦é‡å¤å­˜åœ¨</span></span><br><span class="line">    <span class="keyword">if</span> (names.contains(name)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(String.format(<span class="string">&quot;ç¬¬%sè¡Œåç§°å·²é‡å¤ï¼Œè¯·æ ¸å®&quot;</span>,</span><br><span class="line">                                                 analysisContext.readRowHolder().getRowIndex() + <span class="number">1</span>));</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯ä¸€çº§æ ç›®ç›´æ¥æ’å…¥ï¼Œç”Ÿæˆid</span></span><br><span class="line">        <span class="keyword">if</span> (category.getParentId() == <span class="literal">null</span>) &#123;</span><br><span class="line">            categoryMapper.insert(category);</span><br><span class="line">            CategoryParentIdConverter.categoryList.add(category);</span><br><span class="line">        &#125;</span><br><span class="line">        names.add(name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>CategoryServiceImpl</li></ul><p>å…³äºExcelUtilså¯ä»¥çœ‹giteeä»“åº“ä»£ç </p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">imports</span><span class="params">(InputStream file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1ã€å…ˆæ›´æ–°CategoryParentIdConverterä¸­çš„categoryListæ•°æ®</span></span><br><span class="line">    CategoryParentIdConverter.categoryList = categoryMapper.selectList(<span class="literal">null</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2ã€è·å–æ•°æ®</span></span><br><span class="line">    <span class="comment">// æ–¹æ³•ä¸€ï¼šä½¿ç”¨å·¥å…·ç±»excelUtils</span></span><br><span class="line">    <span class="comment">// List&lt;Category&gt; list = excelUtils.importData(file, Category.class, new CategoryListener());</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–¹æ³•äºŒï¼šä½¿ç”¨åŸç”Ÿçš„EasyExcelï¼Œå…¶å®ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†å¯ä»¥è¿”å›æŒ‡å®šçš„List&lt;Category&gt;é›†åˆ</span></span><br><span class="line">    <span class="type">ExcelReaderBuilder</span> <span class="variable">readerBuilder</span> <span class="operator">=</span> EasyExcel.read(file, Category.class, <span class="keyword">new</span> <span class="title class_">CategoryListener</span>(categoryMapper));</span><br><span class="line">    <span class="comment">// headRowNumber(1)è¡¨ç¤º ä»ç¬¬äºŒè¡Œå¼€å§‹æ‰æ˜¯æ•°æ®</span></span><br><span class="line">    List&lt;Category&gt; list = readerBuilder.headRowNumber(<span class="number">1</span>).doReadAllSync();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3ã€å°†ä¸€çº§æ ç›®å’ŒäºŒçº§æ ç›®è¿›è¡Œåˆ†ç¦»</span></span><br><span class="line">    List&lt;Category&gt; secondLevelList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">        <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> list.get(i);</span><br><span class="line">        <span class="keyword">if</span> (category.getParentId() != <span class="literal">null</span>) &#123;</span><br><span class="line">            secondLevelList.add(category);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4ã€å°†æ•°æ®æ”¾å…¥æ•°æ®åº“å½“ä¸­</span></span><br><span class="line">    <span class="comment">// æ³¨å…¥parentNameMap</span></span><br><span class="line">    Map&lt;Integer, String&gt; parentNameMap = CategoryParentIdConverter.parentNameMap;</span><br><span class="line">    List&lt;Category&gt; categoryList = categoryMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">    <span class="comment">// ä»parentNameMapè·å–randomNum-&gt;å¾—åˆ°parentName--&gt;çœŸæ­£parentId</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; secondLevelList.size(); i++) &#123;</span><br><span class="line">        <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> secondLevelList.get(i);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">randomNum</span> <span class="operator">=</span> category.getParentId();</span><br><span class="line">        <span class="keyword">if</span> (randomNum &gt; <span class="number">0</span>) <span class="keyword">continue</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">parentName</span> <span class="operator">=</span> parentNameMap.get(randomNum);</span><br><span class="line">        <span class="type">Category</span> <span class="variable">c</span> <span class="operator">=</span> categoryList.stream().filter(e -&gt; e.getName().equals(parentName)).findAny().orElse(<span class="literal">null</span>);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(ResultCode.PARAM_IS_INVALID);</span><br><span class="line">        &#125;</span><br><span class="line">        category.setParentId(c.getId());</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¯¹parentNameMapè¿›è¡Œç½®ç©º</span></span><br><span class="line">    parentNameMap.clear();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ’å…¥äºŒçº§æ ç›®</span></span><br><span class="line">    <span class="built_in">this</span>.saveBatch(secondLevelList, <span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h4 id="ç¬¬äºŒç§å®ç°æ–¹æ³•ï¼šä¸ä½¿ç”¨è½¬æ¢å™¨Converter"><a href="#ç¬¬äºŒç§å®ç°æ–¹æ³•ï¼šä¸ä½¿ç”¨è½¬æ¢å™¨Converter" class="headerlink" title="ç¬¬äºŒç§å®ç°æ–¹æ³•ï¼šä¸ä½¿ç”¨è½¬æ¢å™¨Converter"></a>ç¬¬äºŒç§å®ç°æ–¹æ³•ï¼šä¸ä½¿ç”¨è½¬æ¢å™¨Converter</h4><ul><li>ä½¿ç”¨CategoryImportDataæ¥å—Excelæ•°æ®</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ç›®åˆ é™¤çŠ¶æ€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@TableLogic</span></span><br><span class="line"><span class="meta">@ExcelProperty(value = &quot;æ ç›®åˆ é™¤çŠ¶æ€&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String deleted;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * çˆ¶æ ç›®id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@ExcelProperty(value = &quot;çˆ¶æ ç›®&quot;)</span></span><br><span class="line"><span class="keyword">private</span> String parentName;</span><br></pre></td></tr></table></figure><ul><li>CategoryServiceImpl å…·ä½“çš„å®ç°é€»è¾‘éƒ½åœ¨è¿™é‡Œ ã€æ¨èã€‘</li></ul><p>æœ¬è´¨å°±æ˜¯æ‰€æœ‰çš„åˆ¤æ–­é€»è¾‘éƒ½åœ¨serviceå±‚å®ç°ï¼ŒåŒ…æ‹¬å­—æ®µçš„è½¬æ¢ã€æ•°æ®æ˜¯å¦ä¸ºç©ºçš„åˆ¤æ–­ç­‰ç­‰ï¼Œ</p><p>å¯ä½¿ç”¨mpæä¾›çš„æ‰¹é‡æ’å…¥æ–¹æ³•ï¼Œå…ˆæ‰¹é‡æ’å…¥ä¸€çº§æ ç›®ï¼Œå†æ‰¹é‡æ’å…¥äºŒçº§æ ç›®</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">imports</span><span class="params">(InputStream file)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"></span><br><span class="line">    <span class="type">ExcelReaderBuilder</span> <span class="variable">readerBuilder</span> <span class="operator">=</span> EasyExcel.read(file, CategoryImportData.class, <span class="keyword">new</span> <span class="title class_">CategoryListener</span>(categoryMapper));</span><br><span class="line">    List&lt;CategoryImportData&gt; importDataList = readerBuilder.headRowNumber(<span class="number">1</span>).doReadAllSync();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å…ˆæŸ¥è¯¢</span></span><br><span class="line">    List&lt;Category&gt; categoryOneList = importDataList.stream()</span><br><span class="line">        .filter(e -&gt; e.getParentName() == <span class="literal">null</span>)</span><br><span class="line">        .map(e -&gt; &#123;</span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> convertData(e);</span><br><span class="line">            category.setParentId(<span class="literal">null</span>);</span><br><span class="line">            <span class="keyword">return</span> category;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">    <span class="built_in">this</span>.saveBatch(categoryOneList);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äºŒçº§æ ç›®</span></span><br><span class="line">    List&lt;Category&gt; categoryTwoList = importDataList.stream()</span><br><span class="line">        .filter(e -&gt; e.getParentName() != <span class="literal">null</span>)</span><br><span class="line">        .map(e -&gt; &#123;</span><br><span class="line">            <span class="comment">// parentName-&gt; category</span></span><br><span class="line">            <span class="type">Category</span> <span class="variable">parentCategory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LambdaQueryChainWrapper</span>&lt;Category&gt;(categoryMapper)</span><br><span class="line">                .eq(Category::getName, e.getParentName()).one();</span><br><span class="line">            <span class="comment">// åˆ¤ç©ºä»£ç çš„ä¸‰ç§æ–¹æ³•</span></span><br><span class="line">            <span class="comment">// 1ã€ifæ¡ä»¶åˆ¤ç©º</span></span><br><span class="line">            <span class="comment">// if (c == null) &#123;</span></span><br><span class="line">            <span class="comment">//     throw new ServiceException(ResultCode.PARAM_IS_INVALID);</span></span><br><span class="line">            <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 2ã€ä½¿ç”¨Optional</span></span><br><span class="line">            <span class="comment">// Optional.ofNullable(c).orElseThrow(()-&gt;new ServiceException(ResultCode.PARAM_IS_INVALID))</span></span><br><span class="line"></span><br><span class="line">            <span class="comment">// 3ã€ä½¿ç”¨Assert</span></span><br><span class="line">            AssertCmsUtil.notNull(parentCategory, <span class="string">&quot;çˆ¶æ ç›®&quot;</span>);</span><br><span class="line">            <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> convertData(e);</span><br><span class="line">            category.setParentId(parentCategory.getId());</span><br><span class="line">            <span class="keyword">return</span> category;</span><br><span class="line">        &#125;).collect(Collectors.toList());</span><br><span class="line">    <span class="built_in">this</span>.saveBatch(categoryTwoList);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> Category <span class="title function_">convertData</span><span class="params">(CategoryImportData e)</span> &#123;</span><br><span class="line">    <span class="type">Category</span> <span class="variable">category</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Category</span>();</span><br><span class="line">    BeanUtils.copyProperties(e, category, <span class="string">&quot;deleted&quot;</span>, <span class="string">&quot;parentId&quot;</span>);</span><br><span class="line">    <span class="type">Integer</span> <span class="variable">deleted</span> <span class="operator">=</span> <span class="string">&quot;è¢«åˆ é™¤&quot;</span>.equals(e.getDeleted()) ? <span class="number">1</span> : <span class="number">0</span>;</span><br><span class="line">    category.setParentId(deleted);</span><br><span class="line">    <span class="keyword">return</span> category;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å­¦ä¹ ï¼šä¸‰ç§åˆ¤ç©ºæ‰‹æ®µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ¤ç©ºä»£ç çš„ä¸‰ç§æ–¹æ³•</span></span><br><span class="line"><span class="comment">// 1ã€ifæ¡ä»¶åˆ¤ç©º</span></span><br><span class="line"><span class="keyword">if</span> (c == <span class="literal">null</span>) &#123;</span><br><span class="line">    <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(ResultCode.PARAM_IS_INVALID);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 2ã€ä½¿ç”¨Optional</span></span><br><span class="line">Optional.ofNullable(c).orElseThrow(()-&gt;<span class="keyword">new</span> <span class="title class_">ServiceException</span>(ResultCode.PARAM_IS_INVALID));</span><br><span class="line"></span><br><span class="line"><span class="comment">// 3ã€ä½¿ç”¨Asserta</span></span><br><span class="line">AssertCmsUtil.notNull(parentCategory, <span class="string">&quot;çˆ¶æ ç›®&quot;</span>);</span><br></pre></td></tr></table></figure><ul><li>è‡ªå®šä¹‰AssertCmsUtilå·¥å…·ç±»ï¼Œæ¨¡ä»¿springframeworkå†™æ»´ï¼Œå…¶å®å°±æ˜¯å°†ç©ºå€¼æ¡ä»¶å°è£…èµ·æ¥ï¼Œæä¾›ç»Ÿä¸€æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.cms.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.cms.exception.ServiceException;</span><br><span class="line"><span class="keyword">import</span> com.briup.cms.result.ResultCode;</span><br><span class="line"><span class="keyword">import</span> org.springframework.lang.Nullable;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> AssertCmsUtil</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/23 10:21</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AssertCmsUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">isNUll</span><span class="params">(<span class="meta">@Nullable</span> Object object, String message)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (object != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">isNull</span><span class="params">(<span class="meta">@Nullable</span> Object object, ResultCode resultCode)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (object != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(resultCode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">notNull</span><span class="params">(<span class="meta">@Nullable</span> Object object, String message)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (object == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(message);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">notNull</span><span class="params">(<span class="meta">@Nullable</span> Object object, ResultCode resultCode)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (object == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(resultCode);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å†™EasyExcel"><a href="#å†™EasyExcel" class="headerlink" title="å†™EasyExcel"></a>å†™EasyExcel</h3><p>æä¾›äº†å¾ˆå¤šçš„å®ä½“ç±»ï¼š</p><ul><li>HttpServletResponse.SC_OK &#x3D; 200</li><li>MediaType.APPLICATION_OCTET_STREAM_VALUE &#x3D; application&#x2F;octet-stream è¦å’Œå‰ç«¯ä¸€èµ·æ²Ÿé€šå†³å®šä¼ è¾“æ–¹å¼</li><li>ExcelTypeEnum.XLSX</li></ul><p> â€œContent-dispositionâ€ : â€œattachment;filename*&#x3D;utf-8â€™â€™â€ è¡¨ç¤ºè¦ä»¥é™„ä»¶çš„å½¢å¼ä¸‹è½½æ–‡ä»¶</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">export</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="comment">// 1ã€æ›´æ–°æ•°æ® + è·å–</span></span><br><span class="line">    List&lt;Category&gt; list = categoryMapper.selectList(<span class="literal">null</span>);</span><br><span class="line">    CategoryParentIdConverter.categoryList = list;</span><br><span class="line">    <span class="comment">// 2ã€å¯¼å‡ºæ•°æ®</span></span><br><span class="line">    <span class="comment">// æ–¹æ³•ä¸€ï¼šä½¿ç”¨å·¥å…·ç±»</span></span><br><span class="line">    <span class="comment">// excelUtils.exportExcel(response, list, Category.class, &quot;æ ç›®ä¿¡æ¯è¡¨&quot;);</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ–¹æ³•äºŒï¼š</span></span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”çŠ¶æ€</span></span><br><span class="line">    response.setStatus(HttpServletResponse.SC_OK); <span class="comment">// 200 </span></span><br><span class="line">    <span class="comment">// è®¾ç½®Excelè¡¨å</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;æ ç›®ä¿¡æ¯è¡¨&quot;</span>;</span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”å¾—å¤´éƒ¨ä¿¡æ¯</span></span><br><span class="line">    <span class="comment">// è®¾ç½®ç¼–ç æ ¼å¼ï¼Œä¸»è¦æ˜¯ç»™tomcatä½¿ç”¨çš„ç¼–ç æ ¼å¼</span></span><br><span class="line">    response.setCharacterEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">    <span class="comment">// httpæœåŠ¡å™¨è®¾ç½®å“åº”å¤´</span></span><br><span class="line">    response.setContentType(MediaType.APPLICATION_OCTET_STREAM_VALUE); <span class="comment">// application/octet-stream</span></span><br><span class="line">    <span class="comment">// è®¾ç½®å“åº”çš„ç¼–ç æ ¼å¼ </span></span><br><span class="line">    response.setHeader(<span class="string">&quot;Content-disposition&quot;</span>, <span class="string">&quot;attachment;filename*=utf-8&#x27;&#x27;&quot;</span> + fileName + <span class="string">&quot;.xlsx&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è·å–å¯¼å‡ºå¯¹è±¡builder</span></span><br><span class="line">    <span class="type">ServletOutputStream</span> <span class="variable">os</span> <span class="operator">=</span> response.getOutputStream();</span><br><span class="line">    <span class="type">ExcelWriterBuilder</span> <span class="variable">writerBuilder</span> <span class="operator">=</span> EasyExcel.write(os, Category.class).excelType(ExcelTypeEnum.XLSX);</span><br><span class="line">    <span class="comment">// writer</span></span><br><span class="line">    <span class="type">ExcelWriter</span> <span class="variable">writer</span> <span class="operator">=</span> writerBuilder.build();</span><br><span class="line">    <span class="comment">// sheet</span></span><br><span class="line">    <span class="type">WriteSheet</span> <span class="variable">sheet</span> <span class="operator">=</span> EasyExcel.writerSheet().build();</span><br><span class="line">    <span class="comment">// è°ƒç”¨writeæ–¹æ³•</span></span><br><span class="line">    writer.write(list, sheet);</span><br><span class="line">    writer.finish();</span><br><span class="line">    os.flush();</span><br><span class="line">    writer.close();</span><br><span class="line">    os.close();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="md5ç®—æ³•-Jwt-ThreadLocal"><a href="#md5ç®—æ³•-Jwt-ThreadLocal" class="headerlink" title="md5ç®—æ³•+Jwt+ThreadLocal"></a>md5ç®—æ³•+Jwt+ThreadLocal</h2></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>temp-01-ä¸ªäººé¡¹ç›®æ±‡æ€»</title>
      <link href="/2023/11/10/temp-01-%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%80%BB/"/>
      <url>/2023/11/10/temp-01-%E4%B8%AA%E4%BA%BA%E9%A1%B9%E7%9B%AE%E6%B1%87%E6%80%BB/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¼—é‡Œå¯»ä»–åƒç™¾åº¦ï¼Œè“¦ç„¶å›é¦–ï¼Œé‚£äººå´åœ¨ï¼Œç¯ç«é˜‘çŠå¤„ï¼</p></blockquote><h1 id="Javaé¡¹ç›®é›†åˆ"><a href="#Javaé¡¹ç›®é›†åˆ" class="headerlink" title="Javaé¡¹ç›®é›†åˆ"></a>Javaé¡¹ç›®é›†åˆ</h1><blockquote><p><a href="https://www.lzwgxust.top/post/b374ca99.html">project-01-ç‰©è”ç½‘ç¯å¢ƒæ£€æµ‹ç³»ç»Ÿ</a></p></blockquote><blockquote><p><a href="https://www.lzwgxust.top/post/f11e7a87.html">project-02-è‹ç©¹å¤–å–</a></p></blockquote><blockquote><p><a href="https://www.lzwgxust.top/post/33997261.html">project-03-çœ‹ç‚¹èµ„è®¯ç®¡ç†ç³»ç»Ÿ</a>ï¼šè¿›è¡Œingï¼Œå¾…å®Œæˆ</p></blockquote><blockquote><p>æ•…äº‹æœªå®Œï¼Œæ•¬è¯·æœŸå¾…ï¼ï¼ï¼ï¼</p></blockquote></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> temp </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>expand-99-23ç§è®¾è®¡æ¨¡å¼</title>
      <link href="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/"/>
      <url>/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>23ç§è®¾è®¡æ¨¡å¼å¹¶éæœå¤•ä¹‹é—´å°±èƒ½åƒé€æ»´ï¼ æ³¨å®šæ˜¯ä¸€ä¸ªæ¼«é•¿çš„è¿‡ç¨‹, ä¸è¯¸å›å…±åŒæ±‚ç´¢ï¼</p></blockquote><h1 id="å•ä¾‹æ¨¡å¼"><a href="#å•ä¾‹æ¨¡å¼" class="headerlink" title="å•ä¾‹æ¨¡å¼"></a>å•ä¾‹æ¨¡å¼</h1><blockquote><p>å•ä¾‹æ¨¡å¼æŒ‡çš„æ˜¯åœ¨åº”ç”¨çš„æ•´ä¸ªç”Ÿå‘½å‘¨æœŸå†…åªèƒ½å­˜åœ¨ä¸€ä¸ªå®ä¾‹ï¼</p><p>ä»–æœ‰å¾ˆå¤šå¥½å¤„ï¼Œèƒ½å¤Ÿé¿å…å®ä¾‹å¯¹è±¡çš„é‡å¤åˆ›å»ºï¼Œå‡å°‘åˆ›å»ºå®ä¾‹çš„ç³»ç»Ÿå¼€é”€ï¼ŒèŠ‚çœå†…å­˜ã€‚</p></blockquote><p>å•ä¾‹æ¨¡å¼çš„5ç§å®ç°æ–¹æ¡ˆ</p><h2 id="æ‡’æ±‰å¼"><a href="#æ‡’æ±‰å¼" class="headerlink" title="æ‡’æ±‰å¼"></a>æ‡’æ±‰å¼</h2><p>è¯¥æ–¹å¼æ˜¯ä½¿ç”¨ synchronized å…³é”®å­—è¿›è¡ŒåŠ é”ï¼Œä¿è¯äº†çº¿ç¨‹å®‰å…¨æ€§</p><ul><li>ä¼˜ç‚¹ï¼šåœ¨ç¬¬ä¸€æ¬¡è°ƒç”¨æ‰åˆå§‹åŒ–ï¼Œé¿å…äº†å†…å­˜æµªè´¹</li><li>ç¼ºç‚¹ï¼šå¯¹è·å–å®ä¾‹æ–¹æ³•åŠ é”ï¼Œå¤§å¤§é™ä½äº†å¹¶å‘æ•ˆç‡</li></ul><p>ç”±äºåŠ äº†é”ï¼Œå¯¹æ€§èƒ½å½±å“è¾ƒå¤§ï¼Œä¸æ¨èä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonLazy</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> SingletonLazy instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonLazy</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å”¯ä¸€å…¬å¼€è·å–å®ä¾‹çš„æ–¹æ³•ï¼ˆé™æ€å·¥å‚æ–¹æ³•ï¼‰ï¼Œè¯¥æ–¹æ³•ä½¿ç”¨synchronizedåŠ é”ï¼Œæ¥ä¿è¯çº¿ç¨‹å®‰å…¨æ€§</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> SingletonLazy <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            instance = <span class="keyword">new</span> <span class="title class_">SingletonLazy</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><h2 id="é¥¿æ±‰å¼"><a href="#é¥¿æ±‰å¼" class="headerlink" title="é¥¿æ±‰å¼"></a>é¥¿æ±‰å¼</h2><p>é¥¿æ±‰å¼æ˜¯åˆ©ç”¨ç±»åŠ è½½æœºåˆ¶æ¥é¿å…äº†å¤šçº¿ç¨‹çš„åŒæ­¥é—®é¢˜ï¼Œæ‰€ä»¥çº¿ç¨‹å®‰å…¨çš„</p><ul><li>ä¼˜ç‚¹ï¼šæœªåŠ é”ï¼Œæ‰§è¡Œæ•ˆç‡é«˜</li><li>ç¼ºç‚¹ï¼šç±»åŠ è½½æ—¶å°±åˆå§‹åŒ–å®ä¾‹ï¼Œé€ æˆå†…å­˜æµªè´¹</li></ul><p>å¦‚æœå¯¹å†…å­˜è¦æ±‚ä¸é«˜çš„æƒ…å†µï¼Œè¿˜æ˜¯æ¯”è¾ƒæ¨èä½¿ç”¨è¿™ç§æ–¹å¼æ»´~</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonEager</span> &#123;</span><br><span class="line"><span class="comment">// ç§æœ‰å®ä¾‹ï¼Œé™æ€å˜é‡ä¼šåœ¨ç±»åŠ è½½çš„æ—¶å€™åˆå§‹åŒ–ï¼Œæ˜¯çº¿ç¨‹å®‰å…¨çš„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">SingletonEager</span> <span class="variable">instance</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingletonEager</span>();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonEager</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingletonEager <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŒé‡é”æ ¡éªŒ"><a href="#åŒé‡é”æ ¡éªŒ" class="headerlink" title="åŒé‡é”æ ¡éªŒ"></a>åŒé‡é”æ ¡éªŒ</h2><p>åˆ©ç”¨volatileä¿®é¥°ç¬¦çš„çº¿ç¨‹å¯è§æ€§ï¼ˆè¢«ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹åï¼Œå…¶ä»–çº¿ç¨‹ç«‹å³å¯è§ï¼‰ï¼Œå³ä¿è¯äº†æ‡’åŠ è½½ï¼Œåˆä¿è¯äº†é«˜æ€§èƒ½ï¼Œæ‰€ä»¥æ¨èä½¿ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonDCL</span> &#123;</span><br><span class="line"><span class="comment">// ç§æœ‰å®ä¾‹ï¼Œvolatileä¿®é¥°çš„å˜é‡æ˜¯å…·æœ‰å¯è§æ€§çš„ï¼ˆå³è¢«ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹åï¼Œå…¶ä»–çº¿ç¨‹ç«‹å³å¯è§ï¼‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> SingletonDCL instance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonDCL</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingletonDCL <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸ºäº†é˜²æ­¢å·²ç»åˆ›å»ºäº†instanceå®ä¾‹åï¼Œä¸åœ¨éœ€è¦æ‹¿é”ï¼Œè¿›è€Œæé«˜äº†æ•ˆç‡</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (SingletonDCL.class) &#123;</span><br><span class="line">                <span class="comment">// ç¬¬äºŒä¸ªåˆ¤æ–­æ˜¯ä¸ºäº†é¿å…é‡å¤åˆ›å»ºinstanceå®ä¾‹å¯¹è±¡</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">SingletonDCL</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h2><p>è¯¥æ¨¡å¼åˆ©ç”¨äº†é™æ€å†…éƒ¨ç±»å»¶è¿Ÿåˆå§‹åŒ–çš„ç‰¹æ€§ï¼Œæ¥è¾¾åˆ°åŒé‡æ ¡éªŒé”æ–¹å¼ä¸€æ ·çš„åŠŸèƒ½ã€‚ç”±äºéœ€è¦å€ŸåŠ©è¾…åŠ©ç±»ï¼Œå¹¶ä¸å¸¸ç”¨</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SingletonInnerClass</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">SingletonInnerClass</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> SingletonInnerClass <span class="title function_">getInstance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> LazyHolder.INSTANCE;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§æœ‰çš„é™æ€å†…éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">LazyHolder</span> &#123;</span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">SingletonInnerClass</span> <span class="variable">INSTANCE</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SingletonInnerClass</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æšä¸¾ç±»"><a href="#æšä¸¾ç±»" class="headerlink" title="æšä¸¾ç±»"></a>æšä¸¾ç±»</h2><p>è¯¥æ–¹å¼åˆ©ç”¨äº†æšä¸¾ç±»çš„ç‰¹æ€§ï¼Œä¸ä»…èƒ½é¿å…çº¿ç¨‹åŒæ­¥é—®é¢˜ï¼Œè¿˜é˜²æ­¢ååºåˆ—åŒ–é‡æ–°åˆ›å»ºæ–°çš„å¯¹è±¡ã€‚</p><p>ä½†ç”±äºè¿™ç§ç¼–ç æ–¹å¼è¿˜ä¸èƒ½é€‚åº”ï¼Œæ‰€ä»¥å®é™…å·¥ä½œç§å¾ˆå°‘é€‚ç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">SingletonEnum</span> &#123;</span><br><span class="line">    INSTANCE;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">method</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æšä¸¾ç§å®šä¹‰æ–¹æ³•!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="ä»£ç†æ¨¡å¼"><a href="#ä»£ç†æ¨¡å¼" class="headerlink" title="ä»£ç†æ¨¡å¼"></a>ä»£ç†æ¨¡å¼</h1><blockquote><p>ä»£ç†æ¨¡å¼æ˜¯ä¸€ç§å¸¸è§çš„è®¾è®¡æ¨¡å¼ï¼Œå®ƒæä¾›é—´æ¥å¯¹ç›®æ ‡å¯¹è±¡è®¿é—®çš„æ–¹å¼ï¼Œé€š è¿‡ä»£ç†å¯¹è±¡è®¿é—®ç›®æ ‡å¯¹è±¡ï¼Œä»è€Œåœ¨åœ¨ç›®æ ‡å¯¹è±¡ç°æœ‰çš„åŠŸèƒ½èƒ½ä¸Šï¼Œå¢åŠ é¢å¤– çš„åŠŸèƒ½è¡¥å……ï¼Œå®ç°æ‰©å±•ç›®æ ‡å¯¹è±¡çš„åŠŸèƒ½</p></blockquote><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231107183753479.png" alt="image-20231107183753479"></p><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231107183828297.png" alt="image-20231107183828297"></p><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231107183941583.png" alt="image-20231107183941583"></p><blockquote><p>å¯ä»¥çœ‹å‡ºï¼Œåœ¨ä¸æ”¹å˜ç›®æ ‡å¯¹è±¡åŠŸèƒ½çš„åŸºç¡€ä¸Šï¼Œä½¿ç”¨ä»£ç†å¯¹è±¡ï¼Œå¯ä»¥ç»™ç›®æ ‡ å¯¹è±¡æ·»åŠ çš„é¢å¤–çš„åŠŸèƒ½ã€‚</p></blockquote><h2 id="é™æ€ä»£ç†"><a href="#é™æ€ä»£ç†" class="headerlink" title="é™æ€ä»£ç†"></a>é™æ€ä»£ç†</h2><blockquote><p>é™æ€ä»£ç†æ˜¯ä»£ç†æ¨¡å¼çš„å®ç°æ–¹å¼ä¹‹ä¸€ï¼Œåœ¨ç¨‹åºè¿è¡Œå‰ï¼Œ<strong>æ‰‹åŠ¨åˆ›å»ºä»£ç†ç±»</strong>ï¼Œä»è€Œ å®ç°å¯¹ç›®æ ‡ç±»ä¸­çš„æ–¹æ³•è¿›è¡Œå¢å¼ºã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.springbootaopquickstart.service.impl;</span><br><span class="line"><span class="comment">// å®ç°å¯¹åº”çš„ ç›®æ ‡ç±»çš„æ¥å£ï¼Œå¯èƒ½ä¸æ­¢ä¸€ä¸ª</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BookServiceImplProxy</span> <span class="keyword">implements</span> <span class="title class_">BookService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç»´æŠ¤ä¸€ä¸ªç›®æ ‡ç±»</span></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> BookServiceImpl bookServiceImpl;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">removeBook</span><span class="params">(Integer id)</span> &#123;</span><br><span class="line">        <span class="comment">// å¯¹removeBookçš„é€»è¾‘å¢å¼º</span></span><br><span class="line">        <span class="comment">// æ—¥å¿—å’Œäº‹åŠ¡ç®¡ç†</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹äº‹åŠ¡&quot;</span>);</span><br><span class="line">        <span class="comment">// è°ƒç”¨ä¸»ä½“é€»è¾‘ï¼Œ ç›®æ ‡ç±»</span></span><br><span class="line">        bookServiceImpl.removeBook(id);</span><br><span class="line">        System.out.println(<span class="string">&quot;æäº¤äº‹åŠ¡&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å›æ»šäº‹åŠ¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">modifyBook</span><span class="params">(Book book)</span> &#123;</span><br><span class="line"><span class="comment">// è·Ÿä¸Šé¢ä¸€æ ·ï¼Œåªæ˜¯è°ƒç”¨ä¸»ä½“é€»è¾‘ä¸åŒ</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="åŠ¨æ€ä»£ç†"><a href="#åŠ¨æ€ä»£ç†" class="headerlink" title="åŠ¨æ€ä»£ç†"></a>åŠ¨æ€ä»£ç†</h2><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231107185059938.png" alt="image-20231107185059938"></p><blockquote><p>æ³¨æ„ï¼šåœ¨åŠ¨æ€ä»£ç†ä¸­ï¼Œä»£ç†ç±»æ˜¯åœ¨<strong>è¿è¡Œæ—¶æœŸ</strong>ç”Ÿæˆçš„ï¼</p></blockquote><h3 id="JDKåŠ¨æ€ä»£ç†-ï¼ˆé’ˆå¯¹æ¥å£å®ç°ç±»ï¼‰"><a href="#JDKåŠ¨æ€ä»£ç†-ï¼ˆé’ˆå¯¹æ¥å£å®ç°ç±»ï¼‰" class="headerlink" title="JDKåŠ¨æ€ä»£ç† ï¼ˆé’ˆå¯¹æ¥å£å®ç°ç±»ï¼‰"></a>JDKåŠ¨æ€ä»£ç† ï¼ˆé’ˆå¯¹æ¥å£å®ç°ç±»ï¼‰</h3><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231107185410156.png" alt="image-20231107185410156"></p><p>Proxyç±»ä¸­çš„ newProxyInstance æ–¹æ³•ï¼Œå¯ä»¥åœ¨è¿è¡Œå¯åŠ¨æœŸé—´ï¼ŒåŠ¨æ€ç”ŸæˆæŒ‡å®š æ¥å£çš„ä»£ç†ç±»å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.reflect;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Proxy</span> <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * loader,ç›®æ ‡ç±»çš„ç±»åŠ è½½å™¨</span></span><br><span class="line"><span class="comment">    * interfacesï¼Œç›®æ ‡ç±»æ‰€å®ç°çš„æ¥å£ï¼Œå¯ä»¥æ˜¯å¤šä¸ª</span></span><br><span class="line"><span class="comment">    * InvocationHandlerï¼ŒInvocationHandleræ¥å£çš„å®ç°ç±»å¯¹è±¡</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">newProxyInstance</span><span class="params">(ClassLoader loader,</span></span><br><span class="line"><span class="params">                                          Class&lt;?&gt;[] interfaces,</span></span><br><span class="line"><span class="params">                                          InvocationHandler h)</span> <span class="keyword">throws</span> IllegalArgumentException&#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>java.lang.reflect.InvocationHandler æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang.reflect;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">InvocationHandler</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * proxy,å°†æ¥åŠ¨æ€ç”Ÿæˆçš„ä»£ç†ç±»å¯¹è±¡</span></span><br><span class="line"><span class="comment">    * methodï¼Œå°†æ¥éœ€è¦ä»£ç†çš„ç›®æ ‡å¯¹è±¡ä¸­çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">    * argsï¼Œå°†æ¥è°ƒç”¨ç›®æ ‡å¯¹è±¡æ–¹æ³•æ—¶æ‰€ä¼ å…¥çš„å‚æ•°åˆ—è¡¨</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">invoke</span><span class="params">(Object proxy, Method method, Object[] args)</span> <span class="keyword">throws</span> Throwable;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œåœ¨å®é™…çš„æ“ä½œä¸­ï¼Œä¸»è¦ä½¿ç”¨çš„æ˜¯ç¬¬äºŒå’Œç¬¬ä¸‰ä¸ªå‚æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">BookServiceImpl2</span> <span class="variable">target</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BookServiceImpl2</span>();</span><br><span class="line"></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">contextLoads</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ›å»ºä¸€ä¸ªåŠ¨æ€ä»£ç†å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// 1ã€ç±»åŠ è½½å™¨</span></span><br><span class="line">    <span class="type">ClassLoader</span> <span class="variable">classLoader</span> <span class="operator">=</span> target.getClass().getClassLoader();</span><br><span class="line">    <span class="comment">// 2ã€ä¸»é¢˜æ¥å£</span></span><br><span class="line">    Class&lt;?&gt;[] interfaces = target.getClass().getInterfaces();</span><br><span class="line">    <span class="comment">// 3ã€æ–¹æ³•å¢å¼ºå¤„ç†å™¨</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">proxyInstance</span> <span class="operator">=</span> Proxy.newProxyInstance(classLoader, interfaces, (proxy, method, args) -&gt; &#123;</span><br><span class="line">        <span class="comment">// å¤„ç†çš„ä¸»é¢˜é€»è¾‘</span></span><br><span class="line">        System.out.println(<span class="string">&quot;method name: &quot;</span> + method.getName()); <span class="comment">// ä¸‹é¢ä½¿ç”¨ï¼šmethod name: getBookById</span></span><br><span class="line">        <span class="keyword">return</span> method.invoke(target, args);</span><br><span class="line">    &#125;);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä½¿ç”¨ä»£ç†ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// proxyInstance = class com.sun.proxy.$Proxy131</span></span><br><span class="line">    System.out.println(<span class="string">&quot;proxyInstance = &quot;</span> + proxyInstance.getClass()); </span><br><span class="line">    <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> (BookService) proxyInstance;</span><br><span class="line">    <span class="comment">// ä¸‹é¢ä¸€è¡Œä»£ç ï¼šä¼šæŠ¥ç©ºæŒ‡é’ˆå¼‚å¸¸ï¼Œå¯èƒ½å’Œä»£ç†ç±»çš„ç”Ÿå‘½å‘¨æœŸæœ‰å…³ï¼Ÿæˆ‘çŒœçš„å“ˆå“ˆ</span></span><br><span class="line">    <span class="type">Book</span> <span class="variable">book</span> <span class="operator">=</span> bookService.getBookById(<span class="number">2</span>); </span><br><span class="line">    System.out.println(<span class="string">&quot;book = &quot;</span> + book);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231108193919835.png" alt="image-20231108193919835"></p><h3 id="CGLIBåŠ¨æ€ä»£ç†ï¼ˆé’ˆå¯¹ç»§æ‰¿å­ç±»ï¼‰"><a href="#CGLIBåŠ¨æ€ä»£ç†ï¼ˆé’ˆå¯¹ç»§æ‰¿å­ç±»ï¼‰" class="headerlink" title="CGLIBåŠ¨æ€ä»£ç†ï¼ˆé’ˆå¯¹ç»§æ‰¿å­ç±»ï¼‰"></a>CGLIBåŠ¨æ€ä»£ç†ï¼ˆé’ˆå¯¹ç»§æ‰¿å­ç±»ï¼‰</h3><blockquote><p>ä½¿ç”¨JDKåŠ¨æ€ä»£ç†ï¼Œæœ‰ä¸€ä¸ªå‰ææ¡ä»¶ï¼Œå°±æ˜¯ç›®æ ‡å¯¹è±¡å¿…é¡»å®ç°äº†ä¸€ä¸ªæˆ–å¤šä¸ªæ¥ å£ï¼Œé‚£ä¹ˆäº§ç”Ÿçš„ä»£ç†å¯¹è±¡å°±æ˜¯ç”¨æ¥ä»£ç†è¿™ä¸ªæ¥å£ä¸­çš„æ–¹æ³•ã€‚</p></blockquote><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231108193436851.png" alt="image-20231108193436851"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCglib</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">    enhancer.setSuperclass(BookServiceImpl2.class);</span><br><span class="line">    enhancer.setCallback(<span class="keyword">new</span> <span class="title class_">MethodInterceptor</span>() &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">             *</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@param</span> proxy ä»£ç†å¯¹è±¡å®ä¾‹</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@param</span> method ç›®æ ‡ç±»ç§çš„æ–¹æ³•å¯¹è±¡</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@param</span> args æ–¹æ³•å‚æ•°</span></span><br><span class="line"><span class="comment">             * <span class="doctag">@param</span> methodProxy æ–¹æ³•ä»£ç†å¯¹è±¡</span></span><br><span class="line"><span class="comment">             */</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object proxy, Method method, Object[] args, MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;å¼€å¯äº‹åŠ¡: &quot;</span> + method.getName());</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> methodProxy.invokeSuper(proxy, args);</span><br><span class="line">            System.out.println(<span class="string">&quot;æäº¤äº‹åŠ¡&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> obj;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">    <span class="type">BookService</span> <span class="variable">bookService</span> <span class="operator">=</span> (BookService) enhancer.create();</span><br><span class="line">    System.out.println(<span class="string">&quot;bookService.getClass() = &quot;</span> + bookService.getClass());</span><br><span class="line">    <span class="type">Book</span> <span class="variable">book</span> <span class="operator">=</span> bookService.getBookById(<span class="number">2</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;book = &quot;</span> + book);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231108193612242.png" alt="image-20231108193612242"></p><h1 id="å·¥å‚æ¨¡å¼"><a href="#å·¥å‚æ¨¡å¼" class="headerlink" title="å·¥å‚æ¨¡å¼"></a>å·¥å‚æ¨¡å¼</h1><blockquote><p>å·¥å‚æ¨¡å¼æœ€ä¸»è¦è§£å†³çš„é—®é¢˜å°±æ˜¯åˆ›å»ºè€…å’Œè°ƒç”¨è€…çš„è€¦åˆï¼Œä»£ç å±‚é¢å…¶å®æ˜¯å–æ¶ˆå¯¹è±¡newçš„ä½¿ç”¨ã€‚</p><p><font color="#d12920">åŸææ–™(é“ã€é“œ)â€”&gt;Buildå»ºé€ è€…â€”&gt;åŸä»¶ï¼ˆåˆé‡‘ï¼‰â€”&gt;factoryå·¥å‚â€”&gt;äº§å“</font></p></blockquote><h2 id="ç®€å•å·¥å‚æ¨¡å¼"><a href="#ç®€å•å·¥å‚æ¨¡å¼" class="headerlink" title="ç®€å•å·¥å‚æ¨¡å¼"></a>ç®€å•å·¥å‚æ¨¡å¼</h2><blockquote><p>ç®€å•å·¥å‚æ¨¡å¼â€”â€”ä¹Ÿå«é™æ€å·¥å‚æ¨¡å¼ï¼Œè¿™é‡Œä¸¾ä¸ªä¾‹å­ï¼šä½ è¦å»ä¹°ä¸€å°æ‰‹æœºï¼Œä½ ä¸ç”¨å…³å¿ƒæ‰‹æœºæ˜¯æ€ä¹ˆç”Ÿäº§å‡ºæ¥çš„ï¼Œé‡Œé¢çš„é›¶ä»¶å…·ä½“åˆæ˜¯æ€ä¹ˆåˆ¶é€ çš„ï¼Œè¿™äº›é€šé€šéƒ½äº¤ç»™å·¥å‚å»å¤„ç†ï¼Œä½ å°½ç®¡å»ä¹°æ‰‹æœºå°±å¥½äº†</p></blockquote><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231111183706960.png" alt="image-20231111183706960"></p><ul><li>Phoneæ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Phone</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å“ç‰Œç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMi</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®˜æ–¹æ­£å“ï¼šå°ç±³&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MeiZu</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®˜æ–¹æ­£å“ï¼šé­…æ—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢åŠ çš„æ‰‹æœºå‹å·</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWei</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®˜æ–¹æ­£å“ï¼šåˆ˜å¾·åä¸ºåä¸ºä»£è¨€&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>PhoneFactory</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneFactory</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Phone <span class="title function_">getPhone</span><span class="params">(String phone)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (<span class="string">&quot;XiaoMi&quot;</span>.equalsIgnoreCase(phone)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XiaoMi</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;MeiZu&quot;</span>.equalsIgnoreCase(phone)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MeiZu</span>();</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (<span class="string">&quot;HuaWei&quot;</span>.equalsIgnoreCase(phone)) &#123;</span><br><span class="line">            <span class="comment">// æ–°å¢ä¼šä¿®æ”¹æºç ï¼Œè¿åäº†å¼€é—­åŸåˆ™</span></span><br><span class="line">            <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HuaWei</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Customer</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Phone</span> <span class="variable">xiaoMi</span> <span class="operator">=</span> PhoneFactory.getPhone(<span class="string">&quot;xiaoMi&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;xiaoMi = &quot;</span> + xiaoMi);</span><br><span class="line">        <span class="type">Phone</span> <span class="variable">meiZu</span> <span class="operator">=</span> PhoneFactory.getPhone(<span class="string">&quot;meiZu&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;meiZu = &quot;</span> + meiZu);</span><br><span class="line">        <span class="comment">// æ–°å¢çš„æ‰‹æœºå‹å·</span></span><br><span class="line">        <span class="type">Phone</span> <span class="variable">huaWei</span> <span class="operator">=</span> PhoneFactory.getPhone(<span class="string">&quot;huaWei&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;huaWei = &quot;</span> + huaWei);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>é‚£ä¹ˆç®€å•å·¥å‚æ¨¡å¼ä¼šé‡åˆ°ä»€ä¹ˆé—®é¢˜å‘¢ï¼Ÿ</strong><br>éšç€æ‰‹æœºå“ç‰Œå¢å¤šï¼Œå·¥å‚ç”Ÿäº§ä¹Ÿéœ€è¦å¯¹åº”çš„å¢åŠ ï¼Œå·¥å‚å†…éƒ¨å°±éœ€è¦ä¸æ–­çš„è°ƒæ•´ã€‚<br>ä»ä»£ç å±‚é¢â€”â€”å¯¹å†…éƒ¨ä»£ç éœ€è¦å¢åŠ (ä¹Ÿå°±æ˜¯éœ€è¦ä¿®æ”¹å†…éƒ¨ä»£ç ï¼šé‚£ä¹ˆå°±ä¼šè¿åOOPåŸåˆ™</p><p>å¼€é—­åŸåˆ™ï¼š<strong>ä¸€ä¸ªè½¯ä»¶å®ä½“åº”å½“å¯¹æ‰©å±•å¼€æ”¾ï¼Œå¯¹ä¿®æ”¹å…³é—­</strong>ã€‚</p><h2 id="å·¥å‚æ–¹æ³•æ¨¡å¼"><a href="#å·¥å‚æ–¹æ³•æ¨¡å¼" class="headerlink" title="å·¥å‚æ–¹æ³•æ¨¡å¼"></a>å·¥å‚æ–¹æ³•æ¨¡å¼</h2><blockquote><p>å½“æ–°çš„æ‰‹æœºå“ç‰Œå‡ºç°ï¼Œä¸æ˜¯æ”¾åœ¨åŒä¸€ä¸ªå·¥å‚ç”Ÿäº§ï¼Œè€Œæ˜¯<strong>è‡ªå·±æ‹¥æœ‰ç‹¬ç«‹å·¥å‚ç”Ÿäº§</strong>ã€‚</p></blockquote><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231112165639690.png" alt="image-20231112165639690"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Phone</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å°†å·¥å‚æŠ½è±¡å‡ºæ¥</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">PhoneFactory</span> &#123;</span><br><span class="line">    Phone <span class="title function_">getPhone</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ¯ä¸€ä¸ªå“ç‰Œåˆ›å»ºè‡ªå·±çš„å·¥å‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiFactory</span> <span class="keyword">implements</span> <span class="title class_">PhoneFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XiaoMi</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MeiZuFactory</span> <span class="keyword">implements</span> <span class="title class_">PhoneFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">MeiZu</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–°å¢å·¥å‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiFactory</span> <span class="keyword">implements</span> <span class="title class_">PhoneFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HuaWei</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å“ç‰Œç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMi</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®˜æ–¹æ­£å“ï¼šå°ç±³&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MeiZu</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®˜æ–¹æ­£å“ï¼šé­…æ—&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–°å¢å“ç‰Œ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWei</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getBrand</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®˜æ–¹æ­£å“ï¼šåˆ˜å¾·åä¸ºåä¸ºä»£è¨€&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Customer</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡è‡ªå·±çš„å·¥å‚å°†å“ç‰Œåˆ›å»ºå‡ºæ¥</span></span><br><span class="line">        <span class="type">Phone</span> <span class="variable">xiaoMi</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XiaoMiFactory</span>().getPhone();</span><br><span class="line">        <span class="type">Phone</span> <span class="variable">meiZu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MeiZuFactory</span>().getPhone();</span><br><span class="line">        <span class="comment">// æ–°å¢å‹å·</span></span><br><span class="line">        <span class="type">Phone</span> <span class="variable">huaWei</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HuaWeiFactory</span>().getPhone();</span><br><span class="line">        xiaoMi.getBrand();</span><br><span class="line">        meiZu.getBrand();</span><br><span class="line">        huaWei.getBrand();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šå·¥å‚æ–¹æ³•æ¨¡å¼è§£å†³ç®€å•å·¥å‚æ¨¡å¼æ˜¯éœ€è¦ä»˜å‡ºä»£ä»·çš„ï¼</p><p>ä¸»è¦æ˜¯æ¯æ–°å¢ä¸€ä¸ªå“ç‰Œï¼Œæˆ‘ä»¬å°±éœ€è¦åˆ›å»ºä¸€ä¸ªæ–°çš„å·¥å‚ï¼Œéœ€è¦èŠ±è´¹å¾ˆå¤§çš„æˆæœ¬ã€‚</p><p>å¯ä»¥é€šè¿‡åå°„æ¥å‡å°‘newçš„ä½¿ç”¨ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PhoneFactory2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Phone <span class="title function_">getInstance</span><span class="params">(String classPath)</span> <span class="keyword">throws</span> ClassNotFoundException, InstantiationException,IllegalAccessException &#123;</span><br><span class="line">        Class&lt;?&gt; aClass = Class.forName(classPath);</span><br><span class="line">        <span class="keyword">return</span> (Phone) aClass.newInstance();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ¶ˆè´¹è€…</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Customer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IllegalAccessException, InstantiationException, ClassNotFoundException &#123;</span><br><span class="line">        PhoneFactory.getInstance(<span class="string">&quot;Factory.Xiaomi&quot;</span>).getBrand();</span><br><span class="line">        PhoneFactory.getInstance(<span class="string">&quot;Factory.Meizu&quot;</span>).getBrand();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æŠ½è±¡å·¥å‚æ¨¡å¼"><a href="#æŠ½è±¡å·¥å‚æ¨¡å¼" class="headerlink" title="æŠ½è±¡å·¥å‚æ¨¡å¼"></a>æŠ½è±¡å·¥å‚æ¨¡å¼</h2><blockquote><p>è¿™ä¸ªæŠ½è±¡å·¥å‚æ¨¡å¼ç†è§£èµ·æ¥æœ‰äº›å›°éš¾ï¼Œéœ€è¦å¤šçœ‹ï¼Œå¤šç†è§£</p></blockquote><p>ç°å®ç”Ÿæ´»ä¸­è®¸å¤šå·¥å‚æ˜¯ç»¼åˆå‹çš„å·¥å‚ï¼Œèƒ½ç”Ÿäº§å¤šç­‰çº§ï¼ˆç§ç±»ï¼‰çš„äº§å“ï¼Œæ¯”å¦‚</p><ul><li>å†œåœºé‡Œæ—¢å¯ä»¥å…»åŠ¨ç‰©åˆå¯ä»¥ç§æ¤ç‰©</li><li>ç”µå™¨å‚å³å¯ç”Ÿäº§ç”µè§†æœºåˆå¯ç”Ÿäº§æ´—è¡£æœºæˆ–ç©ºè°ƒ</li><li>ä¸€ä¸ªå¤§å­¦é‡Œè¾¹ä¸å•å•æœ‰è½¯ä»¶ä¸“ä¸šä¹Ÿå¯èƒ½æœ‰ç”Ÿç‰©ä¸“ä¸š</li></ul><p>è¯´ç™½äº†ï¼Œå°±æ˜¯ä¸€ä¸ªå·¥å‚ä¸å•å•åªæœ‰ä¸€ç§åŠŸèƒ½ï¼Œå®ƒå¯ä»¥ç”Ÿäº§å¾ˆå¤šä¸åŒç±»å‹çš„äº§å“ï¼</p><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231113125712685.png" alt="image-20231113125712685"></p><ul><li><p>æŠ½è±¡å·¥å‚ï¼ˆAbstract Factoryï¼‰ï¼šæä¾›äº†åˆ›å»ºäº§å“çš„æ¥å£ï¼Œå®ƒåŒ…å«å¤šä¸ªåˆ›å»ºäº§å“çš„æ–¹æ³• newProduct()ï¼Œå¯ä»¥åˆ›å»ºå¤šä¸ªä¸åŒç­‰çº§çš„äº§å“ã€‚</p></li><li><p>å…·ä½“å·¥å‚ï¼ˆConcrete Factoryï¼‰ï¼šä¸»è¦æ˜¯å®ç°æŠ½è±¡å·¥å‚ä¸­çš„å¤šä¸ªæŠ½è±¡æ–¹æ³•ï¼Œå®Œæˆå…·ä½“äº§å“çš„åˆ›å»ºã€‚</p></li><li><p>æŠ½è±¡äº§å“ï¼ˆProductï¼‰ï¼šå®šä¹‰äº†äº§å“çš„è§„èŒƒï¼Œæè¿°äº†äº§å“çš„ä¸»è¦ç‰¹æ€§å’ŒåŠŸèƒ½ï¼ŒæŠ½è±¡å·¥å‚æ¨¡å¼æœ‰å¤šä¸ªæŠ½è±¡äº§å“ã€‚</p></li><li><p>å…·ä½“äº§å“ï¼ˆConcreteProductï¼‰ï¼šå®ç°äº†æŠ½è±¡äº§å“è§’è‰²æ‰€å®šä¹‰çš„æ¥å£ï¼Œç”±å…·ä½“å·¥å‚æ¥åˆ›å»ºï¼Œå®ƒåŒå…·ä½“å·¥å‚ä¹‹é—´æ˜¯å¤šå¯¹ä¸€çš„å…³ç³»</p></li></ul><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231113130225363.png" alt="image-20231113130225363"></p><ul><li>PhoneæŠ½è±¡å’ŒRouteræŠ½è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Phone</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">callUp</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sendSms</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Router</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">openWifi</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">setting</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å°ç±³å®ä½“ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiPhone</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">callUp</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³æ‰‹æœºæ‰“ç”µè¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendSms</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³æ‰‹æœºå‘çŸ­ä¿¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiRouter</span> <span class="keyword">implements</span> <span class="title class_">Router</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">openWifi</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³è·¯ç”±å™¨æ‰“å¼€wifi&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setting</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å°ç±³è·¯ç”±å™¨è®¾ç½®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åä¸ºå®ä½“ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiPhone</span> <span class="keyword">implements</span> <span class="title class_">Phone</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">callUp</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºæ‰‹æœºæ‰“ç”µè¯&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendSms</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºæ‰‹æœºå‘çŸ­ä¿¡&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiRouter</span> <span class="keyword">implements</span> <span class="title class_">Router</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">openWifi</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºè·¯ç”±å™¨æ‰“å¼€wifi&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setting</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;åä¸ºè·¯ç”±å™¨è®¾ç½®&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å·¥å‚æŠ½è±¡ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">ProductFactory</span> &#123;</span><br><span class="line">    Phone <span class="title function_">getPhone</span><span class="params">()</span>;</span><br><span class="line">    Router <span class="title function_">getRouter</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å„ä¸ªå·¥å‚å®ä½“ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HuaWeiFactory</span> <span class="keyword">implements</span> <span class="title class_">ProductFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HuaWeiPhone</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Router <span class="title function_">getRouter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">HuaWeiRouter</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">XiaoMiFactory</span> <span class="keyword">implements</span> <span class="title class_">ProductFactory</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Phone <span class="title function_">getPhone</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XiaoMiPhone</span>();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Router <span class="title function_">getRouter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">XiaoMiRouter</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Customer</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Client</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;=================å°ç±³ç³»åˆ—========================&quot;</span>);</span><br><span class="line">        <span class="type">XiaoMiFactory</span> <span class="variable">xiaoMiFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XiaoMiFactory</span>();</span><br><span class="line">        <span class="type">Phone</span> <span class="variable">phone</span> <span class="operator">=</span> xiaoMiFactory.getPhone();</span><br><span class="line">        phone.callUp();</span><br><span class="line">        phone.sendSms();</span><br><span class="line">        <span class="type">Router</span> <span class="variable">router</span> <span class="operator">=</span> xiaoMiFactory.getRouter();</span><br><span class="line">        router.openWifi();</span><br><span class="line">        router.setting();</span><br><span class="line">        System.out.println(<span class="string">&quot;=================åä¸ºç³»åˆ—========================&quot;</span>);</span><br><span class="line">        <span class="type">HuaWeiFactory</span> <span class="variable">huaWeiFactory</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HuaWeiFactory</span>();</span><br><span class="line">        phone = huaWeiFactory.getPhone();</span><br><span class="line">        phone.callUp();</span><br><span class="line">        phone.sendSms();</span><br><span class="line">        router = huaWeiFactory.getRouter();</span><br><span class="line">        router.openWifi();</span><br><span class="line">        router.setting();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><ul><li>ç®€å•å·¥å‚æ¨¡å¼ï¼šåœ¨å®é™…å¼€å‘ä¸­ä¼šå‘ç°æ¯”è¾ƒå¸¸ç”¨ï¼Œå°½ç®¡ä¸Šé¢è®²äº†ä¸ç¬¦åˆï¼ˆé¢å‘å¯¹è±¡ï¼‰OOPåŸåˆ™</li><li>å·¥å‚æ–¹æ³•æ¨¡å¼ï¼šä¸ä¿®æ”¹å·¥å‚ç±»çš„å‰æï¼Œä¹Ÿå°±æ˜¯ä¸ä¿®æ”¹å·²æœ‰ç±»ï¼Œå®ç°å¯¹æ‰©å±•æ˜¯å¼€å‘ï¼Œå¯¹ä¿®æ”¹å…³é—­ã€‚</li><li>æŠ½è±¡å·¥å‚æ¨¡å¼ï¼š<ul><li>æŠ½è±¡å·¥å‚å¢å¼ºäº†ç¨‹åºçš„å¯æ‰©å±•æ€§ï¼Œå½“å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“æ—æ—¶ï¼Œä¸éœ€è¦ä¿®æ”¹åŸä»£ç ï¼Œæ»¡è¶³å¼€é—­åŸåˆ™</li><li>å…¶ç¼ºç‚¹æ˜¯ï¼šå½“äº§å“æ—ä¸­éœ€è¦å¢åŠ ä¸€ä¸ªæ–°çš„äº§å“ï¼ˆæµ·å°”å†°ç®±ï¼‰æ—¶ï¼Œæ‰€æœ‰çš„å·¥å‚ç±»éƒ½éœ€è¦è¿›è¡Œä¿®æ”¹ã€‚å¢åŠ äº†ç³»ç»Ÿçš„æŠ½è±¡æ€§å’Œç†è§£éš¾åº¦ã€‚</li></ul></li></ul><h1 id="å»ºé€ è€…æ¨¡å¼"><a href="#å»ºé€ è€…æ¨¡å¼" class="headerlink" title="å»ºé€ è€…æ¨¡å¼"></a>å»ºé€ è€…æ¨¡å¼</h1><blockquote><p>åœ¨å¼€å‘ä¸­ï¼Œæœ‰æ—¶å€™æˆ‘ä»¬éœ€è¦åˆ›å»ºå‡ºä¸€ä¸ªå¾ˆå¤æ‚çš„å¯¹è±¡ï¼Œè¿™ä¸ªå¯¹è±¡çš„åˆ›å»ºæœ‰ä¸€ä¸ªå›ºå®šçš„æ­¥éª¤ï¼Œå¹¶ä¸”æ¯ä¸ªæ­¥éª¤ä¸­ä¼šæ¶‰åŠåˆ°å¤šä¸ªç»„ä»¶å¯¹è±¡ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨å»ºé€ è€…æ¨¡å¼ã€‚</p><p>ä½¿ç”¨å»ºé€ è€…æ¨¡å¼å°†åŸæœ¬å¤æ‚çš„å¯¹è±¡åˆ›å»ºè¿‡ç¨‹æŒ‰ç…§è§„å¾‹å°†å…¶åˆ†è§£æˆå¤šä¸ªå°æ­¥éª¤ï¼Œè¿™æ ·åœ¨æ„å»ºå¯¹è±¡æ—¶å¯ä»¥çµæ´»çš„é€‰æ‹©æˆ–ä¿®æ”¹æ­¥éª¤ã€‚</p><p><strong>å»ºé€ è€…æ¨¡å¼å°†å¯¹è±¡çš„åˆ›å»ºå’Œè¡¨ç¤ºè¿‡ç¨‹(ä½¿ç”¨è¿‡ç¨‹)è¿›è¡Œåˆ†ç¦»</strong>ï¼Œè¿™æ ·æˆ‘ä»¬å¯ä»¥ä½¿ç”¨åŒæ ·çš„è¿‡ç¨‹ï¼Œåªéœ€ä¿®æ”¹è¿™ä¸ªè¿‡ç¨‹ä¸­çš„å°æ­¥éª¤ï¼Œä¾¿èƒ½å¤Ÿæ„å»ºå‡ºä¸åŒçš„å¯¹è±¡ã€‚è€Œå¯¹äºè°ƒç”¨æ–¹æ¥è¯´ï¼Œæˆ‘ä»¬åªéœ€è¦ä¼ å…¥éœ€è¦æ„å»ºçš„ç±»å‹ï¼Œä¾¿èƒ½å¤Ÿå¾—åˆ°éœ€è¦çš„å¯¹è±¡ï¼Œå¹¶ä¸éœ€è¦å…³ç³»åˆ›å»ºçš„è¿‡ç¨‹ï¼Œä»è€Œå®ç°è§£è€¦ã€‚</p></blockquote><p>å»ºé€ è€…æ¨¡å¼ç»“æ„</p><ul><li>äº§å“ï¼ˆProductï¼‰ï¼šè¡¨æ˜éœ€è¦åˆ›å»ºçš„äº§å“å¯¹è±¡</li><li>æŠ½è±¡å»ºé€ è€…ï¼ˆBuilderï¼‰ï¼šæŠ½è±¡å‡ºæ¥çš„æ„å»ºè€…ï¼Œç”¨äºå®šä¹‰åˆ›å»ºå¯¹è±¡æ‰€éœ€çš„æ­¥éª¤ä»¥åŠåˆ›å»ºçš„æ­¥éª¤çš„è°ƒç”¨è¿‡ç¨‹</li><li>å…·ä½“å»ºé€ è€…ï¼ˆConcreteBuilderï¼‰ï¼šæŠ½è±¡å»ºé€ è€…çš„å…·ä½“å®ç°ï¼Œå¯¹äºä¸åŒçš„åˆ›å»ºè¿‡ç¨‹å¯ä»¥ç”¨ä¸åŒçš„ç±»è¿›è¡Œå®ç°</li><li>æŒ‡æŒ¥è€…ï¼ˆDirectorï¼‰ï¼šä½¿ç”¨Builderçš„ç±»ï¼Œæä¾›ç»™è°ƒç”¨æ–¹ä½¿ç”¨ï¼Œè°ƒç”¨æ–¹é€šè¿‡ä½¿ç”¨æŒ‡æŒ¥è€…æ¥è·å–äº§å“</li></ul><p><img src="/2023/11/07/expand-99-23%E7%A7%8D%E8%AE%BE%E8%AE%A1%E6%A8%A1%E5%BC%8F/image-20231113203016603.png" alt="image-20231113203016603"></p><ul><li>äº§å“ç±»ï¼Œå®šä¹‰ä¸‰ä¸ªéƒ¨åˆ†</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Product</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Object part1;</span><br><span class="line">    <span class="keyword">private</span> Object part2;</span><br><span class="line">    <span class="keyword">private</span> Object part3;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPart1</span><span class="params">(Object part1)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.part1 = part1;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPart2</span><span class="params">(Object part2)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.part2 = part2;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setPart3</span><span class="params">(Object part3)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.part3 = part3;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Product&#123;&quot;</span> +</span><br><span class="line">            <span class="string">&quot;part1=&quot;</span> + part1 +</span><br><span class="line">            <span class="string">&quot;, part2=&quot;</span> + part2 +</span><br><span class="line">            <span class="string">&quot;, part3=&quot;</span> + part3 +</span><br><span class="line">            <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŠ½è±¡å»ºé€ è€…ç±»ï¼Œæ„å»ºäº†ä¸€ä¸ªäº§å“å¯¹è±¡ï¼Œå¹¶å®šä¹‰äº†æ„å»ºäº§å“ä¸‰ä¸ªéƒ¨åˆ†æ‰€éœ€è¦çš„ä¸‰ä¸ªæ–¹æ³•ä»¥åŠè·å–äº§å“çš„æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Builder</span> &#123;</span><br><span class="line">    <span class="keyword">protected</span> <span class="type">Product</span> <span class="variable">product</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Product</span>();</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildPart1</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildPart2</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">buildPart3</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> Product <span class="title function_">getProduct</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å…·ä½“å»ºé€ è€… 1</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteBuilder1</span> <span class="keyword">extends</span> <span class="title class_">Builder</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildPart1</span><span class="params">()</span> &#123;</span><br><span class="line">        product.setPart1(<span class="string">&quot;builder 1 set part 1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildPart2</span><span class="params">()</span> &#123;</span><br><span class="line">        product.setPart2(<span class="string">&quot;builder 1 set part 2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildPart3</span><span class="params">()</span> &#123;</span><br><span class="line">        product.setPart3(<span class="string">&quot;builder 1 set part 3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">getProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;builder 1 build product&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å…·ä½“å»ºé€ è€… 2</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConcreteBuilder2</span> <span class="keyword">extends</span> <span class="title class_">Builder</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildPart1</span><span class="params">()</span> &#123;</span><br><span class="line">        product.setPart1(<span class="string">&quot;builder 2 set part 1&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildPart2</span><span class="params">()</span> &#123;</span><br><span class="line">        product.setPart2(<span class="string">&quot;builder 2 set part 2&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">buildPart3</span><span class="params">()</span> &#123;</span><br><span class="line">        product.setPart3(<span class="string">&quot;builder 2 set part 3&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">getProduct</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;builder 2 build product&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> product;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŒ‡æŒ¥è€…å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Director</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Builder builder;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Director</span><span class="params">(Builder builder)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.builder = builder;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> Product <span class="title function_">construct</span><span class="params">()</span> &#123;</span><br><span class="line">        builder.buildPart1();</span><br><span class="line">        builder.buildPart2();</span><br><span class="line">        builder.buildPart3();</span><br><span class="line">        <span class="keyword">return</span> builder.getProduct();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Test</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Director</span> <span class="variable">director1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Director</span>(<span class="keyword">new</span> <span class="title class_">ConcreteBuilder1</span>());</span><br><span class="line">    <span class="type">Product</span> <span class="variable">product1</span> <span class="operator">=</span> director1.construct();</span><br><span class="line">    System.out.println(product1);</span><br><span class="line">    System.out.println(<span class="string">&quot;==================================&quot;</span>);</span><br><span class="line">    <span class="type">Director</span> <span class="variable">director2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Director</span>(<span class="keyword">new</span> <span class="title class_">ConcreteBuilder2</span>());</span><br><span class="line">    <span class="type">Product</span> <span class="variable">product2</span> <span class="operator">=</span> director2.construct();</span><br><span class="line">    System.out.println(product2);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SpringBooté¡¹ç›®ä¸­å„ç±»æ³¨è§£</title>
      <link href="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/"/>
      <url>/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>æœ¬æ–‡ç« ä¸»è¦æ˜¯å°†æ—¥å¸¸SpringBooté¡¹ç›®ä¸­ç”¨åˆ°çš„æ³¨è§£è®°å½•ä¸‹æ¥ã€‚</p></blockquote><h1 id="SpringBoot"><a href="#SpringBoot" class="headerlink" title="SpringBoot"></a>SpringBoot</h1><blockquote><p>æ³¨æ„ï¼šæ³¨è§£ä¸­åªæœ‰valueçš„æ—¶å€™ valueæ˜¯å¯ä»¥çœç•¥çš„ ä¾‹å¦‚ @JsonProperty(value&#x3D;â€xxxâ€) ä¸­çš„valueå¯ä»¥çœç•¥ï¼</p></blockquote><h2 id="å¯åŠ¨ç±»"><a href="#å¯åŠ¨ç±»" class="headerlink" title="å¯åŠ¨ç±»"></a>å¯åŠ¨ç±»</h2><ul><li>@SpringBootApplication<ul><li>@ComponentScanï¼šé»˜è®¤æ˜¯æ‰«æå¯åŠ¨ç±»æ‰€åœ¨åŒ…åŠå…¶å­åŒ…çš„Componentç»„ä»¶</li><li>@Import(XxxxSelector.class)</li><li>@Documented</li><li>@Inherited: <font color="#d12920">æš‚æ—¶ä¸æ˜¯å¾ˆèƒ½ç†è§£è¿™ä¸ªæ³¨è§£çš„ä½œç”¨</font></li><li>@SpringBootConfiguration</li><li>EnableAutoConfuguration</li></ul></li><li>@MapperScan(â€œcom.briup.daoâ€)</li><li>@EnableSwagger2Docï¼šåŸç”ŸSwagger</li><li>@SpringBootTestï¼šæµ‹è¯•ç±»é‡Œé¢</li><li>@AutoConfigurationï¼šJacksonObjectMapper</li><li>@Conditional<ul><li>@ConditionalOnClassï¼šåˆ¤æ–­ç¯å¢ƒä¸­æœ‰å¯¹åº”å­—èŠ‚ç æ–‡ä»¶ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨</li><li>@ConditionalOnMissingBeanï¼šåˆ¤æ–­ç¯å¢ƒä¸­æ²¡æœ‰å¯¹åº”çš„beanå¯¹è±¡ï¼ˆç±»å‹æˆ–åç§°ï¼‰ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨</li><li>@ConditionalOnPropertyï¼šåˆ¤æ–­é…ç½®æ–‡ä»¶application.ymlä¸­æœ‰å¯¹åº”å±æ€§å’Œå€¼ï¼Œæ‰æ³¨å†Œbeanåˆ°IOCå®¹å™¨ã€</li></ul></li><li>@EnableCachingï¼›å¼€å¯ç¼“å­˜æ³¨è§£åŠŸèƒ½<ul><li>@Cacheableï¼šåœ¨æ–¹æ³•æ‰§è¡Œå‰å…ˆæŸ¥çœ‹ç¼“å­˜ä¸­æ˜¯å¦æœ‰æ•°æ®ï¼Œå¦‚æœæœ‰æ•°æ®ï¼Œåˆ™ç›´æ¥è¿”å›ç¼“å­˜æ•°æ®ï¼›å¦åˆ™è°ƒç”¨æ–¹æ³•å¹¶å°†æ–¹æ³•è¿”å›å€¼æ”¾åˆ°ç¼“å­˜ä¸­</li><li>@CachePutï¼šå°†æ–¹æ³•çš„è¿”å›å€¼æ”¾åˆ°ç¼“å­˜ä¸­ ï¼ˆ<strong>åªæ”¾ä¸å–</strong>ï¼‰</li><li>@CacheEvictï¼šå°†ä¸€æ¡æˆ–å¤šæ¡æ•°æ®ä»ç¼“å­˜ä¸­åˆ é™¤</li></ul></li></ul><h2 id="Config-é…ç½®ç±»"><a href="#Config-é…ç½®ç±»" class="headerlink" title="Config é…ç½®ç±»"></a>Config é…ç½®ç±»</h2><ul><li>@Configuration</li><li>@EnableSwagger2WebMvc:   Knife4jConfiguration</li><li>@ConfigurationProperties(prefix &#x3D; â€œossâ€)ï¼šå¯ä»¥æ‰¹é‡çš„å°†å¤–éƒ¨çš„å±æ€§é…ç½®æ³¨å…¥åˆ°beanå¯¹è±¡çš„å± æ€§ä¸­ã€‚</li><li>@ServletComponentScan: å¼€å¯å¯¹Servletç»„ä»¶çš„æ”¯æŒ</li><li>@EnableSwagger2ï¼šSwagger2Configé…ç½®ç±»</li><li>@Beanï¼šå°†æ–¹æ³•è¿”å›ç»“æœæ³¨å†Œåˆ°IOCå®¹å™¨ä¸­</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¯¥æ³¨è§£å¯å°†ç±»å£°æ˜ä¸ºé…ç½®ç±»ï¼Œç¨‹åºå¯åŠ¨æ—¶ä¼šè‡ªåŠ¨æ‰¾åˆ°é…ç½®ç±»æ‰§è¡Œé‡Œé¢@Beanæ–¹æ³•ï¼Œè·å–Beanå¯¹è±¡æ³¨å…¥Springçš„IOCå®¹å™¨ä¸­è¿›è¡Œç®¡ç†</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dom4jConfig</span> &#123;</span><br><span class="line">    <span class="comment">//å£°æ˜ç¬¬ä¸‰æ–¹bean</span></span><br><span class="line">    <span class="meta">@Bean</span> <span class="comment">//å°†å½“å‰æ–¹æ³•çš„è¿”å›å€¼å¯¹è±¡äº¤ç»™IOCå®¹å™¨ç®¡ç†, æˆä¸ºIOCå®¹å™¨bean</span></span><br><span class="line">    <span class="comment">//é€šè¿‡@Beanæ³¨è§£çš„name/valueå±æ€§æŒ‡å®šbeanåç§°, å¦‚æœæœªæŒ‡å®š, é»˜è®¤æ˜¯æ–¹æ³•å saxReader</span></span><br><span class="line">    <span class="keyword">public</span> SAXReader <span class="title function_">saxReader</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;in Dom4jConfig,saxReader()...&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Pojo-å®ä½“ç±»"><a href="#Pojo-å®ä½“ç±»" class="headerlink" title="Pojo å®ä½“ç±»"></a>Pojo å®ä½“ç±»</h2><ul><li>@Data<ul><li>@Getting</li><li>@Setting</li><li>@ToString(callSuper&#x3D;true)ï¼šå¯ä»¥è°ƒç”¨çˆ¶ç±»çš„toStringæ–¹æ³•</li><li>@EqualsAndHashCode</li></ul></li><li>@NoArgsConstructor</li><li>@AllArgsConstructor</li><li>@Builder</li><li>@Value(â€œ${oss.accessKey}â€)ï¼šå°†é…ç½®æ–‡ä»¶.ymlä¸å®ä½“ç±»ä¸€ ä¸€å¯¹åº”ã€‚æ³¨è§£åªèƒ½ä¸€ä¸ªä¸€ä¸ªçš„è¿›è¡Œå¤–éƒ¨å±æ€§çš„æ³¨å…¥ã€‚</li><li>@Accessors(chain &#x3D; true)å¼€å¯é“¾å¼å¼€å‘</li></ul><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231108200345208.png" alt="image-20231108200345208"></p><blockquote><p>å…·ä½“ä½¿ç”¨çœ‹çœ‹è¿™ç¯‡ä¼˜è´¨åšå®¢ï¼š<a href="https://blog.csdn.net/qq_52423918/article/details/120457840">Lombokæ’ä»¶@Accessors(chain &#x3D; true)å¼€å¯é“¾å¼å¼€å‘</a></p></blockquote><ul><li>@JsonProperty(â€œidâ€)ï¼šä¿è¯åºåˆ—åŒ–å’Œååºåˆ—åŒ–çš„æ—¶å€™å‰åç«¯å±æ€§åå­—èƒ½å¤Ÿå¯¹åº”ä¸Š</li><li>@JsonFormat(pattern &#x3D; â€œyyyy-MM-dd HH:mm:ssâ€ ,timezone &#x3D; â€œGMT+8â€)</li><li>ApiModelï¼šç±»ä¸Šæ·»åŠ æè¿°ä¿¡æ¯</li><li>ApiModelPropertyï¼šæ–¹æ³•ä¸Šæ·»åŠ æè¿°ä¿¡æ¯</li><li>@RequiredArgsConstructor ï¼š<a href="https://blog.csdn.net/Mango_Bin/article/details/123110916">Lombokæ³¨è§£ï¼šæ„é€ å™¨æ³¨å…¥ï¼š@RequiredArgsConstructor_@required</a></li><li>@TableFile(value, exist, select)</li><li>@TableName</li><li>@TableId(type &#x3D; IdType.xxx)</li></ul><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231114091119366.png" alt="image-20231114091119366"></p><ul><li>@TableLogic(value&#x3D;â€0â€, delval&#x3D;â€1â€)</li><li>@JsonSerialize(using &#x3D; ToStringSerializer.class) ï¼šåç«¯ä¼ ç»™å‰ç«¯Long-&gt;String,å‰ç«¯ä¼ åç«¯String-&gt;Long</li><li>@ExcelIgnore</li><li>@ExcelProperty(value &#x3D; â€œæ ç›®åˆ é™¤çŠ¶æ€â€, converter &#x3D; DeletedConverter.class)</li><li>@JsonIgnore <ul><li>ä½œç”¨ï¼šåœ¨jsonåºåˆ—åŒ–æ—¶å°†java beanä¸­çš„ä¸€äº›å±æ€§å¿½ç•¥æ‰ï¼Œ<strong>åºåˆ—åŒ–å’Œååºåˆ—åŒ–éƒ½å—å½±å“</strong>ã€‚</li><li>ä½¿ç”¨æ–¹æ³•ï¼šä¸€èˆ¬æ ‡è®°åœ¨å±æ€§æˆ–è€…æ–¹æ³•ä¸Šï¼Œè¿”å›çš„jsonæ•°æ®å³ä¸åŒ…å«è¯¥å±æ€§ã€‚</li></ul></li></ul><h2 id="Filter-è¿‡æ»¤ç±»"><a href="#Filter-è¿‡æ»¤ç±»" class="headerlink" title="Filter è¿‡æ»¤ç±»"></a>Filter è¿‡æ»¤ç±»</h2><ul><li>@WebFilter(urlPatterns &#x3D; â€œ&#x2F;*â€)ï¼š<code>/*</code>è¡¨ç¤ºæ‹¦æˆªæ‰€æœ‰è¯·æ±‚</li></ul><h2 id="Aspect-åˆ‡é¢ç±»"><a href="#Aspect-åˆ‡é¢ç±»" class="headerlink" title="Aspect åˆ‡é¢ç±»"></a>Aspect åˆ‡é¢ç±»</h2><ul><li>@Aspect<ul><li>@Around(@annotation, execution) ï¼šæ–¹æ³•è¿”å›å€¼å¿…é¡»æ˜¯Object</li><li>@Before</li><li>@After</li><li>@AfterReturning</li><li>@AfterThrowing</li><li>@Pointcut</li></ul></li><li>@Order(1) &#x2F;&#x2F;åˆ‡é¢ç±»çš„æ‰§è¡Œé¡ºåºï¼ˆå‰ç½®é€šçŸ¥ï¼šæ•°å­—è¶Šå°å…ˆæ‰§è¡Œ; åç½®é€šçŸ¥ï¼šæ•°å­— è¶Šå°è¶Šåæ‰§è¡Œ, ä¸¤ä¸¤å¯¹åº”ï¼‰</li></ul><h2 id="Otherç±»"><a href="#Otherç±»" class="headerlink" title="Otherç±»"></a>Otherç±»</h2><ul><li>@RequestMapping<ul><li>@GetMapping</li><li>@PostMapping</li><li>@PutMapping</li><li>@DeleteMapper</li></ul></li></ul><blockquote><p>Putå’ŒPostçš„åŒºåˆ«ï¼š<a href="https://blog.51cto.com/u_15964010/6246766">https://blog.51cto.com/u_15964010/6246766</a></p></blockquote><ul><li>@RestController<ul><li>@Controller</li><li>@ResponseBody</li></ul></li><li>@RequestParam<ul><li>requiredï¼šæ˜¯å¦ä¸ºå¿…ä¼ å‚æ•°ï¼Œ<strong>é»˜è®¤ä¸ºtrue</strong>ï¼Œå¿…é¡»ä¼ é€’è¯¥å‚æ•° </li><li>defaultValueï¼šå‚æ•°é»˜è®¤å€¼</li></ul></li></ul><blockquote><p><code>http://localhost:8081/simpleParam?name=zs&amp;age=21</code></p><p>ç»‘å®šè¯·æ±‚å‚æ•°ä¸å¤„ç†å™¨æ–¹æ³•å½¢å‚é—´çš„å…³ç³» å³ <code>?åé¢çš„å‚æ•°æ•°æ®</code></p><p>ç»“è®ºï¼šè¯·æ±‚å‚æ•°åä¸å½¢å‚åä¸åŒæ—¶ï¼Œä½¿ç”¨@RequestParamæ³¨è§£å…³è”è¯·æ±‚å‚ æ•°åä¸å½¢å‚å</p></blockquote><ul><li><p>@RequestPart: ä¸»è¦ç”¨äºæ–‡ä»¶ MultipartFileç±»å‹å‚æ•°</p></li><li><p>@DateTimeFormat</p><ul><li>å‰ç«¯å¿…é¡»æŒ‰ç…§@DateTimeFormatæ³¨è§£çš„patternå±æ€§ä¸­æŒ‡å®šçš„æ—¥æœŸæ ¼å¼è¿›è¡Œ å‚æ•°ä¼ é€’ã€‚</li><li>åç«¯Controlleræ–¹æ³•ä¸­ï¼Œéœ€è¦ä½¿ç”¨**Dateæˆ–LocalDateTime(å»ºè®®)**ç±»å‹ï¼Œæ¥å°è£…ä¼ é€’çš„ å‚æ•°ã€‚</li></ul></li></ul><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231105153807420.png" alt="image-20231105153807420"></p><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231105153931974.png" alt="image-20231105153931974"></p><ul><li>@RequestBody</li><li>@PathVariable</li></ul><blockquote><p>è·¯å¾„å‚æ•°ï¼š<code>http://localhost:8081/deleteById/1</code></p></blockquote><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231105154521311.png" alt="image-20231105154521311"></p><ul><li>@RestControllerAdviceï¼šAdviceå¢å¼ºç±»  å…¶å®å°±æ˜¯Aopç±»<ul><li>@ControllerAdvice</li><li>@ResponseBody</li></ul></li><li>@ExceptionHandler</li></ul><blockquote><p>è¿™ç¯‡åšå®¢å†™çš„å¾ˆå¥½ï¼š<a href="https://juejin.cn/post/7025484367539470344">RestControllerAdviceæ³¨è§£ä¸å…¨å±€å¼‚å¸¸å¤„ç†</a></p></blockquote><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231106085550368.png" alt="image-20231106085550368"></p><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231106085706613.png" alt="image-20231106085706613"></p><ul><li>@Component<ul><li>@Controller</li><li>@Service</li><li>@Repositoryï¼šSpringåŸç”Ÿçš„ &#x3D;&#x3D;@Mapper Mybatisçš„</li></ul></li><li>@Api(tags &#x3D; â€œSwaggeræµ‹è¯•â€)</li><li>@ApiOperation(notes&#x3D;â€swaggeræµ‹è¯•â€, value&#x3D;â€â€)</li><li>@ApiImplicitParams()<ul><li>@ApiImplicitParam(name, value, required, paramType, dataType)</li></ul></li><li>@Autowired</li><li>@Resource </li><li>@Qualifierï¼šæŒ‡å®šæ³¨å…¥çš„å¯¹è±¡</li></ul><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231107182520958.png" alt="image-20231107182520958"></p><ul><li>@Param(â€œkeywordâ€) String keyword </li><li>@Slf4j</li><li>@Testï¼šJunit</li><li>@Transactional(rollbackFor: å¼‚å¸¸å›æ»šçš„å±æ€§,propagationï¼šäº‹åŠ¡ä¼ æ’­è¡Œä¸º)</li><li>@SuppressWarnings(â€œuncheckedâ€)ï¼šå–æ¶ˆæ£€æŸ¥</li><li>@Scopeï¼šå–å€¼â€œsingletonâ€or â€œprototypeâ€ï¼šå½“å–å€¼è‹‡prototypeæ˜¯ä¼šé»˜è®¤åŠ ä¸Š@Lazy</li><li>@Lazyï¼šå»¶è¿ŸåŠ è½½, å¯ä»¥å»¶è¿Ÿbeanå¯¹è±¡çš„åˆå§‹åŒ–ï¼Œå»¶è¿Ÿåˆ°ç¬¬ä¸€æ¬¡ä½¿ç”¨æ—¶åˆ›å»º</li><li>@ServerEndpoint(â€œ&#x2F;ws&#x2F;{sid}â€)ï¼šWebsocket<ul><li>@OnOpenï¼šè¿æ¥æˆåŠŸè°ƒç”¨çš„æ–¹æ³•</li><li>@OnMessageï¼šæ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯åçš„æ–¹æ³•</li><li>@OnCloseï¼šè¿æ¥å…³é—­è°ƒç”¨çš„æ–¹æ³•</li></ul></li></ul><h1 id="SpringCloud"><a href="#SpringCloud" class="headerlink" title="SpringCloud"></a>SpringCloud</h1><p><img src="/2023/11/05/SpringBoot%E9%A1%B9%E7%9B%AE%E4%B8%AD%E5%90%84%E7%B1%BB%E6%B3%A8%E8%A7%A3/image-20231204201430987.png" alt="image-20231204201430987"></p><ul><li><p>@EnableEurekaServer</p></li><li><p>@EnableFeignClients(â€œcom.briup.cloud.web.restâ€)</p></li><li><p>@EnableHystrix</p></li><li><p>@EnableDiscoveryClient</p></li><li><p>@EnableZuulProxy</p></li><li><p>@LoadBalanced</p></li><li><p>@FeignClient(name&#x3D;â€producerâ€)</p></li><li><p>@SentinelResource(value&#x3D;â€xxxxâ€, blockHandler&#x3D;â€xxxxâ€)</p></li></ul></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> springboot </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>template-01-å„ç±»äº‘æœåŠ¡</title>
      <link href="/2023/11/04/template-01-%E5%90%84%E7%B1%BB%E4%BA%91%E6%9C%8D%E5%8A%A1/"/>
      <url>/2023/11/04/template-01-%E5%90%84%E7%B1%BB%E4%BA%91%E6%9C%8D%E5%8A%A1/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¿—è¯è¯´å¾—å¥½ï¼šå­¦æ¸£å°±æ˜¯ä¸€ä¸ªå­—ï¼ŒæŠ„ï¼</p><p>æœ¬æ–‡ç« ä¸»è¦æ˜¯å°†æ—¥å¸¸å­¦ä¹ ä¸­ç”¨åˆ°çš„å„ç±»äº‘æœåŠ¡æ¨¡æ¿è®°å½•ä¸‹æ¥ã€‚</p></blockquote><h1 id="ä¸ƒç‰›äº‘"><a href="#ä¸ƒç‰›äº‘" class="headerlink" title="ä¸ƒç‰›äº‘"></a>ä¸ƒç‰›äº‘</h1><h2 id="OSS"><a href="#OSS" class="headerlink" title="OSS"></a>OSS</h2><ul><li>maven</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">&lt;!--ä¸ƒç‰›äº‘OSSå¯¹è±¡å­˜å‚¨--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.qiniu<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>qiniu-java-sdk<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>[7.7.0, 7.7.99]<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br><span class="line"><span class="comment">&lt;!--google jsonå¤„ç†å·¥å…·--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>com.google.code.gson<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>gson<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">version</span>&gt;</span>2.9.0<span class="tag">&lt;/<span class="name">version</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>application.yml</li></ul><figure class="highlight yaml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">spring:</span></span><br><span class="line">  <span class="attr">servlet:</span></span><br><span class="line">    <span class="attr">multipart:</span></span><br><span class="line">      <span class="comment"># å•ä¸ªæ–‡ä»¶å¤§å°ï¼Œé»˜è®¤æ˜¯1MB</span></span><br><span class="line">      <span class="attr">max-file-size:</span> <span class="string">10MB</span></span><br><span class="line">      <span class="comment"># å•æ¬¡ä¸Šä¼ æ–‡ä»¶é›†åˆå¤§å°ï¼Œé»˜è®¤æ˜¯10MB</span></span><br><span class="line">      <span class="attr">max-request-size:</span> <span class="string">100MB</span></span><br><span class="line">      </span><br><span class="line"><span class="comment"># é…ç½®ä¸ƒç‰›äº‘OSSå¯¹è±¡å­˜å‚¨ ï¼ˆè‡ªå®šä¹‰çš„ossæ ¼å¼ï¼‰</span></span><br><span class="line"><span class="attr">oss:</span></span><br><span class="line">  <span class="comment"># é…ç½®AK</span></span><br><span class="line">  <span class="attr">accessKey:</span> <span class="string">&quot;your accessKey&quot;</span></span><br><span class="line">  <span class="comment"># é…ç½®SK</span></span><br><span class="line">  <span class="attr">secretKey:</span> <span class="string">&quot;your secretKey&quot;</span></span><br><span class="line">  <span class="comment"># é…ç½®æ¡¶ï¼ˆå­˜å‚¨ç©ºé—´ï¼‰</span></span><br><span class="line">  <span class="attr">bucket:</span> <span class="string">&quot;jd2311-lwsj&quot;</span></span><br><span class="line">  <span class="comment"># é…ç½®åŸºç¡€åŸŸåï¼ˆæµ‹è¯•åŸŸåæˆ–ä¸ªäººå®Œæˆå¤‡æ¡ˆå’Œè§£æçš„åŸŸåï¼‰</span></span><br><span class="line">  <span class="attr">baseUrl:</span> <span class="string">&quot;http://s3ji1h27j.bkt.clouddn.com/&quot;</span></span><br></pre></td></tr></table></figure><ul><li>UploadConfig</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.config;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ConfigurationProperties(prefix = &quot;oss&quot;)</span> <span class="comment">// è¯»å–application.ymlä¸­ossåé¢çš„æ•°æ®</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadConfig</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * OSS Access key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String accessKey;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * OSS Secret key</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String secretKey;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * bucketName</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String bucket;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * urlåœ°å€,ç”¨äºæ‹¼æ¥ æ–‡ä»¶ä¸Šä¼ æˆåŠŸåå›æ˜¾çš„url</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String baseUrl;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>maven åŒæ—¶æ·»åŠ ä¾èµ–è§£å†³UploadConfigä¸Šé¢çˆ†çº¢é—®é¢˜</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-configuration-processor<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>UploadUtils</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.utils;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> UploadUtils</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/11/3 17:23</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> ä¸ƒç‰›äº‘ossæ–‡ä»¶ä¸Šä¼ å·¥å…·ç±»ï¼ˆå›¾ç‰‡ï¼‰</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Data</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadUtils</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UploadConfig uploadConfig; <span class="comment">// æ³¨å…¥é…ç½®ä¿¡æ¯</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–‡ä»¶ä¸Šä¼ æ ¸å¿ƒæ–¹æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file å¾…ä¸Šä¼ çš„æ–‡ä»¶</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> ä¸Šä¼ æˆåŠŸåå›æ˜¾çš„ urlè·¯å¾„</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">fileToOSS</span><span class="params">(MultipartFile file)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        log.info(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ åˆ°ä¸ƒç‰›äº‘OSS:&#123;&#125;&quot;</span>, file.getOriginalFilename());</span><br><span class="line">        <span class="comment">//æ„é€ ä¸€ä¸ªå¸¦æŒ‡å®š Region å¯¹è±¡çš„é…ç½®ç±»(æ ¹æ®ä¸ƒç‰›äº‘æœåŠ¡å™¨åœ°åŒºè¿›è¡Œè®¾ç½®,è¿™é‡ŒautoRegionä¼šè‡ªåŠ¨åŒ¹é…ç›¸åº”åœ°åŒºä¸ƒç‰›äº‘æœåŠ¡)</span></span><br><span class="line">        <span class="type">Configuration</span> <span class="variable">configuration</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Configuration</span>(Region.autoRegion());</span><br><span class="line">        <span class="comment">//å°†é…ç½®ä¼ å…¥UploadManager</span></span><br><span class="line">        <span class="type">UploadManager</span> <span class="variable">uploadManager</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UploadManager</span>(configuration);</span><br><span class="line">        <span class="comment">//éªŒè¯AKä¸SK,AKä¸SKä»é…ç½®ç±»ä¸­è·å–</span></span><br><span class="line">        <span class="type">Auth</span> <span class="variable">auth</span> <span class="operator">=</span> Auth.create(uploadConfig.getAccessKey(), uploadConfig.getSecretKey());</span><br><span class="line">        <span class="comment">//æŒ‡å®šæ¡¶ ä»é…ç½®ç±»ä¸­è·å–</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">upToken</span> <span class="operator">=</span> auth.uploadToken(uploadConfig.getBucket());</span><br><span class="line">        <span class="comment">//é»˜è®¤ä¸æŒ‡å®škeyçš„æƒ…å†µä¸‹ï¼Œä»¥æ–‡ä»¶å†…å®¹çš„hashå€¼ä½œä¸ºæ–‡ä»¶å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> generateFilePath(file);</span><br><span class="line">        <span class="comment">//ä¸Šä¼ æ–‡ä»¶</span></span><br><span class="line">        <span class="type">Response</span> <span class="variable">response</span> <span class="operator">=</span> uploadManager.put(file.getInputStream(), fileName, upToken, <span class="literal">null</span>, <span class="literal">null</span>);</span><br><span class="line">        <span class="comment">//è§£æä¸Šä¼ æˆåŠŸçš„ç»“æœ</span></span><br><span class="line">        <span class="type">DefaultPutRet</span> <span class="variable">putRet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Gson</span>().fromJson(response.bodyString(), DefaultPutRet.class);</span><br><span class="line">        log.info(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ æˆåŠŸ,æ–‡ä»¶åœ°å€:&#123;&#125;&quot;</span>, uploadConfig.getBaseUrl() + fileName);</span><br><span class="line">        <span class="keyword">return</span> uploadConfig.getBaseUrl() + fileName;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯¥æ–¹æ³•ç”¨äºç”Ÿæˆæœ‰æ•ˆæ–‡ä»¶è·¯å¾„</span></span><br><span class="line"><span class="comment">     * è·¯å¾„æ ¼å¼ç»Ÿä¸€ä¸º: yyyy/MM/dd/éšæœºUUID.æ–‡ä»¶æ ¼å¼</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> file æºæ–‡ä»¶,ç”¨äºè·å–æ–‡ä»¶ åŸå</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> æ–‡ä»¶çš„æ–°å</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">generateFilePath</span><span class="params">(MultipartFile file)</span> &#123;</span><br><span class="line">        <span class="comment">//1.æ ¹æ®æ—¥æœŸç”Ÿæˆè·¯å¾„å­—ç¬¦ä¸² 2022/1/15/</span></span><br><span class="line">        <span class="type">SimpleDateFormat</span> <span class="variable">sdf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SimpleDateFormat</span>(<span class="string">&quot;yyyy/MM/dd/&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">datePath</span> <span class="operator">=</span> sdf.format(<span class="keyword">new</span> <span class="title class_">Date</span>());</span><br><span class="line">        <span class="comment">//2.è·å–æœ‰æ•ˆ uuid</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šuuidé»˜è®¤ä¸º xxx-xxx-xxx...ï¼Œæ­¤å¤„æˆ‘ä»¬è¦æŠŠ-å»æ‰</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">uuid</span> <span class="operator">=</span> UUID.randomUUID().toString().replaceAll(<span class="string">&quot;-&quot;</span>, <span class="string">&quot;&quot;</span>);</span><br><span class="line">        <span class="comment">//3.è·å–æ–‡ä»¶çš„åç¼€åï¼štest.png -&gt; .png</span></span><br><span class="line">        <span class="comment">//è·å–æ–‡ä»¶åç§°</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> file.getOriginalFilename();</span><br><span class="line">        <span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> fileName.lastIndexOf(<span class="string">&quot;.&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">fileType</span> <span class="operator">=</span> fileName.substring(index);</span><br><span class="line">        <span class="comment">//ç»™æ–‡ä»¶åšå”¯ä¸€æ ‡è¯†</span></span><br><span class="line">        <span class="keyword">assert</span> fileName != <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">//4.æ‹¼æ¥å¾—åˆ°æœ‰æ•ˆæ–‡ä»¶åï¼Œç„¶åè¿”å›</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">filePath</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>().append(datePath).append(uuid).append(fileType).toString();</span><br><span class="line">        <span class="keyword">return</span> filePath;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>UploadController (æ¥æ”¶MultipartFile img å¿…é¡»ä½¿ç”¨ @RequestPart æ¥æ¥æ”¶)</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.web.controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;æ–‡ä»¶ä¸Šä¼ æ¥å£&quot;)</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/upload&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowire</span></span><br><span class="line">    <span class="keyword">private</span> UploadService uploadService;</span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ–‡ä»¶ä¸Šä¼ &quot;</span></span><br><span class="line"><span class="meta">    @PostMapping()</span></span><br><span class="line"><span class="meta">    public Result&lt;String&gt; upload(@RequestPart MultipartFile img) &#123;</span></span><br><span class="line"><span class="meta">        log.info(&quot;å¼€å§‹è¿›è¡Œæ–‡ä»¶ä¸Šä¼ :&#123;&#125;&quot;, img.getOriginalFilename());</span></span><br><span class="line"><span class="meta">        //ä¸Šä¼ æ–‡ä»¶ï¼Œå¹¶è·å–urlè·¯å¾„</span></span><br><span class="line"><span class="meta">        String url = uploadService.upload(img);</span></span><br><span class="line"><span class="meta">        return Result.success(url);</span></span><br><span class="line"><span class="meta">    &#125;</span></span><br><span class="line"><span class="meta">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>UploadServiceImpl</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UploadServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UploadService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UploadUtils uploadUtils;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">upload</span><span class="params">(MultipartFile image)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// ä¸Šä¼ åˆ°ä¸ƒç‰›äº‘æœåŠ¡å™¨</span></span><br><span class="line">            url = uploadUtils.fileToOSS(image);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            log.info(<span class="string">&quot;æ–‡ä»¶ä¸Šä¼ å¤±è´¥ï¼ŒåŸå› ï¼š&#123;&#125;&quot;</span>, e.getMessage());</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">ServiceException</span>(ResultCode.SYSTEM_INNER_ERROR);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> url;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="é˜¿é‡Œäº‘"><a href="#é˜¿é‡Œäº‘" class="headerlink" title="é˜¿é‡Œäº‘"></a>é˜¿é‡Œäº‘</h1><h1 id="è…¾è®¯äº‘"><a href="#è…¾è®¯äº‘" class="headerlink" title="è…¾è®¯äº‘"></a>è…¾è®¯äº‘</h1><h1 id="åä¸ºäº‘"><a href="#åä¸ºäº‘" class="headerlink" title="åä¸ºäº‘"></a>åä¸ºäº‘</h1><h1 id="äº¬ä¸œäº‘"><a href="#äº¬ä¸œäº‘" class="headerlink" title="äº¬ä¸œäº‘"></a>äº¬ä¸œäº‘</h1><h1 id="ç¡…äº‘"><a href="#ç¡…äº‘" class="headerlink" title="ç¡…äº‘"></a>ç¡…äº‘</h1><h1 id="è¢‹é¼ äº‘"><a href="#è¢‹é¼ äº‘" class="headerlink" title="è¢‹é¼ äº‘"></a>è¢‹é¼ äº‘</h1></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> template </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>interview-01-mybatisé¢è¯•é¢˜</title>
      <link href="/2023/10/28/interview-01-mybatis%E9%9D%A2%E8%AF%95%E9%A2%98/"/>
      <url>/2023/10/28/interview-01-mybatis%E9%9D%A2%E8%AF%95%E9%A2%98/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>Java-Guideï¼š<a href="https://javaguide.cn/system-design/framework/mybatis/mybatis-interview.html">MyBatiså¸¸è§é¢è¯•é¢˜æ€»ç»“</a></p></blockquote><h1 id="ç»å…¸é¢è¯•é¢˜"><a href="#ç»å…¸é¢è¯•é¢˜" class="headerlink" title="ç»å…¸é¢è¯•é¢˜"></a>ç»å…¸é¢è¯•é¢˜</h1><h2 id="JDBC-ç¼–ç¨‹æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ"><a href="#JDBC-ç¼–ç¨‹æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ" class="headerlink" title="JDBC ç¼–ç¨‹æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ"></a>JDBC ç¼–ç¨‹æœ‰å“ªäº›æ­¥éª¤ï¼Ÿ</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1. æ³¨å†Œé©±åŠ¨ mysql8.0ä»¥ä¸Š+cj</span></span><br><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>); </span><br><span class="line"><span class="comment">// 2. å»ºç«‹JDBCä¸æ•°æ®åº“çš„è¿æ¥</span></span><br><span class="line"><span class="type">Connnect</span> <span class="variable">conn</span> <span class="operator">=</span> DriverManager(<span class="string">&quot;jdbc:mysql://ip:port/æ•°æ®åº“å&quot;</span>, <span class="string">&quot;username&quot;</span>,<span class="string">&quot;password&quot;</span>);</span><br><span class="line"><span class="comment">// 3. åˆ›å»ºStatementå¯¹è±¡æˆ–PreparedStatementå¯¹è±¡</span></span><br><span class="line"><span class="type">Statement</span> <span class="variable">stmt</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> conn.preparedStatement(sql);</span><br><span class="line"><span class="comment">// 4. æ‰§è¡Œsqlï¼Œè·å–ç»“æœé›†</span></span><br><span class="line"><span class="type">Result</span> <span class="variable">rs</span> <span class="operator">=</span> pstmt.executeQuery();</span><br><span class="line"><span class="comment">// 5. å¤„ç†ç»“æœé›† (å¯é€‰)</span></span><br><span class="line"><span class="keyword">while</span>(rs.next()) &#123;</span><br><span class="line">    rs.getString();</span><br><span class="line">    rs.getInteger();</span><br><span class="line">    rs.getXxxx();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 6. å…³é—­èµ„æº</span></span><br><span class="line">conn.close();</span><br></pre></td></tr></table></figure><h2 id="æµ…è°ˆMyBatis"><a href="#æµ…è°ˆMyBatis" class="headerlink" title="æµ…è°ˆMyBatis"></a>æµ…è°ˆMyBatis</h2><ul><li>æ˜¯ä¸€ä¸ªåŠORMï¼ˆå¯¹è±¡å…³ç³»æ˜ å°„ï¼‰æ¡†æ¶</li><li>mybatiså†…éƒ¨å°è£…äº†jdbcï¼Œå¼€å‘äººå‘˜ä¸å†éœ€è¦å…³å¿ƒé©±åŠ¨çš„æ³¨å†Œã€è¿æ¥å¯¹è±¡çš„è·å–ã€sqlè¯­å¥çš„æ‰§è¡Œã€èµ„æºçš„å…³é—­ç­‰ï¼Œåªéœ€è¦ç€é‡æ³¨æ„sqlè¯­å¥çš„ç¼–å†™</li><li>mybatisé€šè¿‡xmlï¼ˆdom4j+åå°„ï¼‰æˆ–æ³¨è§£çš„æ–¹å¼å°†sqlå¯¹è±¡è‡ªåŠ¨è·å–ï¼Œä»¥åŠå°†æŸ¥è¯¢ç»“æœé›†è‡ªåŠ¨å°è£…åˆ°å¯¹åº”çš„å¯¹è±¡å½“ä¸­è¿”å›</li></ul><p>ä¼˜ç‚¹ï¼š</p><p><img src="/2023/10/28/interview-01-mybatis%E9%9D%A2%E8%AF%95%E9%A2%98/image-20231028145522203.png" alt="image-20231028145522203"></p><p>ç¼ºç‚¹ï¼š</p><p><img src="/2023/10/28/interview-01-mybatis%E9%9D%A2%E8%AF%95%E9%A2%98/image-20231028145757569.png" alt="image-20231028145757569"></p><p>å’Œhibernateçš„ä¸åŒä¹‹å¤„ï¼šï¼ˆæ²¡å­¦è¿‡hibernate<code>ğŸ˜“</code>ï¼‰</p><p><img src="/2023/10/28/interview-01-mybatis%E9%9D%A2%E8%AF%95%E9%A2%98/image-20231028150135802.png" alt="image-20231028150135802"></p></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ex-SpringMVCæµç¨‹åˆ†æ</title>
      <link href="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/"/>
      <url>/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><h1 id="ä»€ä¹ˆæ˜¯Spring-mvc"><a href="#ä»€ä¹ˆæ˜¯Spring-mvc" class="headerlink" title="ä»€ä¹ˆæ˜¯Spring mvc"></a>ä»€ä¹ˆæ˜¯Spring mvc</h1><p>SpringMVCæ˜¯ä¸€ä¸ªåŸºäºJavaçš„Webæ¡†æ¶ï¼Œç”¨äºæ„å»ºçµæ´»ã€å¯æ‰©å±•å’Œé«˜æ•ˆçš„Webåº” ç”¨ç¨‹åºã€‚</p><ul><li><strong>M ï¼š è¡¨ç¤ºmodeï¼Œ</strong>ç¿»è¯‘æˆä¸­æ–‡å«åšæ¨¡å‹ï¼Œå¯¹åº”æ•°æ®åº“ï¼›</li><li><strong>V ï¼š è¡¨ç¤ºViewï¼Œ</strong>ç¿»è¯‘ä¸ºä¸­æ–‡å«åšè§†å›¾ï¼Œå¯¹åº”å‰ç«¯çš„é¡µé¢ï¼Œæ¯”å¦‚jsp</li><li><strong>C ï¼š è¡¨ç¤º Controllerï¼Œ</strong>ç¿»è¯‘æ˜¯æ§åˆ¶å±‚ï¼Œå¯¹åº”servletçš„è¯·æ±‚æ˜ å°„ï¼›</li></ul><p>SpringMVCçš„ä¸»è¦ç›®æ ‡æ˜¯å°†åº”ç”¨ç¨‹åºçš„<strong>ä¸šåŠ¡é€»è¾‘å’ŒWebå±‚è§£è€¦</strong>ï¼Œä½¿å¼€å‘äººå‘˜èƒ½ å¤Ÿæ›´å¥½åœ°å…³æ³¨ä¸šåŠ¡é€»è¾‘çš„å®ç°è€Œä¸å¿…è¿‡å¤šå…³æ³¨ä¸Webç›¸å…³çš„ç»†èŠ‚ã€‚</p><p>SpringMVCçš„æ ¸å¿ƒç»„ä»¶æ˜¯<strong>å‰ç«¯æ§åˆ¶å™¨ï¼ˆDispatcherServletï¼‰</strong>ï¼Œå®ƒå……å½“äº†åº”ç”¨ç¨‹åº çš„ä¸»è¦å…¥å£ç‚¹ï¼Œæ¥æ”¶æ‰€æœ‰çš„å®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¹¶å°†è¯·æ±‚åˆ†å‘ç»™ç›¸åº”çš„å¤„ç†ç¨‹åºï¼ˆæ§ åˆ¶å™¨ï¼‰ã€‚å‰ç«¯æ§åˆ¶å™¨è´Ÿè´£å¤„ç†è¯·æ±‚çš„è·¯ç”±ã€å‚æ•°è§£æã€è¯·æ±‚å¤„ç†æµç¨‹æ§åˆ¶ã€è§† å›¾è§£æå’Œæ¸²æŸ“ç­‰å·¥ä½œã€‚</p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025183023858.png" alt="image-20231025183023858"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025183050572.png" alt="image-20231025183050572"></p><h1 id="ç»„ä»¶"><a href="#ç»„ä»¶" class="headerlink" title="ç»„ä»¶"></a>ç»„ä»¶</h1><ul><li>DispatcherServlet</li></ul><p>å‰ç«¯æ§åˆ¶å™¨ã€‚ç”¨æ¥è¿‡æ»¤å®¢æˆ·ç«¯å‘é€è¿‡æ¥,æƒ³è¦è¿›è¡Œé€»è¾‘å¤„ç†çš„è¯·æ±‚</p><ul><li>Controller&#x2F;Headler</li></ul><p>æ§åˆ¶å™¨&#x2F;å¤„ç†å™¨ã€‚å¼€å‘äººå‘˜è‡ªå®šä¹‰,ç”¨æ¥å¤„ç†ç”¨æˆ·è¯·æ±‚çš„,å¹¶ä¸”å¤„ç†å®Œæˆä¹‹åè¿”å›ç»™ç”¨æˆ·æŒ‡å®šè§†å›¾çš„å¯¹ è±¡ ç›¸å½“äºæˆ‘ä»¬ä¹‹å‰ç¼–å†™çš„Servlet</p><ul><li>HandlerMapping</li></ul><p>å¤„ç†å™¨æ˜ å°„å™¨ï¼ˆç®€ç§°æ˜ å°„å™¨ï¼‰ã€‚DispatcherServletæ¥æ”¶åˆ°å®¢æˆ·ç«¯è¯·æ±‚çš„URLä¹‹å,æ ¹æ®ä¸€å®šçš„åŒ¹é…è§„ åˆ™,å†æŠŠè¯·æ±‚è½¬å‘ç»™å¯¹åº”çš„Handler,è¿™ä¸ªåŒ¹é…è§„åˆ™ç”± HandlerMapping å†³å®š</p><ul><li>HandlerAdaptor</li></ul><p>å¤„ç†å™¨é€‚é…å™¨ï¼ˆç®€ç§°é€‚é…å™¨ï¼‰ã€‚ç”¨æ¥é€‚é…æ¯ä¸€ä¸ªè¦æ‰§è¡Œçš„Handlerå¯¹è±¡ã€‚é€šè¿‡HandlerAdapterå¯ä»¥æ”¯ æŒä»»æ„çš„ç±»ä½œä¸ºå¤„ç†å™¨ã€‚ä½œç”¨æ˜¯å‘Šè¯‰SpringMVCæ¡†æ¶ï¼Œå°†æ¥éœ€è¦è°ƒç”¨Controllerä¸­çš„å“ªä¸€ä¸ªæ–¹æ³•ã€‚</p><ul><li>ViewResolver</li></ul><p>è§†å›¾è§£æå™¨ï¼ˆç®€ç§°è§£æå™¨ï¼‰ã€‚Controller&#x2F;Headlerè¿”å›çš„æ˜¯é€»è¾‘è§†å›¾å,éœ€è¦æœ‰ä¸€ä¸ªè§£æå™¨èƒ½å¤Ÿå°†é€»è¾‘ è§†å›¾åè½¬æ¢æˆå®é™…çš„ç‰©ç†è§†å›¾ã€‚ä¾‹å¦‚ï¼ŒControllerä¸­è¿”å›çš„é€»è¾‘è§†å›¾åå­—ä¸ºâ€helloâ€ï¼Œè§£æå™¨å¯ä»¥ç»™è¿™ ä¸ªé€»è¾‘è§†å›¾åè½¬æ¢ä¸ºçœŸæ­£çš„ç‰©ç†è§†å›¾åï¼Œä¾‹å¦‚åŠ å…¥å‰ç¼€å’Œåç¼€ï¼š&#x2F;WEB-INF&#x2F;jsp&#x2F;hello.jsp</p><h1 id="æ‰§è¡Œæµç¨‹"><a href="#æ‰§è¡Œæµç¨‹" class="headerlink" title="æ‰§è¡Œæµç¨‹"></a>æ‰§è¡Œæµç¨‹</h1><blockquote><p>bç«™è§†é¢‘(å¾ˆæ¸…æ™°)ï¼š<a href="https://www.bilibili.com/video/BV15o4y1t79E/?spm_id_from=333.337.search-card.all.click&vd_source=37d0a4e2d39fe02cac0e2a4c23fe8ec3">è¯·æè¿°springMVCçš„å·¥ä½œæµç¨‹ï¼Œæè¿°ä¸€ä¸‹ DispatcherServletçš„å·¥ä½œæµç¨‹?</a></p></blockquote><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025183753911.png" alt="image-20231025183753911"></p><ul><li><p>è¿‡æ»¤å™¨ï¼šFilter</p><p>ä¾èµ–äº<strong>servletå®¹å™¨</strong>ã€‚åœ¨å®ç°ä¸ŠåŸºäºå‡½æ•°å›è°ƒï¼Œå¯ä»¥å¯¹å‡ ä¹æ‰€æœ‰è¯·æ±‚è¿›è¡Œè¿‡æ»¤ï¼Œä½†æ˜¯ç¼ºç‚¹æ˜¯ä¸€ä¸ªè¿‡æ»¤å™¨å®ä¾‹åªèƒ½åœ¨å®¹å™¨åˆå§‹åŒ–æ—¶è°ƒç”¨ä¸€æ¬¡ã€‚ä½¿ç”¨è¿‡æ»¤å™¨çš„ç›®çš„æ˜¯ç”¨æ¥åšä¸€äº›è¿‡æ»¤æ“ä½œï¼Œè·å–æˆ‘ä»¬æƒ³è¦è·å–çš„æ•°æ®ï¼Œæ¯”å¦‚ï¼š<strong>åœ¨è¿‡æ»¤å™¨ä¸­ä¿®æ”¹å­—ç¬¦ç¼–ç ï¼›åœ¨è¿‡æ»¤å™¨ä¸­ä¿®æ”¹HttpServletRequestçš„ä¸€äº›å‚æ•°ï¼ŒåŒ…æ‹¬ï¼šè¿‡æ»¤ä½ä¿—æ–‡å­—ã€å±é™©å­—ç¬¦ç­‰</strong></p></li><li><p>æ‹¦æˆªå™¨ï¼šHandlerInterceptor</p><p>ä¾èµ–äº<strong>webæ¡†æ¶</strong>ï¼Œåœ¨å®ç°ä¸ŠåŸºäºJavaçš„åå°„æœºåˆ¶ï¼Œå±äºé¢å‘åˆ‡é¢ç¼–ç¨‹ï¼ˆAOPï¼‰çš„ä¸€ç§è¿ç”¨ã€‚ç”±äºæ‹¦æˆªå™¨æ˜¯åŸºäºwebæ¡†æ¶çš„è°ƒç”¨ï¼Œå› æ­¤å¯ä»¥ä½¿ç”¨Springçš„ä¾èµ–æ³¨å…¥ï¼ˆDIï¼‰è¿›è¡Œä¸€äº›ä¸šåŠ¡æ“ä½œï¼ŒåŒæ—¶ä¸€ä¸ªæ‹¦æˆªå™¨å®ä¾‹åœ¨ä¸€ä¸ª<a href="https://www.cnblogs.com/lch-Hao/p/10763801.html">controllerçš„ç”Ÿå‘½å‘¨æœŸ</a>ä¹‹å†…å¯ä»¥å¤šæ¬¡è°ƒç”¨ã€‚</p></li></ul><p>æ€»ç»“ï¼š</p><p>ï¼ˆ1ï¼‰ç”¨æˆ·å‘é€è¯·æ±‚è‡³å‰ç«¯æ§åˆ¶å™¨DispatcherServletï¼›</p><p>ï¼ˆ2ï¼‰ DispatcherServletæ”¶åˆ°è¯·æ±‚åï¼Œè°ƒç”¨HandlerMappingå¤„ç†å™¨æ˜ å°„å™¨ï¼Œè¯·æ±‚è·å–Handleï¼›</p><p>ï¼ˆ3ï¼‰å¤„ç†å™¨æ˜ å°„å™¨æ ¹æ®è¯·æ±‚urlæ‰¾åˆ°å…·ä½“çš„å¤„ç†å™¨ï¼Œç”Ÿæˆå¤„ç†å™¨å¯¹è±¡åŠå¤„ç†å™¨æ‹¦æˆªå™¨(å¦‚æœæœ‰åˆ™ç”Ÿæˆ)ä¸€å¹¶è¿”å›ç»™ DispatcherServletï¼›</p><p>ï¼ˆ4ï¼‰DispatcherServlet è°ƒç”¨ HandlerAdapterå¤„ç†å™¨é€‚é…å™¨ï¼›</p><p>ï¼ˆ5ï¼‰HandlerAdapter ç»è¿‡é€‚é…è°ƒç”¨ å…·ä½“å¤„ç†å™¨(Handlerï¼Œä¹Ÿå«åç«¯æ§åˆ¶å™¨)ï¼›</p><p>ï¼ˆ6ï¼‰Handleræ‰§è¡Œå®Œæˆè¿”å›ModelAndViewï¼› </p><p>ï¼ˆ7ï¼‰HandlerAdapterå°†Handleræ‰§è¡Œç»“æœModelAndViewè¿”å›ç»™DispatcherServletï¼› </p><p>ï¼ˆ8ï¼‰DispatcherServletå°†ModelAndViewä¼ ç»™ViewResolverè§†å›¾è§£æå™¨è¿›è¡Œè§£æï¼› </p><p>ï¼ˆ9ï¼‰ViewResolverè§£æåè¿”å›å…·ä½“Viewï¼› </p><p>ï¼ˆ10ï¼‰DispatcherServletå¯¹Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰ </p><p>ï¼ˆ11ï¼‰DispatcherServletå“åº”ç”¨æˆ·ã€‚</p><h1 id="DispatcherServletæºç åˆ†æ"><a href="#DispatcherServletæºç åˆ†æ" class="headerlink" title="DispatcherServletæºç åˆ†æ"></a>DispatcherServletæºç åˆ†æ</h1><blockquote><p>é€šè¿‡ä¸Šå›¾æˆ‘ä»¬ä¸éš¾å‘ç°ï¼Œå…¶å® HandlerMappingã€HandlerAdapterã€ViewResloverã€View åŸºæœ¬ä¸Šéƒ½æ˜¯è·ŸDispatcherServletäº¤äº’çš„ï¼Œç©¶ç«Ÿæ˜¯ä»€ä¹ˆé­”åŠ›èƒ½è®©DispatcherServletå¯ä»¥ç»Ÿé¢†å…¨å±€å‘¢ï¼Ÿ å¬æˆ‘ç»†ç»†é“æ¥</p></blockquote><ul><li>é¦–å…ˆæ‰¾åˆ°DispatcherServletçš„ doDispatchæ–¹æ³•ï¼Œæ ¸å¿ƒä¸­çš„æ ¸å¿ƒ</li></ul><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025194332825.png" alt="image-20231025194332825"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025193515149.png" alt="image-20231025193515149"></p><ul><li>æ‰¾HandlerMapper</li></ul><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025194240927.png" alt="image-20231025194240927"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025194109622.png" alt="image-20231025194109622"></p><ul><li>HandlerMapping â€”&gt; HandlerExcutionChain (åŒ…å«HandlerInterceptorâ€¦+Handler)</li></ul><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025200442486.png" alt="image-20231025200442486"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025201354257.png" alt="image-20231025201354257"></p><p>æ‰¾æ‹¦æˆªå™¨ ä»¥å‰ç½®æ‹¦æˆªå™¨ä¸ºä¾‹å­ </p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025204439731.png" alt="image-20231025204439731"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025204523046.png" alt="image-20231025204523046"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025204651298.png" alt="image-20231025204651298"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025205027407.png" alt="image-20231025205027407"></p><ul><li>HandlerAdapt</li></ul><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025205155542.png" alt="image-20231025205155542"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025205245509.png" alt="image-20231025205245509"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025205551801.png" alt="image-20231025205551801"></p><p>è°ƒç”¨handleræ–¹æ³•â€”&gt;å¾—åˆ°ModelAndView</p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025210017729.png" alt="image-20231025210017729"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025210117150.png" alt="image-20231025210117150"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025210554476.png" alt="image-20231025210554476"></p><ul><li>ViewResolver ç›®çš„ï¼šä¸ºé€»è¾‘è§†å›¾helloåŠ ä¸Šå‰ç¼€å’Œåç¼€å˜æˆ  ç›¸å¯¹è·¯å¾„ &#x2F;WEB-INF&#x2F;hello.html</li></ul><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025211239221.png" alt="image-20231025211239221"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025211848898.png" alt="image-20231025211848898"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025212222545.png" alt="image-20231025212222545"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025212656611.png" alt="image-20231025212656611"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025212850380.png" alt="image-20231025212850380"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025213330109.png" alt="image-20231025213330109"></p><ul><li>View: DispatcherServletå¯¹Viewè¿›è¡Œæ¸²æŸ“è§†å›¾ï¼ˆå³å°†æ¨¡å‹æ•°æ®å¡«å……è‡³è§†å›¾ä¸­ï¼‰å˜æˆæœ‰å¸ƒå±€æœ‰cssæœ‰æ•°æ®çš„htmlé¡µé¢</li></ul><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025213448870.png" alt="image-20231025213448870"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025213704417.png" alt="image-20231025213704417"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025213945321.png" alt="image-20231025213945321"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025214048499.png" alt="image-20231025214048499"></p><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025214236976.png" alt="image-20231025214236976"></p><blockquote><p>ä½ ä¸€å®šä¼šæ„Ÿåˆ°ç–‘æƒ‘ä¸ºä»€ä¹ˆæˆ‘å°±è¿™ä¹ˆè‚¯å®šæ˜¯è¿™äº›å®ç°ç±»å‘¢ï¼Ÿ è‚¯å®šæ˜¯å­˜åœ¨XMLæ–‡ä»¶å•¦~~</p></blockquote><p><img src="/2023/10/25/ex-SpringMVC%E6%B5%81%E7%A8%8B%E5%88%86%E6%9E%90/image-20231025214454589.png" alt="image-20231025214454589"></p><blockquote><p>åˆ°è¿™é‡ŒSpringMVCçš„æµç¨‹å°±åŸºæœ¬ç»“æŸå•¦~ æ³ªæ³ª</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤ <code>toolæ </code> æ¥šé—¨çš„ä¸–ç•Œå°†ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> SpringMVC </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>githubç¾åŒ–-ä¸ä¸€æ ·çš„ä¸»é¡µ,æ›´ç²¾å½©ğŸˆ</title>
      <link href="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/"/>
      <url>/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šfså®è®­äºŒing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¼—æ‰€å‘¨çŸ¥ï¼Œçˆ±ç¾ä¹‹å¿ƒäººçš†æœ‰ä¹‹ï¼çœ‹åˆ°åˆ«äººç‚«é…·çš„githubä¸»é¡µï¼Œéš¾é“ä¸å¿ƒåŠ¨å—ï¼Ÿ </p></blockquote><h1 id="å€Ÿä¸œé£"><a href="#å€Ÿä¸œé£" class="headerlink" title="å€Ÿä¸œé£"></a>å€Ÿä¸œé£</h1><blockquote><p>ä¼˜è´¨åšå®¢ï¼š<a href="https://juejin.cn/post/7127285527920771086">GitHubä¸»é¡µç¾åŒ–æ•™ç¨‹â€”â€”ä¸ä¸€æ ·çš„ä¸»é¡µï¼Œæ›´ç²¾å½©ğŸˆ</a></p><p>ç»å¤§éƒ¨åˆ†çš„æ­¥éª¤åœ¨ä¸Šé¢éƒ½æœ‰ï¼Œä½†æ˜¯ä½¿ç”¨èµ·æ¥è¿˜æ˜¯æœ‰ä¸€ç‚¹å›°éš¾</p></blockquote><h1 id="ç ´å›°éš¾"><a href="#ç ´å›°éš¾" class="headerlink" title="ç ´å›°éš¾"></a>ç ´å›°éš¾</h1><h2 id="Forkï¼ˆæ•´ä¸ªå¤åˆ¶åˆ«äººçš„é¡¹ç›®ï¼‰"><a href="#Forkï¼ˆæ•´ä¸ªå¤åˆ¶åˆ«äººçš„é¡¹ç›®ï¼‰" class="headerlink" title="Forkï¼ˆæ•´ä¸ªå¤åˆ¶åˆ«äººçš„é¡¹ç›®ï¼‰"></a>Forkï¼ˆæ•´ä¸ªå¤åˆ¶åˆ«äººçš„é¡¹ç›®ï¼‰</h2><blockquote><p>æœ€å¿«çš„åŠæ³•å°±æ˜¯forkåˆ«äººçš„é¡¹ç›®æ”¹å§æ”¹å§</p><p>æœ¬äººçš„ä»“åº“ï¼š<a href="https://github.com/Luozongwei/Luozongwei">github home page</a></p></blockquote><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023190800231.png" alt="image-20231023190800231"></p><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023190848772.png" alt="image-20231023190848772"></p><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023191238752.png" alt="image-20231023191238752"></p><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023191324152.png" alt="image-20231023191324152"></p><h2 id="ä¸¤å¤§éš¾ç‚¹"><a href="#ä¸¤å¤§éš¾ç‚¹" class="headerlink" title="ä¸¤å¤§éš¾ç‚¹"></a>ä¸¤å¤§éš¾ç‚¹</h2><ul><li>githubaå¾½ç« badgeåˆ¶ä½œ</li></ul><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023191431930.png" alt="image-20231023191431930"></p><ul><li>My Skill Set çš„åˆ¶ä½œ</li></ul><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023191504357.png" alt="image-20231023191504357"></p><h2 id="é€ä¸ªå‡»ç ´"><a href="#é€ä¸ªå‡»ç ´" class="headerlink" title="é€ä¸ªå‡»ç ´"></a>é€ä¸ªå‡»ç ´</h2><h3 id="shields"><a href="#shields" class="headerlink" title="shields"></a>shields</h3><blockquote><p>å®˜ç½‘ï¼š<a href="https://shields.io/">https://shields.io/</a></p></blockquote><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023191836330.png" alt="image-20231023191836330"></p><blockquote><p>æ¨èç›´æ¥å»ä½¿ç”¨åˆ«äººå†™å¥½çš„badge</p><p>ä¼˜è´¨badgeä»“åº“ï¼š<a href="https://github.com/Ileriayo/markdown-badges">GitHub - Ileriayo&#x2F;markdown-badges</a></p></blockquote><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023192239725.png" alt="image-20231023192239725"></p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">[![Spring](https://img.shields.io/badge/spring-%236DB33F.svg?style=for-the-badge&amp;logo=spring&amp;logoColor=white)](https://www.lzwgxust.top/)</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šè¦æŠŠä¸Šé¢å¤åˆ¶çš„æ”¾åœ¨ <code>[]</code>ä¸€ä¸ªä¸­æ‹¬å·é‡Œé¢ï¼Œåé¢çš„<code>(https://www.lzwgxust.top/)</code>åªæ˜¯ä¸ºäº†ç‚¹å‡»è·³è½¬è€Œå·²</p><p>æ³¨æ„ï¼šè¦æŠŠ<code>.md</code>æ–‡ä»¶é‡Œé¢æ‰€æœ‰çš„<code>Luozongwei</code>æ›¿æ¢æˆä½ <code>è‡ªå·±çš„ç”¨æˆ·å</code></p></blockquote><h3 id="My-Skill-Set"><a href="#My-Skill-Set" class="headerlink" title="My Skill Set"></a>My Skill Set</h3><blockquote><p>å¯ä»¥é€šè¿‡åœ¨çº¿çš„è‡ªåŠ¨åŒ–é…ç½®ç”Ÿæˆ README.md , æ„Ÿå…´è¶£çš„æ¥è¿™é‡Œ <a href="https://link.juejin.cn/?target=https://profilinator.rishav.dev/">profilinator</a></p></blockquote><p><img src="/2023/10/23/github%E7%BE%8E%E5%8C%96-%E4%B8%8D%E4%B8%80%E6%A0%B7%E7%9A%84%E4%B8%BB%E9%A1%B5-%E6%9B%B4%E7%B2%BE%E5%BD%A9%F0%9F%8E%88/image-20231023193416715.png" alt="image-20231023193416715"></p><blockquote><p>æœ€åå¤§åŠŸå‘Šæˆå•¦ï¼ŒæœŸå¾…ä½ çš„github Home!!!</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>project-02-è‹ç©¹å¤–å–</title>
      <link href="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/"/>
      <url>/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>é¡¹ç›®ç®€ä»‹ï¼šè¯¥é¡¹ç›®æ—¨åœ¨å®ç°å¾®ä¿¡å°ç¨‹åºç«¯ä¸Webç«¯ä¹‹é—´çš„å®æ—¶å¤–å–ç‚¹å•ä»˜æ¬¾åŒæ­¥ç³»ç»Ÿï¼Œä¸ºå®¢æˆ·æä¾›å¤šæ ·é€‰æ‹©ï¼Œä»è€Œæå‡ç”¨æˆ·ä½“éªŒçš„è´¨é‡</p><p>bç«™å­¦ä¹ ï¼š<a href="https://www.bilibili.com/video/BV1TP411v7v6/">https://www.bilibili.com/video/BV1TP411v7v6/</a></p><p>é¡¹ç›®ä»£ç ï¼š<a href="https://gitee.com/luozongwei/sky-take-out">https://gitee.com/luozongwei/sky-take-out</a></p><p>è¯¥é¡¹ç›®æ˜¯åˆæ¬¡ä½“éªŒå‰åç«¯åˆ†ç¦»é¡¹ç›®ï¼Œæ›´å¤šçš„æ˜¯åœ¨ç†è§£æ•´ä¸ªå‰åç«¯åˆ†ç¦»çš„æµç¨‹ï¼Œä»£ç å¯èƒ½æ˜¯æ¬¡è¦çš„</p></blockquote><h1 id="é¡¹ç›®ç‰¹è‰²"><a href="#é¡¹ç›®ç‰¹è‰²" class="headerlink" title="é¡¹ç›®ç‰¹è‰²"></a>é¡¹ç›®ç‰¹è‰²</h1><h2 id="nginx"><a href="#nginx" class="headerlink" title="nginx"></a>nginx</h2><blockquote><p>ä½¿ç”¨nginxå°†å‰ç«¯è®¿é—®è·¯å¾„ä¸åç«¯æœåŠ¡å™¨è¿›è¡Œæ˜ å°„ï¼Œ è´Ÿè½½å‡è¡¡</p></blockquote><blockquote><p>nginxå¤„ç†é™æ€èµ„æºæ¯”è¾ƒå¿«ï¼ŒåŠ¨æ€èµ„æºäº¤ç»™tomcat</p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231026191720671.png" alt="image-20231026191720671"></p><blockquote><p>nginx.confä¸­çš„åŸºæœ¬é…ç½®ï¼Œç”¨æˆ·ç«¯å’Œç®¡ç†ç«¯ä¸åŒçš„è¯·æ±‚ä¼šè¢«åå‘ä»£ç†åˆ°ä¸åŒ ip+port+uri </p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"># è®¾å®šè´Ÿè½½å‡è¡¡çš„æœåŠ¡å™¨åˆ—è¡¨</span><br><span class="line">upstream webservers&#123; </span><br><span class="line">    # weigthå‚æ•°è¡¨ç¤ºæƒå€¼ï¼Œæƒå€¼è¶Šé«˜è¢«åˆ†é…åˆ°çš„å‡ ç‡è¶Šå¤§</span><br><span class="line">        server <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">8080</span> weight=<span class="number">90</span> ;</span><br><span class="line">    #server <span class="number">127.0</span><span class="number">.0</span><span class="number">.1</span>:<span class="number">8088</span> weight=<span class="number">10</span> ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line">server &#123;</span><br><span class="line">    listen       <span class="number">80</span>;</span><br><span class="line">    server_name  localhost;</span><br><span class="line"></span><br><span class="line">    location / &#123;</span><br><span class="line">        root   html/sky;</span><br><span class="line">        index  index.html index.htm;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    # åå‘ä»£ç†,å¤„ç†ç®¡ç†ç«¯å‘é€çš„è¯·æ±‚</span><br><span class="line">        location /api/ &#123;</span><br><span class="line">        proxy_pass   http:<span class="comment">//localhost:8080/admin/;</span></span><br><span class="line">        #proxy_pass   http:<span class="comment">//webservers/admin/;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # åå‘ä»£ç†,å¤„ç†ç”¨æˆ·ç«¯å‘é€çš„è¯·æ±‚</span><br><span class="line">        location /user/ &#123;</span><br><span class="line">        proxy_pass   http:<span class="comment">//webservers/user/;</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    # WebSocket</span><br><span class="line">        location /ws/ &#123;</span><br><span class="line">        proxy_pass   http:<span class="comment">//webservers/ws/;</span></span><br><span class="line">        proxy_http_version <span class="number">1.1</span>;</span><br><span class="line">        proxy_read_timeout 3600s;</span><br><span class="line">        proxy_set_header Upgrade $http_upgrade;</span><br><span class="line">        proxy_set_header Connection <span class="string">&quot;$connection_upgrade&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="YApi-pro"><a href="#YApi-pro" class="headerlink" title="YApi.pro"></a>YApi.pro</h2><blockquote><p>ä½¿ç”¨YApi.proå¯¹å‰åç«¯æ¥å£è¿›è¡Œåˆ¶ä½œä¸ç®¡ç†</p><p>å®˜ç½‘ï¼š<a href="https://yapi.pro/">YApi Pro-é«˜æ•ˆã€æ˜“ç”¨ã€åŠŸèƒ½å¼ºå¤§çš„å¯è§†åŒ–æ¥å£ç®¡ç†å¹³å°</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029095357051.png" alt="image-20231029095357051"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029095534664.png" alt="image-20231029095534664"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029095755463.png" alt="image-20231029095755463"></p><h2 id="knife4j"><a href="#knife4j" class="headerlink" title="knife4j"></a>knife4j</h2><blockquote><p>é€šè¿‡knife4jå¯¹åç«¯å®ç°çš„ä¸šåŠ¡é€»è¾‘è¿›è¡Œæµ‹è¯•ï¼Œä¸å¿…é€šè¿‡å‰ç«¯è”è°ƒ</p><p>å®˜ç½‘ï¼š<a href="https://doc.xiaominfo.com/">Knife4j Â· é›†Swagger2åŠOpenAPI3ä¸ºä¸€ä½“çš„å¢å¼ºè§£å†³æ–¹æ¡ˆ</a></p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@EnableSwagger2WebMvc</span> <span class="comment">// æ”¾åœ¨Knife4jConfig p</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡knife4jç”Ÿæˆæ¥å£æ–‡æ¡£ åˆ†ä¸ºäº†ç®¡ç†ç«¯å’Œç”¨æˆ·ç«¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> Docket <span class="title function_">docket1</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">        .title(<span class="string">&quot;è‹ç©¹å¤–å–é¡¹ç›®æ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">        .version(<span class="string">&quot;2.0&quot;</span>)</span><br><span class="line">        .description(<span class="string">&quot;è‹ç©¹å¤–å–é¡¹ç›®æ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">        .build();</span><br><span class="line">    <span class="type">Docket</span> <span class="variable">docket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">        .groupName(<span class="string">&quot;ç®¡ç†ç«¯æ¥å£&quot;</span>)</span><br><span class="line">        .apiInfo(apiInfo)</span><br><span class="line">        .select()</span><br><span class="line">        .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.sky.controller.admin&quot;</span>))</span><br><span class="line">        .paths(PathSelectors.any())</span><br><span class="line">        .build();</span><br><span class="line">    <span class="keyword">return</span> docket;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Bean</span></span><br><span class="line"><span class="keyword">public</span> Docket <span class="title function_">docket2</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">ApiInfo</span> <span class="variable">apiInfo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ApiInfoBuilder</span>()</span><br><span class="line">        .title(<span class="string">&quot;è‹ç©¹å¤–å–é¡¹ç›®æ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">        .version(<span class="string">&quot;2.0&quot;</span>)</span><br><span class="line">        .description(<span class="string">&quot;è‹ç©¹å¤–å–é¡¹ç›®æ¥å£æ–‡æ¡£&quot;</span>)</span><br><span class="line">        .build();</span><br><span class="line">    <span class="type">Docket</span> <span class="variable">docket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Docket</span>(DocumentationType.SWAGGER_2)</span><br><span class="line">        .groupName(<span class="string">&quot;ç”¨æˆ·ç«¯æ¥å£&quot;</span>)</span><br><span class="line">        .apiInfo(apiInfo)</span><br><span class="line">        .select()</span><br><span class="line">        .apis(RequestHandlerSelectors.basePackage(<span class="string">&quot;com.sky.controller.user&quot;</span>))</span><br><span class="line">        .paths(PathSelectors.any())</span><br><span class="line">        .build();</span><br><span class="line">    <span class="keyword">return</span> docket;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å®˜ç½‘å®ä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Api(tags = &quot;é¦–é¡µæ¨¡å—&quot;)</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">IndexController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@ApiImplicitParam(name = &quot;name&quot;,value = &quot;å§“å&quot;,required = true)</span></span><br><span class="line">    <span class="meta">@ApiOperation(value = &quot;å‘å®¢äººé—®å¥½&quot;)</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/sayHi&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> ResponseEntity&lt;String&gt; <span class="title function_">sayHi</span><span class="params">(<span class="meta">@RequestParam(value = &quot;name&quot;)</span>String name)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> ResponseEntity.ok(<span class="string">&quot;Hi:&quot;</span>+name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="è‡ªå®šä¹‰æšä¸¾ã€æ³¨è§£ã€AOPã€åå°„ï¼Œå®ç°å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……åŠŸèƒ½"><a href="#è‡ªå®šä¹‰æšä¸¾ã€æ³¨è§£ã€AOPã€åå°„ï¼Œå®ç°å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……åŠŸèƒ½" class="headerlink" title="è‡ªå®šä¹‰æšä¸¾ã€æ³¨è§£ã€AOPã€åå°„ï¼Œå®ç°å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……åŠŸèƒ½"></a>è‡ªå®šä¹‰æšä¸¾ã€æ³¨è§£ã€AOPã€åå°„ï¼Œå®ç°å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……åŠŸèƒ½</h2><blockquote><p>ä¸šåŠ¡è¡¨ä¸­çš„å…¬å…±å­—æ®µ</p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029094645367.png" alt="image-20231029094645367"></p><ul><li>å®ç°æ€è·¯</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029100000767.png" alt="image-20231029100000767"></p><ul><li>ä»£ç å®ç°</li></ul><p>æ³¨è§£AutoFill</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@AnnotationName</span> AutoFill</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/10/1 15:35</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> è‡ªå®šä¹‰æ³¨è§£ï¼šç”¨äºæ ‡è¯†æŸä¸ªæ–¹æ³•éœ€è¦è¿›è¡ŒåŠŸèƒ½å­—æ®µè‡ªåŠ¨å¡«å……å¤„ç†</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> AutoFill &#123;</span><br><span class="line">    <span class="comment">// æ•°æ®åº“æ“ä½œç±»å‹ï¼šUPDATE INSERT</span></span><br><span class="line">    OperationType <span class="title function_">value</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æšä¸¾OperationType</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ•°æ®åº“æ“ä½œç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">OperationType</span> &#123;</span><br><span class="line">    <span class="comment">// æ›´æ–°æ“ä½œ</span></span><br><span class="line">    UPDATE,</span><br><span class="line">    <span class="comment">// æ’å…¥æ“ä½œ</span></span><br><span class="line">    INSERT</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>AOPåˆ‡é¢AutoFillAspect</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.aspect;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> AutoFillAspect</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/10/1 15:38</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> è‡ªå®šä¹‰åˆ‡é¢ï¼šå®ç°å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Aspect</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AutoFillAspect</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ‡å…¥ç‚¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Pointcut(&quot;execution(* com.sky.mapper.*.*(..)) &amp;&amp; @annotation(com.sky.annotation.AutoFill)&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">autoFillPointCut</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‰ç½®é€šçŸ¥ï¼šåœ¨é€šçŸ¥ä¸­è¿›è¡Œå…¬å…±å­—æ®µçš„èµ‹å€¼</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> joinPoint</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Before(&quot;autoFillPointCut()&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">autoFill</span><span class="params">(JoinPoint joinPoint)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å¼€å§‹è¿›è¡Œå…¬å…±å­—æ®µåœ¨è‡ªåŠ¨å¡«å……...&quot;</span>);</span><br><span class="line">        <span class="comment">// 1ã€è·å–åˆ°å½“å‰è¢«æ‹¦æˆªçš„æ–¹æ³•ä¸Šçš„æ•°æ®åº“æ“ä½œç±»å‹</span></span><br><span class="line">        <span class="type">MethodSignature</span> <span class="variable">signature</span> <span class="operator">=</span> (MethodSignature) joinPoint.getSignature();</span><br><span class="line">        <span class="type">AutoFill</span> <span class="variable">autoFill</span> <span class="operator">=</span> signature.getMethod().getAnnotation(AutoFill.class);</span><br><span class="line">        <span class="type">OperationType</span> <span class="variable">operationType</span> <span class="operator">=</span> autoFill.value();</span><br><span class="line">        <span class="comment">// 2ã€è·å–åˆ°å½“å‰è¢«æ‹¦æˆªçš„æ–¹æ³•çš„å‚æ•°--å®ä½“å¯¹è±¡</span></span><br><span class="line">        Object[] args = joinPoint.getArgs();</span><br><span class="line">        <span class="keyword">if</span> (args == <span class="literal">null</span> | args.length &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">entity</span> <span class="operator">=</span> args[<span class="number">0</span>];</span><br><span class="line">        <span class="comment">// 3ã€å‡†å¤‡èµ‹å€¼çš„æ•°æ®</span></span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">now</span> <span class="operator">=</span> LocalDateTime.now();</span><br><span class="line">        <span class="type">Long</span> <span class="variable">currentId</span> <span class="operator">=</span> BaseContext.getCurrentId();</span><br><span class="line">        <span class="comment">// 4ã€æ ¹æ®å½“å‰ä¸åŒçš„æ“ä½œç±»å‹ï¼Œä¸ºå¯¹åº”çš„å±æ€§é€šè¿‡åå°„æ¥èµ‹å€¼</span></span><br><span class="line">        <span class="keyword">if</span> (operationType == OperationType.INSERT) &#123;</span><br><span class="line">            <span class="comment">// ä¸º4ä¸ªå±æ€§èµ‹å€¼</span></span><br><span class="line">            <span class="type">Method</span> <span class="variable">setCreateTime</span> <span class="operator">=</span> entity.getClass().getDeclaredMethod(AutoFillConstant.SET_CREATE_TIME, LocalDateTime.class);</span><br><span class="line">            <span class="type">Method</span> <span class="variable">setCreateUser</span> <span class="operator">=</span> entity.getClass().getDeclaredMethod(AutoFillConstant.SET_CREATE_USER, Long.class);</span><br><span class="line">            <span class="type">Method</span> <span class="variable">setUpdateTime</span> <span class="operator">=</span> entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_TIME, LocalDateTime.class);</span><br><span class="line">            <span class="type">Method</span> <span class="variable">setUpdateUser</span> <span class="operator">=</span> entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_USER, Long.class);</span><br><span class="line">            setCreateTime.invoke(entity, now);</span><br><span class="line">            setCreateUser.invoke(entity, currentId);</span><br><span class="line">            setUpdateTime.invoke(entity, now);</span><br><span class="line">            setUpdateUser.invoke(entity, currentId);</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (operationType == OperationType.UPDATE) &#123;</span><br><span class="line">            <span class="comment">// ä¸º2ä¸ªå±æ€§èµ‹å€¼</span></span><br><span class="line">            <span class="type">Method</span> <span class="variable">setUpdateTime</span> <span class="operator">=</span> entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_TIME, LocalDateTime.class);</span><br><span class="line">            <span class="type">Method</span> <span class="variable">setUpdateUser</span> <span class="operator">=</span> entity.getClass().getDeclaredMethod(AutoFillConstant.SET_UPDATE_USER, Long.class);</span><br><span class="line">            setUpdateTime.invoke(entity, now);</span><br><span class="line">            setUpdateUser.invoke(entity, currentId);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 5ã€åœ¨å¯¹è±¡sqlè¯­å¥ä¸Šæ·»åŠ @AutoFillæ³¨è§£</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Mapper ä½¿ç”¨æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ–°å¢å‘˜å·¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Insert(&quot;insert into employee(name, username, password, phone, sex, id_number, create_time, update_time, create_user, update_user) &quot; +</span></span><br><span class="line"><span class="meta">        &quot;values&quot; +</span></span><br><span class="line"><span class="meta">        &quot;(#&#123;name&#125;,#&#123;username&#125;,#&#123;password&#125;,#&#123;phone&#125;,#&#123;sex&#125;,#&#123;idNumber&#125;,#&#123;createTime&#125;,#&#123;updateTime&#125;,#&#123;createUser&#125;,#&#123;updateUser&#125;)&quot;)</span></span><br><span class="line"><span class="meta">@AutoFill(value = OperationType.INSERT)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">insert</span><span class="params">(Employee employee)</span>; <span class="comment">// è¦ä¿è¯å®ä½“å¯¹è±¡æ”¾åœ¨ç¬¬ä¸€ä¸ªå‚æ•°çš„ä½ç½®</span></span><br><span class="line"></span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®ä¸»é”®åŠ¨æ€ä¿®æ”¹å±æ€§</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> employee</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@AutoFill(value = OperationType.UPDATE)</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">update</span><span class="params">(Employee employee)</span>;</span><br></pre></td></tr></table></figure><p>æä¾›ä¸€ä¸ªå¸¸é‡ç±»ï¼šAutoFillConstant</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.constant;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å…¬å…±å­—æ®µè‡ªåŠ¨å¡«å……ç›¸å…³å¸¸é‡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AutoFillConstant</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®ä½“ç±»ä¸­çš„æ–¹æ³•åç§°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SET_CREATE_TIME</span> <span class="operator">=</span> <span class="string">&quot;setCreateTime&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SET_UPDATE_TIME</span> <span class="operator">=</span> <span class="string">&quot;setUpdateTime&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SET_CREATE_USER</span> <span class="operator">=</span> <span class="string">&quot;setCreateUser&quot;</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">SET_UPDATE_USER</span> <span class="operator">=</span> <span class="string">&quot;setUpdateUser&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Redis"><a href="#Redis" class="headerlink" title="Redis"></a>Redis</h2><blockquote><p>ä½¿ç”¨Spring Data Rediså°†çƒ­ç‚¹æ•°æ®å­˜å‚¨åˆ°å†…å­˜ä¸­ï¼Œè¯»å†™æ€§èƒ½æé«˜ï¼ŒåŒæ—¶é€šè¿‡Spring Cacheæ³¨è§£çš„æ–¹å¼ç®€åŒ–ç¼“å­˜ä»£ç </p></blockquote><h3 id="Spring-Data-Redis"><a href="#Spring-Data-Redis" class="headerlink" title="Spring Data Redis"></a>Spring Data Redis</h3><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029105044049.png" alt="image-20231029105044049"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029105227767.png" alt="image-20231029105227767"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029110113823.png" alt="image-20231029110113823"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.config;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> RedisConfiguration</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/10/3 10:13</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> ä¸»è¦æ˜¯ä¸ºredisTemplateæ·»åŠ ä¸€ä¸ªåºåˆ—åŒ–å™¨</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RedisConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> RedisTemplate <span class="title function_">redisTemplate</span><span class="params">(RedisConnectionFactory redisConnectionFactory)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å¼€å§‹åˆ›å»ºredisæ¨¡æ¿å¯¹è±¡&quot;</span>);</span><br><span class="line">        <span class="type">RedisTemplate</span> <span class="variable">redisTemplate</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RedisTemplate</span>();</span><br><span class="line">        <span class="comment">// 1ã€è®¾ç½®redisçš„è¿æ¥å·¥å‚å¯¹è±¡</span></span><br><span class="line">        redisTemplate.setConnectionFactory(redisConnectionFactory);</span><br><span class="line">        <span class="comment">// 2ã€è®¾ç½®redis keyçš„åºåˆ—åŒ–å™¨ å­—ç¬¦ä¸²ç±»å‹çš„redisåºåˆ—åŒ–å™¨</span></span><br><span class="line">        redisTemplate.setKeySerializer(<span class="keyword">new</span> <span class="title class_">StringRedisSerializer</span>());</span><br><span class="line">        <span class="keyword">return</span> redisTemplate;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>åœ¨javaä¸­æ“ä½œredisä¸­çš„åŸºæœ¬æ•°æ®ç±»å‹ Stringã€Listã€Setã€ZSetã€Hash</p></blockquote><ul><li>String</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œredis å­—ç¬¦ä¸²ç±»å‹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// set get setex setnx</span></span><br><span class="line">    <span class="type">ValueOperations</span> <span class="variable">valueOperations</span> <span class="operator">=</span> redisTemplate.opsForValue();</span><br><span class="line">    valueOperations.set(<span class="string">&quot;city&quot;</span>, <span class="string">&quot;æ±Ÿè‹&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">city</span> <span class="operator">=</span> (String) valueOperations.get(<span class="string">&quot;city&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;city = &quot;</span> + city);</span><br><span class="line">    valueOperations.set(<span class="string">&quot;code&quot;</span>, <span class="number">2231</span>, <span class="number">3</span>, TimeUnit.MILLISECONDS);</span><br><span class="line">    valueOperations.setIfAbsent(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;josh&quot;</span>);</span><br><span class="line">    valueOperations.setIfAbsent(<span class="string">&quot;name&quot;</span>, <span class="string">&quot;lwsj&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Hash</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œredis hashç±»å‹çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testHash</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// hset hget hkeys hvals</span></span><br><span class="line">    <span class="type">HashOperations</span> <span class="variable">hashOperations</span> <span class="operator">=</span> redisTemplate.opsForHash();</span><br><span class="line">    hashOperations.put(<span class="string">&quot;100&quot;</span>, <span class="string">&quot;name&quot;</span>, <span class="string">&quot;josh&quot;</span>);</span><br><span class="line">    hashOperations.put(<span class="string">&quot;100&quot;</span>, <span class="string">&quot;age&quot;</span>, <span class="number">22</span>);</span><br><span class="line">    hashOperations.get(<span class="string">&quot;100&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br><span class="line">    <span class="type">Set</span> <span class="variable">keys</span> <span class="operator">=</span> hashOperations.keys(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">    System.out.println(keys);</span><br><span class="line">    <span class="type">List</span> <span class="variable">values</span> <span class="operator">=</span> hashOperations.values(<span class="string">&quot;100&quot;</span>);</span><br><span class="line">    System.out.println(values);</span><br><span class="line">    hashOperations.delete(<span class="string">&quot;100&quot;</span>, <span class="string">&quot;name&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>List</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œåˆ—è¡¨ç±»å‹çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testList</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// lpush lrange rpop llen</span></span><br><span class="line">    <span class="type">ListOperations</span> <span class="variable">listOperations</span> <span class="operator">=</span> redisTemplate.opsForList();</span><br><span class="line">    listOperations.leftPushAll(<span class="string">&quot;myList&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">    listOperations.leftPush(<span class="string">&quot;myList&quot;</span>, <span class="string">&quot;d&quot;</span>);</span><br><span class="line">    <span class="type">List</span> <span class="variable">myList</span> <span class="operator">=</span> listOperations.range(<span class="string">&quot;myList&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;myList = &quot;</span> + myList);</span><br><span class="line">    listOperations.rightPop(<span class="string">&quot;myList&quot;</span>);</span><br><span class="line">    <span class="type">Long</span> <span class="variable">size</span> <span class="operator">=</span> listOperations.size(<span class="string">&quot;myList&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;size = &quot;</span> + size);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Set</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œé›†åˆç±»å‹çš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testSet</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// sadd smenbers scard sinter sunion srem</span></span><br><span class="line">    <span class="type">SetOperations</span> <span class="variable">setOperations</span> <span class="operator">=</span> redisTemplate.opsForSet();</span><br><span class="line">    setOperations.add(<span class="string">&quot;set1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="string">&quot;d&quot;</span>);</span><br><span class="line">    setOperations.add(<span class="string">&quot;set2&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;x&quot;</span>, <span class="string">&quot;y&quot;</span>, <span class="string">&quot;a&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Set</span> <span class="variable">set1Members</span> <span class="operator">=</span> setOperations.members(<span class="string">&quot;set1&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;set1Members = &quot;</span> + set1Members);</span><br><span class="line"></span><br><span class="line">    <span class="type">Long</span> <span class="variable">set2Size</span> <span class="operator">=</span> setOperations.size(<span class="string">&quot;set2&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;set2Size = &quot;</span> + set2Size);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äº¤é›†</span></span><br><span class="line">    <span class="type">Set</span> <span class="variable">intersect</span> <span class="operator">=</span> setOperations.intersect(<span class="string">&quot;set1&quot;</span>, <span class="string">&quot;set2&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;intersect = &quot;</span> + intersect);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¹¶é›†</span></span><br><span class="line">    <span class="type">Set</span> <span class="variable">union</span> <span class="operator">=</span> setOperations.union(<span class="string">&quot;set1&quot;</span>, <span class="string">&quot;set2&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;union = &quot;</span> + union);</span><br><span class="line"></span><br><span class="line">    setOperations.remove(<span class="string">&quot;set1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>ZSet</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ“ä½œæœ‰åºé›†åˆçš„æ•°æ®</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testZset</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// zadd zrange zincrby zrem</span></span><br><span class="line">    <span class="type">ZSetOperations</span> <span class="variable">zSetOperations</span> <span class="operator">=</span> redisTemplate.opsForZSet();</span><br><span class="line"></span><br><span class="line">    zSetOperations.add(<span class="string">&quot;zset1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="number">10</span>);</span><br><span class="line">    zSetOperations.add(<span class="string">&quot;zset1&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="number">12</span>);</span><br><span class="line">    zSetOperations.add(<span class="string">&quot;zset1&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="number">5</span>);</span><br><span class="line"></span><br><span class="line">    <span class="type">Set</span> <span class="variable">zset1</span> <span class="operator">=</span> zSetOperations.range(<span class="string">&quot;zset1&quot;</span>, <span class="number">0</span>, -<span class="number">1</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;zset1 = &quot;</span> + zset1);</span><br><span class="line"></span><br><span class="line">    zSetOperations.incrementScore(<span class="string">&quot;zset1&quot;</span>, <span class="string">&quot;c&quot;</span>, <span class="number">10</span>);</span><br><span class="line"></span><br><span class="line">    zSetOperations.remove(<span class="string">&quot;zset1&quot;</span>, <span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>redisé€šç”¨å‘½ä»¤</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šç”¨å‘½ä»¤æ“ä½œ</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testCommon</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Set</span> <span class="variable">keys</span> <span class="operator">=</span> redisTemplate.keys(<span class="string">&quot;*&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;keys = &quot;</span> + keys);</span><br><span class="line"></span><br><span class="line">    <span class="type">Boolean</span> <span class="variable">name</span> <span class="operator">=</span> redisTemplate.hasKey(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    <span class="type">Boolean</span> <span class="variable">set1</span> <span class="operator">=</span> redisTemplate.hasKey(<span class="string">&quot;set1&quot;</span>);</span><br><span class="line">    <span class="keyword">for</span> (Object key : keys) &#123;</span><br><span class="line">        <span class="type">DataType</span> <span class="variable">type</span> <span class="operator">=</span> redisTemplate.type(key);</span><br><span class="line">        System.out.println(type.name());</span><br><span class="line">    &#125;</span><br><span class="line">    redisTemplate.delete(<span class="string">&quot;myList&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åº—é“ºè¥ä¸šçŠ¶æ€ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.controller.admin;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> ShopController</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/10/3 11:31</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController(&quot;adminShopController&quot;)</span> <span class="comment">// å¦‚æœShopCOntrolleré‡åçš„è¯ï¼Œéœ€è¦è®¾ç½®åˆ«å</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin/shop&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;åº—é“ºç›¸å…³æ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ShopController</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">KEY</span> <span class="operator">=</span> <span class="string">&quot;SHOP_STATUS&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line">    </span><br><span class="line">    <span class="meta">@PutMapping(&quot;/&#123;status&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;è®¾ç½®åº—é“ºçš„è¥ä¸šçŠ¶æ€&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">setStatus</span><span class="params">(<span class="meta">@PathVariable</span> Integer status)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;è®¾ç½®åº—é“ºçš„è¥ä¸šçŠ¶æ€ï¼š&#123;&#125;&quot;</span>, status == <span class="number">1</span> ? <span class="string">&quot;è¥ä¸šä¸­&quot;</span> : <span class="string">&quot;æ‰“çƒŠä¸­&quot;</span>);</span><br><span class="line">        redisTemplate.opsForValue().set(KEY, status);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/status&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;è·å–åº—é“ºçš„è¥ä¸šçŠ¶æ€&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;Integer&gt; <span class="title function_">getStatus</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">status</span> <span class="operator">=</span> (Integer) redisTemplate.opsForValue().get(KEY);</span><br><span class="line">        log.info(<span class="string">&quot;è·å–åº—é“ºçš„è¥ä¸šçŠ¶æ€: &#123;&#125;&quot;</span>, status == <span class="number">1</span> ? <span class="string">&quot;è¥ä¸šä¸­&quot;</span> : <span class="string">&quot;æ‰“çƒŠä¸­&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Result.success(status);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç”¨æˆ·ç«¯æŸ¥çœ‹èœå“åˆ†ç±»id</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.controller.user;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController(&quot;userDishController&quot;)</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user/dish&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;Cç«¯-èœå“æµè§ˆæ¥å£&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DishService dishService;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ ¹æ®åˆ†ç±»idæŸ¥è¯¢èœå“</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> categoryId</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@GetMapping(&quot;/list&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ ¹æ®åˆ†ç±»idæŸ¥è¯¢èœå“&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;List&lt;DishVO&gt;&gt; <span class="title function_">list</span><span class="params">(Long categoryId)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€æ„é€ redisä¸­çš„keyï¼Œ dish_id</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;dish_&quot;</span> + categoryId;</span><br><span class="line">        <span class="comment">// 2ã€æŸ¥è¯¢redisä¸­æ˜¯å¦å­˜åœ¨å¯¹åº”çš„èœå“æ•°æ®</span></span><br><span class="line">        List&lt;DishVO&gt; list = (List&lt;DishVO&gt;) redisTemplate.opsForValue().get(key);</span><br><span class="line">        <span class="comment">// 2ã€1 å¦‚æœå­˜åœ¨ï¼Œç›´æ¥è¿”å›ï¼Œæ— é¡»æŸ¥è¯¢æ•°æ®åº“</span></span><br><span class="line">        <span class="keyword">if</span> (list != <span class="literal">null</span> &amp;&amp; list.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">return</span> Result.success(list);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 2ã€2 å¦‚æœä¸å­˜åœ¨ï¼ŒæŸ¥è¯¢æ•°æ®åº“ï¼ŒåŒæ—¶å°†æŸ¥è¯¢åˆ°çš„æ•°æ®æ”¾å…¥redisä¸­</span></span><br><span class="line">        <span class="type">Dish</span> <span class="variable">dish</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dish</span>();</span><br><span class="line">        dish.setCategoryId(categoryId);</span><br><span class="line">        dish.setStatus(StatusConstant.ENABLE); <span class="comment">// æŸ¥è¯¢èµ·å”®ä¸­çš„èœå“</span></span><br><span class="line"></span><br><span class="line">        list = dishService.listWithFlavor(dish);</span><br><span class="line">        redisTemplate.opsForValue().set(key, list);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç®¡ç†ç«¯æ¸…é™¤redisç¼“å­˜</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029114203546.png" alt="image-20231029114203546"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.controller.admin;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="meta">@Api(tags = &quot;èœå“ç›¸å…³æ¥å£&quot;)</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/admin/dish&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DishController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> DishService dishService;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> RedisTemplate redisTemplate;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;æ–°å¢èœå“&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> DishDTO dishDTO)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;æ–°å¢èœå“ï¼š&#123;&#125;&quot;</span>, dishDTO);</span><br><span class="line">        dishService.saveWithFlavor(dishDTO);</span><br><span class="line">        <span class="comment">// æ¸…ç†redisç¼“å­˜æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> <span class="string">&quot;dish_&quot;</span> + dishDTO.getCategoryId();</span><br><span class="line">        cleanCache(key);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;èœå“æ‰¹é‡åˆ é™¤&quot;)</span> <span class="comment">// ç›´æ¥å°†redisä¸­æ‰€æœ‰çš„dish_*åˆ æ‰</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">delete</span><span class="params">(<span class="meta">@RequestParam</span> List&lt;Long&gt; ids)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;èœå“æ‰¹é‡åˆ é™¤ï¼Œ&#123;&#125;&quot;</span>, ids);</span><br><span class="line">        dishService.deleteBatch(ids);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„èœå“ç¼“å­˜æ•°æ®æ¸…ç†æ‰ï¼Œæ‰€æœ‰ä»¥dish_å¼€å¤´çš„key</span></span><br><span class="line">        cleanCache(<span class="string">&quot;dish_*&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PutMapping</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;ä¿®æ”¹èœå“&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result <span class="title function_">update</span><span class="params">(<span class="meta">@RequestBody</span> DishDTO dishDTO)</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;ä¿®æ”¹èœå“ï¼š&#123;&#125;&quot;</span>, dishDTO);</span><br><span class="line">        dishService.updateDishWithFlavor(dishDTO);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„èœå“ç¼“å­˜æ•°æ®æ¸…ç†æ‰ï¼Œæ‰€æœ‰ä»¥dish_å¼€å¤´çš„key</span></span><br><span class="line">        cleanCache(<span class="string">&quot;dish_*&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping(&quot;/status/&#123;status&#125;&quot;)</span></span><br><span class="line">    <span class="meta">@ApiOperation(&quot;èœå“èµ·å”®åœå”®&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> Result&lt;String&gt; <span class="title function_">startOrStop</span><span class="params">(<span class="meta">@PathVariable</span> Integer status, Long id)</span> &#123;</span><br><span class="line">        dishService.startOrStop(status, id);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å°†æ‰€æœ‰çš„èœå“ç¼“å­˜æ•°æ®æ¸…ç†æ‰ï¼Œæ‰€æœ‰ä»¥dish_å¼€å¤´çš„key</span></span><br><span class="line">        cleanCache(<span class="string">&quot;dish_*&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> Result.success();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">cleanCache</span><span class="params">(String pattern)</span> &#123;</span><br><span class="line">        <span class="type">Set</span> <span class="variable">keys</span> <span class="operator">=</span> redisTemplate.keys(pattern);</span><br><span class="line">        redisTemplate.delete(keys);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Spring-Cache"><a href="#Spring-Cache" class="headerlink" title="Spring Cache"></a>Spring Cache</h3><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029115548439.png" alt="image-20231029115548439"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029115840670.png" alt="image-20231029115840670"></p><ul><li>Spring Cache åŸºæœ¬ä½¿ç”¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.itheima.controller;</span><br><span class="line"></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/user&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserController</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@PostMapping</span></span><br><span class="line">    <span class="comment">// å¦‚æœä½¿ç”¨Spring Cacheç¼“å­˜æ•°æ®ï¼Œkeyçš„ç”Ÿæˆï¼šuserCache::#user.id</span></span><br><span class="line">    <span class="meta">@CachePut(cacheNames = &quot;userCache&quot;, key = &quot;#user.id&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">save</span><span class="params">(<span class="meta">@RequestBody</span> User user)</span> &#123;</span><br><span class="line">        userMapper.insert(user);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping</span></span><br><span class="line">    <span class="meta">@CacheEvict(cacheNames = &quot;userCache&quot;, key = &quot;#id&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        userMapper.deleteById(id);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@DeleteMapping(&quot;/delAll&quot;)</span></span><br><span class="line">    <span class="meta">@CacheEvict(cacheNames = &quot;userCache&quot;, allEntries = true)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">deleteAll</span><span class="params">()</span> &#123;</span><br><span class="line">        userMapper.deleteAll();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@GetMapping</span></span><br><span class="line">    <span class="comment">// Cacheable ä¼šå…ˆæŸ¥çœ‹ç¼“å­˜ä¸­æ˜¯å¦æœ‰æ•°æ®ï¼Œæ²¡æœ‰çš„è¯å»æ•°æ®åº“ä¸­æŸ¥ï¼ŒåŒæ—¶æŠŠæŸ¥è¯¢ç»“æœæ”¾å…¥åˆ°rediså½“ä¸­</span></span><br><span class="line">    <span class="meta">@Cacheable(cacheNames = &quot;userCache&quot;, key = &quot;#id&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">getById</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.getById(id);</span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®ç°æ€è·¯</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029122333276.png" alt="image-20231029122333276"></p><h2 id="HttpClientUtil"><a href="#HttpClientUtil" class="headerlink" title="HttpClientUtil"></a>HttpClientUtil</h2><blockquote><p>é€šè¿‡HttpClientUtilå·¥å…·ç±»å®ç°å¾®ä¿¡å°ç¨‹åºä¸Javaåç«¯ç»Ÿä¸€æ ‡è¯†openIdçš„åŠŸèƒ½</p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029123754605.png" alt="image-20231029123754605"></p><ul><li>å°è¯•ç‰›åˆ€</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.test;</span><br><span class="line"></span><br><span class="line"><span class="meta">@SpringBootTest</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpClientTest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testGET</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºhttpclientå¯¹ç°è±¡</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºè¯·æ±‚å¯¹è±¡</span></span><br><span class="line">        <span class="type">HttpGet</span> <span class="variable">httpGet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpGet</span>(<span class="string">&quot;http://localhost:8080/user/shop/status&quot;</span>);</span><br><span class="line">        <span class="comment">// 3ã€å‘é€è¯·æ±‚ï¼Œæ¥å—å“åº”ç»“æœ</span></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpGet);</span><br><span class="line">        <span class="comment">// 4ã€è·å–æœåŠ¡ç«¯è¿”å›çš„çŠ¶æ€ç  å’Œå®ä½“å¯¹è±¡</span></span><br><span class="line">        <span class="comment">// è·å–çŠ¶æ€ç </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">statusCode</span> <span class="operator">=</span> response.getStatusLine().getStatusCode();</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡ç«¯è¿”å›çš„çŠ¶æ€ç ä¸ºï¼š&quot;</span> + statusCode);</span><br><span class="line">        <span class="comment">// è·å–å®ä½“å¯¹è±¡</span></span><br><span class="line">        <span class="type">HttpEntity</span> <span class="variable">entity</span> <span class="operator">=</span> response.getEntity();</span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> EntityUtils.toString(entity);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡ç«¯è¿”å›çš„æ•°æ®ä¸ºï¼š&quot;</span>+body);</span><br><span class="line">        <span class="comment">// 5ã€å…³é—­èµ„æº</span></span><br><span class="line">        response.close();</span><br><span class="line">        httpClient.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testPost</span><span class="params">()</span> <span class="keyword">throws</span> JSONException, IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºhttpClientå¯¹è±¡</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºè¯·æ±‚æ–¹å¼</span></span><br><span class="line">        <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(<span class="string">&quot;http://localhost:8080/admin/employee/login&quot;</span>);</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        jsonObject.put(<span class="string">&quot;username&quot;</span>,<span class="string">&quot;admin&quot;</span>);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;password&quot;</span>,<span class="string">&quot;123456&quot;</span>);</span><br><span class="line">        <span class="type">StringEntity</span> <span class="variable">stringEntity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringEntity</span>(jsonObject.toString());</span><br><span class="line">        <span class="comment">// æŒ‡å®šè¯·æ±‚ç¼–ç æ–¹å¼</span></span><br><span class="line">        stringEntity.setContentEncoding(<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// æ•°æ®æ ¼å¼</span></span><br><span class="line">        stringEntity.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">        httpPost.setEntity(stringEntity);</span><br><span class="line">        <span class="comment">// 3ã€è§£æè¿”å›æ•°æ®</span></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpPost);</span><br><span class="line">        <span class="type">int</span> <span class="variable">statusCode</span> <span class="operator">=</span> response.getStatusLine().getStatusCode();</span><br><span class="line">        System.out.println(<span class="string">&quot;statusCode = &quot;</span> + statusCode);</span><br><span class="line">        <span class="type">HttpEntity</span> <span class="variable">entity</span> <span class="operator">=</span> response.getEntity();</span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> EntityUtils.toString(entity);</span><br><span class="line">        System.out.println(<span class="string">&quot;body = &quot;</span> + body);</span><br><span class="line">        <span class="comment">// 4ã€å…³é—­èµ„æº</span></span><br><span class="line">        response.close();</span><br><span class="line">        httpClient.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>HttpClientUtil</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.utils;</span><br><span class="line"><span class="comment">// Httpå·¥å…·ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HttpClientUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span>  <span class="type">int</span> <span class="variable">TIMEOUT_MSEC</span> <span class="operator">=</span> <span class="number">5</span> * <span class="number">1000</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€GETæ–¹å¼è¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramMap</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">doGet</span><span class="params">(String url,Map&lt;String,String&gt; paramMap)</span>&#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpclientå¯¹è±¡</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span>&#123;</span><br><span class="line">            <span class="type">URIBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URIBuilder</span>(url);</span><br><span class="line">            <span class="keyword">if</span>(paramMap != <span class="literal">null</span>)&#123;</span><br><span class="line">                <span class="keyword">for</span> (String key : paramMap.keySet()) &#123;</span><br><span class="line">                    builder.addParameter(key,paramMap.get(key));</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">URI</span> <span class="variable">uri</span> <span class="operator">=</span> builder.build();</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ›å»ºGETè¯·æ±‚</span></span><br><span class="line">            <span class="type">HttpGet</span> <span class="variable">httpGet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpGet</span>(uri);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//å‘é€è¯·æ±‚</span></span><br><span class="line">            response = httpClient.execute(httpGet);</span><br><span class="line"></span><br><span class="line">            <span class="comment">//åˆ¤æ–­å“åº”çŠ¶æ€</span></span><br><span class="line">            <span class="keyword">if</span>(response.getStatusLine().getStatusCode() == <span class="number">200</span>)&#123;</span><br><span class="line">                result = EntityUtils.toString(response.getEntity(),<span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">catch</span> (Exception e)&#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.close();</span><br><span class="line">                httpClient.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€POSTæ–¹å¼è¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramMap</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">doPost</span><span class="params">(String url, Map&lt;String, String&gt; paramMap)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpclientå¯¹è±¡</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resultString</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºHttp Postè¯·æ±‚</span></span><br><span class="line">            <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(url);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// åˆ›å»ºå‚æ•°åˆ—è¡¨</span></span><br><span class="line">            <span class="keyword">if</span> (paramMap != <span class="literal">null</span>) &#123;</span><br><span class="line">                List&lt;NameValuePair&gt; paramList = <span class="keyword">new</span> <span class="title class_">ArrayList</span>();</span><br><span class="line">                <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; param : paramMap.entrySet()) &#123;</span><br><span class="line">                    paramList.add(<span class="keyword">new</span> <span class="title class_">BasicNameValuePair</span>(param.getKey(), param.getValue()));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">// æ¨¡æ‹Ÿè¡¨å•</span></span><br><span class="line">                <span class="type">UrlEncodedFormEntity</span> <span class="variable">entity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">UrlEncodedFormEntity</span>(paramList);</span><br><span class="line">                httpPost.setEntity(entity);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            httpPost.setConfig(builderRequestConfig());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰§è¡Œhttpè¯·æ±‚</span></span><br><span class="line">            response = httpClient.execute(httpPost);</span><br><span class="line"></span><br><span class="line">            resultString = EntityUtils.toString(response.getEntity(), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultString;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€POSTæ–¹å¼è¯·æ±‚</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> paramMap</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> IOException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">doPost4Json</span><span class="params">(String url, Map&lt;String, String&gt; paramMap)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// åˆ›å»ºHttpclientå¯¹è±¡</span></span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> HttpClients.createDefault();</span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">resultString</span> <span class="operator">=</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// åˆ›å»ºHttp Postè¯·æ±‚</span></span><br><span class="line">            <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(url);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (paramMap != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">//æ„é€ jsonæ ¼å¼æ•°æ®</span></span><br><span class="line">                <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">                <span class="keyword">for</span> (Map.Entry&lt;String, String&gt; param : paramMap.entrySet()) &#123;</span><br><span class="line">                    jsonObject.put(param.getKey(),param.getValue());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="type">StringEntity</span> <span class="variable">entity</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringEntity</span>(jsonObject.toString(),<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="comment">//è®¾ç½®è¯·æ±‚ç¼–ç </span></span><br><span class="line">                entity.setContentEncoding(<span class="string">&quot;utf-8&quot;</span>);</span><br><span class="line">                <span class="comment">//è®¾ç½®æ•°æ®ç±»å‹</span></span><br><span class="line">                entity.setContentType(<span class="string">&quot;application/json&quot;</span>);</span><br><span class="line">                httpPost.setEntity(entity);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            httpPost.setConfig(builderRequestConfig());</span><br><span class="line"></span><br><span class="line">            <span class="comment">// æ‰§è¡Œhttpè¯·æ±‚</span></span><br><span class="line">            response = httpClient.execute(httpPost);</span><br><span class="line"></span><br><span class="line">            resultString = EntityUtils.toString(response.getEntity(), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            <span class="keyword">throw</span> e;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                response.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> resultString;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> RequestConfig <span class="title function_">builderRequestConfig</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> RequestConfig.custom()</span><br><span class="line">            .setConnectTimeout(TIMEOUT_MSEC)</span><br><span class="line">            .setConnectionRequestTimeout(TIMEOUT_MSEC)</span><br><span class="line">            .setSocketTimeout(TIMEOUT_MSEC).build();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¾®ä¿¡å°ç¨‹åº"><a href="#å¾®ä¿¡å°ç¨‹åº" class="headerlink" title="å¾®ä¿¡å°ç¨‹åº"></a>å¾®ä¿¡å°ç¨‹åº</h2><h3 id="å¾®ä¿¡å°ç¨‹åºç™»å½•æµç¨‹"><a href="#å¾®ä¿¡å°ç¨‹åºç™»å½•æµç¨‹" class="headerlink" title="å¾®ä¿¡å°ç¨‹åºç™»å½•æµç¨‹"></a>å¾®ä¿¡å°ç¨‹åºç™»å½•æµç¨‹</h3><blockquote><p>å®˜ç½‘ï¼š<a href="https://developers.weixin.qq.com/miniprogram/dev/framework/open-ability/login.html">å¼€æ”¾èƒ½åŠ› &#x2F; ç”¨æˆ·ä¿¡æ¯ &#x2F; å°ç¨‹åºç™»å½• (qq.com)</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029154923911.png" alt="image-20231029154923911"></p><blockquote><p>è¯·æ±‚è·¯å¾„ã€è¯·æ±‚å‚æ•°ã€è¿”å›æ•°æ®æ ¼å¼ï¼š<a href="https://developers.weixin.qq.com/miniprogram/dev/OpenApiDoc/user-login/code2Session.html">å°ç¨‹åºç™»å½• &#x2F; å°ç¨‹åºç™»å½• (qq.com)</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029155424936.png" alt="image-20231029155424936"></p><blockquote><p>æ³¨æ„ä¸Šé¢çš„æˆæƒç  js_codeåªèƒ½ä½¿ç”¨ä¸€æ¬¡å“ˆ~</p></blockquote><ul><li>application.yml + xxxProperties.java</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029163328700.png" alt="image-20231029163328700"></p><ul><li>å¾®ä¿¡ç™»å½•ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@PostMapping(&quot;/login&quot;)</span></span><br><span class="line"><span class="meta">@ApiOperation(&quot;å¾®ä¿¡ç™»å½•&quot;)</span></span><br><span class="line"><span class="keyword">public</span> Result&lt;UserLoginVO&gt; <span class="title function_">wxLogin</span><span class="params">(<span class="meta">@RequestBody</span> UserLoginDTO userLoginDTO)</span> &#123;</span><br><span class="line">    log.info(<span class="string">&quot;å¾®ä¿¡ç”¨æˆ·ç™»å½•ï¼š&#123;&#125;&quot;</span>, userLoginDTO.getCode());</span><br><span class="line">    <span class="comment">// 1ã€å¾®ä¿¡ç™»å½•</span></span><br><span class="line">    <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userService.wxLogin(userLoginDTO);</span><br><span class="line">    <span class="comment">// 2ã€ä¸ºå¾®ä¿¡ç”¨æˆ·ç”Ÿæˆjwtä»¤ç‰Œ</span></span><br><span class="line">    Map&lt;String, Object&gt; claims = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    claims.put(JwtClaimsConstant.USER_ID, user.getId());</span><br><span class="line">    <span class="type">String</span> <span class="variable">token</span> <span class="operator">=</span> JwtUtil.createJWT(jwtProperties.getUserSecretKey(), jwtProperties.getUserTtl(), claims);</span><br><span class="line">    <span class="comment">// 3ã€åˆ›å»ºuserLoginVOå¯¹è±¡</span></span><br><span class="line">    <span class="type">UserLoginVO</span> <span class="variable">userLoginVO</span> <span class="operator">=</span> UserLoginVO.builder()</span><br><span class="line">        .id(user.getId())</span><br><span class="line">        .openid(user.getOpenid())</span><br><span class="line">        .token(token)</span><br><span class="line">        .build();</span><br><span class="line">    <span class="keyword">return</span> Result.success(userLoginVO);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>UserServiceImpl</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.service.impl;</span><br><span class="line"></span><br><span class="line"><span class="meta">@Service</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">UserServiceImpl</span> <span class="keyword">implements</span> <span class="title class_">UserService</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¾®ä¿¡æœåŠ¡æ¥å£åœ°å€</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">WX_LOGIN</span> <span class="operator">=</span> <span class="string">&quot;https://api.weixin.qq.com/sns/jscode2session&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WeChatProperties weChatProperties;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> UserMapper userMapper;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> User <span class="title function_">wxLogin</span><span class="params">(UserLoginDTO userLoginDTO)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">openId</span> <span class="operator">=</span> getOpenId(userLoginDTO.getCode());</span><br><span class="line">        <span class="comment">// 2ã€åˆ¤æ–­openIdæ˜¯å¦ä¸ºç©ºï¼Œå¦‚æœä¸ºç©ºè¡¨ç¤ºç™»å½•å¤±è´¥ï¼ŒæŠ›å‡ºä¸šåŠ¡å¼‚å¸¸</span></span><br><span class="line">        <span class="keyword">if</span> (openId == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">LoginFailedException</span>(MessageConstant.LOGIN_FAILED);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 3ã€åˆ¤æ–­å½“å‰ç”¨æˆ·æ˜¯å¦ä¸ºæ–°ç”¨æˆ·</span></span><br><span class="line">        <span class="type">User</span> <span class="variable">user</span> <span class="operator">=</span> userMapper.getByOpenId(openId);</span><br><span class="line">        <span class="comment">// 4ã€å¦‚æœæ˜¯æ–°ç”¨æˆ·ï¼Œè‡ªåŠ¨å®Œæˆæ³¨å†Œ</span></span><br><span class="line">        <span class="keyword">if</span> (user == <span class="literal">null</span>) &#123;</span><br><span class="line">            user = User.builder()</span><br><span class="line">                    .openid(openId)</span><br><span class="line">                    .createTime(LocalDateTime.now())</span><br><span class="line">                    .build();</span><br><span class="line">            userMapper.insert(user);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// 5ã€è¿”å›è¿™ä¸ªç”¨æˆ·å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> user;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è°ƒç”¨å¾®ä¿¡æ¥å£æœåŠ¡ï¼Œè·å¾—å½“å‰å¾®ä¿¡ç”¨æˆ·çš„openid</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> code</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">getOpenId</span><span class="params">(String code)</span> &#123;</span><br><span class="line">        Map&lt;String, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;appid&quot;</span>, weChatProperties.getAppid());</span><br><span class="line">        map.put(<span class="string">&quot;secret&quot;</span>, weChatProperties.getSecret());</span><br><span class="line">        map.put(<span class="string">&quot;js_code&quot;</span>, code);</span><br><span class="line">        map.put(<span class="string">&quot;grant_type&quot;</span>, <span class="string">&quot;authorization_code&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> HttpClientUtil.doGet(WX_LOGIN, map);</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> JSON.parseObject(json);</span><br><span class="line">        <span class="type">String</span> <span class="variable">openId</span> <span class="operator">=</span> jsonObject.getString(<span class="string">&quot;openid&quot;</span>);</span><br><span class="line">        <span class="keyword">return</span> openId;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>JwtUtil ç”Ÿæˆtoken æˆ–è€… authentication</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.utils;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JwtUtil</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”Ÿæˆjwt</span></span><br><span class="line"><span class="comment">     * ä½¿ç”¨Hs256ç®—æ³•, ç§åŒ™ä½¿ç”¨å›ºå®šç§˜é’¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> secretKey jwtç§˜é’¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> ttlMillis jwtè¿‡æœŸæ—¶é—´(æ¯«ç§’)</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> claims    è®¾ç½®çš„ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> String <span class="title function_">createJWT</span><span class="params">(String secretKey, <span class="type">long</span> ttlMillis, Map&lt;String, Object&gt; claims)</span> &#123;</span><br><span class="line">        <span class="comment">// æŒ‡å®šç­¾åçš„æ—¶å€™ä½¿ç”¨çš„ç­¾åç®—æ³•ï¼Œä¹Ÿå°±æ˜¯headeré‚£éƒ¨åˆ†</span></span><br><span class="line">        <span class="type">SignatureAlgorithm</span> <span class="variable">signatureAlgorithm</span> <span class="operator">=</span> SignatureAlgorithm.HS256;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ç”ŸæˆJWTçš„æ—¶é—´</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">expMillis</span> <span class="operator">=</span> System.currentTimeMillis() + ttlMillis;</span><br><span class="line">        <span class="type">Date</span> <span class="variable">exp</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Date</span>(expMillis);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è®¾ç½®jwtçš„body</span></span><br><span class="line">        <span class="type">JwtBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> Jwts.builder()</span><br><span class="line">            <span class="comment">// å¦‚æœæœ‰ç§æœ‰å£°æ˜ï¼Œä¸€å®šè¦å…ˆè®¾ç½®è¿™ä¸ªè‡ªå·±åˆ›å»ºçš„ç§æœ‰çš„å£°æ˜ï¼Œè¿™ä¸ªæ˜¯ç»™builderçš„claimèµ‹å€¼ï¼Œä¸€æ—¦å†™åœ¨æ ‡å‡†çš„å£°æ˜èµ‹å€¼ä¹‹åï¼Œå°±æ˜¯è¦†ç›–äº†é‚£äº›æ ‡å‡†çš„å£°æ˜çš„</span></span><br><span class="line">            .setClaims(claims)</span><br><span class="line">            <span class="comment">// è®¾ç½®ç­¾åä½¿ç”¨çš„ç­¾åç®—æ³•å’Œç­¾åä½¿ç”¨çš„ç§˜é’¥</span></span><br><span class="line">            .signWith(signatureAlgorithm, secretKey.getBytes(StandardCharsets.UTF_8))</span><br><span class="line">            <span class="comment">// è®¾ç½®è¿‡æœŸæ—¶é—´</span></span><br><span class="line">            .setExpiration(exp);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> builder.compact();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Tokenè§£å¯†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> secretKey jwtç§˜é’¥ æ­¤ç§˜é’¥ä¸€å®šè¦ä¿ç•™å¥½åœ¨æœåŠ¡ç«¯, ä¸èƒ½æš´éœ²å‡ºå», å¦åˆ™signå°±å¯ä»¥è¢«ä¼ªé€ , å¦‚æœå¯¹æ¥å¤šä¸ªå®¢æˆ·ç«¯å»ºè®®æ”¹é€ æˆå¤šä¸ª</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> token     åŠ å¯†åçš„token</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Claims <span class="title function_">parseJWT</span><span class="params">(String secretKey, String token)</span> &#123;</span><br><span class="line">        <span class="comment">// å¾—åˆ°DefaultJwtParser</span></span><br><span class="line">        <span class="type">Claims</span> <span class="variable">claims</span> <span class="operator">=</span> Jwts.parser()</span><br><span class="line">            <span class="comment">// è®¾ç½®ç­¾åçš„ç§˜é’¥</span></span><br><span class="line">            .setSigningKey(secretKey.getBytes(StandardCharsets.UTF_8))</span><br><span class="line">            <span class="comment">// è®¾ç½®éœ€è¦è§£æçš„jwt</span></span><br><span class="line">            .parseClaimsJws(token).getBody();</span><br><span class="line">        <span class="keyword">return</span> claims;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¾®ä¿¡æ”¯ä»˜"><a href="#å¾®ä¿¡æ”¯ä»˜" class="headerlink" title="å¾®ä¿¡æ”¯ä»˜"></a>å¾®ä¿¡æ”¯ä»˜</h3><blockquote><p>å¯ä»¥è¯´æˆ‘ä»¬ç°åœ¨çš„ç”Ÿæ´»å·²ç»ç¦»ä¸å¼€å¾®ä¿¡æ”¯ä»˜å’Œæ”¯ä»˜å®æ”¯ä»˜å•¦ï¼</p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029173708070.png" alt="image-20231029173708070"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029173954728.png" alt="image-20231029173954728"></p><ul><li>å¾®ä¿¡å°ç¨‹åºæ”¯ä»˜æ—¶åºå›¾</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029174824886.png" alt="image-20231029174824886"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029175057147.png" alt="image-20231029175057147"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029175904696.png" alt="image-20231029175904696"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029180034101.png" alt="image-20231029180034101"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029180153491.png" alt="image-20231029180153491"></p><blockquote><p>JSAPIä¸‹å•ï¼š<a href="https://pay.weixin.qq.com/docs/merchant/products/jsapi-payment/introduction.html">äº§å“ä»‹ç» - JSAPIæ”¯ä»˜</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029180514919.png" alt="image-20231029180514919"></p><blockquote><p>å¾®ä¿¡å°ç¨‹åºè·³èµ·æ”¯ä»˜ï¼š<a href="https://pay.weixin.qq.com/docs/merchant/apis/mini-program-payment/mini-transfer-payment.html">å°ç¨‹åºè°ƒèµ·æ”¯ä»˜ - å°ç¨‹åºæ”¯ä»˜</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029202848491.png" alt="image-20231029202848491"></p><blockquote><p>è‡³äºcpolaræ€ä¹ˆç”¨å¯ä»¥çœ‹æˆ‘å¦å¤–ä¸€ç¯‡åšå®¢ï¼š<a href="https://www.lzwgxust.top/post/d36fddee.html">cpolarç®€æ˜“å®ç°å†…ç½‘ç©¿é€</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029204141200.png" alt="image-20231029204141200"></p><ul><li>WeChatPayUtil</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br><span class="line">176</span><br><span class="line">177</span><br><span class="line">178</span><br><span class="line">179</span><br><span class="line">180</span><br><span class="line">181</span><br><span class="line">182</span><br><span class="line">183</span><br><span class="line">184</span><br><span class="line">185</span><br><span class="line">186</span><br><span class="line">187</span><br><span class="line">188</span><br><span class="line">189</span><br><span class="line">190</span><br><span class="line">191</span><br><span class="line">192</span><br><span class="line">193</span><br><span class="line">194</span><br><span class="line">195</span><br><span class="line">196</span><br><span class="line">197</span><br><span class="line">198</span><br><span class="line">199</span><br><span class="line">200</span><br><span class="line">201</span><br><span class="line">202</span><br><span class="line">203</span><br><span class="line">204</span><br><span class="line">205</span><br><span class="line">206</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.utils;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å¾®ä¿¡æ”¯ä»˜å·¥å…·ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WeChatPayUtil</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å¾®ä¿¡æ”¯ä»˜ä¸‹å•æ¥å£åœ°å€</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">JSAPI</span> <span class="operator">=</span> <span class="string">&quot;https://api.mch.weixin.qq.com/v3/pay/transactions/jsapi&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç”³è¯·é€€æ¬¾æ¥å£åœ°å€</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">String</span> <span class="variable">REFUNDS</span> <span class="operator">=</span> <span class="string">&quot;https://api.mch.weixin.qq.com/v3/refund/domestic/refunds&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WeChatProperties weChatProperties;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è·å–è°ƒç”¨å¾®ä¿¡æ¥å£çš„å®¢æˆ·ç«¯å·¥å…·å¯¹è±¡</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> CloseableHttpClient <span class="title function_">getClient</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">PrivateKey</span> <span class="variable">merchantPrivateKey</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//merchantPrivateKeyå•†æˆ·APIç§é’¥ï¼Œå¦‚ä½•åŠ è½½å•†æˆ·APIç§é’¥è¯·çœ‹å¸¸è§é—®é¢˜</span></span><br><span class="line">            merchantPrivateKey = PemUtil.loadPrivateKey(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(weChatProperties.getPrivateKeyFilePath())));</span><br><span class="line">            <span class="comment">//åŠ è½½å¹³å°è¯ä¹¦æ–‡ä»¶</span></span><br><span class="line">            <span class="type">X509Certificate</span> <span class="variable">x509Certificate</span> <span class="operator">=</span> PemUtil.loadCertificate(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(weChatProperties.getWeChatPayCertFilePath())));</span><br><span class="line">            <span class="comment">//wechatPayCertificateså¾®ä¿¡æ”¯ä»˜å¹³å°è¯ä¹¦åˆ—è¡¨ã€‚ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨åé¢ç« èŠ‚æåˆ°çš„â€œå®šæ—¶æ›´æ–°å¹³å°è¯ä¹¦åŠŸèƒ½â€ï¼Œè€Œä¸éœ€è¦å…³å¿ƒå¹³å°è¯ä¹¦çš„æ¥é¾™å»è„‰</span></span><br><span class="line">            List&lt;X509Certificate&gt; wechatPayCertificates = Arrays.asList(x509Certificate);</span><br><span class="line"></span><br><span class="line">            <span class="type">WechatPayHttpClientBuilder</span> <span class="variable">builder</span> <span class="operator">=</span> WechatPayHttpClientBuilder.create()</span><br><span class="line">                .withMerchant(weChatProperties.getMchid(), weChatProperties.getMchSerialNo(), merchantPrivateKey)</span><br><span class="line">                .withWechatPay(wechatPayCertificates);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// é€šè¿‡WechatPayHttpClientBuilderæ„é€ çš„HttpClientï¼Œä¼šè‡ªåŠ¨çš„å¤„ç†ç­¾åå’ŒéªŒç­¾</span></span><br><span class="line">            <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> builder.build();</span><br><span class="line">            <span class="keyword">return</span> httpClient;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€postæ–¹å¼è¯·æ±‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> body</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">post</span><span class="params">(String url, String body)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> getClient();</span><br><span class="line"></span><br><span class="line">        <span class="type">HttpPost</span> <span class="variable">httpPost</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpPost</span>(url);</span><br><span class="line">        httpPost.addHeader(HttpHeaders.ACCEPT, ContentType.APPLICATION_JSON.toString());</span><br><span class="line">        httpPost.addHeader(HttpHeaders.CONTENT_TYPE, ContentType.APPLICATION_JSON.toString());</span><br><span class="line">        httpPost.addHeader(<span class="string">&quot;Wechatpay-Serial&quot;</span>, weChatProperties.getMchSerialNo());</span><br><span class="line">        httpPost.setEntity(<span class="keyword">new</span> <span class="title class_">StringEntity</span>(body, <span class="string">&quot;UTF-8&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpPost);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">bodyAsString</span> <span class="operator">=</span> EntityUtils.toString(response.getEntity());</span><br><span class="line">            <span class="keyword">return</span> bodyAsString;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            httpClient.close();</span><br><span class="line">            response.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å‘é€getæ–¹å¼è¯·æ±‚</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> url</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">get</span><span class="params">(String url)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">CloseableHttpClient</span> <span class="variable">httpClient</span> <span class="operator">=</span> getClient();</span><br><span class="line"></span><br><span class="line">        <span class="type">HttpGet</span> <span class="variable">httpGet</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">HttpGet</span>(url);</span><br><span class="line">        httpGet.addHeader(HttpHeaders.ACCEPT, ContentType.APPLICATION_JSON.toString());</span><br><span class="line">        httpGet.addHeader(HttpHeaders.CONTENT_TYPE, ContentType.APPLICATION_JSON.toString());</span><br><span class="line">        httpGet.addHeader(<span class="string">&quot;Wechatpay-Serial&quot;</span>, weChatProperties.getMchSerialNo());</span><br><span class="line"></span><br><span class="line">        <span class="type">CloseableHttpResponse</span> <span class="variable">response</span> <span class="operator">=</span> httpClient.execute(httpGet);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">bodyAsString</span> <span class="operator">=</span> EntityUtils.toString(response.getEntity());</span><br><span class="line">            <span class="keyword">return</span> bodyAsString;</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            httpClient.close();</span><br><span class="line">            response.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * jsapiä¸‹å•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orderNum    å•†æˆ·è®¢å•å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> total       æ€»é‡‘é¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> description å•†å“æè¿°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> openid      å¾®ä¿¡ç”¨æˆ·çš„openid</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">jsapi</span><span class="params">(String orderNum, BigDecimal total, String description, String openid)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        jsonObject.put(<span class="string">&quot;appid&quot;</span>, weChatProperties.getAppid());</span><br><span class="line">        jsonObject.put(<span class="string">&quot;mchid&quot;</span>, weChatProperties.getMchid());</span><br><span class="line">        jsonObject.put(<span class="string">&quot;description&quot;</span>, description);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;out_trade_no&quot;</span>, orderNum);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;notify_url&quot;</span>, weChatProperties.getNotifyUrl());</span><br><span class="line"></span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        amount.put(<span class="string">&quot;total&quot;</span>, total.multiply(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">100</span>)).setScale(<span class="number">2</span>, BigDecimal.ROUND_HALF_UP).intValue());</span><br><span class="line">        amount.put(<span class="string">&quot;currency&quot;</span>, <span class="string">&quot;CNY&quot;</span>);</span><br><span class="line"></span><br><span class="line">        jsonObject.put(<span class="string">&quot;amount&quot;</span>, amount);</span><br><span class="line"></span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">payer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        payer.put(<span class="string">&quot;openid&quot;</span>, openid);</span><br><span class="line"></span><br><span class="line">        jsonObject.put(<span class="string">&quot;payer&quot;</span>, payer);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> jsonObject.toJSONString();</span><br><span class="line">        <span class="keyword">return</span> post(JSAPI, body);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å°ç¨‹åºæ”¯ä»˜</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> orderNum    å•†æˆ·è®¢å•å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> total       é‡‘é¢ï¼Œå•ä½ å…ƒ</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> description å•†å“æè¿°</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> openid      å¾®ä¿¡ç”¨æˆ·çš„openid</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> JSONObject <span class="title function_">pay</span><span class="params">(String orderNum, BigDecimal total, String description, String openid)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//ç»Ÿä¸€ä¸‹å•ï¼Œç”Ÿæˆé¢„æ”¯ä»˜äº¤æ˜“å•</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">bodyAsString</span> <span class="operator">=</span> jsapi(orderNum, total, description, openid);</span><br><span class="line">        <span class="comment">//è§£æè¿”å›ç»“æœ</span></span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> JSON.parseObject(bodyAsString);</span><br><span class="line">        System.out.println(jsonObject);</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">prepayId</span> <span class="operator">=</span> jsonObject.getString(<span class="string">&quot;prepay_id&quot;</span>);</span><br><span class="line">        <span class="keyword">if</span> (prepayId != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">timeStamp</span> <span class="operator">=</span> String.valueOf(System.currentTimeMillis() / <span class="number">1000</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">nonceStr</span> <span class="operator">=</span> RandomStringUtils.randomNumeric(<span class="number">32</span>);</span><br><span class="line">            ArrayList&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">            list.add(weChatProperties.getAppid());</span><br><span class="line">            list.add(timeStamp);</span><br><span class="line">            list.add(nonceStr);</span><br><span class="line">            list.add(<span class="string">&quot;prepay_id=&quot;</span> + prepayId);</span><br><span class="line">            <span class="comment">//äºŒæ¬¡ç­¾åï¼Œè°ƒèµ·æ”¯ä»˜éœ€è¦é‡æ–°ç­¾å</span></span><br><span class="line">            <span class="type">StringBuilder</span> <span class="variable">stringBuilder</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">            <span class="keyword">for</span> (Object o : list) &#123;</span><br><span class="line">                stringBuilder.append(o).append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">signMessage</span> <span class="operator">=</span> stringBuilder.toString();</span><br><span class="line">            <span class="type">byte</span>[] message = signMessage.getBytes();</span><br><span class="line"></span><br><span class="line">            <span class="type">Signature</span> <span class="variable">signature</span> <span class="operator">=</span> Signature.getInstance(<span class="string">&quot;SHA256withRSA&quot;</span>);</span><br><span class="line">            signature.initSign(PemUtil.loadPrivateKey(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(weChatProperties.getPrivateKeyFilePath()))));</span><br><span class="line">            signature.update(message);</span><br><span class="line">            <span class="type">String</span> <span class="variable">packageSign</span> <span class="operator">=</span> Base64.getEncoder().encodeToString(signature.sign());</span><br><span class="line"></span><br><span class="line">            <span class="comment">//æ„é€ æ•°æ®ç»™å¾®ä¿¡å°ç¨‹åºï¼Œç”¨äºè°ƒèµ·å¾®ä¿¡æ”¯ä»˜</span></span><br><span class="line">            <span class="type">JSONObject</span> <span class="variable">jo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">            jo.put(<span class="string">&quot;timeStamp&quot;</span>, timeStamp);</span><br><span class="line">            jo.put(<span class="string">&quot;nonceStr&quot;</span>, nonceStr);</span><br><span class="line">            jo.put(<span class="string">&quot;package&quot;</span>, <span class="string">&quot;prepay_id=&quot;</span> + prepayId);</span><br><span class="line">            jo.put(<span class="string">&quot;signType&quot;</span>, <span class="string">&quot;RSA&quot;</span>);</span><br><span class="line">            jo.put(<span class="string">&quot;paySign&quot;</span>, packageSign);</span><br><span class="line"></span><br><span class="line">            <span class="keyword">return</span> jo;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> jsonObject;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç”³è¯·é€€æ¬¾</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> outTradeNo    å•†æˆ·è®¢å•å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> outRefundNo   å•†æˆ·é€€æ¬¾å•å·</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> refund        é€€æ¬¾é‡‘é¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> total         åŸè®¢å•é‡‘é¢</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">refund</span><span class="params">(String outTradeNo, String outRefundNo, BigDecimal refund, BigDecimal total)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        jsonObject.put(<span class="string">&quot;out_trade_no&quot;</span>, outTradeNo);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;out_refund_no&quot;</span>, outRefundNo);</span><br><span class="line"></span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">amount</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">JSONObject</span>();</span><br><span class="line">        amount.put(<span class="string">&quot;refund&quot;</span>, refund.multiply(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">100</span>)).setScale(<span class="number">2</span>, BigDecimal.ROUND_HALF_UP).intValue());</span><br><span class="line">        amount.put(<span class="string">&quot;total&quot;</span>, total.multiply(<span class="keyword">new</span> <span class="title class_">BigDecimal</span>(<span class="number">100</span>)).setScale(<span class="number">2</span>, BigDecimal.ROUND_HALF_UP).intValue());</span><br><span class="line">        amount.put(<span class="string">&quot;currency&quot;</span>, <span class="string">&quot;CNY&quot;</span>);</span><br><span class="line"></span><br><span class="line">        jsonObject.put(<span class="string">&quot;amount&quot;</span>, amount);</span><br><span class="line">        jsonObject.put(<span class="string">&quot;notify_url&quot;</span>, weChatProperties.getRefundNotifyUrl());</span><br><span class="line"></span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> jsonObject.toJSONString();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//è°ƒç”¨ç”³è¯·é€€æ¬¾æ¥å£</span></span><br><span class="line">        <span class="keyword">return</span> post(REFUNDS, body);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>PayNotifyController</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.controller.notify;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * æ”¯ä»˜å›è°ƒç›¸å…³æ¥å£</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@RestController</span></span><br><span class="line"><span class="meta">@RequestMapping(&quot;/notify&quot;)</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PayNotifyController</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderService orderService;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WeChatProperties weChatProperties;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ”¯ä»˜æˆåŠŸå›è°ƒ</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@RequestMapping(&quot;/paySuccess&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">paySuccessNotify</span><span class="params">(HttpServletRequest request, HttpServletResponse response)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="comment">//è¯»å–æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">body</span> <span class="operator">=</span> readData(request);</span><br><span class="line">        log.info(<span class="string">&quot;æ”¯ä»˜æˆåŠŸå›è°ƒï¼š&#123;&#125;&quot;</span>, body);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//æ•°æ®è§£å¯†</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">plainText</span> <span class="operator">=</span> decryptData(body);</span><br><span class="line">        log.info(<span class="string">&quot;è§£å¯†åçš„æ–‡æœ¬ï¼š&#123;&#125;&quot;</span>, plainText);</span><br><span class="line"></span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">jsonObject</span> <span class="operator">=</span> JSON.parseObject(plainText);</span><br><span class="line">        <span class="type">String</span> <span class="variable">outTradeNo</span> <span class="operator">=</span> jsonObject.getString(<span class="string">&quot;out_trade_no&quot;</span>);<span class="comment">//å•†æˆ·å¹³å°è®¢å•å·</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">transactionId</span> <span class="operator">=</span> jsonObject.getString(<span class="string">&quot;transaction_id&quot;</span>);<span class="comment">//å¾®ä¿¡æ”¯ä»˜äº¤æ˜“å·</span></span><br><span class="line"></span><br><span class="line">        log.info(<span class="string">&quot;å•†æˆ·å¹³å°è®¢å•å·ï¼š&#123;&#125;&quot;</span>, outTradeNo);</span><br><span class="line">        log.info(<span class="string">&quot;å¾®ä¿¡æ”¯ä»˜äº¤æ˜“å·ï¼š&#123;&#125;&quot;</span>, transactionId);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ä¸šåŠ¡å¤„ç†ï¼Œä¿®æ”¹è®¢å•çŠ¶æ€ã€æ¥å•æé†’</span></span><br><span class="line">        orderService.paySuccess(outTradeNo);</span><br><span class="line"></span><br><span class="line">        <span class="comment">//ç»™å¾®ä¿¡å“åº”</span></span><br><span class="line">        responseToWeixin(response);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯»å–æ•°æ®</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> request</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">readData</span><span class="params">(HttpServletRequest request)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">reader</span> <span class="operator">=</span> request.getReader();</span><br><span class="line">        <span class="type">StringBuilder</span> <span class="variable">result</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuilder</span>();</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> ((line = reader.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (result.length() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                result.append(<span class="string">&quot;\n&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            result.append(line);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result.toString();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ•°æ®è§£å¯†</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> body</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> Exception</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> String <span class="title function_">decryptData</span><span class="params">(String body)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">resultObject</span> <span class="operator">=</span> JSON.parseObject(body);</span><br><span class="line">        <span class="type">JSONObject</span> <span class="variable">resource</span> <span class="operator">=</span> resultObject.getJSONObject(<span class="string">&quot;resource&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">ciphertext</span> <span class="operator">=</span> resource.getString(<span class="string">&quot;ciphertext&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">nonce</span> <span class="operator">=</span> resource.getString(<span class="string">&quot;nonce&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">associatedData</span> <span class="operator">=</span> resource.getString(<span class="string">&quot;associated_data&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">AesUtil</span> <span class="variable">aesUtil</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AesUtil</span>(weChatProperties.getApiV3Key().getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        <span class="comment">//å¯†æ–‡è§£å¯†</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">plainText</span> <span class="operator">=</span> aesUtil.decryptToString(associatedData.getBytes(StandardCharsets.UTF_8),</span><br><span class="line">                                                   nonce.getBytes(StandardCharsets.UTF_8),</span><br><span class="line">                                                   ciphertext);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">return</span> plainText;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç»™å¾®ä¿¡å“åº”</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">responseToWeixin</span><span class="params">(HttpServletResponse response)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        response.setStatus(<span class="number">200</span>);</span><br><span class="line">        HashMap&lt;Object, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="string">&quot;code&quot;</span>, <span class="string">&quot;SUCCESS&quot;</span>);</span><br><span class="line">        map.put(<span class="string">&quot;message&quot;</span>, <span class="string">&quot;SUCCESS&quot;</span>);</span><br><span class="line">        response.setHeader(<span class="string">&quot;Content-type&quot;</span>, ContentType.APPLICATION_JSON.toString());</span><br><span class="line">        response.getOutputStream().write(JSONUtils.toJSONString(map).getBytes(StandardCharsets.UTF_8));</span><br><span class="line">        response.flushBuffer();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="å¦‚ä½•è§£å†³ç”¨æˆ·é‡å¤æäº¤è®¢å•è¿›è¡Œæ”¯ä»˜"><a href="#å¦‚ä½•è§£å†³ç”¨æˆ·é‡å¤æäº¤è®¢å•è¿›è¡Œæ”¯ä»˜" class="headerlink" title="å¦‚ä½•è§£å†³ç”¨æˆ·é‡å¤æäº¤è®¢å•è¿›è¡Œæ”¯ä»˜"></a>å¦‚ä½•è§£å†³ç”¨æˆ·é‡å¤æäº¤è®¢å•è¿›è¡Œæ”¯ä»˜</h3><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231113182548331.png" alt="image-20231113182548331"></p><p>æ”¯ä»˜æ¨¡å—é˜²æ­¢ç”¨æˆ·é‡å¤ä¸‹å•è´­ä¹°å¥—é¤åšå”¯ä¸€æ ‡è¯†è¿›è¡Œé˜²é‡å¤„ç†ï¼š</p><ul><li>ç”¨æˆ·ç‚¹å‡»è´­ç‰©è½¦æäº¤è®¢å•-&gt;å‘é€æ•°æ®åˆ°åç«¯è·å–è®¢å•æ•°æ®</li><li>åå°æ”¯ä»˜æœåŠ¡é€šè¿‡UUIDç”Ÿæˆå”¯ä¸€æ ‡è¯†å’Œå¥—é¤ä¿¡æ¯ä¸€èµ·å‘é€ç»™å‰ç«¯ï¼Œåœ¨æ­¤åŒæ—¶ä½¿ç”¨mapé›†åˆå­˜å…¥åå°ï¼ˆä½¿ç”¨ç”¨æˆ·idä½œä¸ºé”®ï¼Œæ¯ä¸ªç”¨æˆ·ä¹‹é—´æ•°æ®äº’ä¸å½±å“ï¼‰</li><li>ç”¨æˆ·ç‚¹å‡»æ”¯ä»˜ï¼Œå‘èµ·è®¢å•æ”¯ä»˜è¯·æ±‚ï¼Œä¸šåŠ¡å±‚ä¼šå°†å‰ç«¯å¸¦æ¥çš„å”¯ä¸€æ ‡è¯†ä¸åç«¯mapä¸­å­˜å‚¨çš„æ ‡è¯†è¿›è¡Œæ¯”è¾ƒ<ul><li>ç›¸åŒï¼šè¿›å…¥æ”¯ä»˜ç•Œé¢ï¼Œ<strong>åŒæ—¶æ¸…é™¤åå°å­˜å‚¨çš„å”¯ä¸€æ ‡è¯†</strong></li><li>ä¸åŒï¼šåˆ™æé†’ç”¨æˆ·è¯·å‹¿é‡å¤ä¸‹å•</li></ul></li></ul><h2 id="ä½¿ç”¨Spring-Task-cronè¡¨è¾¾å¼-WebSocketï¼Œå®ç°æ¥å•æé†’å’Œå®¢æˆ·å‚¬å•åŠŸèƒ½"><a href="#ä½¿ç”¨Spring-Task-cronè¡¨è¾¾å¼-WebSocketï¼Œå®ç°æ¥å•æé†’å’Œå®¢æˆ·å‚¬å•åŠŸèƒ½" class="headerlink" title="ä½¿ç”¨Spring Task cronè¡¨è¾¾å¼ + WebSocketï¼Œå®ç°æ¥å•æé†’å’Œå®¢æˆ·å‚¬å•åŠŸèƒ½"></a>ä½¿ç”¨Spring Task cronè¡¨è¾¾å¼ + WebSocketï¼Œå®ç°æ¥å•æé†’å’Œå®¢æˆ·å‚¬å•åŠŸèƒ½</h2><h3 id="Spring-Task"><a href="#Spring-Task" class="headerlink" title="Spring Task"></a>Spring Task</h3><blockquote><p>Spring Task æ˜¯Springæ¡†æ¶æä¾›çš„ä»»åŠ¡è°ƒåº¦å·¥å…·ï¼Œå¯ä»¥æŒ‰ç…§çº¦å®šçš„æ—¶é—´è‡ªåŠ¨æ‰§è¡ŒæŸä¸ªä»£ç é€»è¾‘</p></blockquote><ul><li>cron è¡¨è¾¾å¼</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029210455746.png" alt="image-20231029210455746"></p><blockquote><p>åœ¨çº¿çš„cronç”Ÿæˆå™¨ï¼š<a href="http://cron.ciding.cc/">Cron - åœ¨çº¿Cronè¡¨è¾¾å¼ç”Ÿæˆå™¨ (ciding.cc)</a></p></blockquote><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231029210831849.png" alt="image-20231029210831849"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.task;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> MyTask</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/10/5 17:48</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span> è‡ªå®šä¹‰å®šæ—¶ä»»åŠ¡ç±»</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@Slf4j</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyTask</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> OrderMapper orderMapper;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†è¶…æ—¶çš„è®¢å•æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Scheduled(cron = &quot;0 * * * * ?&quot;)</span> <span class="comment">// æ¯åˆ†é’Ÿæ‰§è¡Œä¸€æ¬¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processTimeOutOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å®šæ—¶å™¨å¤„ç†è¶…æ—¶è®¢å•ï¼š&#123;&#125;&quot;</span>, LocalDateTime.now());</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">time</span> <span class="operator">=</span> LocalDateTime.now().plusMinutes(-<span class="number">15</span>);</span><br><span class="line">        <span class="comment">// ordersListéƒ½æ˜¯ æœªæ”¯ä»˜çŠ¶æ€ ä¸”ä¸‹å•æ—¶é—´è¶…è¿‡15åˆ†é’Ÿçš„ è®¢å•</span></span><br><span class="line">        List&lt;Orders&gt; ordersList = orderMapper.getByStatusAndOrderTimeLT(Orders.PENDING_PAYMENT, time);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (ordersList != <span class="literal">null</span> &amp;&amp; ordersList.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Orders orders : ordersList) &#123;</span><br><span class="line">                orders.setStatus(Orders.CANCELLED);</span><br><span class="line">                orders.setCancelReason(<span class="string">&quot;è®¢å•è¶…æ—¶ï¼Œè‡ªåŠ¨å–æ¶ˆ&quot;</span>);</span><br><span class="line">                orders.setCancelTime(LocalDateTime.now());</span><br><span class="line">                orderMapper.update(orders);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¤„ç†ä¸€ç›´å¤„äºæ´¾é€ä¸­çš„è®¢å•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Scheduled(cron = &quot;0 0 1 * * ? &quot;)</span> <span class="comment">// æ¯å¤©å‡Œæ™¨1ç‚¹æ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">processDeliveryOrder</span><span class="params">()</span> &#123;</span><br><span class="line">        log.info(<span class="string">&quot;å®šæ—¶å™¨å¤„ç†æ´¾é€ä¸­çš„è®¢å•ï¼š&#123;&#125;&quot;</span>, LocalDateTime.now());</span><br><span class="line">        <span class="type">LocalDateTime</span> <span class="variable">time</span> <span class="operator">=</span> LocalDateTime.now().plusMinutes(-<span class="number">60</span>); <span class="comment">// è¿™ä¸ªè¡¨ç¤ºæ˜¨å¤©çš„0ç‚¹</span></span><br><span class="line">        List&lt;Orders&gt; ordersList = orderMapper.getByStatusAndOrderTimeLT(Orders.DELIVERY_IN_PROGRESS, time);</span><br><span class="line">        <span class="keyword">if</span> (ordersList != <span class="literal">null</span> &amp;&amp; ordersList.size() &gt; <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">for</span> (Orders orders : ordersList) &#123;</span><br><span class="line">                orders.setStatus(Orders.COMPLETED);</span><br><span class="line">                orderMapper.update(orders);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="WebSocket"><a href="#WebSocket" class="headerlink" title="WebSocket"></a>WebSocket</h3><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105105756106.png" alt="image-20231105105756106"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105105932174.png" alt="image-20231105105932174"></p><p>javaæœåŠ¡ç«¯ä½¿ç”¨websocket -æµ‹è¯•</p><ul><li>maven</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="tag">&lt;<span class="name">dependency</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">groupId</span>&gt;</span>org.springframework.boot<span class="tag">&lt;/<span class="name">groupId</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">artifactId</span>&gt;</span>spring-boot-starter-websocket<span class="tag">&lt;/<span class="name">artifactId</span>&gt;</span></span><br><span class="line"><span class="tag">&lt;/<span class="name">dependency</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>WebSocketServer</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.websocket;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * WebSocketæœåŠ¡</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="meta">@ServerEndpoint(&quot;/ws/&#123;sid&#125;&quot;)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSocketServer</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å­˜æ”¾ä¼šè¯å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Map&lt;String, Session&gt; sessionMap = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿æ¥å»ºç«‹æˆåŠŸè°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnOpen</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onOpen</span><span class="params">(Session session, <span class="meta">@PathParam(&quot;sid&quot;)</span> String sid)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯ï¼š&quot;</span> + sid + <span class="string">&quot;å»ºç«‹è¿æ¥&quot;</span>);</span><br><span class="line">        sessionMap.put(sid, session);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ”¶åˆ°å®¢æˆ·ç«¯æ¶ˆæ¯åè°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnMessage</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onMessage</span><span class="params">(String message, <span class="meta">@PathParam(&quot;sid&quot;)</span> String sid)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ”¶åˆ°æ¥è‡ªå®¢æˆ·ç«¯ï¼š&quot;</span> + sid + <span class="string">&quot;çš„ä¿¡æ¯:&quot;</span> + message);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¿æ¥å…³é—­è°ƒç”¨çš„æ–¹æ³•</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sid</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@OnClose</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">onClose</span><span class="params">(<span class="meta">@PathParam(&quot;sid&quot;)</span> String sid)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿æ¥æ–­å¼€:&quot;</span> + sid);</span><br><span class="line">        sessionMap.remove(sid);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * ç¾¤å‘</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> message</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendToAllClient</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        Collection&lt;Session&gt; sessions = sessionMap.values();</span><br><span class="line">        <span class="keyword">for</span> (Session session : sessions) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// æœåŠ¡å™¨å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯</span></span><br><span class="line">                session.getBasicRemote().sendText(message);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>WebSocketConfiguration</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.config;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Bean;</span><br><span class="line"><span class="keyword">import</span> org.springframework.context.annotation.Configuration;</span><br><span class="line"><span class="keyword">import</span> org.springframework.web.socket.server.standard.ServerEndpointExporter;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * WebSocketé…ç½®ç±»ï¼Œç”¨äºæ³¨å†ŒWebSocketçš„Bean</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="meta">@Configuration</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSocketConfiguration</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Bean</span></span><br><span class="line">    <span class="keyword">public</span> ServerEndpointExporter <span class="title function_">serverEndpointExporter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="keyword">new</span> <span class="title class_">ServerEndpointExporter</span>();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>WebSocketTask</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Component</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">WebSocketTask</span> &#123;</span><br><span class="line">    <span class="meta">@Autowired</span></span><br><span class="line">    <span class="keyword">private</span> WebSocketServer webSocketServer;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * é€šè¿‡WebSocketæ¯éš”5ç§’å‘å®¢æˆ·ç«¯å‘é€æ¶ˆæ¯</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="meta">@Scheduled(cron = &quot;0/5 * * * * ?&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sendMessageToClient</span><span class="params">()</span> &#123;</span><br><span class="line">        webSocketServer.sendToAllClient(<span class="string">&quot;è¿™æ˜¯æ¥è‡ªæœåŠ¡ç«¯çš„æ¶ˆæ¯ï¼š&quot;</span> + DateTimeFormatter.ofPattern(<span class="string">&quot;HH:mm:ss&quot;</span>).format(LocalDateTime.now()));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105113246840.png" alt="image-20231105113246840"></p><ul><li>æ¥å•æé†’</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€šè¿‡webSocketå‘å®¢æˆ·ç«¯æµè§ˆå™¨æ¨é€æ¶ˆæ¯ type orderId content</span></span><br><span class="line">Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>();</span><br><span class="line">map.put(<span class="string">&quot;type&quot;</span>, <span class="number">1</span>); <span class="comment">// 1è¡¨ç¤ºæ¥å•æé†’ï¼Œ2è¡¨ç¤ºå®¢æˆ·å‚¬å•</span></span><br><span class="line">map.put(<span class="string">&quot;orderId&quot;</span>, ordersDB.getId());</span><br><span class="line">map.put(<span class="string">&quot;content&quot;</span>, <span class="string">&quot;è®¢å•å·ï¼š&quot;</span> + outTradeNo);</span><br><span class="line"></span><br><span class="line"><span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JSON.toJSONString(map);</span><br><span class="line">webSocketServer.sendToAllClient(json);</span><br></pre></td></tr></table></figure><ul><li>å®¢æˆ·å‚¬å•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®¢æˆ·å‚¬å•</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> id</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">reminder</span><span class="params">(Long id)</span> &#123;</span><br><span class="line">    <span class="type">Orders</span> <span class="variable">ordersDB</span> <span class="operator">=</span> orderMapper.getById(id);</span><br><span class="line">    <span class="keyword">if</span> (ordersDB == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">OrderBusinessException</span>(MessageConstant.ORDER_NOT_FOUND);</span><br><span class="line">    &#125;</span><br><span class="line">    Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="string">&quot;type&quot;</span>, <span class="number">2</span>);</span><br><span class="line">    map.put(<span class="string">&quot;orderId&quot;</span>, id);</span><br><span class="line">    map.put(<span class="string">&quot;content&quot;</span>,<span class="string">&quot;è®¢å•å·ï¼š&quot;</span> + ordersDB.getNumber());</span><br><span class="line">    <span class="type">String</span> <span class="variable">json</span> <span class="operator">=</span> JSON.toJSONString(map);</span><br><span class="line">    webSocketServer.sendToAllClient(json);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Apache-ECharts-å‰ç«¯æŠ€æœ¯"><a href="#Apache-ECharts-å‰ç«¯æŠ€æœ¯" class="headerlink" title="Apache ECharts (å‰ç«¯æŠ€æœ¯)"></a>Apache ECharts (å‰ç«¯æŠ€æœ¯)</h2><blockquote><p>å®˜ç½‘ï¼š<a href="https://echarts.apache.org/zh/index.html">Apache ECharts</a></p></blockquote><h2 id="Apache-POI"><a href="#Apache-POI" class="headerlink" title="Apache POI"></a>Apache POI</h2><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105120915135.png" alt="image-20231105120915135"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105121129571.png" alt="image-20231105121129571"></p><ul><li>POITest</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.sky.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFRow;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFSheet;</span><br><span class="line"><span class="keyword">import</span> org.apache.poi.xssf.usermodel.XSSFWorkbook;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.io.*;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> POITest</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/10/6 17:44</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">POITest</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åˆ›å»ºä¸€ä¸ªExcelæ–‡ä»¶</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€åœ¨å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªExcelæ–‡ä»¶</span></span><br><span class="line">        <span class="type">XSSFWorkbook</span> <span class="variable">excel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>();</span><br><span class="line">        <span class="comment">// 2ã€åœ¨Excelæ–‡ä»¶ä¸­åˆ›å»ºä¸€ä¸ªSheeté¡µ</span></span><br><span class="line">        <span class="type">XSSFSheet</span> <span class="variable">sheet</span> <span class="operator">=</span> excel.createSheet(<span class="string">&quot;info&quot;</span>);</span><br><span class="line">        <span class="comment">// 3ã€åœ¨Sheetä¸­åˆ›å»ºè¡Œå¯¹è±¡ï¼Œrow numç¼–å·ä»0å¼€å§‹</span></span><br><span class="line">        <span class="type">XSSFRow</span> <span class="variable">row</span> <span class="operator">=</span> sheet.createRow(<span class="number">1</span>);</span><br><span class="line">        <span class="comment">// 4ã€åˆ›å»ºå•å…ƒæ ¼å¹¶ä¸”å†™å…¥æ–‡ä»¶å†…å®¹</span></span><br><span class="line">        row.createCell(<span class="number">1</span>).setCellValue(<span class="string">&quot;å§“å&quot;</span>);</span><br><span class="line">        row.createCell(<span class="number">2</span>).setCellValue(<span class="string">&quot;åŸå¸‚&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°è¡Œ</span></span><br><span class="line">        row = sheet.createRow(<span class="number">2</span>);</span><br><span class="line">        row.createCell(<span class="number">1</span>).setCellValue(<span class="string">&quot;lwsj&quot;</span>);</span><br><span class="line">        row.createCell(<span class="number">2</span>).setCellValue(<span class="string">&quot;åŒ—äº¬&quot;</span>);</span><br><span class="line"></span><br><span class="line">        row = sheet.createRow(<span class="number">3</span>);</span><br><span class="line">        row.createCell(<span class="number">1</span>).setCellValue(<span class="string">&quot;josh&quot;</span>);</span><br><span class="line">        row.createCell(<span class="number">2</span>).setCellValue(<span class="string">&quot;å—äº¬&quot;</span>);</span><br><span class="line">        <span class="comment">// 5ã€é€šè¿‡æ–‡ä»¶è¾“å‡ºæµå°†å†…å­˜ä¸­çš„Excelæ–‡ä»¶å†™å…¥åˆ°ç£ç›˜ä¸­</span></span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\info.xlsx&quot;</span>));</span><br><span class="line">        excel.write(fos);</span><br><span class="line">        <span class="comment">// 6ã€å…³é—­èµ„æº</span></span><br><span class="line">        fos.close();</span><br><span class="line">        excel.close();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * è¯»å–excelå†…å®¹</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€é€šè¿‡æ–‡ä»¶è¾“å…¥æµè¯»å–ç£ç›˜ä¸­çš„ä¸€ä¸ªexcelå¯¹è±¡</span></span><br><span class="line">        <span class="type">FileInputStream</span> <span class="variable">fis</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\info.xlsx&quot;</span>));</span><br><span class="line">        <span class="type">XSSFWorkbook</span> <span class="variable">excel</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>(fis);</span><br><span class="line">        <span class="comment">// 2ã€è¯»å–Excelæ–‡ä»¶ä¸­çš„ç¬¬ä¸€ä¸ªSheeté¡µ</span></span><br><span class="line">        <span class="type">XSSFSheet</span> <span class="variable">sheet</span> <span class="operator">=</span> excel.getSheetAt(<span class="number">0</span>);</span><br><span class="line">        <span class="comment">// 3ã€è·å–Sheetä¸­æœ€åä¸€è¡Œçš„è¡Œå·, æ˜¯æœ€åæœ‰æ•°æ®çš„ä¸€è¡Œçš„ä½ç½®</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">lastRowNum</span> <span class="operator">=</span> sheet.getLastRowNum();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= lastRowNum; i++) &#123;</span><br><span class="line">            <span class="comment">// è·å¾—æŸä¸€è¡Œ</span></span><br><span class="line">            <span class="type">XSSFRow</span> <span class="variable">row</span> <span class="operator">=</span> sheet.getRow(i);</span><br><span class="line">            <span class="comment">// è·å–å•å…ƒæ ¼å¯¹è±¡</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">cellValue1</span> <span class="operator">=</span> row.getCell(<span class="number">1</span>).getStringCellValue();</span><br><span class="line">            <span class="type">String</span> <span class="variable">cellValue2</span> <span class="operator">=</span> row.getCell(<span class="number">2</span>).getStringCellValue();</span><br><span class="line">            System.out.println(cellValue1 + <span class="string">&quot; &quot;</span> + cellValue2);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€å…³é—­èµ„æº</span></span><br><span class="line">        excel.close();</span><br><span class="line">        fis.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// write();</span></span><br><span class="line">            read();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>å¯¼å‡ºè¿è¥æ•°æ®ExcelæŠ¥è¡¨</li></ul><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105121808355.png" alt="image-20231105121808355"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105121930106.png" alt="image-20231105121930106"></p><p><img src="/2023/10/22/project-02-%E8%8B%8D%E7%A9%B9%E5%A4%96%E5%8D%96/image-20231105122105663.png" alt="image-20231105122105663"></p><ul><li>export</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å¯¼å‡ºè¿è¥æ•°æ®æŠ¥è¡¨</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> response</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="meta">@Transactional</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">exportBusinessDate</span><span class="params">(HttpServletResponse response)</span> &#123;</span><br><span class="line">    <span class="comment">// 1ã€æŸ¥è¯¢æ•°æ®åº“ï¼Œè·å–è¥ä¸šé¢æ•°æ®--æŸ¥è¯¢æœ€è¿‘30å¤©çš„è¿è¥æ•°æ®</span></span><br><span class="line">    <span class="type">LocalDate</span> <span class="variable">dateBegin</span> <span class="operator">=</span> LocalDate.now().minusDays(<span class="number">30</span>);</span><br><span class="line">    <span class="type">LocalDate</span> <span class="variable">dateEnd</span> <span class="operator">=</span> LocalDate.now().minusDays(<span class="number">1</span>);</span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">begin</span> <span class="operator">=</span> LocalDateTime.of(dateBegin, LocalTime.MIN);</span><br><span class="line">    <span class="type">LocalDateTime</span> <span class="variable">end</span> <span class="operator">=</span> LocalDateTime.of(dateEnd, LocalTime.MAX);</span><br><span class="line">    <span class="comment">// æŸ¥è¯¢æ¦‚è§ˆæ•°æ®</span></span><br><span class="line">    <span class="type">BusinessDataVO</span> <span class="variable">businessDataVO</span> <span class="operator">=</span> workspaceService.getBusinessData(begin, end);</span><br><span class="line">    <span class="comment">// 2ã€é€šè¿‡POIå°†æ•°æ®å†™å…¥åˆ°Excelæ–‡ä»¶ä¸­</span></span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="built_in">this</span>.getClass().getClassLoader().getResourceAsStream(<span class="string">&quot;template/è¿è¥æ•°æ®æŠ¥è¡¨æ¨¡æ¿.xlsx&quot;</span>);</span><br><span class="line">    <span class="type">XSSFWorkbook</span> <span class="variable">excel</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="type">ServletOutputStream</span> <span class="variable">sos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">// åŸºäºæ¨¡æ¿æ–‡ä»¶åˆ›å»ºä¸€ä¸ªæ–°çš„Excelæ–‡ä»¶</span></span><br><span class="line">        excel = <span class="keyword">new</span> <span class="title class_">XSSFWorkbook</span>(is);</span><br><span class="line">        <span class="comment">// è·å–è¡¨æ ¼æ–‡ä»¶çš„Sheeté¡µ</span></span><br><span class="line">        <span class="type">XSSFSheet</span> <span class="variable">sheet</span> <span class="operator">=</span> excel.getSheet(<span class="string">&quot;Sheet1&quot;</span>);</span><br><span class="line">        <span class="comment">// å¡«å……æ•°æ®--æ—¶é—´</span></span><br><span class="line">        sheet.getRow(<span class="number">1</span>).getCell(<span class="number">1</span>).setCellValue(<span class="string">&quot;æ—¶é—´ï¼š&quot;</span> + dateBegin + <span class="string">&quot;è‡³&quot;</span> + dateEnd);</span><br><span class="line">        <span class="comment">// è·å–ç¬¬4è¡Œ</span></span><br><span class="line">        <span class="type">XSSFRow</span> <span class="variable">row4</span> <span class="operator">=</span> sheet.getRow(<span class="number">3</span>);</span><br><span class="line">        row4.getCell(<span class="number">2</span>).setCellValue(businessDataVO.getTurnover());</span><br><span class="line">        row4.getCell(<span class="number">4</span>).setCellValue(businessDataVO.getOrderCompletionRate());</span><br><span class="line">        row4.getCell(<span class="number">6</span>).setCellValue(businessDataVO.getNewUsers());</span><br><span class="line">        <span class="comment">// è·å–ç¬¬5è¡Œ</span></span><br><span class="line">        <span class="type">XSSFRow</span> <span class="variable">row5</span> <span class="operator">=</span> sheet.getRow(<span class="number">4</span>);</span><br><span class="line">        row5.getCell(<span class="number">2</span>).setCellValue(businessDataVO.getValidOrderCount());</span><br><span class="line">        row5.getCell(<span class="number">4</span>).setCellValue(businessDataVO.getUnitPrice());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">30</span>; i++) &#123;</span><br><span class="line">            <span class="type">LocalDate</span> <span class="variable">date</span> <span class="operator">=</span> dateBegin.plusDays(i);</span><br><span class="line">            <span class="type">BusinessDataVO</span> <span class="variable">businessData</span> <span class="operator">=</span> workspaceService.getBusinessData(LocalDateTime.of(date, LocalTime.MIN),</span><br><span class="line">                                                                           LocalDateTime.of(date, LocalTime.MAX));</span><br><span class="line">            <span class="comment">// è·å–æŸä¸€è¡Œ</span></span><br><span class="line">            <span class="type">XSSFRow</span> <span class="variable">row</span> <span class="operator">=</span> sheet.getRow(i + <span class="number">7</span>);</span><br><span class="line">            row.getCell(<span class="number">1</span>).setCellValue(date.toString());</span><br><span class="line">            row.getCell(<span class="number">2</span>).setCellValue(businessData.getTurnover());</span><br><span class="line">            row.getCell(<span class="number">3</span>).setCellValue(businessData.getValidOrderCount());</span><br><span class="line">            row.getCell(<span class="number">4</span>).setCellValue(businessData.getOrderCompletionRate());</span><br><span class="line">            row.getCell(<span class="number">5</span>).setCellValue(businessData.getUnitPrice());</span><br><span class="line">            row.getCell(<span class="number">6</span>).setCellValue(businessData.getNewUsers());</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€é€šè¿‡è¾“å‡ºæµå°†Excelæ–‡ä»¶ä¸‹è½½åˆ°å®¢æˆ·ç«¯æµè§ˆå™¨</span></span><br><span class="line">        sos = response.getOutputStream();</span><br><span class="line">        excel.write(sos);</span><br><span class="line">        sos.close();</span><br><span class="line">        excel.close();</span><br><span class="line">        is.close();</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>project-01-ç‰©è”ç½‘ç¯å¢ƒæ£€æµ‹ç³»ç»Ÿ</title>
      <link href="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>é¡¹ç›®ç®€ä»‹ï¼šä¼ æ„Ÿå™¨é‡‡é›†ç¯å¢ƒæ•°æ®ï¼Œé€šè¿‡æ•°æ®æœåŠ¡ä¸­å¿ƒå¤„ç†ç¯å¢ƒå‚æ•°ï¼Œå¯¹é‡‡é›†ã€ç½‘ç»œã€å…¥åº“ã€æ—¥å¿—ã€é…ç½®ã€å¤‡ä»½åŠŸèƒ½çš„åˆ†ç¦»ï¼Œè¿›è€Œå®ç°å†œæ£šè®¾å¤‡çš„è‡ªåŠ¨æ§åˆ¶ï¼Œå®ç°æ™ºèƒ½ç›‘æ§ï¼Œé¿å…äººå·¥è¯¯æ“ä½œã€‚</p><p>é¡¹ç›®ä»£ç ï¼š<a href="https://gitee.com/luozongwei/IoT-Data-Center">https://gitee.com/luozongwei/IoT-Data-Center</a></p></blockquote><h1 id="æ•°æ®åˆ†æ"><a href="#æ•°æ®åˆ†æ" class="headerlink" title="æ•°æ®åˆ†æ"></a>æ•°æ®åˆ†æ</h1><p>éœ€è¦å¤„ç†çš„æ•°æ®æ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">100|101|2|16|1|3|57a491fc02|1|1516413763738</span><br><span class="line">100|101|2|16|1|3|57a891fc02|1|1516413764761</span><br><span class="line">100|101|2|16|1|3|57a491fc02|1|1516413765686</span><br><span class="line">100|101|2|256|1|3|001c03|1|1516413766708</span><br><span class="line">100|101|2|256|1|3|001c03|1|1516413767731</span><br><span class="line">100|101|2|16|1|3|57a492d002|1|1516413768756</span><br><span class="line">100|101|2|1280|1|3|02f801|1|1516413769787</span><br><span class="line">100|101|2|1280|1|3|02f801|1|1516413770702</span><br></pre></td></tr></table></figure><p>æ•°æ®è§£æï¼š</p><ol><li>å‘é€ç«¯id </li><li>æ ‘è“æ´¾ç³»ç»Ÿid</li><li>å®éªŒç®±åŒºåŸŸæ¨¡å—id(1-8) </li><li>æ¨¡å—ä¸Šä¼ æ„Ÿå™¨åœ°å€ <ul><li>16ï¼Œè¡¨ç¤ºæ¸©åº¦å’Œæ¹¿åº¦æ•°æ® </li><li>256ï¼Œè¡¨ç¤ºå…‰ç…§å¼ºåº¦æ•°æ® </li><li>1280ï¼Œè¡¨ç¤ºäºŒæ°§åŒ–ç¢³æ•°æ®</li></ul></li><li>ä¼ æ„Ÿå™¨ä¸ªæ•° </li><li>æŒ‡ä»¤æ ‡å· å¦‚æœæ˜¯3è¡¨ç¤ºéœ€è¦æ¥å—æ•°æ®ï¼Œå¦‚æœæ˜¯16è¡¨ç¤ºéœ€è¦å‘é€æ•°æ® </li><li>ç¯å¢ƒæ•°æ® </li><li>çŠ¶æ€æ ‡è¯† é»˜è®¤ä¸º1ï¼Œè¡¨ç¤ºæˆåŠŸ </li><li>é‡‡é›†æ—¶é—´</li></ol><p>ç‰¹åˆ«æ³¨æ„ï¼Œå…³äºä¸€è¡Œä¸­çš„ç¬¬7ä¸ªæ•°æ®éƒ¨åˆ†ï¼š</p><ul><li>å¦‚æœå½“å‰æ˜¯æ¸©åº¦å’Œæ¹¿åº¦çš„æ•°æ®ï¼Œåˆ™å‰ä¸¤ä¸ªå­—èŠ‚æ˜¯æ¸©åº¦ï¼Œä¸­é—´ä¸¤ä¸ªå­—èŠ‚æ˜¯æ¹¿ åº¦ï¼Œå‰©ä½™å­—èŠ‚ä¸ç”¨ç®¡ </li><li>å¦‚æœå½“å‰æ˜¯å…‰ç…§å¼ºåº¦çš„æ•°æ®ï¼Œåˆ™å‰ä¸¤ä¸ªå­—èŠ‚å°±æ˜¯æ•°æ®å€¼ï¼Œå‰©ä½™å­—èŠ‚ä¸ç”¨ç®¡ </li><li>å¦‚æœå½“å‰æ˜¯äºŒæ°§åŒ–ç¢³çš„æ•°æ®ï¼Œåˆ™å‰ä¸¤ä¸ªå­—èŠ‚å°±æ˜¯æ•°æ®å€¼ï¼Œå‰©ä½™å­—èŠ‚ä¸ç”¨ç®¡</li></ul><blockquote><p><font color="#d12920">æ³¨æ„ï¼Œä¸€ä¸ªå­—èŠ‚å¯ä»¥ç”±2ä¸ªåå…­è¿›åˆ¶è¡¨ç¤º ï¼ˆä¸€ä¸ªå­—èŠ‚8ä½ï¼Œä¸€ä¸ªåå…­è¿›åˆ¶4ä½ï¼‰</font></p></blockquote><p><img src="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/image-20231009192010142.png" alt="image-20231009192010142"></p><p>æŠŠåå…­è¿›åˆ¶çš„ç¯å¢ƒæ•°æ®ï¼Œè½¬ä¸ºåè¿›åˆ¶çš„æ•°æ®ä¹‹åï¼Œè¿˜éœ€è¦è¿›ä¸€æ­¥å¤„ç†ï¼šï¼ˆå…¬å¼æ— éœ€æ·±ç©¶ï¼Œç›´æ¥ç”¨å³å¯ï¼Œä¸“ä¸šäººå£«æä¾›ï¼‰</p><ul><li>å¦‚æœæ˜¯æ¸©åº¦æ•°æ®ï¼š(data*(0.00268127F))-46.85F</li><li>å¦‚æœæ˜¯æ¹¿åº¦æ•°æ®ï¼š(data*0.00190735F)-6 </li><li>å¦‚æœæ˜¯äºŒæ°§åŒ–ç¢³å’Œå…‰ç…§å¼ºåº¦ï¼Œç›´æ¥è½¬æ¢å¾—åˆ°çš„åè¿›åˆ¶æ•°æ®å°±å¯ä»¥è¡¨ç¤º</li></ul><h1 id="é¡¹ç›®ç‰¹è‰²"><a href="#é¡¹ç›®ç‰¹è‰²" class="headerlink" title="é¡¹ç›®ç‰¹è‰²"></a>é¡¹ç›®ç‰¹è‰²</h1><h2 id="SVNç‰ˆæœ¬æ§åˆ¶-â€“-gitç‰ˆæœ¬æ§åˆ¶"><a href="#SVNç‰ˆæœ¬æ§åˆ¶-â€“-gitç‰ˆæœ¬æ§åˆ¶" class="headerlink" title="SVNç‰ˆæœ¬æ§åˆ¶ â€“&gt; gitç‰ˆæœ¬æ§åˆ¶"></a>SVNç‰ˆæœ¬æ§åˆ¶ â€“&gt; gitç‰ˆæœ¬æ§åˆ¶</h2><blockquote><p>SVNå…·ä½“æ˜¯ä»€ä¹ˆï¼š<a href="https://www.lzwgxust.top/post/51ee138b.html">SVNè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</a></p><p>é¦–å…ˆä¸€å¼€å§‹ä½¿ç”¨SVNè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œæ„Ÿè§‰åˆ°å¦‚æœåªæ˜¯è‡ªå·±è¿›è¡Œç‰ˆæœ¬æ§åˆ¶çš„è¯è¿˜æŒºå¥½ç”¨çš„ï¼Œä½†æ˜¯å¤šäººç”¨èµ·æ¥çš„è¯svnçš„<strong>åˆå¹¶åˆ†æ”¯</strong>çœŸçš„æ˜¯ä¸€è¨€éš¾å°½ï¼Œè‹¦ä¸å ªè¨€ï¼ æ¯æ¬¡ä»branches åˆå¹¶åˆ° trunkçš„æ—¶å€™æ€»æ˜¯ä¼šå‡ºç°ä¸€äº›å°é—®é¢˜å‘œå‘œå‘œ~~</p><p><img src="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/image-20231009184310773.png" alt="image-20231009184310773"></p><p>ç”±äºé¡¹ç›®æ›´å¤šæ˜¯ä¸ªäººç‹¬ç«‹å¼€å‘æ‰€ä»¥å¹¶æ²¡æœ‰è®¾è®¡åˆ°æ›´å¤šçš„åˆå¹¶ã€å†²çªç­‰ç­‰é—®é¢˜</p><p>æœ‰äº†SVN&#x2F;gitè¿›è¡Œç‰ˆæœ¬æ§åˆ¶ï¼Œå½“æˆ‘ä»¬å‘ç°å½“å‰ç‰ˆæœ¬å¼€å‘é”™äº†æˆ–è€…æ˜¯æ„Ÿè§‰è¿˜ä¸å¦‚å‰é¢çš„ç‰ˆæœ¬çš„è¯ï¼Œå¯ä»¥å¾ˆæ–¹ä¾¿çš„è¿›è¡Œç‰ˆæœ¬å›é€€ã€‚</p><p>åŒæ—¶å¤šäººåˆä½œçš„æ—¶å€™ï¼Œå¯ä»¥å¼€ä¸åŒæƒé™çš„åˆ†æ”¯ï¼Œæˆ‘ä»¬åªéœ€è¦ä¸“æ³¨äºè‡ªå·±è®¾è®¡çš„æ¨¡å—</p></blockquote><h2 id="Mavené¡¹ç›®ä¾èµ–æ§åˆ¶"><a href="#Mavené¡¹ç›®ä¾èµ–æ§åˆ¶" class="headerlink" title="Mavené¡¹ç›®ä¾èµ–æ§åˆ¶"></a>Mavené¡¹ç›®ä¾èµ–æ§åˆ¶</h2><blockquote><p>idea  Mavenå¯ä»¥å¯¹é¡¹ç›®ä¸­å¤§é‡çš„ç¬¬ä¸‰æ–¹jaråŒ…è¿›è¡Œä¾èµ–ç®¡ç†</p><p>å¤§é‡çš„jaråŒ…å¯ä»¥åˆ°mavenä¸­å¤®ä»“åº“ä¸­ç›´æ¥å¤åˆ¶ä¾èµ–dependencyå³å¯ï¼Œideaä¼šè‡ªåŠ¨åˆ°ä¸­å¤®ä»“åº“ä¸‹è½½</p><p>åŒæ—¶å­çˆ¶é¡¹ç›®çš„ç»“æ„å¯ä»¥å‡å°‘é‡å¤å¯¼å…¥ä¾èµ–çš„è¿‡ç¨‹ä¾¿äºä¾èµ–ç®¡ç†</p></blockquote><p><img src="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/image-20231009193013078.png" alt="image-20231009193013078"></p><p>ä½¿ç”¨æŒ‡ä»¤çš„æ–¹å¼å°†é¡¹ç›®åŸæœ‰çš„æ¥å£jaråŒ… å¯¼å…¥è‡³æœ¬åœ°mavenä»“åº“å½“ä¸­ï¼š</p><figure class="highlight shell"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mvn install:install-file -DgroupId=com.briup.env -DartifactId=env-gather-base -Dversion=1.0-SNAPSHOT -Dpackaging=jar -Dfile=env-gather-base-1.0-SNAPSHOT.jar -DgeneratePom=true</span><br></pre></td></tr></table></figure><h2 id="åˆ†åŠŸèƒ½å¤„ç†"><a href="#åˆ†åŠŸèƒ½å¤„ç†" class="headerlink" title="åˆ†åŠŸèƒ½å¤„ç†"></a>åˆ†åŠŸèƒ½å¤„ç†</h2><p>å¤§çš„æ–¹é¢å°†é¡¹ç›®åˆ†ä¸ºä¸‰ä¸ªå­æ¨¡å—ï¼Œåˆ†åˆ«æ˜¯clientã€commonã€server å…¶ä¸­ï¼š</p><ul><li>client æŒ‰ç…§åŠŸèƒ½åˆ†å‡ºï¼šé‡‡é›†ã€clientç«¯ç½‘ç»œã€å¤‡ä»½</li><li>commonï¼šæ—¥å¿—ã€é…ç½®</li><li>server ï¼šserverç«¯ç½‘ç»œã€å…¥åº“</li></ul><p>åŠŸèƒ½åˆ†æï¼š</p><ul><li>é‡‡é›†ï¼šä¸»è¦å°†ä¼ æ„Ÿå™¨ç”Ÿæˆçš„æ•°æ®é‡‡é›†åˆ°javaç¨‹åºä¸­</li><li>clientç«¯ç½‘ç»œï¼šå°†å¤„ç†å¥½çš„æ•°æ®é€šè¿‡sendå‘é€ç»™serverç«¯</li><li>å¤‡ä»½ï¼šä¸»è¦é¿å…é‡å¤å‘é€æ•°æ®ï¼Œè®¡åˆ’åªå‘é€æ–°é‡‡é›†åˆ°çš„æ•°æ®ï¼ŒåŒæ—¶ä¿å­˜å¥½æ•°æ®ç”¨äºä¹‹åçš„æ•°æ®åˆ†æå’Œå±•ç¤º</li><li>æ—¥å¿—ï¼šæŒ‰ç…§ä¸åŒçš„è¾“å‡ºçº§åˆ«å°†ä¿¡æ¯ä¿å­˜èµ·æ¥ï¼ŒåŒæ—¶å°†æ—¥å¿—ä¿¡æ¯è¾“å‡ºåˆ°æ§åˆ¶å°å½“ä¸­</li><li>é…ç½®ï¼šå°†ä¸Šé¢å„ä¸ªåŠŸèƒ½çš„å¯¹è±¡åˆå§‹åŒ–çš„åŠŸèƒ½æŠ½ç¦»å‡ºæ¥ï¼ŒåŒæ—¶ä¿è¯æ¯ä¸ªæ¨¡å—è¯»å–config.xmlé…ç½®æ–‡ä»¶çš„æ—¶å€™è‡ªåŠ¨å°†é…ç½®æ–‡ä»¶ä¸­çš„æ•°æ®æ³¨å…¥åˆ°å¯¹åº”çš„å¯¹è±¡å±æ€§å€¼å½“ä¸­</li><li>serverç«¯ç½‘ç»œï¼šæ¥æ”¶åˆ°clientç«¯å‘é€è¿‡æ¥çš„æ•°æ®ï¼Œå°†æ•°æ®ååºåˆ—åŒ–åäº¤ç»™å…¥åº“åŠŸèƒ½</li><li>å…¥åº“ï¼šå°†æ•°æ®ä¿å­˜åˆ°æ•°æ®åº“å½“ä¸­ï¼ˆæŒ‰ç…§ä¸åŒæ—¶é—´å­˜æ”¾åˆ°ä¸åŒçš„è¡¨å½“ä¸­ï¼Œä¸€å…±æœ‰31å¼ è¡¨ï¼‰</li></ul><h2 id="ç¬¬ä¸‰æ–¹jaråŒ…"><a href="#ç¬¬ä¸‰æ–¹jaråŒ…" class="headerlink" title="ç¬¬ä¸‰æ–¹jaråŒ…"></a>ç¬¬ä¸‰æ–¹jaråŒ…</h2><ul><li>log4jï¼šå¢å¼ºæ—¥å¿—åŠŸèƒ½</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># OFF FATAL ERROR WARN INFO DEBUG TRACE ALL</span></span><br><span class="line"><span class="attr">log4j.rootLogger</span> = <span class="string">debug,stdout,D,E</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### è¾“å‡ºä¿¡æ¯åˆ°æ§åˆ¶æŠ¬ ###</span></span><br><span class="line"><span class="attr">log4j.appender.stdout</span> = <span class="string">org.apache.log4j.ConsoleAppender</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.Target</span> = <span class="string">System.out</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.stdout.layout.ConversionPattern</span> = <span class="string">[%-5p] %d&#123;yyyy-MM-dd HH:mm:ss,SSS&#125; method:%l%n%m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### è¾“å‡ºDEBUG çº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°=/home/hao/Desktop/error.log ###</span></span><br><span class="line"><span class="attr">log4j.appender.D</span> = <span class="string">org.apache.log4j.DailyRollingFileAppender</span></span><br><span class="line"><span class="attr">log4j.appender.D.File</span> = <span class="string">debug.log</span></span><br><span class="line"><span class="attr">log4j.appender.D.Append</span> = <span class="string">true</span></span><br><span class="line"><span class="attr">log4j.appender.D.Threshold</span> = <span class="string">DEBUG</span></span><br><span class="line"><span class="attr">log4j.appender.D.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.D.layout.ConversionPattern</span> = <span class="string">%-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span></span><br><span class="line"><span class="comment"></span></span><br><span class="line"><span class="comment">### è¾“å‡ºERROR çº§åˆ«ä»¥ä¸Šçš„æ—¥å¿—åˆ°=/home/hao/Desktop/error.log ###</span></span><br><span class="line"><span class="attr">log4j.appender.E</span> = <span class="string">org.apache.log4j.DailyRollingFileAppender</span></span><br><span class="line"><span class="attr">log4j.appender.E.File</span> = <span class="string">error.log</span></span><br><span class="line"><span class="attr">log4j.appender.E.Append</span> = <span class="string">true</span></span><br><span class="line"><span class="attr">log4j.appender.E.Threshold</span> = <span class="string">ERROR</span></span><br><span class="line"><span class="attr">log4j.appender.E.layout</span> = <span class="string">org.apache.log4j.PatternLayout</span></span><br><span class="line"><span class="attr">log4j.appender.E.layout.ConversionPattern</span> = <span class="string">%-d&#123;yyyy-MM-dd HH:mm:ss&#125;  [ %t:%r ] - [ %p ]  %m%n</span></span><br></pre></td></tr></table></figure><ul><li>druidï¼šè¿æ¥æ± </li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/envir?serverTimezone=Asia/Shanghai&amp;useServerPrepStmts=true</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">lwsj</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">xxxxxx</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–è¿æ¥æ•°é‡</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">5</span></span><br><span class="line"><span class="comment"># æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">10</span></span><br><span class="line"><span class="comment"># æœ€å¤§ç­‰å¾…æ—¶é—´</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">3000</span></span><br></pre></td></tr></table></figure><ul><li>dom4jï¼šè¯»å–.xmlé…ç½®æ–‡ä»¶</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨dom4jï¼Œè¯»å–xmlæ–‡ä»¶å†…å®¹ï¼Œè¯»åˆ°æƒé™ç±»åï¼Œè¾“å‡º</span></span><br><span class="line"><span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line">document = saxReader.read(resource);</span><br><span class="line">parse(document); <span class="comment">// parseåœ¨ä¸‹é¢ä»‹ç»</span></span><br></pre></td></tr></table></figure><h2 id="ConfigurationImpl"><a href="#ConfigurationImpl" class="headerlink" title="ConfigurationImpl"></a>ConfigurationImpl</h2><ul><li>config.xml</li></ul><figure class="highlight xml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">&lt;?xml version=<span class="string">&quot;1.0&quot;</span> encoding=<span class="string">&quot;UTF-8&quot;</span>?&gt;</span></span><br><span class="line"><span class="comment">&lt;!--æ³¨:ä¸‰çº§æ ‡ç­¾åä¸è¦ç›¸åŒ--&gt;</span></span><br><span class="line"><span class="tag">&lt;<span class="name">environment</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;<span class="name">logger</span> <span class="attr">class</span>=<span class="string">&quot;com.briup.env.util.LogImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">logger</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">backup</span> <span class="attr">class</span>=<span class="string">&quot;com.briup.env.util.BackupImpl&quot;</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">backup</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">server</span> <span class="attr">class</span>=<span class="string">&quot;com.briup.server.ServerImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">server-port</span>&gt;</span>9000<span class="tag">&lt;/<span class="name">server-port</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">core-pool-size</span>&gt;</span>5<span class="tag">&lt;/<span class="name">core-pool-size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">maxinum-pool-size</span>&gt;</span>10<span class="tag">&lt;/<span class="name">maxinum-pool-size</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">keep-alive-time</span>&gt;</span>2000<span class="tag">&lt;/<span class="name">keep-alive-time</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">server</span>&gt;</span></span><br><span class="line"></span><br><span class="line">    <span class="tag">&lt;<span class="name">dbStore</span> <span class="attr">class</span>=<span class="string">&quot;com.briup.server.DBStoreImpl&quot;</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">db-backup-file-path</span>&gt;</span>server/src/main/resources/db-backup<span class="tag">&lt;/<span class="name">db-backup-file-path</span>&gt;</span></span><br><span class="line">        <span class="tag">&lt;<span class="name">batch-size</span>&gt;</span>5000<span class="tag">&lt;/<span class="name">batch-size</span>&gt;</span></span><br><span class="line">    <span class="tag">&lt;/<span class="name">dbStore</span>&gt;</span></span><br><span class="line"></span><br><span class="line"><span class="tag">&lt;/<span class="name">environment</span>&gt;</span></span><br></pre></td></tr></table></figure><ul><li>ConfigurationImpl.java</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å‡†å¤‡ä¸€ä¸ªmapé›†åˆ</span></span><br><span class="line">Map&lt;String, Object&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="title function_">ConfigurationImpl</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// æ‰€æœ‰çš„ä¸»é€»è¾‘ï¼Œéƒ½åœ¨æ„é€ å™¨é‡Œå†™</span></span><br><span class="line">    <span class="comment">// ä½¿ç”¨dom4jï¼Œè¯»å–xmlæ–‡ä»¶å†…å®¹ï¼Œè¯»åˆ°æƒé™ç±»åï¼Œè¾“å‡º</span></span><br><span class="line">    <span class="type">SAXReader</span> <span class="variable">saxReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SAXReader</span>();</span><br><span class="line">    <span class="type">InputStream</span> <span class="variable">resource</span> <span class="operator">=</span> ConfigurationImpl.class.getClassLoader().getResourceAsStream(<span class="string">&quot;config.xml&quot;</span>);</span><br><span class="line">    <span class="type">Document</span> <span class="variable">document</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        document = saxReader.read(resource);</span><br><span class="line">        parse(document);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (DocumentException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">parse</span><span class="params">(Document document)</span> &#123;</span><br><span class="line">    <span class="type">Element</span> <span class="variable">root</span> <span class="operator">=</span> document.getRootElement();</span><br><span class="line">    List&lt;Element&gt; elements = root.elements();</span><br><span class="line">    <span class="keyword">for</span> (Element element : elements) &#123;</span><br><span class="line">        <span class="comment">// 1ã€å¾—åˆ°æ¯ä¸€ä¸ªå­èŠ‚ç‚¹ä¸­ classå±æ€§å€¼</span></span><br><span class="line">        <span class="type">Attribute</span> <span class="variable">aClass</span> <span class="operator">=</span> element.attribute(<span class="string">&quot;class&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">classPath</span> <span class="operator">=</span> aClass.getText();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 2ã€é€šè¿‡åå°„åˆ›å»ºéƒ½å¯¹è±¡</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Class&lt;?&gt; aClass1 = Class.forName(classPath);</span><br><span class="line">            Constructor&lt;?&gt; constructor = aClass1.getDeclaredConstructor(<span class="literal">null</span>);</span><br><span class="line">            o = constructor.newInstance();</span><br><span class="line">            <span class="comment">// 3ã€åˆ¤æ–­æ˜¯å¦å®ç°äº†PropertiesAware åŒæ—¶ åˆ¤æ–­æ˜¯å¦æœ‰properties</span></span><br><span class="line">            <span class="comment">// æœ‰çš„è¯å°† æ¯ä¸ªäºŒçº§å­èŠ‚ç‚¹æ”¾å…¥åˆ°propertieså½“ä¸­</span></span><br><span class="line">            <span class="keyword">if</span> (o <span class="keyword">instanceof</span> PropertiesAware) &#123;</span><br><span class="line">                <span class="type">PropertiesAware</span> <span class="variable">propertiesAware</span> <span class="operator">=</span> (PropertiesAware) o;</span><br><span class="line">                List&lt;Element&gt; elements1 = element.elements();</span><br><span class="line">                <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">                <span class="keyword">for</span> (Element element1 : elements1) &#123;</span><br><span class="line">                    properties.put(element1.getName(), element1.getText());</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    propertiesAware.init(properties);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            map.put(element.getName(), o);</span><br><span class="line">            map.forEach((k, v) -&gt; &#123;</span><br><span class="line">                <span class="keyword">if</span> (v <span class="keyword">instanceof</span> ConfigurationAware) &#123;</span><br><span class="line">                    <span class="type">ConfigurationAware</span> <span class="variable">configurationAware</span> <span class="operator">=</span> (ConfigurationAware) v;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        configurationAware.setConfiguration(<span class="built_in">this</span>);</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException | NoSuchMethodException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InstantiationException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/image-20231015161418138.png" alt="image-20231015161418138"></p><h2 id="ThreadPoolExecutor"><a href="#ThreadPoolExecutor" class="headerlink" title="ThreadPoolExecutor"></a>ThreadPoolExecutor</h2><p>serverç«¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">ThreadPoolExecutor</span> <span class="variable">executor</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>(</span><br><span class="line">    <span class="number">5</span>, <span class="number">10</span>,</span><br><span class="line">    <span class="number">2000</span>, TimeUnit.MILLISECONDS,</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ArrayBlockingQueue</span>&lt;Runnable&gt;(<span class="number">5</span>),</span><br><span class="line">    Executors.defaultThreadFactory(),</span><br><span class="line">    <span class="keyword">new</span> <span class="title class_">ThreadPoolExecutor</span>.AbortPolicy());</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> (!stop) &#123;</span><br><span class="line">    <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> server.accept();</span><br><span class="line">    executor.execute(() -&gt; &#123;</span><br><span class="line">        <span class="comment">// è¦åšä»€ä¹ˆäº‹æƒ…</span></span><br><span class="line">        <span class="comment">// 1ã€æ¥æ”¶æ•°æ®</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(socket.getInputStream());</span><br><span class="line">            <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> ois.readObject();</span><br><span class="line">            Collection&lt;Environment&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">            <span class="keyword">if</span> (obj <span class="keyword">instanceof</span> Collection&lt;?&gt;) &#123;</span><br><span class="line">                Collection&lt;?&gt; coll = (Collection&lt;?&gt;) obj;</span><br><span class="line">                <span class="keyword">for</span> (Object o : coll) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Environment) &#123;</span><br><span class="line">                        <span class="type">Environment</span> <span class="variable">env</span> <span class="operator">=</span> (Environment) o;</span><br><span class="line">                        list.add(env);</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// 2ã€å…¥åº“</span></span><br><span class="line">            <span class="type">DBStore</span> <span class="variable">dbStore</span> <span class="operator">=</span> ConfigurationImpl.getInstance().getDbStore(); <span class="comment">// é€šè¿‡ConfigurationImplè·å–å¯¹è±¡</span></span><br><span class="line">            dbStore.saveDB(list);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException | ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="RandomAccessFile"><a href="#RandomAccessFile" class="headerlink" title="RandomAccessFile"></a>RandomAccessFile</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> Collection&lt;Environment&gt; <span class="title function_">gather</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰â¼€ä¸ªâ½¤æ¥è¿”å›ç»“æœçš„é›†åˆ</span></span><br><span class="line">    Collection&lt;Environment&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">// ç»Ÿè®¡â¼€ä¸‹å„ä¸ªæ•°æ®çš„æ¡æ•°</span></span><br><span class="line">    <span class="comment">// æ¸©æ¹¿åº¦</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count1</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// å…‰ç…§</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count2</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// CO2</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count3</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// ä½¿â½¤rafå¯ä»¥éšæ„è®¿é—®â½‚ä»¶çš„ä½ç½®ï¼ˆè®¿é—®ä¸Šâ¼€æ¬¡â½‚ä»¶çš„å°¾éƒ¨ï¼‰</span></span><br><span class="line">    <span class="type">RandomAccessFile</span> <span class="variable">raf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(<span class="string">&quot;client/src/main/resources/&quot;</span> + filePath, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line">    log.info(<span class="string">&quot;rafçš„å­—èŠ‚æ•°ï¼š&quot;</span> + raf.length());</span><br><span class="line">    <span class="comment">// 1ã€è¯»å–â½‚ä»¶ï¼Ÿâ½‚ä»¶è¾“â¼Šå­—ç¬¦æµã€ç¼“å†²æµ</span></span><br><span class="line">    <span class="comment">// plusï¼šå¸Œæœ›â½‚ä»¶æœ‰æ›´æ–°çš„æ—¶å€™æ‰é‡‡é›†ï¼Œæ²¡æœ‰æ›´æ–°å°±ä¸é‡‡é›† -&gt; å¤‡ä»½æ¨¡å—çš„â½…æ³•</span></span><br><span class="line">    <span class="comment">// åˆ¤æ–­å¤‡ä»½â½‚ä»¶æ˜¯å¦å­˜åœ¨ï¼Ÿ</span></span><br><span class="line">    <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(backupFile);</span><br><span class="line">    <span class="keyword">if</span> (file.exists()) &#123;</span><br><span class="line">        <span class="comment">// å¦‚æœå¤‡ä»½â½‚ä»¶å­˜åœ¨ï¼Œå’Œå½“å‰â½‚ä»¶åšä¸ªå¯¹â½ï¼Œçœ‹æ˜¯å¦æœ‰æ›´æ–°ï¼Ÿ æ ¹æ®â½‚ä»¶â¼¤â¼©</span></span><br><span class="line">        <span class="type">Object</span> <span class="variable">load</span> <span class="operator">=</span> backup.load(file.getAbsolutePath(), Backup.LOAD_UNREMOVE);</span><br><span class="line">        <span class="comment">// å¤‡ä»½çš„å†…å®¹å¯ä»¥æ˜¯æ•°æ®ï¼Œå¯ä»¥æ˜¯listä¹Ÿå¯ä»¥æ˜¯â½‚æœ¬ï¼Œè¿™â¾¥æ¨èæ¯â¼€æ¬¡è¯»å–çš„æ•°æ®é‡æˆ–è€…æ˜¯æŒ‡é’ˆ</span></span><br><span class="line">        <span class="type">Long</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0L</span>;</span><br><span class="line">        <span class="keyword">if</span> (load <span class="keyword">instanceof</span> Long) &#123;</span><br><span class="line">            l = (Long) load;</span><br><span class="line">        &#125;</span><br><span class="line">        log.info(<span class="string">&quot;ä¿å­˜çš„â»“åº¦ï¼š&quot;</span> + l);</span><br><span class="line">        <span class="comment">// å¦‚æœå¤‡ä»½â½‚ä»¶â¼©äºé‡‡é›†â½‚ä»¶ï¼Œä»æ–°æ·»åŠ çš„ä½ç½®å¼€å§‹è¯»ï¼ŸRandomAccessFile</span></span><br><span class="line">        log.info(<span class="string">&quot;æœ¬æ¬¡éœ€è¦è¯»å–çš„â½‚ä»¶â»“åº¦ï¼š&quot;</span> + raf.length());</span><br><span class="line">        <span class="keyword">if</span> (raf.length() &gt; l) &#123;</span><br><span class="line">            <span class="comment">// æœ‰æ›´æ–°ï¼Œä»ä¿å­˜çš„ä½ç½®å¼€å§‹è¯»å–</span></span><br><span class="line">            raf.seek(l);</span><br><span class="line">            <span class="comment">// è¯»åˆ°â½‚ä»¶æ˜¯å¦è¦è¿›â¾â¼€ä¸‹æ¢â¾ï¼Ÿ</span></span><br><span class="line">            <span class="keyword">if</span> (l &gt; <span class="number">0</span>) &#123;</span><br><span class="line">                raf.write(<span class="string">&quot;\r\n&quot;</span>.getBytes());</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">else</span> <span class="keyword">if</span> (raf.length() &lt; l) &#123;</span><br><span class="line">            <span class="comment">// â½‚ä»¶å‡ºé”™äº†</span></span><br><span class="line">            log.warn(<span class="string">&quot;â½‚ä»¶â»“åº¦å‡ºç°é”™è¯¯ï¼Œâ½å¤‡ä»½çš„å†…å®¹è¦å°‘&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="comment">// â½‚ä»¶æ²¡æœ‰å˜åŒ–</span></span><br><span class="line">            log.warn(<span class="string">&quot;â½‚ä»¶å†…å®¹â½†æ›´æ–°&quot;</span>);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">while</span> ((line = raf.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="comment">//2ã€å¯¹æ•°æ®è¿›â¾â¼€äº›æ“ä½œ</span></span><br><span class="line">        <span class="comment">// æ•°æ®å¤„ç† çœç•¥......</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// å¤‡ä»½</span></span><br><span class="line">    <span class="comment">// è·å–å½“å‰æœ€æ–°çš„æŒ‡é’ˆä½ç½®è¿›â¾ä¿å­˜</span></span><br><span class="line">    <span class="type">long</span> <span class="variable">finalPointer</span> <span class="operator">=</span> raf.getFilePointer();</span><br><span class="line">    <span class="comment">// è°ƒâ½¤å¤‡ä»½æ¨¡å—</span></span><br><span class="line">    backup.store(file.getAbsolutePath(), finalPointer, Backup.STORE_OVERRIDE);</span><br><span class="line">    log.info(<span class="string">&quot;â½‚ä»¶å¤‡ä»½æˆåŠŸï¼&quot;</span>);</span><br><span class="line">    <span class="comment">// è¾“å‡º</span></span><br><span class="line">    log.info(<span class="string">&quot;æœ¬æ¬¡å…±é‡‡é›†ç¯å¢ƒæ•°æ®ã€&quot;</span> + list.size() + <span class="string">&quot;ã€‘æ¡ï¼Œå…¶ä¸­ï¼š&quot;</span>);</span><br><span class="line">    log.info(<span class="string">&quot;æ¸©åº¦æ•°æ®ã€&quot;</span> + count1 + <span class="string">&quot;ã€‘æ¡ï¼Œ&quot;</span>);</span><br><span class="line">    log.info(<span class="string">&quot;æ¹¿åº¦æ•°æ®ã€&quot;</span> + count1 + <span class="string">&quot;ã€‘æ¡ï¼Œ&quot;</span>);</span><br><span class="line">    log.info(<span class="string">&quot;å…‰ç…§å¼ºåº¦æ•°æ®ã€&quot;</span> + count2 + <span class="string">&quot;ã€‘æ¡ï¼Œ&quot;</span>);</span><br><span class="line">    log.info(<span class="string">&quot;CO2æµ“åº¦æ•°æ®ã€&quot;</span> + count3 + <span class="string">&quot;ã€‘æ¡ã€‚&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5ã€å…³é—­è¿æ¥</span></span><br><span class="line">    raf.close();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">return</span> list;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ’å…¥å’Œæ‰¹å¤„ç†"><a href="#æ’å…¥å’Œæ‰¹å¤„ç†" class="headerlink" title="æ’å…¥å’Œæ‰¹å¤„ç†"></a>æ’å…¥å’Œæ‰¹å¤„ç†</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">saveDB</span><span class="params">(Collection&lt;Environment&gt; collection)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="comment">// è·å–jdbcè¿æ¥å¯¹è±¡</span></span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> JDBCUtils.getDruidConnection();</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªè¯­å¥å¯¹è±¡</span></span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">pst</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªå‰ä¸€å¤©çš„å˜é‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">preDay</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªç»Ÿè®¡ä¸ªæ•°çš„å˜é‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">count</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// 1ã€é›†åˆéå†ï¼Œå–å‡ºæ¯ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">for</span> (Environment environment : collection) &#123;</span><br><span class="line">        count++;</span><br><span class="line">        <span class="comment">// 2ã€æ ¹æ®æ—¶é—´ä¸­çš„å¤©æ•°ï¼Œæ’å…¥åˆ°ä¸åŒçš„è¡¨é‡Œ</span></span><br><span class="line">        <span class="comment">// Calendar æˆ–è€… ä½¿ç”¨java.timeåŒ…</span></span><br><span class="line">        <span class="type">Calendar</span> <span class="variable">calendar</span> <span class="operator">=</span> Calendar.getInstance();</span><br><span class="line">        calendar.setTime(environment.getGatherDate());</span><br><span class="line">        <span class="type">int</span> <span class="variable">day</span> <span class="operator">=</span> calendar.get(Calendar.DAY_OF_MONTH);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¹æ®å¤©æ•°æ¥æ„å»ºæ’å…¥è¯­å¥</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;insert into env_detail_&quot;</span> + day + <span class="string">&quot; values(?,?,?,?,?,?,?,?,?)&quot;</span>;</span><br><span class="line">        <span class="comment">// æ§åˆ¶pstçš„æ•°é‡ï¼Œæœ€å¤šåªæœ‰31ä¸ª</span></span><br><span class="line">        <span class="keyword">if</span> (pst == <span class="literal">null</span>) &#123;</span><br><span class="line">            pst = conn.prepareStatement(sql);</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (preDay != day) &#123;</span><br><span class="line">                pst.executeBatch();</span><br><span class="line">                pst.clearBatch();</span><br><span class="line">                pst = conn.prepareStatement(sql);</span><br><span class="line">                preDay = day;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åŠ å…¥æ•°æ®</span></span><br><span class="line">        pst = conn.prepareStatement(sql);</span><br><span class="line">        pst.setString(<span class="number">1</span>, environment.getName());</span><br><span class="line">        pst.setString(<span class="number">2</span>, environment.getSrcId());</span><br><span class="line">        pst.setString(<span class="number">3</span>, environment.getDesId());</span><br><span class="line">        pst.setString(<span class="number">4</span>, environment.getSensorAddress());</span><br><span class="line">        pst.setInt(<span class="number">5</span>, environment.getCount());</span><br><span class="line">        pst.setString(<span class="number">6</span>, environment.getCmd());</span><br><span class="line">        pst.setFloat(<span class="number">7</span>, environment.getData());</span><br><span class="line">        pst.setInt(<span class="number">8</span>, environment.getStatus());</span><br><span class="line">        pst.setTimestamp(<span class="number">9</span>, environment.getGatherDate());</span><br><span class="line">        <span class="comment">// 4ã€æ‰¹å¤„ç†</span></span><br><span class="line">        pst.addBatch();</span><br><span class="line">        <span class="keyword">if</span> (count % batchSize == <span class="number">0</span>) &#123;</span><br><span class="line">            pst.executeBatch();</span><br><span class="line">            pst.clearBatch();</span><br><span class="line">        &#125;</span><br><span class="line">        pst.executeUpdate();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> (pst != <span class="literal">null</span> &amp;&amp; count % batchSize != <span class="number">0</span>) &#123;</span><br><span class="line">        pst.executeBatch();</span><br><span class="line">        pst.clearBatch();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    System.out.println(<span class="string">&quot;å…¥åº“æˆåŠŸ&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™é‡Œæœ‰ä¸€ä¸ªè¶…çº§ç»†èŠ‚çš„åœ°æ–¹å°±æ˜¯æ—¶é—´é—®é¢˜ï¼Œå› ä¸ºæˆ‘ä»¬å¤„åœ¨ä¸œå…«åŒºï¼Œæ‰€ä»¥ä¼ æ„Ÿå™¨ç”Ÿæˆæ•°æ®çš„æ—¶é—´æ˜¯ä¸œå…«åŒºçš„æ—¶é—´</p><p>å¦‚æœè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä½¿ç”¨serverTimezone&#x3D;UTC-8 å­˜å…¥æ•°æ®åº“çš„åŒ–ä¼šå‡ºç°20å·çš„æ•°æ®å‡ºç°åœ¨19å·çš„è¡¨ä¸­</p><p>è§£å†³æ–¹æ³•ï¼šä½¿ç”¨ serverTimezone&#x3D;Asia&#x2F;Shanghai</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/envir?serverTimezone=Asia/Shanghai&amp;useServerPrepStmts=true</span></span><br></pre></td></tr></table></figure><p>å½“ç„¶è¿™é‡Œè¿˜æ¶‰åŠåˆ°å¦‚ä½•åˆ›å»º31å¼ ä¸åŒçš„æ—¥æœŸè¡¨çš„é—®é¢˜å“ˆ~~</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database envir;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;envir&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span> identified <span class="keyword">by</span> <span class="string">&#x27;envir&#x27;</span>;</span><br><span class="line"><span class="keyword">grant</span> <span class="keyword">all</span> <span class="keyword">on</span> envir.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;envir&#x27;</span>@<span class="string">&#x27;localhost&#x27;</span>;</span><br><span class="line"><span class="keyword">set</span> names utf8;</span><br><span class="line">use envir;</span><br><span class="line"><span class="comment">--ä½¿ç”¨å­˜å‚¨è¿‡ç¨‹å»ºè¡¨</span></span><br><span class="line"><span class="keyword">DROP</span> <span class="keyword">PROCEDURE</span> IF <span class="keyword">EXISTS</span> create_table_do;</span><br><span class="line">delimiter <span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">PROCEDURE</span> create_table_do()</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line"><span class="keyword">DECLARE</span> i <span class="type">INT</span> <span class="keyword">DEFAULT</span> <span class="number">1</span>;</span><br><span class="line">WHILE i <span class="operator">&lt;</span> <span class="number">32</span> DO</span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@STMT</span> <span class="operator">=</span> CONCAT(&quot;DROP TABLE IF EXISTS `env_detail_&quot;,i,&quot;`;&quot;);</span><br><span class="line"><span class="keyword">PREPARE</span> STMT <span class="keyword">FROM</span> <span class="variable">@STMT</span>; </span><br><span class="line"><span class="keyword">EXECUTE</span> STMT;</span><br><span class="line"><span class="keyword">SET</span> <span class="variable">@STMT</span> <span class="operator">=</span> CONCAT(&quot;CREATE TABLE IF NOT EXISTS `env_detail_&quot;,i,</span><br><span class="line">&quot;`(`name` varchar(20) NOT NULL COMMENT &#x27;ä¼ æ„Ÿå™¨åç§°&#x27;,</span><br><span class="line">`srcId` varchar(5) NOT NULL COMMENT &#x27;å‘é€ç«¯id&#x27;,</span><br><span class="line">`dstId` varchar(5) NOT NULL COMMENT &#x27;æ ‘è“æ´¾ç³»ç»Ÿid&#x27;,</span><br><span class="line">`sersorAddress` varchar(7) NOT NULL COMMENT &#x27;æ¨¡å—ä¸Šä¼ æ„Ÿå™¨åœ°å€&#x27;,</span><br><span class="line">`count` int(2) NOT NULL DEFAULT &#x27;1&#x27; COMMENT &#x27;ä¼ æ„Ÿå™¨ä¸ªæ•°&#x27;,</span><br><span class="line">`cmd`  varchar(5) NOT NULL  DEFAULT &#x27;3&#x27; COMMENT &#x27;æŒ‡ä»¤æ ‡å·(3è¡¨ç¤ºéœ€è¦æ¥å—æ•°æ®  16è¡¨ç¤ºéœ€è¦å‘é€æ•°æ®)&#x27;,</span><br><span class="line">`data` float(9,4) NOT NULL COMMENT &#x27;é‡‡é›†çš„æ•°æ®&#x27;,</span><br><span class="line">`status` int(2) NOT NULL DEFAULT &#x27;1&#x27;  COMMENT &#x27;çŠ¶æ€æ ‡ç¤º(é»˜è®¤ä¸º1è¡¨ç¤ºæˆåŠŸ)&#x27;,</span><br><span class="line">`gather_date` timestamp NOT NULL COMMENT &#x27;é‡‡é›†æ—¶é—´&#x27;)ENGINE=InnoDB  DEFAULT CHARSET=utf8 COMMENT=&#x27;æ•°æ®è¯¦æƒ…æ—¥è¡¨&#x27;;&quot;</span><br><span class="line">);</span><br><span class="line"><span class="keyword">PREPARE</span> STMT <span class="keyword">FROM</span> <span class="variable">@STMT</span>; </span><br><span class="line"><span class="keyword">EXECUTE</span> STMT;</span><br><span class="line">    <span class="keyword">SET</span> i <span class="operator">=</span> i <span class="operator">+</span> <span class="number">1</span>;</span><br><span class="line"><span class="keyword">END</span> WHILE;</span><br><span class="line"><span class="keyword">END</span><span class="operator">/</span><span class="operator">/</span></span><br><span class="line"><span class="keyword">CALL</span> create_table_do();</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°ä¸æœåŠ¡å™¨è”è°ƒ"><a href="#æœ¬åœ°ä¸æœåŠ¡å™¨è”è°ƒ" class="headerlink" title="æœ¬åœ°ä¸æœåŠ¡å™¨è”è°ƒ"></a>æœ¬åœ°ä¸æœåŠ¡å™¨è”è°ƒ</h2><blockquote><p>å°†serverç«¯æ‰“æˆjaråŒ…ä¸¢åˆ°æœåŠ¡å™¨ä¸Šï¼Œé€šè¿‡ java -jar xxxx.jar å¯åŠ¨serverç«¯</p><p>å¯åŠ¨æœ¬åœ°clientç«¯ï¼Œå°†æ•°æ®sendåˆ°serverç«¯</p></blockquote><p><img src="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/image-20231015152312868.png" alt="image-20231015152312868"></p><p><img src="/2023/10/09/project-01-%E7%89%A9%E8%81%94%E7%BD%91%E7%8E%AF%E5%A2%83%E6%A3%80%E6%B5%8B%E7%B3%BB%E7%BB%9F/image-20231015152524181.png" alt="image-20231015152524181"></p><h2 id="æ”¶è·ä¸å–œæ‚¦"><a href="#æ”¶è·ä¸å–œæ‚¦" class="headerlink" title="æ”¶è·ä¸å–œæ‚¦"></a>æ”¶è·ä¸å–œæ‚¦</h2><blockquote><p>æ•…ä½™è™½æ„šï¼Œå’è·æœ‰æ‰€é—»</p></blockquote><p>æœ¬é¡¹ç›®æ²¡æœ‰ä½¿ç”¨åˆ°ssmç­‰çƒ­é—¨çš„æ¡†æ¶ï¼Œé‡åœ¨ç†è§£æ‰§è¡Œæµç¨‹</p><p>é¡¹ç›®çš„éš¾ç‚¹ï¼š</p><ul><li>æ•°æ®å¤„ç†ï¼Œèƒ½å¦æ­£ç¡®çš„ç†è§£å¥½æ•°æ®ä»¥åŠå¤„ç†å¥½æ•°æ®çœŸçš„æ˜¯è‡³å…³é‡è¦çš„</li><li>configurationImpl å°è£…ï¼Œä¸€ä¸ªå¥½çš„å°è£…èƒ½å¤Ÿå¾ˆå¤§ç¨‹åº¦ä¸Šç®€åŒ–ä»£ç ï¼Œä½†æ˜¯éš¾åº¦é¢‡é«˜</li><li>æ€§èƒ½ä¼˜åŒ–ï¼šå¤§é‡çš„æ’å…¥æ•°æ®è€ƒè™‘ï¼šæ‰¹é‡æ’å…¥ï¼›å¦‚æœæœ‰å¤šä¸ªå®¢æˆ·ç«¯å‘é€æ•°æ®è€ƒè™‘ï¼šçº¿ç¨‹æ± </li><li>åˆ›å»º31å¼ ä¸åŒæ—¥æœŸçš„è¡¨ï¼šä½¿ç”¨mysqlä¸­çš„å­˜å‚¨è¿‡ç¨‹å®ç°</li></ul><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> project </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>cpolarç®€æ˜“å®ç°å†…ç½‘ç©¿é€</title>
      <link href="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/"/>
      <url>/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>å¾ˆå¤šæ—¶å€™æˆ‘ä»¬éƒ½æ˜¯å±€åŸŸç½‘ipï¼Œå¦‚ä½•å®ç°è®©åˆ«äººçš„ç”µè„‘è®¿é—®ä½ æœ¬æœºçš„é¡¹ç›®æˆ–è€…è¯´æ•°æ®å‘¢ï¼Ÿ</p><p><strong>å†…ç½‘ç©¿é€</strong>å°±æ˜¯è§£å†³ä¸Šè¿°é—®é¢˜çš„ä¸€ä¸ªæŠ€æœ¯ï¼šå…¶å®å¾ˆç®€å•ï¼Œå°±æ˜¯æä¾›ä¸€ä¸ªå…¬ç½‘ipï¼Œè®©åˆ«äººé€šè¿‡è¯¥ip+portè®¿é—®ä½ ï¼Œcpolarå°±æ˜¯ä¸ºæœ¬æœºæä¾›ä¸€ä¸ªå…¬ç½‘ipã€‚</p><p>cpolarå®˜ç½‘: <a href="https://www.cpolar.com/?_gl=1*nw6pwl*_ga*Mjg2NzYwOTM2LjE2OTY0ODE5Mjc.*_ga_WF16DPKZZ1*MTY5NjQ4MTkyNy4xLjEuMTY5NjQ4MjIwMy41OS4wLjA.">cpolar - å®‰å…¨çš„å†…ç½‘ç©¿é€å·¥å…·</a></p></blockquote><h2 id="æ³¨å†Œ"><a href="#æ³¨å†Œ" class="headerlink" title="æ³¨å†Œ"></a>æ³¨å†Œ</h2><blockquote><p>é¦–å…ˆä½ å¾—åœ¨cpolarå®˜ç½‘æ³¨å†Œä¸€ä¸ªè´¦å·ï¼š</p></blockquote><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005132525161.png" alt="image-20231005132525161"></p><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005132741775.png" alt="image-20231005132741775"></p><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005132932024.png" alt="image-20231005132932024"></p><h2 id="æ‰§è¡Œ"><a href="#æ‰§è¡Œ" class="headerlink" title="æ‰§è¡Œ"></a>æ‰§è¡Œ</h2><blockquote><p>è¦æ¸…æ¥šç”µè„‘æ˜¯ä»€ä¹ˆæ“ä½œç³»ç»Ÿçš„</p></blockquote><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005133204305.png" alt="image-20231005133204305"></p><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005133301445.png" alt="image-20231005133301445"></p><blockquote><p>ä¸Šè¿°æŒ‡ä»¤åªéœ€è¦æ‰§è¡Œä¸€æ¬¡å³å¯</p></blockquote><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005133504422.png" alt="image-20231005133504422"></p><h2 id="è®¿é—®"><a href="#è®¿é—®" class="headerlink" title="è®¿é—®"></a>è®¿é—®</h2><blockquote><p>ä¼šç”Ÿæˆä¸¤ä¸ªå…¬ç½‘è®¿é—®è¿æ¥ï¼šhttp å’Œ https</p><p><strong>æ³¨æ„æ˜¯ä¸´æ—¶çš„å…¬ç½‘ipï¼ï¼</strong></p></blockquote><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005133644343.png" alt="image-20231005133644343"></p><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005134035889.png" alt="image-20231005134035889"></p><blockquote><p>ç›´æ¥é€šè¿‡ <code>https://725228fd.r9.cpolar.top/doc.html#/home</code>è®¿é—®æˆ‘çš„é¡¹ç›®å³å¯</p></blockquote><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005134203740.png" alt="image-20231005134203740"></p><p><img src="/2023/10/05/cpolar%E7%AE%80%E6%98%93%E5%AE%9E%E7%8E%B0%E5%86%85%E7%BD%91%E7%A9%BF%E9%80%8F/image-20231005134256144.png" alt="image-20231005134256144"></p><blockquote><p>coplarçš„åŸºæœ¬ä½¿ç”¨å°±æ˜¯è¿™æ ·å•¦ï¼Œæœ‰ç¼˜å†ä¼šï¼</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> å†…ç½‘ç©¿é€ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>expand-04-JUCæ·±å…¥å¹¶å‘ç¼–ç¨‹</title>
      <link href="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/"/>
      <url>/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJVMã€JDKæ–°ç‰¹æ€§ã€JDKæºç ã€é«˜å¹¶å‘ã€MySqlä¼˜åŒ–</p></blockquote><h1 id="JUC"><a href="#JUC" class="headerlink" title="JUC"></a>JUC</h1><p>JUCï¼ˆjava.util.concurrentåŒ…ï¼‰ï¼Œä¸»è¦åŒ…æ‹¬çº¿ç¨‹æ± å·¥å‚ç±»Executorsï¼Œçº¿ç¨‹æ± å®ç°ç±»ThreadPoolExecutor ç­‰ã€‚</p><h2 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h2><h3 id="çº¿ç¨‹å›é¡¾"><a href="#çº¿ç¨‹å›é¡¾" class="headerlink" title="çº¿ç¨‹å›é¡¾"></a>çº¿ç¨‹å›é¡¾</h3><ol><li>åˆ›å»ºçº¿ç¨‹çš„æ–¹å¼<ul><li>ç»§æ‰¿Thread</li><li>å®ç°Runnable</li><li>å®ç°Callable</li></ul></li><li>çº¿ç¨‹çŠ¶æ€</li></ol><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230917112429795.png" alt="image-20230917112429795"></p><ul><li>NEWï¼šåˆšåˆšåˆ›å»ºï¼Œæ²¡åšä»»ä½•æ“ä½œ</li><li>RUNNABLEï¼šè°ƒç”¨runï¼Œå¯ä»¥æ‰§è¡Œï¼Œä½†ä¸ä»£ä¸€å®šåœ¨æ‰§è¡Œï¼ˆRUNNINGã€READYï¼‰</li><li>BLOCKEDï¼šæŠ¢ä¸åˆ°é”</li><li>WAITING</li><li>TIMED_WAITING</li><li>TERMINATED</li></ul><ol start="3"><li>çº¿ç¨‹æ± </li></ol><p>çº¿ç¨‹æ± å°±æ˜¯åˆ›å»ºä¸€ä¸ªæ¢æˆæ± å­˜æ”¾çº¿ç¨‹ï¼Œæ‰§è¡Œç»“æŸä»¥åï¼Œè¯¥çº¿ç¨‹å¹¶ä¸ä¼šæ­»äº¡ï¼Œè€Œæ˜¯å†æ¬¡è¿”å›çº¿ç¨‹æ± ç§æˆä¸ºç©ºé—²çŠ¶æ€ã€‚</p><p>ä½¿ç”¨çº¿ç¨‹æ± çš„ä¼˜åŠ¿ï¼š</p><ul><li>é™ä½ç³»ç»Ÿèµ„æºæ¶ˆè€—ï¼Œé€šè¿‡é‡ç”¨å·²å­˜åœ¨çš„çº¿ç¨‹ï¼Œé™ä½çº¿ç¨‹åˆ›å»ºå’Œé”€æ¯é€ æˆçš„æ¶ˆè€—</li><li>æé«˜ç³»ç»Ÿå“åº”é€Ÿåº¦ï¼Œå½“æœ‰ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œé€šè¿‡å¤ç”¨å·²å­˜åœ¨çš„çº¿ç¨‹ï¼Œæ— éœ€ç­‰å¾…æ–°çº¿ç¨‹çš„åˆ›å»ºä¾¿èƒ½ç«‹å³æ‰§è¡Œ</li><li>æ–¹ä¾¿çº¿ç¨‹å¹¶å‘æ•°çš„ç®¡æ§ï¼Œå› ä¸ºçº¿ç¨‹è‹¥æ˜¯æ— é™åˆ¶åœ°åˆ›å»ºï¼Œå¯èƒ½ä¼šå¯¼è‡´å†…å­˜å ç”¨è¿‡å¤šè€Œäº§ç”ŸOOM</li><li>èŠ‚çœCPUåˆ‡æ¢çº¿ç¨‹çš„æ—¶é—´æˆæœ¬ï¼ˆéœ€è¦ä¿æŒå½“å‰æ‰§è¡Œçº¿ç¨‹çš„ç°åœºï¼Œå¹¶æ¢å¤è¦æ‰§è¡Œçº¿ç¨‹çš„ç°åœºï¼‰</li><li>æä¾›æ›´å¼ºå¤§çš„åŠŸèƒ½ï¼Œå»¶æ—¶å®šæ—¶çº¿ç¨‹æ± ï¼ˆTimer vs ScheduledThreadPoolExecutorï¼‰</li></ul><ol start="4"><li>çº¿ç¨‹æ± ä½“ç³»</li></ol><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230917115102413.png" alt="image-20230917115102413"></p><p>è¯´æ˜:</p><ul><li>æœ€å¸¸ç”¨çš„æ˜¯ThreadPoolExecutor</li><li>è°ƒåº¦ç”¨ScheduledThreadExecutor</li><li>ä»»åŠ¡æ‹†åˆ†åˆå¹¶ç”¨ForkJoinPool</li><li>Executorsæ˜¯å·¥å…·ç±»ï¼ŒååŠ©ä½ åˆ›å»ºçº¿ç¨‹æ± çš„</li></ul><h3 id="æ ¸å¿ƒå‚æ•°"><a href="#æ ¸å¿ƒå‚æ•°" class="headerlink" title="æ ¸å¿ƒå‚æ•°"></a>æ ¸å¿ƒå‚æ•°</h3><p>Java æä¾›çš„çº¿ç¨‹æ± ç›¸å…³çš„å·¥å…·ç±»ä¸­ï¼Œæœ€æ ¸å¿ƒçš„æ˜¯ ThreadPoolExecutorï¼Œæˆ‘ä»¬é¦–å…ˆæ¥çœ‹å®ƒçš„ç±»ä½“ç³»åŠæ„é€ </p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230917120156688.png" alt="image-20230917120156688"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadPoolExecutor</span> <span class="keyword">extends</span> <span class="title class_">AbstractExecutorService</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">RejectedExecutionHandler</span> <span class="variable">defaultHandler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AbortPolicy</span>();</span><br><span class="line">    <span class="comment">//æ ¸å¿ƒçš„æ„é€ å‡½æ•°ï¼Œå…¶ä»–æ„é€ å‡½æ•°éƒ½æ˜¯è°ƒç”¨è¯¥æ„é€ å‡½æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadPoolExecutor</span><span class="params">(<span class="type">int</span> corePoolSize,</span></span><br><span class="line"><span class="params">                              <span class="type">int</span> maximumPoolSize,</span></span><br><span class="line"><span class="params">                              <span class="type">long</span> keepAliveTime,</span></span><br><span class="line"><span class="params">                              TimeUnit unit,</span></span><br><span class="line"><span class="params">                              BlockingQueue&lt;Runnable&gt; workQueue,</span></span><br><span class="line"><span class="params">                              ThreadFactory threadFactory,</span></span><br><span class="line"><span class="params">                              RejectedExecutionHandler handler)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (corePoolSize &lt; <span class="number">0</span> ||</span><br><span class="line">            maximumPoolSize &lt;= <span class="number">0</span> ||</span><br><span class="line">            maximumPoolSize &lt; corePoolSize ||</span><br><span class="line">            keepAliveTime &lt; <span class="number">0</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        <span class="keyword">if</span> (workQueue == <span class="literal">null</span> || threadFactory == <span class="literal">null</span> || handler == <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">        <span class="built_in">this</span>.corePoolSize = corePoolSize;</span><br><span class="line">        <span class="built_in">this</span>.maximumPoolSize = maximumPoolSize;</span><br><span class="line">        <span class="built_in">this</span>.workQueue = workQueue;</span><br><span class="line">        <span class="built_in">this</span>.keepAliveTime = unit.toNanos(keepAliveTime);</span><br><span class="line">        <span class="built_in">this</span>.threadFactory = threadFactory;</span><br><span class="line">        <span class="built_in">this</span>.handler = handler;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çº¿ç¨‹æ± æ ¸å¿ƒå‚æ•°ä»‹ç»ï¼š</p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230917120449445.png" alt="image-20230917120449445"></p><ol><li><p><strong>corePoolSizeï¼šæ ¸å¿ƒçº¿ç¨‹æ•°é‡</strong></p><ul><li>çº¿ç¨‹åˆšåˆ›å»ºæ—¶ï¼Œçº¿ç¨‹æ•°é‡ä¸º0ï¼Œå½“æ¯æ¬¡æ‰§è¡Œexecuteæ·»åŠ æ–°çš„ä»»åŠ¡æ—¶ä¼šåœ¨çº¿ç¨‹æ± åˆ›å»ºä¸€ä¸ªæ–°çš„çº¿ç¨‹ï¼Œç›´åˆ°çº¿ç¨‹æ•°é‡è¾¾åˆ°corePoolSizeä¸ºæ­¢ã€‚</li><li>æ ¸å¿ƒçº¿ç¨‹ä¼šä¸€ç›´å­˜æ´»ï¼Œå³ä½¿æ²¡æœ‰ä»»åŠ¡éœ€è¦æ‰§è¡Œï¼Œå½“çº¿ç¨‹æ•°å°äºæ ¸å¿ƒçº¿ç¨‹æ•°æ—¶ï¼Œå³ä½¿æœ‰çº¿ç¨‹ç©ºé—²ï¼Œçº¿ç¨‹ä¹Ÿä¼šä¼˜å…ˆåˆ›å»ºæ–°çº¿ç¨‹å¤„ç†</li><li>è®¾ç½®allowCoreThreadTimeout&#x3D;true(é»˜è®¤false) æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹è¶…æ—¶ä¼šå…³é—­</li></ul></li><li><p><strong>workQueueï¼šé˜»å¡é˜Ÿåˆ—</strong></p><ul><li>å½“çº¿ç¨‹æ± æ­£åœ¨è¿è¡Œçš„çº¿ç¨‹æ•°é‡ä»¥åŠè¾¾åˆ°corePoolSize,é‚£ä¹ˆé€šè¿‡executeæ·»åŠ æ–°çš„ä»»åŠ¡åˆ™ä¼šè¢«åŠ å…¥workQueueé˜Ÿåˆ—ä¸­ï¼Œåœ¨é˜Ÿåˆ—ä¸­æ’é˜Ÿç­‰å¾…æ‰§è¡Œï¼Œè€Œä¸ä¼šç«‹å³æ‰§è¡Œã€‚</li><li>é˜»å¡é˜Ÿåˆ—æœ‰ä»¥ä¸‹å‡ ç§é€‰æ‹©ï¼š<ul><li>ArrayBlockingQueue</li><li>LinkedBlockingQueue</li><li>SynchronousQueue</li></ul></li></ul></li><li><p><strong>maxinumPoolSize: æœ€å¤§çº¿ç¨‹æ•°</strong></p><ul><li>å½“æ± ä¸­çš„çº¿ç¨‹æ•°&gt;&#x3D;corePoolSize,ä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šåˆ›å»ºæ–°çº¿ç¨‹æ¥å¤„ç†ä»»åŠ¡</li><li>å½“æ± ä¸­çš„çº¿ç¨‹æ•°&#x3D;maximumPoolSize, ä¸”ä»»åŠ¡é˜Ÿåˆ—å·²æ»¡æ—¶ï¼Œçº¿ç¨‹æ± ä¼šæ‹’ç»å¤„ç†ä»»åŠ¡è€ŒæŠ›å‡ºå¼‚å¸¸</li></ul></li><li><p><strong>KeepAliveTimeï¼šçº¿ç¨‹ç©ºé—²æ—¶é—´</strong></p><ul><li>å½“çº¿ç¨‹ç©ºé—²æ—¶é—´è¾¾åˆ°keepAliveTimeæ—¶ï¼Œçº¿ç¨‹ä¼šé€€å‡ºï¼Œç›´åˆ°çº¿ç¨‹æ•°é‡&#x3D;corePoolSize</li><li>å¦‚æœallowCoreThreadTimeout&#x3D;true,åˆ™ä¼šç›´åˆ°çº¿ç¨‹æ•°é‡&#x3D;0</li></ul></li><li><p><strong>threadFactoryï¼šçº¿ç¨‹å·¥å‚ï¼Œä¸»è¦ç”¨æ¥åˆ›å»ºçº¿ç¨‹</strong></p></li><li><p><strong>rejectedExecutionHandlerï¼šä»»åŠ¡æ‹’ç»å¤„ç†å™¨ï¼Œä¸¤ç§æƒ…å†µä¼šæ‹’ç»å¤„ç†ä»»åŠ¡</strong></p><ul><li>å½“çº¿ç¨‹æ•°å·²ç»è¾¾åˆ°maxPoolSizeï¼Œä¸”é˜Ÿåˆ—å·²æ»¡ï¼Œä¼šæ‹’ç»æ–°ä»»åŠ¡</li><li>å½“çº¿ç¨‹æ± è¢«è°ƒç”¨shutdown()åï¼Œä¼šç­‰å¾…çº¿ç¨‹æ± é‡Œçš„ä»»åŠ¡æ‰§è¡Œå®Œæ¯•ï¼Œå†shutdownã€‚å¦‚æœåœ¨è°ƒç”¨shutdown()å’Œçº¿ç¨‹æ± çœŸæ­£shutdownä¹‹é—´æäº¤ä»»åŠ¡ï¼Œä¼šæ‹’ç»æ–°ä»»åŠ¡çš„</li><li>å½“æ‹’ç»å¤„ç†ä»»åŠ¡æ—¶çº¿ç¨‹æ± ä¼šè°ƒç”¨refectedExecutionHandleræ¥å¤„ç†è¿™ä¸ªä»»åŠ¡ã€‚å¦‚æœæ²¡æœ‰è®¾ç½®é»˜è®¤æ—¶AbortPolicy,å¦å¤–åœ¨ThreadPoolExecutorç±»æœ‰å‡ ä¸ªå†…éƒ¨å®ç°ç±»æ¥å¤„ç†è¿™ç±»æƒ…å†µï¼š<ul><li>ThreadPoolExecutor.AbortPolicyï¼šä¸¢å¼ƒä»»åŠ¡å¹¶æŠ›å‡º RejectedExecutionExceptionå¼‚å¸¸</li><li>ThreaPoolExecutor.CallerRunsPolicyï¼šç”±è°ƒç”¨çº¿ç¨‹å¤„ç†è¯¥ä»»åŠ¡</li><li>ThreadPoolExecutor.DiscardPolicyï¼šä¹Ÿæ˜¯ä¸¢å¼ƒä»»åŠ¡ï¼Œä½†æ˜¯ä¸æŠ›å‡ºå¼‚å¸¸</li><li>ThreadPoolExecutor.DiscardOldestPolicyï¼šä¸¢å¼ƒé˜Ÿåˆ—æœ€å‰é¢çš„ä»»åŠ¡ï¼Œç„¶åé‡æ–°å°è¯•æ‰§è¡Œä»»åŠ¡ï¼ˆé‡å¤æ­¤è¿‡ç¨‹ï¼‰</li></ul></li></ul></li></ol><h3 id="æºç å‰–æ"><a href="#æºç å‰–æ" class="headerlink" title="æºç å‰–æ"></a>æºç å‰–æ</h3><p>ThradPoolExecutorçš„æœ€åŸºæœ¬ä½¿ç”¨æ–¹å¼å°±æ˜¯é€šè¿‡executeæ–¹æ³•æäº¤ä¸€ä¸ªRunnableä»»åŠ¡</p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230918205921908.png" alt="image-20230918205921908"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230918210046637.png" alt="image-20230918210046637"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230918210418216.png" alt="image-20230918210418216"></p><p><font color="#d12920">ä¸€å®šè¦é€šè¿‡ideaä¸€æ­¥ä¸€æ­¥å»çœ‹æºç ï¼Œä¸ç„¶ä¼šå¾ˆæ™•çš„~~</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">execute</span><span class="params">(Runnable command)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (command == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">    <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> ctl.get();<span class="comment">// çœ‹ä¸‹å›¾</span></span><br><span class="line">    <span class="comment">//åˆ¤æ–­å·¥ä½œæ•°ï¼Œå¦‚æœå°äºcoreSizeï¼ŒaddWorkï¼Œæ³¨æ„ç¬¬äºŒä¸ªå‚æ•°core=true</span></span><br><span class="line">    <span class="keyword">if</span> (workerCountOf(c) &lt; corePoolSize) &#123;</span><br><span class="line">        <span class="keyword">if</span> (addWorker(command, <span class="literal">true</span>))</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        c = ctl.get();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çº¿ç¨‹æ± æ˜¯RUNNINGçŠ¶æ€å¹¶ä¸”taskå…¥é˜»å¡é˜Ÿåˆ—æˆåŠŸ</span></span><br><span class="line">    <span class="keyword">if</span> (isRunning(c) &amp;&amp; workQueue.offer(command)) &#123;</span><br><span class="line">        <span class="comment">// åœ¨æ£€æŸ¥ä¸€ä¸‹çŠ¶æ€</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">recheck</span> <span class="operator">=</span> ctl.get();</span><br><span class="line">        <span class="comment">// å¦‚æœçº¿ç¨‹æ± å·²ç»ç»ˆæ­¢ï¼Œç›´æ¥ç§»é™¤ä»»åŠ¡ï¼Œä¸å†å“åº”</span></span><br><span class="line">        <span class="keyword">if</span> (! isRunning(recheck) &amp;&amp; remove(command))</span><br><span class="line">            reject(command);</span><br><span class="line">        <span class="comment">// å¦åˆ™ï¼Œå¦‚æœæ²¡æœ‰å¯ç”¨çš„çº¿ç¨‹çš„è¯ï¼ˆæ¯”å¦‚coreSize=0ï¼‰ï¼Œåˆ›å»ºä¸€ä¸ªç©ºworker</span></span><br><span class="line">        <span class="comment">// è¯¥workeråˆ›å»ºæ—¶ä¸ä¼šç»™æŒ‡æ´¾ä»»åŠ¡ï¼ˆä¸ºnullï¼‰ï¼Œä½†æ˜¯ä¼šè¢«æ”¾å…¥workersé›†åˆï¼Œè¿›è€Œä»workerQueueé˜Ÿåˆ—è·å–ä»»åŠ¡åŒºæ‰§è¡Œ</span></span><br><span class="line">        <span class="keyword">else</span> <span class="keyword">if</span> (workerCountOf(recheck) == <span class="number">0</span>)</span><br><span class="line">            addWorker(<span class="literal">null</span>, <span class="literal">false</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// é˜Ÿåˆ—ä¹Ÿæ»¡äº†ï¼Œç»§ç»­è°ƒaddWorker,ä½†æ˜¯æ³¨æ„ï¼Œcore=falseï¼Œå¼€å¯åˆ°maxSizeçš„å¤§é—¨</span></span><br><span class="line">    <span class="comment">// è¶…å‡ºmaxçš„è¯ï¼ŒaddWorkerä¼šè¿”å›falseï¼Œè¿›å…¥reject</span></span><br><span class="line">    <span class="keyword">else</span> <span class="keyword">if</span> (!addWorker(command, <span class="literal">false</span>))</span><br><span class="line">        reject(command);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230918212646562.png" alt="image-20230918212646562"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="type">boolean</span> <span class="title function_">addWorker</span><span class="params">(Runnable firstTask, <span class="type">boolean</span> core)</span> &#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€æ­¥ï¼Œè®¡æ•°åˆ¤æ–­ï¼Œä¸ç¬¦åˆæ¡ä»¶æ‰“å›false</span></span><br><span class="line">    retry:</span><br><span class="line">    <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> ctl.get();</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> runStateOf(c);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Check if queue empty only if necessary.</span></span><br><span class="line">        <span class="keyword">if</span> (rs &gt;= SHUTDOWN &amp;&amp;</span><br><span class="line">            ! (rs == SHUTDOWN &amp;&amp;</span><br><span class="line">               firstTask == <span class="literal">null</span> &amp;&amp;</span><br><span class="line">               ! workQueue.isEmpty()))</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">wc</span> <span class="operator">=</span> workerCountOf(c);</span><br><span class="line">            <span class="comment">// åˆ¤æ–­çº¿ç¨‹æ•°ï¼Œè¯´æ˜çº¿ç¨‹æ± çš„çº¿ç¨‹æ•°æ˜¯ä¸èƒ½è®¾ç½®ä»»æ„å¤§çš„</span></span><br><span class="line">            <span class="comment">// æœ€å¤§29ä½ï¼ˆCAPACITY=29ä½äºŒè¿›åˆ¶ï¼‰</span></span><br><span class="line">            <span class="comment">// è¶…å‡ºè§„å®šèŒƒå›´ï¼Œè¿”å›falseï¼Œè¡¨ç¤ºä¸å…è®¸å†å¼€å¯æ–°å·¥ä½œçº¿ç¨‹ï¼Œåˆ›å»ºworkerå¤±è´¥ï¼</span></span><br><span class="line">            <span class="keyword">if</span> (wc &gt;= CAPACITY ||</span><br><span class="line">                wc &gt;= (core ? corePoolSize : maximumPoolSize))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            <span class="keyword">if</span> (compareAndIncrementWorkerCount(c))</span><br><span class="line">                <span class="keyword">break</span> retry;</span><br><span class="line">            c = ctl.get();  <span class="comment">// Re-read ctl</span></span><br><span class="line">            <span class="keyword">if</span> (runStateOf(c) != rs)</span><br><span class="line">                <span class="keyword">continue</span> retry;</span><br><span class="line">            <span class="comment">// else CAS failed due to workerCount change; retry inner loop</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¬¬äºŒæ­¥ï¼Œåˆ›å»ºæ–°workeræ”¾å…¥çº¿ç¨‹é›†åˆworkersï¼ˆä¸€ä¸ªHashSetï¼‰</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">workerStarted</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">workerAdded</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">Worker</span> <span class="variable">w</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//ç¬¦åˆæ¡ä»¶ï¼Œåˆ›å»ºæ–°çš„workerå¹¶åŒ…è£…task</span></span><br><span class="line">        w = <span class="keyword">new</span> <span class="title class_">Worker</span>(firstTask);</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> w.thread;</span><br><span class="line">        <span class="keyword">if</span> (t != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">// å¯é‡å…¥é”</span></span><br><span class="line">            <span class="keyword">final</span> <span class="type">ReentrantLock</span> <span class="variable">mainLock</span> <span class="operator">=</span> <span class="built_in">this</span>.mainLock;</span><br><span class="line">            <span class="comment">// åŠ é”ï¼Œworkersæ˜¯ä¸€ä¸ªhashsetï¼Œè¿™é‡Œè¦ä¿éšœçº¿ç¨‹å®‰å…¨æ€§</span></span><br><span class="line">            mainLock.lock();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="comment">// Recheck while holding lock.</span></span><br><span class="line">                <span class="comment">// Back out on ThreadFactory failure or if</span></span><br><span class="line">                <span class="comment">// shut down before lock acquired.</span></span><br><span class="line">                <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> runStateOf(ctl.get());</span><br><span class="line"></span><br><span class="line">                <span class="keyword">if</span> (rs &lt; SHUTDOWN ||</span><br><span class="line">                    (rs == SHUTDOWN &amp;&amp; firstTask == <span class="literal">null</span>)) &#123;</span><br><span class="line">                    <span class="keyword">if</span> (t.isAlive()) <span class="comment">// precheck that t is startable</span></span><br><span class="line">                        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalThreadStateException</span>();</span><br><span class="line">                    </span><br><span class="line">                    workers.add(w);</span><br><span class="line">                    </span><br><span class="line">                    <span class="type">int</span> <span class="variable">s</span> <span class="operator">=</span> workers.size();</span><br><span class="line">                    <span class="keyword">if</span> (s &gt; largestPoolSize)</span><br><span class="line">                        largestPoolSize = s;</span><br><span class="line">                    </span><br><span class="line">                    workerAdded = <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                mainLock.unlock();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (workerAdded) &#123;</span><br><span class="line">                <span class="comment">//æ³¨æ„ï¼Œåªè¦æ˜¯æˆåŠŸaddäº†æ–°çš„workerï¼Œé‚£ä¹ˆå°†è¯¥æ–°workerç«‹å³å¯åŠ¨ï¼Œä»»åŠ¡å¾—åˆ°æ‰§è¡Œ</span></span><br><span class="line">                t.start(); <span class="comment">// ä¼šè‡ªåŠ¨è°ƒç”¨ThreadPoolExecutorä¸­Workerå†…éƒ¨ç±»ä¸­çš„ run()</span></span><br><span class="line">                workerStarted = <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (! workerStarted)</span><br><span class="line">            addWorkerFailed(w);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> workerStarted;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/** Delegates main run loop to outer runWorker  */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">    runWorker(<span class="built_in">this</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">runWorker</span><span class="params">(Worker w)</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">    <span class="comment">//ä»»åŠ¡è·å–ä¸æ‰§è¡Œ</span></span><br><span class="line">    <span class="comment">//åœ¨workeræ‰§è¡ŒrunWorker()çš„æ—¶å€™ï¼Œä¸åœå¾ªç¯ï¼Œå…ˆæŸ¥çœ‹è‡ªå·±æœ‰æ²¡æœ‰æºå¸¦Taskï¼Œå¦‚æœæœ‰ï¼Œæ‰§è¡Œ</span></span><br><span class="line">    <span class="keyword">while</span> (task != <span class="literal">null</span> || (task = getTask()) != <span class="literal">null</span>) &#123; <span class="comment">// ä¸»è¦æ˜¯è¿™ä¸ªgetTask()æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¦‚æœæ²¡æœ‰ï¼Œä¼šè°ƒç”¨getTask,ä»é˜Ÿåˆ—è·å–ä»»åŠ¡</span></span><br><span class="line"><span class="keyword">private</span> Runnable <span class="title function_">getTask</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="variable">timedOut</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// Did the last poll() time out?</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> (;;) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> ctl.get();</span><br><span class="line">        <span class="type">int</span> <span class="variable">rs</span> <span class="operator">=</span> runStateOf(c);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Check if queue empty only if necessary.</span></span><br><span class="line">        <span class="keyword">if</span> (rs &gt;= SHUTDOWN &amp;&amp; (rs &gt;= STOP || workQueue.isEmpty())) &#123;</span><br><span class="line">            decrementWorkerCount();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">wc</span> <span class="operator">=</span> workerCountOf(c);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// Are workers subject to culling? - å¾ˆå½¢è±¡ï¼Œè¦ä¸è¦ä¹–ä¹–çš„è¢«â€œæ•æ€â€ï¼Ÿ</span></span><br><span class="line">        <span class="comment">// åˆ¤æ–­æ˜¯ä¸æ˜¯è¦è¶…æ—¶å¤„ç†ï¼Œé‡ç‚¹ï¼ å†³å®šäº†å½“å‰çº¿ç¨‹è¦ä¸è¦è¢«é‡Šæ”¾</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">timed</span> <span class="operator">=</span> allowCoreThreadTimeOut || wc &gt; corePoolSize;</span><br><span class="line">        <span class="comment">// çº¿ç¨‹æ•°è¶…å‡ºmaxï¼Œå¹¶ä¸”ä¸Šæ¬¡å¾ªç¯ä¸­pollç­‰å¾…è¶…æ—¶äº†ï¼Œé‚£ä¹ˆè¯´æ˜è¯¥çº¿ç¨‹å·²ç»ˆæ­¢</span></span><br><span class="line"><span class="comment">// å°†çº¿ç¨‹é˜Ÿåˆ—æ•°é‡åŸå­æ€§å‡ä¸€</span></span><br><span class="line">        <span class="keyword">if</span> ((wc &gt; maximumPoolSize || (timed &amp;&amp; timedOut))</span><br><span class="line">            &amp;&amp; (wc &gt; <span class="number">1</span> || workQueue.isEmpty())) &#123;</span><br><span class="line">            <span class="comment">// è®¡æ•°å™¨åšåŸå­é€’å‡ï¼Œé€’å‡æˆåŠŸåï¼Œè¿”å›nullï¼Œforè¢«ä¸­æ­¢</span></span><br><span class="line">            <span class="keyword">if</span> (compareAndDecrementWorkerCount(c))</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="comment">// é€’å‡å¤±è´¥ï¼Œç»§ç»­ä¸‹ä¸€è½®å¾ªç¯ï¼Œç›´åˆ°æˆåŠŸ</span></span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// å¦‚æœçº¿ç¨‹å¯è¢«é‡Šæ”¾ï¼Œé‚£å°±pollï¼Œé‡Šæ”¾çš„æ—¶é—´ä¸ºï¼škeepAliceTime</span></span><br><span class="line">            <span class="comment">// å¦åˆ™ï¼Œçº¿ç¨‹æ˜¯ä¸ä¼šè¢«é‡Šæ”¾çš„ï¼Œtakeä¸€ç›´è¢«é˜»å¡åœ¨è¿™é‡Œï¼Œç›´åˆ°æ¥äº†æ–°ä»»åŠ¡ç»§ç»­å·¥ä½œ</span></span><br><span class="line">            <span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> timed ?</span><br><span class="line">                workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) :</span><br><span class="line">            workQueue.take();</span><br><span class="line">            <span class="keyword">if</span> (r != <span class="literal">null</span>)</span><br><span class="line">                <span class="keyword">return</span> r;</span><br><span class="line">            timedOut = <span class="literal">true</span>;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException retry) &#123;</span><br><span class="line">            timedOut = <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Executors-ä¸å»ºè®®ç”¨è¿™ä¸ª"><a href="#Executors-ä¸å»ºè®®ç”¨è¿™ä¸ª" class="headerlink" title="Executors(ä¸å»ºè®®ç”¨è¿™ä¸ª)"></a>Executors(ä¸å»ºè®®ç”¨è¿™ä¸ª)</h3><p>ä»¥ä¸Šæ„é€ å‡½æ•°å‚æ•°æ¯”è¾ƒå¤šï¼Œä¸ºäº†æ–¹ä¾¿ä½¿ç”¨ï¼ŒJUCæä¾›äº†ä¸€ä¸ªExecutorså·¥å…·ç±»ï¼Œå†…éƒ¨æä¾›é™æ€æ–¹æ³•</p><ul><li>newCachedThreadPool()ï¼šå¼¹æ€§çº¿ç¨‹æ•°</li><li>newFixedThreadPool(int nThreads)ï¼šå›ºå®šçº¿ç¨‹æ•°</li><li>newSingleThreadExecutor()ï¼šå•ä¸€çº¿ç¨‹æ•°</li><li>newScheduledThreadPool(int corePoolSize):å¯è°ƒåº¦ï¼Œå¸¸ç”¨äºå®šæ—¶</li></ul><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230919194735981.png" alt="image-20230919194735981"></p><h3 id="ç»å…¸é¢è¯•"><a href="#ç»å…¸é¢è¯•" class="headerlink" title="ç»å…¸é¢è¯•"></a>ç»å…¸é¢è¯•</h3><ol><li>çº¿ç¨‹æ± æ˜¯å¦‚æœä¿è¯çº¿ç¨‹ä¸è¢«é”€æ¯çš„å‘¢ï¼Ÿ</li></ol><p>å¦‚æœé˜Ÿåˆ—ä¸­æ²¡æœ‰ä»»åŠ¡æ—¶ï¼Œæ ¸å¿ƒçº¿ç¨‹ä¼šä¸€ç›´é˜»å¡åœ¨è·å–ä»»åŠ¡çš„æ–¹æ³•ï¼Œç›´åˆ°è¿”å›ä»»åŠ¡ã€‚è€Œä»»åŠ¡æ‰§è¡Œå®Œåï¼Œåˆä¼šè¿›å…¥ä¸‹ä¸€è½®worker.runWork()ä¸­å¾ªç¯</p><p>éªŒè¯ï¼šç§˜å¯†å°±è—åœ¨æ ¸å¿ƒæºç é‡Œ ThreadPoolExecutor.getTask()</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//worker.runWork():</span></span><br><span class="line"><span class="keyword">while</span> (task != <span class="literal">null</span> || (task = getTask()) != <span class="literal">null</span>)</span><br><span class="line">    </span><br><span class="line"><span class="comment">//work.getTask():</span></span><br><span class="line"><span class="type">boolean</span> <span class="variable">timed</span> <span class="operator">=</span> allowCoreThreadTimeOut || wc &gt; corePoolSize;</span><br><span class="line"><span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> timed ?</span><br><span class="line">    workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) :</span><br><span class="line">workQueue.take();</span><br></pre></td></tr></table></figure><ol start="2"><li>æ ¸å¿ƒçº¿ç¨‹ä¸éæ ¸å¿ƒçº¿ç¨‹æœ‰åŒºåˆ«å—ï¼Ÿ</li></ol><p>æ²¡æœ‰ï¼Œè¢«é”€æ¯çš„çº¿ç¨‹å’Œåˆ›å»ºçš„å…ˆåæ— å…³ï¼Œå³ä¾¿æ˜¯ç¬¬ä¸€ä¸ªè¢«åˆ›å»ºçš„æ ¸å¿ƒçº¿ç¨‹ï¼Œä»ç„¶æœ‰å¯èƒ½è¢«é”€æ¯ã€‚</p><p>éªŒè¯ï¼šçœ‹æºç ï¼Œæ¯ä¸ªworkeråœ¨runWork()çš„æ—¶å€™å»getTask()ï¼Œåœ¨getTaskå†…éƒ¨ï¼Œå¹¶æ²¡æœ‰é’ˆå¯¹æ€§åœ°åŒºåˆ†å½“å‰ workeræ˜¯å¦æ˜¯æ ¸å¿ƒçº¿ç¨‹çš„æ“ä½œï¼Œåªæ˜¯åˆ¤æ–­workersæ•°é‡è¶…å‡ºcoreï¼Œå°±ä¼šè°ƒç”¨poll()ï¼Œå¦åˆ™take()ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> timed ?</span><br><span class="line">    workQueue.poll(keepAliveTime, TimeUnit.NANOSECONDS) :</span><br><span class="line">workQueue.take();</span><br></pre></td></tr></table></figure><h2 id="Fork-Join"><a href="#Fork-Join" class="headerlink" title="Fork&#x2F;Join"></a>Fork&#x2F;Join</h2><h3 id="æ¦‚å¿µ"><a href="#æ¦‚å¿µ" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>ForkJoinPoolæ˜¯ç”±JDK1.7åæä¾›å¤šçº¿ç¨‹å¹¶è¡Œæ‰§è¡Œä»»åŠ¡çš„æ¡†æ¶ï¼Œå¯ä»¥ç†è§£ä¸ºä¸€ç§ç‰¹æ®Šçš„çº¿ç¨‹æ± <strong>ï¼ˆæœ‰ç‚¹åƒMapReduceï¼‰</strong></p><ul><li>ä»»åŠ¡åˆ†å‰²ï¼šfork(åˆ†å‰),å…ˆæŠŠå¤§çš„ä»»åŠ¡åˆ†å‰²æˆè¶³å¤Ÿå°çš„å­ä»»åŠ¡ï¼Œå¦‚æœå­ä»»åŠ¡æ¯”è¾ƒå¤§çš„è¯è¿˜è¦å¯¹å­ä»»åŠ¡è¿›è¡Œç»§ç»­åˆ†å‰²</li><li>åˆå¹¶ç»“æœï¼šjoinï¼Œåˆ†å‰²åçš„å­ä»»åŠ¡è¢«å¤šä¸ªçº¿ç¨‹æ‰§è¡Œåï¼Œå†åˆå¹¶ç»“æœï¼Œå¾—åˆ°æœ€ç»ˆçš„å®Œæ•´è¾“å‡º</li></ul><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230921200750431.png" alt="image-20230921200750431"></p><h3 id="ç»„æˆ"><a href="#ç»„æˆ" class="headerlink" title="ç»„æˆ"></a>ç»„æˆ</h3><ul><li>ForkJoinTaskï¼šä¸»è¦æä¾›forkå’Œjoinä¸¤ä¸ªæ–¹æ³•ç”¨äºä»»åŠ¡æ‹†åˆ†ä¸åˆå¹¶ï¼Œä¸€èˆ¬ç”¨å­ç±» <strong>RecursiveActionï¼ˆæ— è¿”å›å€¼çš„ä»»åŠ¡ï¼‰</strong>å’Œ<strong>RecursiveTaskï¼ˆéœ€è¦è¿”å›å€¼ï¼‰</strong>æ¥å®ç°computeæ–¹æ³•ã€‚</li><li>ForkJoinPoolï¼šè°ƒåº¦ForkJoinTaskçš„çº¿ç¨‹æ± </li><li>ForkJoinWorkerThreadï¼šThreadçš„å­ç±»ï¼Œå­˜æ”¾äºçº¿ç¨‹æ± ç§çš„å·¥ä½œçº¿ç¨‹ï¼ˆWorkerï¼‰</li><li>WorkQueueï¼šä»»åŠ¡é˜Ÿåˆ—ï¼Œç”¨äºä¿å­˜ä»»åŠ¡</li></ul><h4 id="åŸºæœ¬ä½¿ç”¨"><a href="#åŸºæœ¬ä½¿ç”¨" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SumTask</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Integer</span> <span class="variable">MAX</span> <span class="operator">=</span> <span class="number">100</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">SubTask</span> <span class="keyword">extends</span> <span class="title class_">RecursiveTask</span>&lt;Integer&gt; &#123;</span><br><span class="line">        <span class="comment">// å­ä»»åŠ¡å¼€å§‹è®¡ç®—çš„å€¼</span></span><br><span class="line">        <span class="keyword">private</span> Integer start;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å­ä»»åŠ¡ç»“æŸè®¡ç®—çš„å€¼</span></span><br><span class="line">        <span class="keyword">private</span> Integer end;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="title function_">SubTask</span><span class="params">(Integer start , Integer end)</span> &#123;</span><br><span class="line">            <span class="built_in">this</span>.start = start;</span><br><span class="line">            <span class="built_in">this</span>.end = end;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">protected</span> Integer <span class="title function_">compute</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(end - start &lt; MAX) &#123;</span><br><span class="line">                <span class="comment">//å°äºè¾¹ç•Œï¼Œå¼€å§‹è®¡ç®—</span></span><br><span class="line">                System.out.println(<span class="string">&quot;start = &quot;</span> + start + <span class="string">&quot;;end = &quot;</span> + end);</span><br><span class="line">                <span class="type">Integer</span> <span class="variable">totalValue</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">                <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">index</span> <span class="operator">=</span> <span class="built_in">this</span>.start ; index &lt;= <span class="built_in">this</span>.end ; index++) &#123;</span><br><span class="line">                    totalValue += index;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> totalValue;</span><br><span class="line">            &#125;<span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="comment">//å¦åˆ™ï¼Œä¸­é—´åŠˆå¼€ç»§ç»­æ‹†åˆ†</span></span><br><span class="line">                <span class="type">SubTask</span> <span class="variable">subTask1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubTask</span>(start, (start + end) / <span class="number">2</span>);</span><br><span class="line">                subTask1.fork(); <span class="comment">// å°†ä»»åŠ¡æ‹†åˆ†</span></span><br><span class="line">                <span class="type">SubTask</span> <span class="variable">subTask2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SubTask</span>((start + end) / <span class="number">2</span> + <span class="number">1</span> , end);</span><br><span class="line">                subTask2.fork(); <span class="comment">// å°†ä»»åŠ¡æ‹†åˆ†</span></span><br><span class="line">                <span class="keyword">return</span> subTask1.join() + subTask2.join();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ForkJoinPool</span> <span class="variable">pool</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ForkJoinPool</span>();</span><br><span class="line">        Future&lt;Integer&gt; taskFuture =  pool.submit(<span class="keyword">new</span> <span class="title class_">SubTask</span>(<span class="number">1</span>,<span class="number">1000</span>));</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Integer</span> <span class="variable">result</span> <span class="operator">=</span> taskFuture.get();</span><br><span class="line">            System.out.println(<span class="string">&quot;result = &quot;</span> + result);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException | ExecutionException e) &#123;</span><br><span class="line">            e.printStackTrace(System.out);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è®¾è®¡æ€æƒ³"><a href="#è®¾è®¡æ€æƒ³" class="headerlink" title="è®¾è®¡æ€æƒ³"></a>è®¾è®¡æ€æƒ³</h3><p>æ™®é€šçº¿ç¨‹æ± å†…éƒ¨æœ‰ä¸¤ä¸ªé‡è¦é›†åˆï¼šå·¥ä½œçº¿ç¨‹é›†åˆï¼ˆæ™®é€šçº¿ç¨‹ï¼‰å’Œä»»åŠ¡é˜Ÿåˆ—ã€‚</p><p>ForkJoinPoolä¹Ÿç±»ä¼¼ï¼Œçº¿ç¨‹é›†åˆé‡Œæ”¾çš„æ˜¯ç‰¹æ®Šçº¿ç¨‹ForkJoinWorkerThread, ä»»åŠ¡é˜Ÿåˆ—é‡Œæ”¾çš„æ˜¯ç‰¹æ®Šä»»åŠ¡ForkJoinTask</p><p>ä¸åŒä¹‹å¤„åœ¨äºï¼Œæ™®é€šçº¿ç¨‹æ± åªæœ‰ä¸€ä¸ªé˜Ÿåˆ—ï¼Œè€ŒForkJoinPoolçš„å·¥ä½œçº¿ç¨‹ForkJoinWorkerThreadæ¯ä¸ªçº¿ç¨‹å†…éƒ½ç»‘å®šä¸€ä¸ªåŒç«¯é˜Ÿåˆ—ã€‚</p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230922084233335.png" alt="image-20230922084233335"></p><p>åœ¨forkçš„æ—¶å€™ï¼Œä¹Ÿå°±æ˜¯ä»»åŠ¡æ‹†åˆ†ï¼Œæ‹†åˆ†çš„taskä¼šè¢«å½“å‰çº¿ç¨‹æ”¾åˆ°è‡ªå·±çš„é˜Ÿåˆ—ä¸­ã€‚å¦‚æœæœ‰ä»»åŠ¡ï¼Œé‚£ä¹ˆçº¿ç¨‹ä¼˜å…ˆä»è‡ªå·±çš„é˜Ÿåˆ—é‡Œå»ä»»åŠ¡ï¼Œä»¥<strong>FILO</strong>å…ˆè¿›åå‡ºæ–¹å¼ä»é˜Ÿå°¾è·å–ä»»åŠ¡ã€‚å½“è‡ªå·±é˜Ÿåˆ—ä¸­ä»»åŠ¡æ‰§è¡Œå®Œåï¼Œå·¥ä½œçº¿ç¨‹ä¼šè·‘åˆ°å…¶ä»–é˜Ÿåˆ—ä»¥work-stealingçªƒå–ä»»åŠ¡ï¼Œçªƒå–æ–¹å¼ä¸º<strong>FIFO</strong>å…ˆè¿›å…ˆå‡ºï¼Œå‡å°‘ç«äº‰ã€‚</p><h3 id="æ³¨æ„ç‚¹"><a href="#æ³¨æ„ç‚¹" class="headerlink" title="æ³¨æ„ç‚¹"></a>æ³¨æ„ç‚¹</h3><p>ä½¿ç”¨ForkJoinå°†ç›¸åŒçš„è®¡ç®—ä»»åŠ¡é€šè¿‡å¤šçº¿ç¨‹æ‰§è¡Œï¼Œä½†æ˜¯åœ¨ä½¿ç”¨ä¸­éœ€è¦æ³¨æ„ï¼š</p><ul><li>ä»»åŠ¡åˆ‡åˆ†çš„ç²’åº¦ï¼Œä¹Ÿå°±æ˜¯forkçš„ç•Œé™ï¼Œå¹¶éè¶Šå°è¶Šå¥½</li><li>åˆ¤æ–­è¦ä¸è¦ä½¿ç”¨ForkJoinï¼Œ<strong>ä»»åŠ¡é‡ä¸æ˜¯å¤ªå¤§çš„è¯</strong>ï¼Œä¸²è¡Œå¯èƒ½ä¼˜äºå¹¶è¡Œï¼Œå› ä¸ºå¤šçº¿ç¨‹ä¼šæ¶‰åŠåˆ°ä¸Šä¸‹æ–‡çš„åˆ‡æ¢</li></ul><h2 id="åŸå­æ“ä½œ"><a href="#åŸå­æ“ä½œ" class="headerlink" title="åŸå­æ“ä½œ"></a>åŸå­æ“ä½œ</h2><h3 id="æ¦‚å¿µ-1"><a href="#æ¦‚å¿µ-1" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><p>åŸå­ï¼ˆatomï¼‰æœ¬æ„æ˜¯â€œä¸èƒ½è¢«è¿›ä¸€æ­¥åˆ†å‰²çš„æœ€å°ç²’å­â€ï¼Œè€ŒåŸå­æ“ä½œï¼ˆatomic operationï¼‰æ„ä¸ºâ€œä¸å¯è¢«ç»ˆç«¯çš„ä¸€ä¸ªæˆ–ä¸€ç³»åˆ—æ“ä½œâ€</p><p><font color="#d12920">åŸå­æ€§æŒ‡çš„æ˜¯æ±‡ç¼–æŒ‡ä»¤å±‚é¢ï¼Œæ¯”å¦‚javaä¸­çš„ i++ï¼Œå…¶å®æ¶‰åŠåˆ°äº†å¥½å‡ æ¡çš„æ±‡ç¼–æŒ‡ä»¤</font></p><h3 id="CAS"><a href="#CAS" class="headerlink" title="CAS"></a>CAS</h3><p>CAS(Compare-and-Swap&#x2F;Exchange),å³æ¯”è¾ƒå¹¶æ›¿æ¢ï¼Œ<strong>æ˜¯ä¸€ç§ä¹è§‚é”çš„å®ç°ï¼Œç”¨äºè§£å†³å¹¶å‘é—®é¢˜</strong>ã€‚</p><p>CASæ ¸å¿ƒç®—æ³•ï¼šæ‰§è¡Œå‡½æ•°CASï¼ˆV,E,Nï¼‰</p><ul><li>Vè¡¨ç¤ºå‡†å¤‡è¦è¢«æ›´æ–°çš„å˜é‡ï¼ˆå†…å­˜çš„å€¼ï¼‰</li><li>Eè¡¨ç¤ºæˆ‘ä»¬æä¾›çš„æœŸæœ›çš„å€¼ï¼ˆæœŸæœ›çš„åŸå€¼ï¼‰</li><li>Nè¡¨ç¤ºæ–°å€¼ï¼Œå‡†å¤‡æ›´æ–°Vçš„å€¼ï¼ˆæ–°å€¼ï¼‰</li></ul><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230919201515325.png" alt="image-20230919201515325"></p><p>JUCä¸­æä¾›äº†Atomicå¼€å¤´çš„ç±»ï¼ŒåŸºäºCASå®ç°åŸå­æ€§æ“ä½œï¼Œæœ€åŸºæœ¬çš„åº”ç”¨å°±æ˜¯è®¡æ•°å™¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AtomicCounter</span> &#123;</span><br><span class="line">    <span class="comment">// AtomicIntegerä¿è¯äº† iå˜é‡çš„æ“ä½œæ˜¯å…·æœ‰åŸå­æ€§çš„</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">AtomicInteger</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">get</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> i.get();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">inc</span><span class="params">()</span> &#123;</span><br><span class="line">        i.incrementAndGet();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">AtomicCounter</span> <span class="variable">counter</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicCounter</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                    counter.inc();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        <span class="comment">//å¯ä»¥æ­£ç¡®è¾“å‡º10</span></span><br><span class="line">        System.out.println(i.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>CASè™½ç„¶å¾ˆé«˜æ•ˆåœ°è§£å†³äº†åŸå­æ“ä½œé—®é¢˜ï¼Œä½†æ˜¯CASä»ç„¶å­˜åœ¨ä¸‰å¤§é—®é¢˜ï¼š</p><ul><li>è‡ªæ—‹ï¼ˆå¾ªç¯ï¼‰æ—¶é—´é•¿å¼€é”€å¾ˆå¤§ï¼Œå¦‚æœCASå¤±è´¥ï¼Œä¼šä¸€ç›´è¿›è¡Œå°è¯•ã€‚å¦‚æœCASé•¿æ—¶é—´ä¸€ç›´ä¸æˆåŠŸï¼Œå¯èƒ½ä¼šç»™CPUå¸¦æ¥å¾ˆå¤§çš„å¼€é”€ï¼Œæ³¨æ„è¿™é‡Œçš„<strong>è‡ªæ—‹æ˜¯åœ¨ç”¨æˆ·æ€&#x2F;SDKå±‚é¢å®ç°çš„</strong></li><li><strong>åªèƒ½ä¿è¯ä¸€ä¸ªå…±äº«å˜é‡</strong>çš„åŸå­æ“ä½œï¼Œå¯¹å¤šä¸ªå…±äº«å˜é‡æ“ä½œæ—¶ï¼Œå¾ªç¯CASå°±æ— æ³•ä¿è¯æ“ä½œçš„åŸå­æ€§ï¼Œè¿™ä¸ªæ—¶å€™å°±å¯ä»¥ç”¨é”æ¥ä¿è¯åŸå­æ€§</li><li>ABAé—®é¢˜ï¼Œåœ¨ä½¿ç”¨CASå‰è¦è€ƒè™‘æ¸…æ¥šâ€œABAâ€é—®é¢˜æ˜¯å¦ä¼šå½±å“ç¨‹åºå¹¶å‘çš„æ­£ç¡®æ€§ï¼Œå¦‚æœéœ€è¦è§£å†³ABAé—®é¢˜ï¼Œ<strong>æ”¹ç”¨ä¼ ç»Ÿçš„äº’æ–¥åŒæ­¥å¯èƒ½ä¼šæ¯”CASæ›´é«˜æ•ˆã€‚æˆ–è€…åœ¨Eå¯¹è±¡é‡ŒåŠ ä¸ªæ“ä½œæ¬¡æ•°å˜é‡</strong>ï¼Œæ¯æ¬¡åˆ¤æ–­æ—¶å¯¹æ¯”ä¸¤ä¸ªï¼ŒEå’Œæ“ä½œæ¬¡æ•°å°±okäº†ï¼Œå› ä¸ºABAé—®é¢˜ä¸­å°±ç®—Eç›¸åŒæ“ä½œæ¬¡æ•°ä¹Ÿç»ä¸ç›¸åŒã€‚</li></ul><h3 id="atomic"><a href="#atomic" class="headerlink" title="atomic"></a>atomic</h3><ul><li>åŸºæœ¬ç±»å‹<ul><li>AtomicBooleanï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–°Boolean</li><li>AtomicIntegerï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–°Integer</li><li>AtomicLongï¼šä»¥åŸå­æ›´æ–°çš„æ–¹å¼æ›´æ–°Long</li></ul></li><li>å¼•ç”¨ç±»å‹<ul><li>AtomicReferenceï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹</li><li>AtomicReferenceFieldUpdaterï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹çš„å­—æ®µ</li><li>AtomicMarkableReferenceï¼šåŸå­æ›´æ–°å¸¦æœ‰æ ‡å¿—ä½çš„å¼•ç”¨ç±»å‹</li></ul></li><li>æ•°ç»„<ul><li>AtomicIntegerArrayï¼šåŸå­æ›´æ–°æ•´å‹æ•°ç»„é‡Œçš„å…ƒç´  </li><li>AtomicLongArrayï¼šåŸå­æ›´æ–°é•¿æ•´å‹æ•°ç»„é‡Œçš„å…ƒç´  </li><li>AtomicReferenceArrayï¼šåŸå­æ›´æ–°å¼•ç”¨ç±»å‹æ•°ç»„é‡Œçš„å…ƒç´ </li></ul></li><li>å­—æ®µ<ul><li>AtomicIntegerFieldUpdaterï¼šåŸå­æ›´æ–°æ•´å‹çš„å­—æ®µçš„æ›´æ–°å™¨ </li><li>AtomicLongFieldUpdaterï¼šåŸå­æ›´æ–°é•¿æ•´å‹å­—æ®µçš„æ›´æ–°å™¨</li><li>AtomicStampedReferenceï¼šåŸå­æ›´æ–°å¸¦æœ‰ç‰ˆæœ¬å·çš„å¼•ç”¨ç±»å‹</li></ul></li></ul><h3 id="æ³¨æ„"><a href="#æ³¨æ„" class="headerlink" title="æ³¨æ„"></a>æ³¨æ„</h3><p>ä½¿ç”¨atomicè¦æ³¨æ„åŸå­æ€§çš„è¾¹ç•Œï¼ŒæŠŠæ¡ä¸å¥½ä¼šèµ·ä¸åˆ°åº”æœ‰çš„æ•ˆæœï¼ŒåŸå­æ€§è¢«ç ´åã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BadAtomic</span> &#123;</span><br><span class="line">    <span class="type">AtomicInteger</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">static</span> <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">badInc</span><span class="params">()</span> &#123; <span class="comment">// + synchronizedå¯ä»¥è§£å†³åŒæ­¥é—®é¢˜</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">k</span> <span class="operator">=</span> i.incrementAndGet();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="keyword">new</span> <span class="title class_">Random</span>().nextInt(<span class="number">100</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        j = k; <span class="comment">// å†æ¬¡èµ‹å€¼å¯¼è‡´åŸå­æ€§è¢«ç ´åäº†</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">BadAtomic</span> <span class="variable">atomic</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BadAtomic</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">                atomic.badInc();</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">        Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        System.out.println(atomic.j);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å¯¼è‡´æ¯æ¬¡ç»“æœä¸ä¸€æ ·</span></span><br></pre></td></tr></table></figure><h2 id="AQS"><a href="#AQS" class="headerlink" title="AQS"></a>AQS</h2><h3 id="å‰è¨€-1"><a href="#å‰è¨€-1" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h3><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923092837608.png" alt="image-20230923092837608"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line">ublic <span class="keyword">class</span> <span class="title class_">MyLock</span> &#123;</span><br><span class="line">    <span class="comment">// å®šä¹‰ä¸€ä¸ªçŠ¶æ€å˜é‡statusï¼šä¸º1è¡¨ç¤ºé”è¢«æŒæœ‰ï¼Œä¸º0è¡¨ç¤ºé”æœªè¢«æŒæœ‰</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> status;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Unsafe</span> <span class="variable">unsafe</span> <span class="operator">=</span> reflectGetUnsafe();</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> valueOffset;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Queue&lt;Thread&gt; QUEUE = <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            valueOffset = unsafe.objectFieldOffset</span><br><span class="line">                (MyLock.class.getDeclaredField(<span class="string">&quot;status&quot;</span>));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception ex) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(ex);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Unsafe <span class="title function_">reflectGetUnsafe</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">Field</span> <span class="variable">field</span> <span class="operator">=</span> Unsafe.class.getDeclaredField(<span class="string">&quot;theUnsafe&quot;</span>);</span><br><span class="line">            field.setAccessible(<span class="literal">true</span>);</span><br><span class="line">            <span class="keyword">return</span> (Unsafe) field.get(<span class="literal">null</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * é˜»å¡å¼è·å–é”</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">lock</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// CAS+è‡ªæ—‹</span></span><br><span class="line">        <span class="keyword">while</span> (!compareAndSet(<span class="number">0</span>,<span class="number">1</span>)) &#123;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// cas è®¾ç½® status</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">boolean</span> <span class="title function_">compareAndSet</span><span class="params">(<span class="type">int</span> expect, <span class="type">int</span> update)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> unsafe.compareAndSwapInt(<span class="built_in">this</span>, valueOffset, expect, update);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * é‡Šæ”¾é”</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">        status = <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>å­˜åœ¨é—®é¢˜ï¼šè·å–ä¸åˆ°é”è‡ªæ—‹æ—¶ï¼Œæ˜¯ç©ºè½¬ï¼Œæµªè´¹CPU</strong></p><p>è§£å†³æ–¹æ³•ï¼š</p><ul><li>ä½¿ç”¨ <code>yield</code> è®©å‡ºCPUæ‰§è¡Œæƒï¼Œç­‰å¾…è°ƒåº¦</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">lock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!compareAndSet(<span class="number">0</span>,<span class="number">1</span>)) &#123;</span><br><span class="line">        Thread.<span class="keyword">yield</span>();<span class="comment">//yield+è‡ªæ—‹,å°½å¯èƒ½çš„é˜²æ­¢CPUç©ºè½¬,è®©å‡ºCPUèµ„æº</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ–è€…å¯ä»¥é‡‡ç”¨çº¿ç¨‹ä¼‘çœ çš„æ–¹å¼ï¼Œä½†æ˜¯ä¼‘çœ æ—¶é—´ä¸å¤ªå¥½ç¡®å®šï¼Œå¤ªé•¿å¤ªçŸ­éƒ½ä¸å¥½ã€‚</p><ul><li>é‡‡ç”¨ç­‰å¾…å”¤é†’æœºåˆ¶ï¼Œä½†æ˜¯è¿™é‡Œç”±äºæ²¡æœ‰ä½¿ç”¨<code>synchronized</code>å…³é”®å­—ï¼Œæ‰€ä»¥ä¹Ÿæ— æ³•ä½¿ç”¨<code>wait/notify</code>,ä½†æ˜¯æˆ‘ä»¬å¯ä»¥ä½¿ç”¨<code>park/unpark</code>ï¼Œè·å–ä¸åˆ°é”çš„çº¿ç¨‹<code>park</code>å¹¶ä¸”å»é˜Ÿåˆ—æ’é˜Ÿï¼Œé‡Šæ”¾é”æ—¶ä»é˜Ÿåˆ—æ‹¿å‡ºä¸€ä¸ªçº¿ç¨‹<code>unpark</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Queue&lt;Thread&gt; QUEUE = <span class="keyword">new</span> <span class="title class_">LinkedBlockingQueue</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">lock</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">while</span> (!compareAndSet(<span class="number">0</span>,<span class="number">1</span>)) &#123;</span><br><span class="line">        QUEUE.offer(Thread.currentThread());</span><br><span class="line">        LockSupport.park();<span class="comment">//çº¿ç¨‹ä¼‘çœ </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">    status = <span class="number">0</span>;</span><br><span class="line">    LockSupport.unpark(QUEUE.poll()); <span class="comment">// ä»é˜Ÿåˆ—æ‹¿å‡ºä¸€ä¸ªé˜Ÿåˆ—çš„å¤´èŠ‚ç‚¹</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="AQSæ¦‚è¿°"><a href="#AQSæ¦‚è¿°" class="headerlink" title="AQSæ¦‚è¿°"></a>AQSæ¦‚è¿°</h3><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923095045355.png" alt="image-20230923095045355"></p><ol start="6"><li>AQSåº•å±‚ä½¿ç”¨äº†æ¨¡æ¿æ–¹æ³•æ¨¡å¼ï¼Œç»™æˆ‘ä»¬æä¾›äº†è®¸å¤šæ¨¡æ¿æ–¹æ³•ï¼Œç›´æ¥ä½¿ç”¨å³å¯ã€‚</li></ol><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923100633835.png" alt="image-20230923100633835"></p><h3 id="åŸºæœ¬ä½¿ç”¨-1"><a href="#åŸºæœ¬ä½¿ç”¨-1" class="headerlink" title="åŸºæœ¬ä½¿ç”¨"></a>åŸºæœ¬ä½¿ç”¨</h3><p>ç›´æ¥ç»§æ‰¿AbstractQueuedSynchronizeré‡å†™å…¶ä¸­çš„tryXxxxæ–¹æ³•å³å¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyLock</span> <span class="keyword">implements</span> <span class="title class_">Lock</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//åŒæ­¥å™¨</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">Syn</span> <span class="variable">syn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Syn</span>();</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">lock</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è°ƒç”¨æ¨¡æ¿æ–¹æ³•</span></span><br><span class="line">        syn.acquire(<span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">lockInterruptibly</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">tryLock</span><span class="params">(<span class="type">long</span> time, TimeUnit unit)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">unlock</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è°ƒç”¨æ¨¡æ¿æ–¹æ³•</span></span><br><span class="line">        syn.release(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> Condition <span class="title function_">newCondition</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å®ç°ä¸€ä¸ªç‹¬å åŒæ­¥å™¨</span></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Syn</span> <span class="keyword">extends</span> <span class="title class_">AbstractQueuedSynchronizer</span> &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryAcquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (compareAndSetState(<span class="number">0</span>, arg)) &#123;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryRelease</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">            setState(arg);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="åŸç†è§£æ"><a href="#åŸç†è§£æ" class="headerlink" title="åŸç†è§£æ"></a>åŸç†è§£æ</h3><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923101646456.png" alt="image-20230923101646456"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">acquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!tryAcquire(arg) &amp;&amp;</span><br><span class="line">        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))</span><br><span class="line">        selfInterrupt();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>çº¿ç¨‹ä¸€æ¥é¦–å…ˆè°ƒç”¨<code>tryAcquire</code>, åœ¨<code>tryAcquire</code>ä¸­ç›´æ¥CASè·å–é”ï¼Œå¦‚æœè·å–ä¸æˆåŠŸé€šè¿‡<code>addWaite</code>råŠ å…¥ç­‰å¾…é˜Ÿåˆ—ï¼Œç„¶åèµ°<code>acquireQueued</code>è®©é˜Ÿåˆ—ä¸­çš„æŸä¸ªç­‰å¾…çº¿ç¨‹å»è·å–é”</li><li>ä¸å…¬å¹³å°±ä½“ç°åœ¨è¿™é‡Œï¼Œçº¿ç¨‹æ¥äº†ä¹Ÿä¸å…ˆçœ‹ä¸€ä¸‹ç­‰å¾…é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰çº¿ç¨‹åœ¨ç­‰å¾…ï¼Œå¦‚æœæ²¡æœ‰çº¿ç¨‹ç­‰å¾…ï¼Œé‚£å°±ç›´æ¥è·å–é”æ²¡ä»€ä¹ˆé—®é¢˜ï¼Œå¦‚æœæœ‰çº¿ç¨‹ç­‰å¾…å°±ç›´æ¥å»è·å–é”ä¸å°±ç›¸å½“äºæ’é˜Ÿäº†å—ï¼Ÿ</li></ul><ol><li>æŸ¥çœ‹ AbstractQueuedSynchronizer çš„ç±»å®šä¹‰ï¼Œè™½ç„¶å®ƒé‡Œé¢ä»£ç å¾ˆå¤šï¼Œä½†é‡è¦çš„å±æ€§å°±é‚£ä¹ˆå‡ ä¸ª</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractQueuedSynchronizer</span> <span class="keyword">extends</span> <span class="title class_">AbstractOwnableSynchronizer</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> state;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Node head;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Node tail;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Node</span> &#123;</span><br><span class="line">        <span class="comment">//å…¶ä»–ä¸é‡è¦çš„ç•¥</span></span><br><span class="line">        <span class="keyword">volatile</span> <span class="type">int</span> waitStatus;</span><br><span class="line">        <span class="keyword">volatile</span> Node prev;</span><br><span class="line">        <span class="keyword">volatile</span> Node next;</span><br><span class="line">        <span class="keyword">volatile</span> Thread thread;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConditionObject</span> <span class="keyword">implements</span> <span class="title class_">Condition</span>, java.io.Serializable &#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923102816329.png" alt="image-20230923102816329"></p><ol start="2"><li>AQSåŠ é”æœ€æ ¸å¿ƒçš„ä»£ç å°±æ˜¯å¦‚ä¸‹ï¼Œæˆ‘ä»¬è¦æ¥æ¢ç©¶å®ƒçš„å®ç°åŸç†</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">acquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!tryAcquire(arg) &amp;&amp;</span><br><span class="line">        acquireQueued(addWaiter(Node.EXCLUSIVE), arg))</span><br><span class="line">        selfInterrupt();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923103456490.png" alt="image-20230923103456490"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923103550773.png" alt="image-20230923103550773"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923103636734.png" alt="image-20230923103636734"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923103749389.png" alt="image-20230923103749389"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923103837472.png" alt="image-20230923103837472"></p><ol start="3"><li>åŸç†ææ‡‚äº†ï¼Œé‚£å¦‚ä½•è®©è‡ªå®šä¹‰çš„é”æ˜¯å…¬å¹³çš„å‘¢ï¼Ÿ</li></ol><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923104038446.png" alt="image-20230923104038446"></p><ol start="4"><li>ç°åœ¨å·²ç»æœ‰å…¬å¹³é”äº†ï¼Œä½†æ˜¯æˆå¹´äººçš„ä¸–ç•Œä¸æ˜¯åšé€‰æ‹©é¢˜ï¼Œè€Œæ˜¯éƒ½æƒ³è¦ï¼Œè‡ªå·±ç¼–å†™çš„é”æ—¢èƒ½æ”¯æŒå…¬å¹³ é”ï¼Œä¹Ÿæ”¯æŒéå…¬å¹³é”ï¼Œè®©ä½¿ç”¨è€…å¯ä»¥è‡ªç”±é€‰æ‹©ï¼Œæ€ä¹ˆåŠï¼Ÿ</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°ä¸€ä¸ªç‹¬å åŒæ­¥å™¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sync</span> <span class="keyword">extends</span> <span class="title class_">AbstractQueuedSynchronizer</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryRelease</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">        setState(arg);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FairSync</span> <span class="keyword">extends</span> <span class="title class_">Sync</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryAcquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">        <span class="comment">//å…ˆåˆ¤æ–­ç­‰å¾…é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰çº¿ç¨‹åœ¨æ’é˜Ÿ æ²¡æœ‰çº¿ç¨‹æ’é˜Ÿåˆ™ç›´æ¥å»è·å–é”</span></span><br><span class="line">        <span class="keyword">if</span> (!hasQueuedPredecessors() &amp;&amp; compareAndSetState(<span class="number">0</span>,arg)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoFairSync</span> <span class="keyword">extends</span> <span class="title class_">Sync</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryAcquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">        <span class="comment">//ç›´æ¥å»è·å–é”</span></span><br><span class="line">        <span class="keyword">if</span> (compareAndSetState(<span class="number">0</span>,arg)) &#123;</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ol start="5"><li>ç°åœ¨é”çš„å…¬å¹³æ€§é—®é¢˜è§£å†³äº†ï¼Œä½†æ˜¯è€æ¿åˆå‡ºäº†æ–°çš„éœ€æ±‚ï¼Œè¦æ±‚æˆ‘ä»¬çš„é”æ”¯æŒå¯é‡å…¥ï¼Œå› ä¸ºå®ƒå†™äº†å¦‚ ä¸‹ä¸€æ®µä»£ç ï¼Œå‘ç°ä¸€ç›´è·å–ä¸åˆ°é”ã€‚</li></ol><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">static</span> <span class="type">Lock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyLock</span>();</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">    lock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test3 get lock,then do something &quot;</span>);</span><br><span class="line">        test4();</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">()</span> &#123;</span><br><span class="line">    lock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;test4 get lock,then do something &quot;</span>);</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é‚£å¦‚ä½•è®©é”æ”¯æŒå¯é‡å…¥å‘¢ï¼Ÿä¹Ÿå°±æ˜¯è¯´å¦‚æœä¸€ä¸ªçº¿ç¨‹æŒæœ‰é”ä¹‹åï¼Œè¿˜èƒ½ç»§ç»­è·å–é”(<strong>åŒä¸€çº¿ç¨‹å¯é‡å…¥</strong>)ï¼Œä¹Ÿå°±æ˜¯è¯´è®©é”åªå¯¹<strong>ä¸åŒçº¿ç¨‹äº’æ–¥</strong>ã€‚</p><p>æŸ¥çœ‹ <code>AbstractQueuedSynchronizer</code> çš„å®šä¹‰æˆ‘ä»¬å‘ç°ï¼Œå®ƒè¿˜ç»§æ‰¿è‡ªå¦ä¸€ä¸ªç±»ï¼š <code>AbstractOwnableSynchronizer</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractQueuedSynchronizer</span> <span class="keyword">extends</span> <span class="title class_">AbstractOwnableSynchronizer</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;...&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">AbstractOwnableSynchronizer</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> Thread exclusiveOwnerThread;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">setExclusiveOwnerThread</span><span class="params">(Thread thread)</span> &#123;...&#125;</span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">final</span> Thread <span class="title function_">getExclusiveOwnerThread</span><span class="params">()</span>&#123;...&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åŸæ¥ AQS ä¸­æœ‰ä¸ªå˜é‡æ˜¯å¯ä»¥ä¿å­˜å½“å‰æŒæœ‰ç‹¬å é”çš„çº¿ç¨‹çš„ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å®ç°ä¸€ä¸ªç‹¬å åŒæ­¥å™¨</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Sync</span> <span class="keyword">extends</span> <span class="title class_">AbstractQueuedSynchronizer</span>&#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryRelease</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">        <span class="comment">// åˆ¤æ–­å½“å‰çº¿ç¨‹æ˜¯ä¸æ˜¯ è¯¥ç‹¬å é”çš„æ‹¥æœ‰è€…</span></span><br><span class="line">        <span class="keyword">if</span> (Thread.currentThread() != getExclusiveOwnerThread()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalMonitorStateException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">boolean</span> <span class="variable">realRelease</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">nextState</span> <span class="operator">=</span> getState() - arg;</span><br><span class="line">        <span class="keyword">if</span> (nextState == <span class="number">0</span>) &#123;</span><br><span class="line">            realRelease = <span class="literal">true</span>;</span><br><span class="line">            setExclusiveOwnerThread(<span class="literal">null</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        setState(nextState);</span><br><span class="line">        <span class="keyword">return</span> realRelease;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FairSync</span> <span class="keyword">extends</span> <span class="title class_">Sync</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryAcquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Thread</span> <span class="variable">currentThread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="type">int</span> <span class="variable">currentState</span> <span class="operator">=</span> getState();</span><br><span class="line">        <span class="keyword">if</span> (currentState == <span class="number">0</span> ) &#123; <span class="comment">// å¯ä»¥è·å–é”</span></span><br><span class="line">            <span class="comment">//å…ˆåˆ¤æ–­ç­‰å¾…é˜Ÿåˆ—ä¸­æ˜¯å¦æœ‰çº¿ç¨‹åœ¨æ’é˜Ÿ æ²¡æœ‰çº¿ç¨‹æ’é˜Ÿåˆ™ç›´æ¥å»è·å–é”</span></span><br><span class="line">            <span class="keyword">if</span> (!hasQueuedPredecessors() &amp;&amp; compareAndSetState(<span class="number">0</span>,arg)) &#123;</span><br><span class="line">                <span class="comment">//æŠŠå½“å‰çº¿ç¨‹è®¾ç½®åœ¨è¿™ä¸ªé”ä¸Šï¼Œè¡¨ç¤ºæŠ¢å æˆåŠŸ,åœ¨é‡å…¥é”çš„æ—¶å€™éœ€è¦</span></span><br><span class="line">                setExclusiveOwnerThread(currentThread);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//æ¯”è¾ƒå½“å‰çº¿ç¨‹å’Œå ç”¨é”çš„çº¿ç¨‹æ˜¯ä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹</span></span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (currentThread == getExclusiveOwnerThread()) &#123;</span><br><span class="line">            <span class="comment">//é‡å…¥é€»è¾‘ å¢åŠ  stateå€¼</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">nextState</span> <span class="operator">=</span> currentState + arg;</span><br><span class="line">            <span class="keyword">if</span> (nextState &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Maximum lock count exceeded&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            setState(nextState);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">NoFairSync</span> <span class="keyword">extends</span> <span class="title class_">Sync</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">boolean</span> <span class="title function_">tryAcquire</span><span class="params">(<span class="type">int</span> arg)</span> &#123;</span><br><span class="line">        <span class="keyword">final</span> <span class="type">Thread</span> <span class="variable">currentThread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="type">int</span> <span class="variable">currentState</span> <span class="operator">=</span> getState();</span><br><span class="line">        <span class="keyword">if</span> (currentState ==<span class="number">0</span> ) &#123; <span class="comment">// å¯ä»¥è·å–é”</span></span><br><span class="line">            <span class="comment">//ç›´æ¥å»è·å–é”</span></span><br><span class="line">            <span class="keyword">if</span> (compareAndSetState(<span class="number">0</span>,arg)) &#123;</span><br><span class="line">                setExclusiveOwnerThread(currentThread);</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;<span class="keyword">else</span> <span class="keyword">if</span> (currentThread == getExclusiveOwnerThread()) &#123;</span><br><span class="line">            <span class="comment">//é‡å…¥é€»è¾‘ å¢åŠ  stateå€¼</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">nextState</span> <span class="operator">=</span> currentState + arg;</span><br><span class="line">            <span class="keyword">if</span> (nextState &lt; <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Error</span>(<span class="string">&quot;Maximum lock count exceeded&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">            setState(nextState);</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923105839391.png" alt="image-20230923105839391"></p><h2 id="å¹¶å‘å®¹å™¨-äº†è§£å³å¯"><a href="#å¹¶å‘å®¹å™¨-äº†è§£å³å¯" class="headerlink" title="å¹¶å‘å®¹å™¨(äº†è§£å³å¯)"></a>å¹¶å‘å®¹å™¨(äº†è§£å³å¯)</h2><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923110121557.png" alt="image-20230923110121557"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">transient</span> <span class="keyword">volatile</span> Object[] array; <span class="comment">// volatile</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> <span class="type">ReentrantLock</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="built_in">this</span>.lock; <span class="comment">// lockåŠ é”</span></span><br><span class="line">    lock.lock();</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Object[] elements = getArray();</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> elements.length;</span><br><span class="line">        Object[] newElements = Arrays.copyOf(elements, len + <span class="number">1</span>); <span class="comment">// æ•°ç»„å¤åˆ¶</span></span><br><span class="line">        newElements[len] = e;</span><br><span class="line">        setArray(newElements);</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">        lock.unlock();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>CopyOnWriteArraySet<ul><li>å¯¹åº”ï¼šHashSet</li><li>ç›®æ ‡ï¼šä»£æ›¿synchronizedSet</li><li>åŸç†ï¼šä¸CopyOnWriteArrayListå®ç°åŸç†ç±»ä¼¼ã€‚</li></ul></li></ul><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923110704578.png" alt="image-20230923110704578"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923112440642.png" alt="image-20230923112440642"></p><h1 id="å¹¶å‘æ·±å…¥"><a href="#å¹¶å‘æ·±å…¥" class="headerlink" title="å¹¶å‘æ·±å…¥"></a>å¹¶å‘æ·±å…¥</h1><h2 id="åŸºæœ¬ååŒ"><a href="#åŸºæœ¬ååŒ" class="headerlink" title="åŸºæœ¬ååŒ"></a>åŸºæœ¬ååŒ</h2><h3 id="Object"><a href="#Object" class="headerlink" title="Object"></a>Object</h3><ul><li>waitï¼šè®©å‡ºé”ï¼Œé˜»å¡ç­‰å¾…</li><li>notify&#x2F;notifyAllï¼šå”¤é†’waitçš„è¿›ç¨‹</li></ul><p>æ‰©å±•ï¼šJDK1.5+çš„lockä¸­æ”¯æŒæ¡ä»¶å˜é‡ï¼Œ Condition.await()ï¼Œsignal&#x2F;signalAll ä¸ wait&#x2F;notifyæ•ˆæœä¸€æ ·ï¼Œå¯ ä»¥åšåˆ°æ›´ç²¾ç»†åŒ–æ§åˆ¶ã€‚</p><h3 id="Thread"><a href="#Thread" class="headerlink" title="Thread"></a>Thread</h3><ul><li>sleepï¼šä¼‘çœ ä¸€ä¸‹ï¼Œè®©å‡ºCPUèµ„æºï¼Œä½†æ˜¯ä¸ä¼šé‡Šæ”¾é”</li><li>yieldï¼šä¸é‡Šæ”¾é”ï¼Œè¿è¡Œè½¬ä¸ºå°±ç»ªï¼Œè®©å‡ºCPUç»™å¤§å®¶ç«äº‰ï¼Œå½“ç„¶æœ‰å¯èƒ½è‡ªå·±åˆæŠ¢å›æ¥</li><li>joinï¼šçˆ¶çº¿ç¨‹ç­‰å¾…å­çº¿ç¨‹æ‰§è¡Œå®Œæˆåå†æ‰§è¡Œï¼Œå°†å¼‚æ­¥è½¬ä¸ºåŒæ­¥ï¼ˆæ³¨æ„æŒ‚èµ·çš„æ˜¯å­çº¿ç¨‹ï¼Œé˜»æ–­çš„æ˜¯çˆ¶çº¿ç¨‹ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*  é¢è¯•é¢˜ï¼šåœ¨synchronizedä»£ç å—å†…è°ƒç”¨joinï¼Œæ˜¯å¦ä¼šé‡Šæ”¾é”ï¼Ÿ</span></span><br><span class="line"><span class="comment">    .waitï¼ˆï¼‰æ˜¯Objectä¸‹çš„æ–¹æ³•ï¼Œè€Œ.joinï¼ˆï¼‰æ˜¯Threadçš„æ–¹æ³•ï¼Œè¿™å°±å‡ºç°äº†ä¸€ä¸ªé—®é¢˜ï¼Œ</span></span><br><span class="line"><span class="comment">    joiné€šè¿‡waitå®ç°ï¼Œé‡Šæ”¾é”ï¼Œé‚£ä¹ˆé‡Šæ”¾çš„æ˜¯å“ªä¸ªé”ï¼Œæ˜¯Threadè¿˜æ˜¯Objectå‘¢ï¼Ÿ</span></span><br><span class="line"><span class="comment">    å½“joinå‰é¢çš„å¯¹è±¡ä¸synchronizedä¸€è‡´æ—¶ï¼Œé‡Šæ”¾é”ï¼Œå¦åˆ™ä¸é‡Šæ”¾ã€‚</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JoinTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;main.start&quot;</span>);</span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">myThread</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">sub</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(myThread);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// synchronized (myThread.lock)&#123;</span></span><br><span class="line">        <span class="keyword">synchronized</span> (sub)&#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;main:before sub&quot;</span>);</span><br><span class="line">            <span class="comment">//1.ä¸ºä»€ä¹ˆä¸ä¼šæ­»é”ï¼Ÿ</span></span><br><span class="line">            sub.start();</span><br><span class="line">            System.out.println(<span class="string">&quot;main:after sub&quot;</span>);</span><br><span class="line">            <span class="comment">//2.æ‰“å¼€joinè¯•è¯•ï¼šå¦‚æœçº¿ç¨‹å¡æ­»ï¼Œè¯´æ˜mainä¸é‡Šæ”¾é”ï¼Œå¦‚æœå¯ä»¥é¡ºåˆ©æ‰§è¡Œï¼Œè¯´æ˜subæ‹¿åˆ°äº†é”ï¼</span></span><br><span class="line">            sub.join();</span><br><span class="line">            System.out.println(<span class="string">&quot;main after join&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// sub.join();</span></span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;main.end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span>&#123;</span><br><span class="line">        <span class="type">byte</span>[] lock = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">0</span>];</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="keyword">synchronized</span> (lock)&#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;I am sub&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="çº¿ç¨‹çš„ä¸‰å¤§ç‰¹æ€§"><a href="#çº¿ç¨‹çš„ä¸‰å¤§ç‰¹æ€§" class="headerlink" title="çº¿ç¨‹çš„ä¸‰å¤§ç‰¹æ€§"></a>çº¿ç¨‹çš„ä¸‰å¤§ç‰¹æ€§</h2><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923113933596.png" alt="image-20230923113933596"></p><ul><li>CPUæ·»åŠ é«˜é€Ÿç¼“å­˜ï¼Œæ¥å¹³è¡¡ä¸å†…å­˜çš„é€Ÿåº¦å·®å¼‚</li><li>æ“ä½œç³»ç»Ÿæ”¯æŒå¤šè¿›ç¨‹ã€å¤šçº¿ç¨‹ï¼Œä»¥åˆ†æ—¶å¤ç”¨CPUï¼Œè¿›è€Œå‡è¡¡CPUä¸I&#x2F;Oè®¾å¤‡çš„é€Ÿåº¦å·®å¼‚</li><li>ç¼–è¯‘ç¨‹åºä¼˜åŒ–æŒ‡ä»¤æ‰§è¡Œæ¬¡åºï¼Œä½¿å¾—ç¼“å­˜èƒ½å¤Ÿå¾—åˆ°æ›´åŠ åˆç†åœ°åˆ©ç”¨</li></ul><h3 id="CPUç¼“å­˜å¯¼è‡´å¯è§æ€§é—®é¢˜"><a href="#CPUç¼“å­˜å¯¼è‡´å¯è§æ€§é—®é¢˜" class="headerlink" title="CPUç¼“å­˜å¯¼è‡´å¯è§æ€§é—®é¢˜"></a>CPUç¼“å­˜å¯¼è‡´å¯è§æ€§é—®é¢˜</h3><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923114359260.png" alt="image-20230923114359260"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923114536522.png" alt="image-20230923114536522"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923114628236.png" alt="image-20230923114628236"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    ç¨‹åºè¿è¡Œ5ç§’åï¼Œå¹¶æœªåœæ­¢</span></span><br><span class="line"><span class="comment">    ç”±äºå…±äº«å˜é‡çš„å¯è§æ€§é—®é¢˜ï¼Œä¸»çº¿ç¨‹å¯¹å˜é‡çš„ä¿®æ”¹ï¼Œå…¶å®ƒçº¿ç¨‹å¹¶æœªçœ‹åˆ°</span></span><br><span class="line"><span class="comment">    é—®é¢˜è§£å†³ï¼šå…±äº«å˜é‡ç”¨volatileä¿®é¥°</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">VisibilityTest</span> &#123;</span><br><span class="line">    <span class="comment">// å¤šçº¿ç¨‹å…±äº«å˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">boolean</span> <span class="variable">running</span> <span class="operator">=</span>  <span class="literal">true</span>;</span><br><span class="line">    <span class="comment">// private static volatile boolean running =  true;</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        t1();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">t1</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Thread</span>(()-&gt;&#123;</span><br><span class="line">            <span class="keyword">while</span> (running) &#123;</span><br><span class="line"></span><br><span class="line">            &#125;</span><br><span class="line">            System.out.println(<span class="string">&quot;thread exit&quot;</span>);</span><br><span class="line">        &#125;).start();</span><br><span class="line"></span><br><span class="line">        TimeUnit.SECONDS.sleep(<span class="number">5</span>);</span><br><span class="line">        running = <span class="literal">false</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="çº¿ç¨‹åˆ‡æ¢å¯¼è‡´åŸå­æ€§é—®é¢˜"><a href="#çº¿ç¨‹åˆ‡æ¢å¯¼è‡´åŸå­æ€§é—®é¢˜" class="headerlink" title="çº¿ç¨‹åˆ‡æ¢å¯¼è‡´åŸå­æ€§é—®é¢˜"></a>çº¿ç¨‹åˆ‡æ¢å¯¼è‡´åŸå­æ€§é—®é¢˜</h3><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923115155135.png" alt="image-20230923115155135"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923115322282.png" alt="image-20230923115322282"></p><p>è¿™ç§åˆ‡æ¢å±äºä¸€ç§é‡é‡çº§çš„åˆ‡æ¢ï¼Œç°ä»£çš„æ“ä½œç³»ç»Ÿéƒ½åŸºäºæ›´è½»é‡çš„çº¿ç¨‹æ¥è°ƒåº¦ï¼Œè€Œä¸€ä¸ªè¿›ç¨‹åˆ›å»ºçš„æ‰€æœ‰ çº¿ç¨‹ï¼Œéƒ½æ˜¯å…±äº«ä¸€ä¸ªå†…å­˜ç©ºé—´çš„ï¼Œæ‰€ä»¥çº¿ç¨‹åˆ‡æ¢çš„æˆæœ¬å°±å¾ˆä½äº†ï¼Œå¹¶ä¸”çº¿ç¨‹åˆ‡æ¢çš„æ—¶æœºå¤§éƒ½æ˜¯åœ¨æ—¶é—´ç‰‡ç»“æŸçš„æ—¶å€™ã€‚å¦‚ä¸‹ï¼š</p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923115951253.png" alt="image-20230923115951253"></p><p>è™½ç„¶æ“ä½œç³»ç»Ÿèƒ½ä¿è¯æ¯æ¡æŒ‡ä»¤æ‰§è¡Œçš„æ—¶æ˜¯å…·å¤‡åŸå­æ€§çš„ï¼Œä½†æ˜¯æ“ä½œç³»ç»Ÿè¿›è¡Œçº¿ç¨‹åˆ‡æ¢ï¼Œå¯ä»¥å‘ç”Ÿåœ¨ä»»æ„ä¸€æ¡CPUæŒ‡ä»¤æ‰§è¡Œå®Œæˆä¹‹åï¼ˆ<strong>æ³¨æ„æ˜¯CPUæŒ‡ä»¤çº§åˆ«,ä¹Ÿå°±æ˜¯æ±‡ç¼–æŒ‡ä»¤</strong>ï¼‰ï¼Œé‚£è¿™å¯¹é«˜çº§ç¼–ç¨‹è¯­è¨€æ¥è¯´å¤šçº¿ç¨‹å¹¶å‘æ—¶å°±ä¼šé€ æˆåŸå­æ€§é—®é¢˜ï¼Œå¦‚ä¸‹å›¾æ‰€ç¤ºï¼š</p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923120458588.png" alt="image-20230923120458588"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">    CPUåˆ‡æ¢ï¼Œå¯¼è‡´åŸå­æ€§é—®é¢˜</span></span><br><span class="line"><span class="comment">    é—®é¢˜è§£å†³ï¼šé«˜çº§è¯­è¨€æ“ä½œæ‰€å¯¹åº”çš„å¤šæ¡CPUæŒ‡ä»¤ä¸èƒ½è¢«æ‰“æ–­ï¼Œå¦‚åŠ é” æˆ–è€… ä½¿ç”¨AtomicXxxåŒ…è£…çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">AtomicityTest</span> &#123;</span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">AtomicRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">        <span class="comment">// int i = 0;</span></span><br><span class="line">        <span class="type">AtomicInteger</span> <span class="variable">i</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicInteger</span>(<span class="number">0</span>);</span><br><span class="line"></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123; <span class="comment">// synchronized</span></span><br><span class="line">            <span class="comment">// i += 1;</span></span><br><span class="line">            <span class="comment">// i.incrementAndGet();</span></span><br><span class="line">            System.out.println(<span class="string">&quot;---&quot;</span> + i.incrementAndGet());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">AtomicRunnable</span> <span class="variable">runnable</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">AtomicRunnable</span>();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(runnable).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ€§èƒ½ä¼˜åŒ–å¯¼è‡´æœ‰åºæ€§é—®é¢˜"><a href="#æ€§èƒ½ä¼˜åŒ–å¯¼è‡´æœ‰åºæ€§é—®é¢˜" class="headerlink" title="æ€§èƒ½ä¼˜åŒ–å¯¼è‡´æœ‰åºæ€§é—®é¢˜"></a>æ€§èƒ½ä¼˜åŒ–å¯¼è‡´æœ‰åºæ€§é—®é¢˜</h3><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923144847835.png" alt="image-20230923144847835"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923145126770.png" alt="image-20230923145126770"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923145432509.png" alt="image-20230923145432509"></p><p>æ•´ä¸ªè¿‡ç¨‹åˆ†ä¸ºä¸‰æ­¥ï¼š</p><ul><li>åˆ†é…ä¸€å—å†…å­˜ç©ºé—´ï¼ˆå †åŒºï¼‰</li><li>åœ¨å†…å­˜ç©ºé—´ä¸Šåˆå§‹åŒ–å¯¹è±¡</li><li>å°†å†…å­˜ç©ºé—´çš„åœ°å€èµ‹å€¼ç»™å¼•ç”¨å˜é‡ï¼ˆæ ˆåŒºï¼‰</li></ul><p>è¦æ³¨æ„çš„æ˜¯ï¼Œåœ¨åˆ†é…å®Œå†…å­˜è¿˜æœªåˆå§‹åŒ–æ—¶ï¼Œå¯¹è±¡çš„å®ä¾‹å˜é‡æ˜¯æœ‰ä¸€ä¸ªåˆå§‹é»˜è®¤å€¼çš„ï¼Œæ¯”å¦‚ int å°±æ˜¯0ï¼Œ åˆå§‹åŒ–å®Œæˆä¹‹åå®ä¾‹å˜é‡æ‰ä¼šèµ‹çœŸæ­£çš„å€¼ã€‚</p><p>åŒé‡é”æ ¡éªŒåˆ›å»ºå•ä¾‹å¯¹è±¡ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Singleton</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Singleton</span><span class="params">()</span>&#123;&#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="keyword">static</span> Singleton instance;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Singleton <span class="title function_">getInstance</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">// ç¬¬ä¸€ä¸ªåˆ¤æ–­æ˜¯ä¸ºäº†é˜²æ­¢å·²ç»åˆ›å»ºäº†instanceå®ä¾‹åï¼Œä¸åœ¨éœ€è¦æ‹¿é”ï¼Œè¿›è€Œæé«˜äº†æ•ˆç‡</span></span><br><span class="line">        <span class="keyword">if</span> (instance == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">synchronized</span>(Singleton.class) &#123;</span><br><span class="line">                <span class="comment">// ç¬¬äºŒä¸ªåˆ¤æ–­æ˜¯ä¸ºäº†é¿å…é‡å¤åˆ›å»ºinstanceå®ä¾‹å¯¹è±¡</span></span><br><span class="line">                <span class="keyword">if</span> (instance == <span class="literal">null</span>)</span><br><span class="line">                    instance = <span class="keyword">new</span> <span class="title class_">Singleton</span>();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> instance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923150650510.png" alt="image-20230923150650510"></p><p><img src="/2023/09/15/expand-04-JUC%E6%B7%B1%E5%85%A5%E5%B9%B6%E5%8F%91%E7%BC%96%E7%A8%8B/image-20230923151047001.png" alt="image-20230923151047001"></p><blockquote><p>è¡¥å……çŸ¥è¯†ç‚¹ï¼šçº¿ç¨‹åˆ‡æ¢æ˜¯ä¸ä¼šé‡Šæ”¾é”çš„ã€‚</p></blockquote><h3 id="JMMï¼ˆJava-Memory-Modelï¼‰"><a href="#JMMï¼ˆJava-Memory-Modelï¼‰" class="headerlink" title="JMMï¼ˆJava Memory Modelï¼‰"></a>JMMï¼ˆJava Memory Modelï¼‰</h3><h4 id="ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜"><a href="#ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜" class="headerlink" title="ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜"></a>ä¸»å†…å­˜ä¸å·¥ä½œå†…å­˜</h4><h4 id="JMMè§£å†³ä»€ä¹ˆé—®é¢˜"><a href="#JMMè§£å†³ä»€ä¹ˆé—®é¢˜" class="headerlink" title="JMMè§£å†³ä»€ä¹ˆé—®é¢˜"></a>JMMè§£å†³ä»€ä¹ˆé—®é¢˜</h4><h4 id="JMMå†…å­˜äº¤äº’"><a href="#JMMå†…å­˜äº¤äº’" class="headerlink" title="JMMå†…å­˜äº¤äº’"></a>JMMå†…å­˜äº¤äº’</h4><h4 id="Happens-Before"><a href="#Happens-Before" class="headerlink" title="Happens-Before"></a>Happens-Before</h4><h3 id="volatile"><a href="#volatile" class="headerlink" title="volatile"></a>volatile</h3><h3 id="synchronized"><a href="#synchronized" class="headerlink" title="synchronized"></a>synchronized</h3><h4 id="é”æ¦‚è¿°"><a href="#é”æ¦‚è¿°" class="headerlink" title="é”æ¦‚è¿°"></a>é”æ¦‚è¿°</h4><h4 id="é”å’Œèµ„æºçš„å…³ç³»"><a href="#é”å’Œèµ„æºçš„å…³ç³»" class="headerlink" title="é”å’Œèµ„æºçš„å…³ç³»"></a>é”å’Œèµ„æºçš„å…³ç³»</h4><h4 id="Linuxå†…æ ¸åŒæ­¥æœºåˆ¶"><a href="#Linuxå†…æ ¸åŒæ­¥æœºåˆ¶" class="headerlink" title="Linuxå†…æ ¸åŒæ­¥æœºåˆ¶"></a>Linuxå†…æ ¸åŒæ­¥æœºåˆ¶</h4><h4 id="synchronizedå­—èŠ‚ç å±‚é¢"><a href="#synchronizedå­—èŠ‚ç å±‚é¢" class="headerlink" title="synchronizedå­—èŠ‚ç å±‚é¢"></a>synchronizedå­—èŠ‚ç å±‚é¢</h4><h4 id="synchronizedé”çš„åŸç†"><a href="#synchronizedé”çš„åŸç†" class="headerlink" title="synchronizedé”çš„åŸç†"></a>synchronizedé”çš„åŸç†</h4><h4 id="é”è†¨èƒ€"><a href="#é”è†¨èƒ€" class="headerlink" title="é”è†¨èƒ€"></a>é”è†¨èƒ€</h4><h4 id="é”æ¶ˆé™¤ï¼Œé”ç²—åŒ–"><a href="#é”æ¶ˆé™¤ï¼Œé”ç²—åŒ–" class="headerlink" title="é”æ¶ˆé™¤ï¼Œé”ç²—åŒ–"></a>é”æ¶ˆé™¤ï¼Œé”ç²—åŒ–</h4><h3 id="é”ä½¿ç”¨ç»éªŒ"><a href="#é”ä½¿ç”¨ç»éªŒ" class="headerlink" title="é”ä½¿ç”¨ç»éªŒ"></a>é”ä½¿ç”¨ç»éªŒ</h3><h2 id="ThreadLocal"><a href="#ThreadLocal" class="headerlink" title="ThreadLocal"></a>ThreadLocal</h2><h3 id="æ¦‚å¿µ-2"><a href="#æ¦‚å¿µ-2" class="headerlink" title="æ¦‚å¿µ"></a>æ¦‚å¿µ</h3><h4 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h4><h4 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h4><h4 id="å®ç°åŸç†"><a href="#å®ç°åŸç†" class="headerlink" title="å®ç°åŸç†"></a>å®ç°åŸç†</h4><h4 id="ä½¿ç”¨æ³¨æ„"><a href="#ä½¿ç”¨æ³¨æ„" class="headerlink" title="ä½¿ç”¨æ³¨æ„"></a>ä½¿ç”¨æ³¨æ„</h4></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>expand-03-æ·±å…¥jdkæºç </title>
      <link href="/2023/09/15/expand-03-%E6%B7%B1%E5%85%A5jdk%E6%BA%90%E7%A0%81/"/>
      <url>/2023/09/15/expand-03-%E6%B7%B1%E5%85%A5jdk%E6%BA%90%E7%A0%81/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJVMã€JDKæ–°ç‰¹æ€§ã€JDKæºç ã€é«˜å¹¶å‘ã€MySqlä¼˜åŒ–</p></blockquote><h1 id="Objectç±»"><a href="#Objectç±»" class="headerlink" title="Objectç±»"></a>Objectç±»</h1><h2 id="Objectç±»ç»“æ„å›¾"><a href="#Objectç±»ç»“æ„å›¾" class="headerlink" title="Objectç±»ç»“æ„å›¾"></a>Objectç±»ç»“æ„å›¾</h2><h2 id="ç±»æ„é€ å™¨"><a href="#ç±»æ„é€ å™¨" class="headerlink" title="ç±»æ„é€ å™¨"></a>ç±»æ„é€ å™¨</h2><h2 id="equalsæ–¹æ³•"><a href="#equalsæ–¹æ³•" class="headerlink" title="equalsæ–¹æ³•"></a>equalsæ–¹æ³•</h2><h2 id="hashCodeæ–¹æ³•"><a href="#hashCodeæ–¹æ³•" class="headerlink" title="hashCodeæ–¹æ³•"></a>hashCodeæ–¹æ³•</h2><h2 id="getClassæ–¹æ³•"><a href="#getClassæ–¹æ³•" class="headerlink" title="getClassæ–¹æ³•"></a>getClassæ–¹æ³•</h2><h2 id="toStringæ–¹æ³•"><a href="#toStringæ–¹æ³•" class="headerlink" title="toStringæ–¹æ³•"></a>toStringæ–¹æ³•</h2><h2 id="cloneæ–¹æ³•"><a href="#cloneæ–¹æ³•" class="headerlink" title="cloneæ–¹æ³•"></a>cloneæ–¹æ³•</h2><h2 id="finalizeæ–¹æ³•"><a href="#finalizeæ–¹æ³•" class="headerlink" title="finalizeæ–¹æ³•"></a>finalizeæ–¹æ³•</h2><h2 id="registerNativesæ–¹æ³•"><a href="#registerNativesæ–¹æ³•" class="headerlink" title="registerNativesæ–¹æ³•"></a>registerNativesæ–¹æ³•</h2><h1 id="ArrayListç±»"><a href="#ArrayListç±»" class="headerlink" title="ArrayListç±»"></a>ArrayListç±»</h1><h2 id="ArrayLsitç±»ç»“æ„å›¾"><a href="#ArrayLsitç±»ç»“æ„å›¾" class="headerlink" title="ArrayLsitç±»ç»“æ„å›¾"></a>ArrayLsitç±»ç»“æ„å›¾</h2><h2 id="å­—æ®µå±æ€§"><a href="#å­—æ®µå±æ€§" class="headerlink" title="å­—æ®µå±æ€§"></a>å­—æ®µå±æ€§</h2><h2 id="ç±»æ„é€ å™¨-1"><a href="#ç±»æ„é€ å™¨-1" class="headerlink" title="ç±»æ„é€ å™¨"></a>ç±»æ„é€ å™¨</h2><h2 id="æ·»åŠ å…ƒç´ "><a href="#æ·»åŠ å…ƒç´ " class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h2><h2 id="åˆ é™¤å…ƒç´ "><a href="#åˆ é™¤å…ƒç´ " class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h2><h2 id="ä¿®æ”¹å…ƒç´ "><a href="#ä¿®æ”¹å…ƒç´ " class="headerlink" title="ä¿®æ”¹å…ƒç´ "></a>ä¿®æ”¹å…ƒç´ </h2><h2 id="æŸ¥æ‰¾å…ƒç´ "><a href="#æŸ¥æ‰¾å…ƒç´ " class="headerlink" title="æŸ¥æ‰¾å…ƒç´ "></a>æŸ¥æ‰¾å…ƒç´ </h2><h2 id="éå†é›†åˆ"><a href="#éå†é›†åˆ" class="headerlink" title="éå†é›†åˆ"></a>éå†é›†åˆ</h2><h1 id="LinkedListç±»"><a href="#LinkedListç±»" class="headerlink" title="LinkedListç±»"></a>LinkedListç±»</h1><h2 id="LinkedListç±»å®šä¹‰"><a href="#LinkedListç±»å®šä¹‰" class="headerlink" title="LinkedListç±»å®šä¹‰"></a>LinkedListç±»å®šä¹‰</h2><h2 id="LinkeListç±»ç»“æ„"><a href="#LinkeListç±»ç»“æ„" class="headerlink" title="LinkeListç±»ç»“æ„"></a>LinkeListç±»ç»“æ„</h2><h2 id="å­—æ®µå±æ€§-1"><a href="#å­—æ®µå±æ€§-1" class="headerlink" title="å­—æ®µå±æ€§"></a>å­—æ®µå±æ€§</h2><h2 id="ç±»æ„é€ å™¨-2"><a href="#ç±»æ„é€ å™¨-2" class="headerlink" title="ç±»æ„é€ å™¨"></a>ç±»æ„é€ å™¨</h2><h2 id="æ·»åŠ å…ƒç´ -1"><a href="#æ·»åŠ å…ƒç´ -1" class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h2><h2 id="ä¿®æ”¹å…ƒç´ -1"><a href="#ä¿®æ”¹å…ƒç´ -1" class="headerlink" title="ä¿®æ”¹å…ƒç´ "></a>ä¿®æ”¹å…ƒç´ </h2><h2 id="æŸ¥æ‰¾å…ƒç´ -1"><a href="#æŸ¥æ‰¾å…ƒç´ -1" class="headerlink" title="æŸ¥æ‰¾å…ƒç´ "></a>æŸ¥æ‰¾å…ƒç´ </h2><h2 id="åˆ é™¤å…ƒç´ -1"><a href="#åˆ é™¤å…ƒç´ -1" class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h2><h2 id="éå†é›†åˆ-1"><a href="#éå†é›†åˆ-1" class="headerlink" title="éå†é›†åˆ"></a>éå†é›†åˆ</h2><h1 id="HashMapç±»"><a href="#HashMapç±»" class="headerlink" title="HashMapç±»"></a>HashMapç±»</h1><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><h2 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h2><h2 id="JDK1-8åHashMapçš„æ•°æ®ç»“æ„"><a href="#JDK1-8åHashMapçš„æ•°æ®ç»“æ„" class="headerlink" title="JDK1.8åHashMapçš„æ•°æ®ç»“æ„"></a>JDK1.8åHashMapçš„æ•°æ®ç»“æ„</h2><h2 id="JDK1-8åHashMapçš„æ•°æ®ç»“æ„-1"><a href="#JDK1-8åHashMapçš„æ•°æ®ç»“æ„-1" class="headerlink" title="JDK1.8åHashMapçš„æ•°æ®ç»“æ„"></a>JDK1.8åHashMapçš„æ•°æ®ç»“æ„</h2><h2 id="ç±»æ„é€ å™¨-3"><a href="#ç±»æ„é€ å™¨-3" class="headerlink" title="ç±»æ„é€ å™¨"></a>ç±»æ„é€ å™¨</h2><h2 id="å­—æ®µå±æ€§-2"><a href="#å­—æ®µå±æ€§-2" class="headerlink" title="å­—æ®µå±æ€§"></a>å­—æ®µå±æ€§</h2><h2 id="æ„é€ å‡½æ•°"><a href="#æ„é€ å‡½æ•°" class="headerlink" title="æ„é€ å‡½æ•°"></a>æ„é€ å‡½æ•°</h2><h2 id="ç¡®å®šå“ˆå¸Œæ¡¶æ•°æ®ç´¢å¼•ä½ç½®"><a href="#ç¡®å®šå“ˆå¸Œæ¡¶æ•°æ®ç´¢å¼•ä½ç½®" class="headerlink" title="ç¡®å®šå“ˆå¸Œæ¡¶æ•°æ®ç´¢å¼•ä½ç½®"></a>ç¡®å®šå“ˆå¸Œæ¡¶æ•°æ®ç´¢å¼•ä½ç½®</h2><h2 id="æ·»åŠ å…ƒç´ -2"><a href="#æ·»åŠ å…ƒç´ -2" class="headerlink" title="æ·»åŠ å…ƒç´ "></a>æ·»åŠ å…ƒç´ </h2><h2 id="æ‰©å®¹æœºåˆ¶"><a href="#æ‰©å®¹æœºåˆ¶" class="headerlink" title="æ‰©å®¹æœºåˆ¶"></a>æ‰©å®¹æœºåˆ¶</h2><h2 id="åˆ é™¤å…ƒç´ -2"><a href="#åˆ é™¤å…ƒç´ -2" class="headerlink" title="åˆ é™¤å…ƒç´ "></a>åˆ é™¤å…ƒç´ </h2><h2 id="æŸ¥æ‰¾å…ƒç´ -2"><a href="#æŸ¥æ‰¾å…ƒç´ -2" class="headerlink" title="æŸ¥æ‰¾å…ƒç´ "></a>æŸ¥æ‰¾å…ƒç´ </h2><h2 id="æ€»ç»“"><a href="#æ€»ç»“" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2><h1 id="ConcurrentHashMap"><a href="#ConcurrentHashMap" class="headerlink" title="ConcurrentHashMap"></a>ConcurrentHashMap</h1><h2 id="å­˜å‚¨ç»“æ„"><a href="#å­˜å‚¨ç»“æ„" class="headerlink" title="å­˜å‚¨ç»“æ„"></a>å­˜å‚¨ç»“æ„</h2><h2 id="åˆå§‹åŒ–initTable"><a href="#åˆå§‹åŒ–initTable" class="headerlink" title="åˆå§‹åŒ–initTable"></a>åˆå§‹åŒ–initTable</h2><h2 id="put"><a href="#put" class="headerlink" title="put"></a>put</h2><h2 id="get"><a href="#get" class="headerlink" title="get"></a>get</h2><h2 id="æ€»ç»“-1"><a href="#æ€»ç»“-1" class="headerlink" title="æ€»ç»“"></a>æ€»ç»“</h2></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>SVNè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</title>
      <link href="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/"/>
      <url>/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>VSCç‰ˆæœ¬æ§åˆ¶ï¼Œåœ¨é¡¹ç›®ç®¡ç†ç§å°¤ä¸ºé‡è¦ï¼ï¼</p></blockquote><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><h2 id="Subversion"><a href="#Subversion" class="headerlink" title="Subversion"></a>Subversion</h2><blockquote><p>Subversionï¼ˆSVNï¼‰ï¼Œæ˜¯â¼€ä¸ªâ¾ƒç”±å¼€æºçš„ç‰ˆæœ¬æ§åˆ¶è½¯ä»¶</p></blockquote><p>SVNæ˜¯åŸºäºå®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨ç«¯æ¨¡å¼ï¼š</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916094539450.png" alt="image-20230916094539450"></p><h1 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h1><blockquote><p>SVNï¼Œéœ€è¦å®‰è£…äº†æœåŠ¡å™¨ç«¯å’Œå®¢æˆ·ç«¯ä¹‹åå¹¶ä¸”å®Œæˆé… ç½®ï¼Œæ‰å¯ä»¥ä½¿â½¤å®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯è¿›â¾äº¤äº’ã€‚</p></blockquote><h2 id="æœåŠ¡å™¨"><a href="#æœåŠ¡å™¨" class="headerlink" title="æœåŠ¡å™¨"></a>æœåŠ¡å™¨</h2><ul><li>Subversion(ä¸æ¨èï¼Œæ­¥éª¤ç¹ç)</li></ul><blockquote><p>Subversionå®˜ç½‘ï¼š<a href="https://subversion.apache.org/">Apache Subversion</a></p><p>Subversionä¸‹è½½ï¼š<a href="https://subversion.apache.org/download.cgi">Download Apache Subversion Sources</a></p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916095642179.png" alt="image-20230916095642179"></p><ul><li>VisualSVN</li></ul><blockquote><p>VisualSVN Serveré›†æˆäº†Subversionå’ŒApacheï¼Œçœå»äº†å¾ˆ å¤šé…ç½®çš„æ­¥éª¤ï¼Œå…¶ä¸­åœ¨å®‰è£…çš„æ—¶å€™SVN Serverå·²ç»å°è£… ä¸ºWindowsä¸­çš„ç³»ç»ŸæœåŠ¡ï¼Œå¹¶ä¸”æœåŠ¡å™¨ä¸­çš„å„ç§é…ç½®ï¼Œ ä¹Ÿæä¾›äº†å›¾åƒç•Œâ¾¯çš„â½…å¼ã€‚</p><p>Visual SVN Serverä¸‹è½½ï¼š<a href="https://www.visualsvn.com/server/download/">Download | VisualSVN Server</a></p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916101936511.png" alt="image-20230916101936511"></p><blockquote><p>ä½†æ˜¯æœ¬äººä½¿ç”¨çš„æ˜¯<strong>Visual SVN 4.2.2</strong>çš„ç‰ˆæœ¬ï¼Œä¸»æ‰“çš„å°±æ˜¯ä¸€ä¸ªç¨³å®šï¼</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916102918770.png" alt="image-20230916102918770"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916102940536.png" alt="image-20230916102940536"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916103023755.png" alt="image-20230916103023755"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916103211416.png" alt="image-20230916103211416"></p><blockquote><p>ä¸Šé¢ä¸€æ­¥å¯èƒ½ä¼šå‡ºç°ç«¯å£å ç”¨çš„æƒ…å†µï¼šï¼ˆå¦‚æœæ²¡æœ‰è¯·å¿½ç•¥ï¼‰</p><ul><li>æ‰“å¼€ç»ˆç«¯ natstat -ano|findstr â€œportâ€ æŸ¥çœ‹443ç«¯å£å¯¹åº”çš„PID(è¿›ç¨‹å·)</li><li>tasklist|findstr â€œPIDå·â€ ä½¿ç”¨tasklistæŸ¥çœ‹ PID å¯¹åº”çš„è¿›ç¨‹å</li></ul></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916104914274.png" alt="image-20230916104914274"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916105053387.png" alt="image-20230916105053387"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916103300541.png" alt="image-20230916103300541"></p><blockquote><p>æ³¨æ„æœ€æ–°ç‰ˆçš„å¯èƒ½è¿˜ä¼šå‡ºç°ä¸€ä¸ªæ—¶é—´éªŒè¯45-day ï¼ˆä¸çŸ¥é“æœ€æ–°ç‰ˆæ˜¯ä¸æ˜¯è¦æ”¶è´¹å“ˆï¼ï¼‰</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916103559504.png" alt="image-20230916103559504"></p><blockquote><p>å‡ºç°ä¸‹é¢å°±è¡¨ç¤ºå®‰è£…æˆåŠŸå•¦~~</p><p>æ³¨æ„ï¼šä¸‹è½½å®Œæ¯•åæ¡Œé¢æ˜¯ä¸ä¼šå‡ºç°VisualSVN å›¾æ ‡çš„</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916104004398.png" alt="image-20230916104004398"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916103713632.png" alt="image-20230916103713632"></p><blockquote><p> æ­¤æ—¶ï¼ŒæŸ¥çœ‹ç³»ç»Ÿçš„æœåŠ¡ï¼Œä¼šå¤šå‡ºâ¼ä¸ªVisualSVNç›¸å…³çš„æœ åŠ¡ï¼ˆwindowsé”®+Rï¼Œç„¶åè¾“â¼Šservices.msc)</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916104204834.png" alt="image-20230916104204834"></p><h2 id="å®¢æˆ·ç«¯"><a href="#å®¢æˆ·ç«¯" class="headerlink" title="å®¢æˆ·ç«¯"></a>å®¢æˆ·ç«¯</h2><ul><li>TortoiseSVN</li></ul><blockquote><p>TortoiseSVNä¸‹è½½ï¼š<a href="https://tortoisesvn.net/downloads.html">Downloads Â· TortoiseSVN</a></p><p>å®‰è£…ï¼šåŒå‡»+next å³å¯</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916102529905.png" alt="image-20230916102529905"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916102606681.png" alt="image-20230916102606681"></p><blockquote><p>éªŒè¯æ˜¯å¦å®‰è£…æˆåŠŸï¼š</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916105847389.png" alt="image-20230916105847389"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916105936730.png" alt="image-20230916105936730"></p><ul><li>idea</li></ul><blockquote><p>IDEAä¹Ÿå¯ä»¥ä½œä¸ºSVNçš„å®¢æˆ·ç«¯</p></blockquote><h1 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h1><h2 id="ç”¨æˆ·"><a href="#ç”¨æˆ·" class="headerlink" title="ç”¨æˆ·"></a>ç”¨æˆ·</h2><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916110333650.png" alt="image-20230916110333650"></p><h2 id="ä»“åº“"><a href="#ä»“åº“" class="headerlink" title="ä»“åº“"></a>ä»“åº“</h2><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916110410960.png" alt="image-20230916110410960"></p><h2 id="TortoiseSVN"><a href="#TortoiseSVN" class="headerlink" title="TortoiseSVN"></a>TortoiseSVN</h2><blockquote><p>ä½¿â½¤â¼©ä¹Œâ»³ï¼Œå¯¹æ–°å»ºçš„ä»“åº“è¿›â¾è®¿é—®</p><p>å¤åˆ¶è·¯å¾„ï¼š<a href="https://127.0.0.1/svn/briup-cms/">https://127.0.0.1/svn/briup-cms/</a></p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916110717781.png" alt="image-20230916110717781"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916110858704.png" alt="image-20230916110858704"></p><h2 id="IDEA"><a href="#IDEA" class="headerlink" title="IDEA"></a>IDEA</h2><blockquote><p>å…ˆéšä¾¿åœ¨ideaä¸­åˆ›å»ºä¸€ä¸ªé¡¹ç›®</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916112744081.png" alt="image-20230916112744081"></p><blockquote><p>åˆå§‹åŒ–é¡¹ç›®è¿æ¥åˆ°ideaæœåŠ¡å™¨ä»“åº“ä¸­</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916112909628.png" alt="image-20230916112909628"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916113525322.png" alt="image-20230916113525322"></p><blockquote><p>ä¸Šé¢çš„æ“ä½œå¯èƒ½å‡ºç°è¿æ¥ä¸ä¸Šçš„æƒ…å†µ </p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916144559769.png" alt="image-20230916144559769"></p><h1 id="æ“ä½œ"><a href="#æ“ä½œ" class="headerlink" title="æ“ä½œ"></a>æ“ä½œ</h1><h2 id="è¿˜åŸ"><a href="#è¿˜åŸ" class="headerlink" title="è¿˜åŸ"></a>è¿˜åŸ</h2><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916145959228.png" alt="image-20230916145959228"></p><p>ä¸Šå›¾ä»å·¦å‘å³ä¾æ¬¡ä¸ºï¼šä¸Šâ¼€ä¸ªæ”¹åŠ¨ã€ä¸‹â¼€ä¸ªæ”¹åŠ¨ã€å›æ»šåˆ°ä¹‹ å‰çš„â¾ã€å±•ç¤ºä¸åŒçš„å¯¹â½ã€å¤åˆ¶ã€å•è¯â¾¼äº®ç­‰ã€‚</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916150143871.png" alt="image-20230916150143871"></p><h2 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h2><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916150736481.png" alt="image-20230916150736481"></p><blockquote><p>æ³¨æ„ï¼Œè¿™â¾¥åŒå‡»åï¼Œè¿˜å¯ä»¥æŸ¥çœ‹å…·ä½“æŸä¸ªç‰ˆæœ¬ä¸­æ­¤â½‚ä»¶çš„å†…å®¹</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916150944385.png" alt="image-20230916150944385"></p><blockquote><p>å¦‚æœæˆ‘ä»¬è¦æŸ¥çœ‹å½“å‰å¤„äºå“ªä¸ªç‰ˆæœ¬ä¸‹ï¼Œå¯ä»¥å³é”®å¯¹åº”çš„ â½‚ä»¶ï¼Œé€‰æ‹©Subversion -&gt; Show Current Revision</p></blockquote><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916151218319.png" alt="image-20230916151218319"></p><h2 id="Subserion-Tab"><a href="#Subserion-Tab" class="headerlink" title="Subserion Tab"></a>Subserion Tab</h2><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916151459302.png" alt="image-20230916151459302"></p><blockquote><p>ä»å·¦å¾€å³ä¾æ¬¡ä¸ºï¼Œæœ¬åœ°ä¿®æ”¹ã€ä»“åº“æäº¤å†…å®¹ã€æ›´æ–°å†…å®¹ã€åŸºæœ¬ä¿¡æ¯</p></blockquote><ul><li>ç¬¬â¼€ä¸ªTabä¸ºLocal Changesï¼Œå³ä¸ºæœ¬åœ°çš„ä¿®æ”¹</li></ul><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916151755017.png" alt="image-20230916151755017"></p><ul><li>ç¬¬â¼†ä¸ªTab ä¸ºReposityï¼Œæ˜¾ç¤ºçš„æ˜¯æˆ‘ä»¬çš„â¼€äº›æäº¤è®°å½•</li></ul><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916151902026.png" alt="image-20230916151902026"></p><ul><li><p>ç¬¬ä¸‰ä¸ªTab ä¸ºIncomingï¼Œåœ¨æœ‰æ–°çš„å†…å®¹å¯ä»¥æ›´æ–°æ—¶ä¼šæ˜¾ ç¤ºå‡ºæ¥ï¼Œä¼šåˆ—å‡ºæ¥æˆ‘ä»¬è¿˜æœªæ›´æ–°çš„â¼€äº›æäº¤è®°å½•ï¼Œå¯ä»¥ å¿«é€Ÿé¢„è§ˆä¸‹ï¼Œâ¾®å¸¸â½…ä¾¿ã€‚â½¬å‰æˆ‘ä»¬è¿˜æ²¡æœ‰è®°å½•å‡ºç°ã€‚</p></li><li><p>ç¬¬å››ä¸ªtabæ˜¾ç¤ºçš„æ˜¯æˆ‘ä»¬â¼¯ä½œåŒºçš„â¼€äº›ä¿¡æ¯ï¼Œè¿™â¾¥æœ‰ä¸ªæˆ‘ ä»¬å¸¸â½¤çš„åŠŸèƒ½ï¼Œå°±æ˜¯æ¸…ç†â¼¯ä½œåŒºï¼Œåœ¨æˆ‘ä»¬â¼¯ä½œåŒºå‡ºç°â¼€ äº›é—®é¢˜æ—¶ï¼Œè¿™ä¸ªæ¸…ç†ç»å¸¸â½¤åˆ°</p></li></ul><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916151936642.png" alt="image-20230916151936642"></p><h2 id="æ–­å¼€"><a href="#æ–­å¼€" class="headerlink" title="æ–­å¼€"></a>æ–­å¼€</h2><p>ä»SVNæœåŠ¡å™¨ä¸­ï¼Œæ£€å‡ºé¡¹â½¬ä¹‹åï¼Œå¦‚æœé¡¹â½¬å•ç‹¬å¼€å‘ï¼Œ ä¹Ÿå¯ä»¥ç›´æ¥æŠŠSVNçš„è¿æ¥ç»™æ–­å¼€ï¼Œå¯ä»¥é€šè¿‡IDEAä¸­çš„æ’ ä»¶è¿›â¾å¿«é€Ÿæ–­å¼€ï¼Œå¯ä»¥åœ¨æ’ä»¶å¸‚åœºä¸­æœç´¢</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916152119563.png" alt="image-20230916152119563"></p><p>å®‰è£…æˆåŠŸä¹‹åé‡å¯åº”â½¤ï¼Œå¯ä»¥åœ¨SVNçš„èœå•â¾¥æ‰¾åˆ°ï¼Œç‚¹ å‡»å³å¯æ–­å¼€ã€‚</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916152210284.png" alt="image-20230916152210284"></p><p>å› ä¸ºåœ¨æ–­å¼€çš„æ—¶å€™ï¼Œé€‰æ‹©çš„æ˜¯ç›´æ¥æŠŠSVNçš„ä¿¡æ¯éƒ½åˆ é™¤äº†ï¼Œé‚£ä¹ˆå¦‚æœè¿˜æƒ³è¿æ¥çš„è¯ï¼Œæœ€å¥½çš„<strong>é‡æ–°æ£€å‡ºâ¼€ ä»½</strong>(ä¹Ÿå°±æ˜¯é‡æ–°æ‰¾ä¸ªä½ç½®åˆ›å»ºä¸€ä¸ªé¡¹ç›®)ã€‚</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230916152520324.png" alt="image-20230916152520324"></p><p>æŒ‰ç…§è¦æ±‚é…ç½®æäº¤å³å¯ï¼Œå’Œåˆæ¬¡æäº¤çš„æ­¥éª¤ç›¸åŒï¼Œä½†æ˜¯ æœ‰çš„æ—¶å€™ä¼šå‘â½£é—®é¢˜ï¼Œâ½å¦‚<strong>å†²çª</strong>(è¿™æ˜¯ä¸€ä¸ªä»¤äººå¤´å¤§çš„é—®é¢˜)ã€‚</p><h1 id="å†²çª"><a href="#å†²çª" class="headerlink" title="å†²çª"></a>å†²çª</h1><blockquote><p>åˆ‡æ¢åˆ†æ”¯ breachesã€trunkã€tags</p><p>breachesï¼šä¸»è¦æ˜¯å„ä¸ªåˆ†æ”¯</p><p>trunkï¼šä¸»å¹²</p><p>tagsï¼šä¸»è¦ç”¨æ¥å¤‡ä»½</p><p>å…·ä½“æ“ä½œï¼š<a href="https://www.jb51.net/softjc/746129.html">IDEAç”¨SVNåˆ›å»ºåˆ†æ”¯å’Œåˆå¹¶åˆ†æ”¯çš„æ–¹æ³•æ­¥éª¤</a></p></blockquote><ul><li>ä»ä¸»å¹²å°†ä»£ç æ¨é€åˆ°æŸä¸ªåˆ†æ”¯</li></ul><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230920110642635.png" alt="image-20230920110642635"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230920110533922.png" alt="image-20230920110533922"></p><ul><li>svnåˆ‡æ¢åˆ†æ”¯</li></ul><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919092617864.png" alt="image-20230919092617864"></p><blockquote><p>åˆå¹¶åˆ†æ”¯ç”±ä¸¤ç§æ–¹æ³•</p></blockquote><p>æ–¹æ³•ä¸€ï¼š</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919092721993.png" alt="image-20230919092721993"></p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919092806805.png" alt="image-20230919092806805"></p><p>æ–¹æ³•äºŒï¼š</p><p><img src="/2023/09/15/SVN%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919093056001.png" alt="image-20230919093056001"></p><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> svn </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>05-JDBC</title>
      <link href="/2023/09/12/05-JDBC/"/>
      <url>/2023/09/12/05-JDBC/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šMysqlæ•°æ®åº“çš„ä½¿ç”¨åŠæ•°æ®åº“åˆ†æåŠè®¾è®¡å®è·µ</p></blockquote><h1 id="JUnit"><a href="#JUnit" class="headerlink" title="JUnit"></a>JUnit</h1><p>JUintç‰¹ç‚¹ï¼š</p><ul><li>JUnitæ˜¯ä¸€ä¸ªå¼€æ”¾æºä»£ç çš„æµ‹è¯•å·¥å…·</li><li>æä¾›æ³¨è§£æ¥è¯†åˆ«æµ‹è¯•æ–¹æ³•ï¼ˆåå°„æŠ€æœ¯å“ˆï¼‰</li><li>JUnitæµ‹è¯•å¯ä»¥è®©ä½ ç¼–å†™ä»£ç æ›´å¿«ï¼Œå¹¶èƒ½æé«˜è´¨é‡</li><li>JUnitä¼˜é›…ç®€æ´ã€‚æ²¡é‚£ä¹ˆå¤æ‚ï¼ŒèŠ±è´¹æ—¶é—´è¾ƒå°‘</li><li>JUnitåœ¨ä¸€ä¸ªæ¡ä¸­æ˜¾ç¤ºè¿›åº¦ï¼šå¦‚æœè¿è¡Œè‰¯å¥½åˆ™æ˜¯ç»¿è‰²ï¼›å¦‚æœè¿è¡Œå¤±è´¥ï¼Œåˆ™å˜æˆ çº¢è‰²</li></ul><h2 id="jaråŒ…å¯¼å…¥"><a href="#jaråŒ…å¯¼å…¥" class="headerlink" title="jaråŒ…å¯¼å…¥"></a>jaråŒ…å¯¼å…¥</h2><blockquote><p>å› ä¸ºJUnitå•å…ƒæµ‹è¯•æ¡†æ¶ï¼Œä¸æ˜¯JDKè‡ªå¸¦çš„ï¼Œæ‰€ä»¥æˆ‘ä»¬éœ€è¦é¢å¤–å¯¼å…¥JUnitçš„ jaråŒ…</p></blockquote><p><img src="/2023/09/12/05-JDBC/image-20230912210900890.png" alt="image-20230912210900890"></p><p>ideaå¯¼åŒ…</p><p><img src="/2023/09/12/05-JDBC/image-20230912211419820.png" alt="image-20230912211419820"></p><p><img src="/2023/09/12/05-JDBC/image-20230912211627551.png" alt="image-20230912211627551"></p><h2 id="åŸºç¡€ä½¿ç”¨"><a href="#åŸºç¡€ä½¿ç”¨" class="headerlink" title="åŸºç¡€ä½¿ç”¨"></a>åŸºç¡€ä½¿ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JunitTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;hello junit&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;junit test&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æµ‹è¯•æ–¹æ³•å¿…é¡»æ˜¯å…¬å…±çš„æ— å‚æ•°æ— è¿”å›å€¼çš„éé™æ€æ–¹æ³•</li><li>åœ¨æµ‹è¯•æ–¹æ³•ä¸Šä½¿ç”¨@Testæ³¨è§£æ ‡æ³¨è¯¥æ–¹æ³•æ—¶ä¸€ä¸ªæµ‹è¯•æ–¹æ³•</li></ul><h2 id="ç›¸å…³æ³¨è§£"><a href="#ç›¸å…³æ³¨è§£" class="headerlink" title="ç›¸å…³æ³¨è§£"></a>ç›¸å…³æ³¨è§£</h2><p><img src="/2023/09/12/05-JDBC/image-20230912212031095.png" alt="image-20230912212031095"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ–°å¢ä»£ç </span></span><br><span class="line"><span class="meta">@Before</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ‰§è¡Œæµ‹è¯•ä»£ç ä¹‹å‰æ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºåˆå§‹åŒ–æ“ä½œ</span></span><br><span class="line">    System.out.println(<span class="string">&quot;before&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–°å¢ä»£ç </span></span><br><span class="line"><span class="meta">@After</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">after</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">// åœ¨æ‰§è¡Œæµ‹è¯•ä»£ç ä¹‹åæ‰§è¡Œï¼Œä¸€èˆ¬ç”¨äºé‡Šæ”¾èµ„æº</span></span><br><span class="line">    System.out.println(<span class="string">&quot;after&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="JDBC"><a href="#JDBC" class="headerlink" title="JDBC"></a>JDBC</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>JDBCï¼ˆJava DataBase Connectivityï¼‰Javaæ•°æ®åº“è¿æ¥ï¼ˆæŠ€æœ¯ï¼‰</p><p>JDBC ï¼Œæ˜¯ä¸€ç§æŠ€æœ¯è§„èŒƒï¼Œå®ƒåˆ¶å®šäº†ç¨‹åºä¸­è¿æ¥æ“ä½œä¸åŒæ•°æ®åº“çš„æ ‡å‡†APIï¼Œä½¿å¾— ç¨‹åºå‘˜å¯ä»¥ä½¿ç”¨åŒä¸€å¥—æ ‡å‡†çš„ä»£ç ï¼Œå»è®¿é—®ä¸åŒæ•°æ®åº“ã€‚</p></blockquote><p><img src="/2023/09/12/05-JDBC/image-20230912212436495.png" alt="image-20230912212436495"></p><h2 id="ç†è§£"><a href="#ç†è§£" class="headerlink" title="ç†è§£"></a>ç†è§£</h2><p>ç†è§£JDBC</p><ul><li>å®˜æ–¹ï¼ˆsunå…¬å¸ï¼‰å®šä¹‰çš„ä¸€å¥—æ“ä½œæ‰€æœ‰å…³ç³»å‹æ•°æ®åº“çš„è§„åˆ™ï¼Œå³æ¥å£ï¼ˆJDBCï¼‰</li><li>å„ä¸ªæ•°æ®åº“å‚å•†å»å®ç°è¿™å¥—æ¥å£ï¼Œæä¾›æ•°æ®åº“é©±åŠ¨jaråŒ…</li><li>ç¨‹åºé€šè¿‡æ¥å£ï¼ˆJDBCï¼‰ç¼–å†™ä»£ç ï¼Œä½†æ˜¯çœŸæ­£å®è¡Œçš„ä»£ç æ˜¯é©±åŠ¨jaråŒ…ä¸­çš„å®ç°ç±»</li></ul><p><img src="/2023/09/12/05-JDBC/image-20230912214609889.png" alt="image-20230912214609889"></p><h2 id="æ­¥éª¤"><a href="#æ­¥éª¤" class="headerlink" title="æ­¥éª¤"></a>æ­¥éª¤</h2><p>ä½¿ç”¨JDBCæ“ä½œæ•°æ®åº“ï¼Œä¸€èˆ¬å­˜åœ¨6ä¸ªæ­¥éª¤ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1ã€æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">Class.forName(<span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>);</span><br><span class="line"><span class="comment">// 2ã€è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡</span></span><br><span class="line"><span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> DriverManager.getConnection(url, username, password);</span><br><span class="line"><span class="comment">// 3ã€è·å–æ•°æ®åº“æ“ä½œå¯¹è±¡ï¼ˆStatementç±»å‹æˆ–è€…å­ç±»PreparedStatementï¼‰</span></span><br><span class="line"><span class="type">Statement</span> <span class="variable">stmt</span> <span class="operator">=</span> conn.createStatement();</span><br><span class="line"><span class="comment">// 4ã€æ‰§è¡Œsqlè¯­å¥ï¼ˆåŒ…æ‹¬äº†Sqlå®šä¹‰ï¼‰</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update ...&quot;</span>; <span class="comment">// DMLã€DQLã€DDLã€DCLã€TCL</span></span><br><span class="line">stmt.executeUpdate(sql);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 5ã€å¤„ç†ç»“æœé›†ï¼ˆåªæœ‰DQLè¯­å¥æ‰æœ‰ç»“æœé›†ï¼‰</span></span><br><span class="line"><span class="comment">// ä¸‹é¢åªæ˜¯ä¸ªä¾‹å­</span></span><br><span class="line">rs = stmt.executeQuery(sql);</span><br><span class="line">List&lt;TUser&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">    <span class="type">TUser</span> <span class="variable">tUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TUser</span>(id, name, age);</span><br><span class="line">    list.add(tUser);</span><br><span class="line">&#125;</span><br><span class="line">list.forEach(System.out::println);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 6ã€é‡Šæ”¾èµ„æº</span></span><br><span class="line">rs.close;</span><br><span class="line">stmt.close;</span><br><span class="line">conn.close;</span><br></pre></td></tr></table></figure><h2 id="å¯¼å…¥"><a href="#å¯¼å…¥" class="headerlink" title="å¯¼å…¥"></a>å¯¼å…¥</h2><p>å¯¼å…¥MySQLçš„é©±åŠ¨jaråŒ…</p><p><img src="/2023/09/12/05-JDBC/image-20230912220209958.png" alt="image-20230912220209958"></p><h2 id="JDBC-API"><a href="#JDBC-API" class="headerlink" title="JDBC-API"></a>JDBC-API</h2><p>åº•å±‚å®ç°æ­¥éª¤ï¼š</p><ul><li>åŠ è½½é©±åŠ¨ç±»ï¼ˆåŠ è½½æ¥å£å…·ä½“çš„å®ç°ç±»çš„å†…å­˜ä¸­ï¼‰</li><li>å°†é©±åŠ¨ç±»æ³¨å†Œåˆ°é©±åŠ¨ç®¡ç†å™¨ä¸­ï¼ˆå¯ä»¥è‡ªåŠ¨å®Œæˆï¼‰</li><li>é€šè¿‡é©±åŠ¨ç®¡ç†å™¨è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼ˆå½“å‰Javaç¨‹åºå’ŒMysqlæ•°æ®åº“å»ºç«‹è¿æ¥ï¼‰</li></ul><h3 id="DriveManager"><a href="#DriveManager" class="headerlink" title="DriveManager"></a>DriveManager</h3><ul><li>æ³¨å†Œé©±åŠ¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨å†Œé©±åŠ¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">registerDriver</span><span class="params">(java.sql.Driver driver)</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">ä½†æ˜¯ä¸ºä»€ä¹ˆæˆ‘ä»¬è¿˜æ˜¯ä½¿ç”¨Class.forName(â€œcom.mysql.cj.jdbc.Driverâ€); å³é€šè¿‡ç±»åŠ è½½å™¨å®ç°é©±åŠ¨æ³¨å†Œå‘¢ï¼Ÿ</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// com.mysql.cj.jdbc.Driver; å®ç°äº† java.sql.Driver;æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Driver</span> <span class="keyword">extends</span> <span class="title class_">NonRegisteringDriver</span> <span class="keyword">implements</span> <span class="title class_">java</span>.sql.Driver &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Driver</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// é€šè¿‡åŠ è½½com.mysql.cj.jdbc.Driverçš„æ—¶å€™ä¼šè°ƒç”¨staticé™æ€æ–¹æ³•å¯¹Driverè¿›è¡Œæ³¨å†Œ</span></span><br><span class="line">            DriverManager.registerDriver(<span class="keyword">new</span> <span class="title class_">Driver</span>());</span><br><span class="line">        &#125; <span class="keyword">catch</span> (SQLException var1) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;Can&#x27;t register driver!&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šjava.sql.Driver æ˜¯JDBCä¸­æä¾›çš„é©±åŠ¨æ¥å£ï¼Œæ¯ç§æ•°æ®åº“é©±åŠ¨ç±»éƒ½è¦å®ç°è¿™ä¸ªæ¥å£</font></p><ul><li>è·å–æ•°æ®åº“è¿æ¥å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">(String url, String user, String password)</span> <span class="keyword">throws</span> SQLException;</span><br></pre></td></tr></table></figure><p><img src="/2023/09/12/05-JDBC/image-20230914155909911.png" alt="image-20230914155909911"></p><h3 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ•°æ®åº“è¿æ¥å››è¦ç´ </span></span><br><span class="line"><span class="keyword">private</span> <span class="type">String</span> <span class="variable">driverClass</span> <span class="operator">=</span> <span class="string">&quot;com.mysql.cj.jdbc.Driver&quot;</span>;</span><br><span class="line"><span class="comment">//é©±åŠ¨</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> <span class="string">&quot;jdbc:mysql://127.0.0.1:3306/lwsj&quot;</span>;</span><br><span class="line"><span class="comment">//æ•°æ®åº“åœ°å€</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">String</span> <span class="variable">user</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>; <span class="comment">//ç”¨æˆ·å</span></span><br><span class="line"><span class="keyword">private</span> <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> <span class="string">&quot;root&quot;</span>; <span class="comment">//å¯†ç </span></span><br><span class="line"><span class="comment">//è·å–æ•°æ®åº“è¿æ¥å¹¶è¾“å‡ºè¿æ¥å¯¹è±¡</span></span><br><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test_getConnection</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="type">Connection</span> <span class="variable">conn</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">    Class.forName(driverClass);</span><br><span class="line">    conn = DriverManager.getConnection(url,user,password);</span><br><span class="line">    System.out.println(conn);</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>urlï¼šæ•°æ®åº“è¿æ¥è·¯å¾„ï¼Œå…¶åé¢å¯ä»¥è¿½åŠ è¿æ¥å‚æ•°ï¼Œæ¥è®¾ç½®è¿æ¥çš„å±æ€§ï¼Œ å¸¸è§å‚æ•°å¦‚ä¸‹ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">url=jdbc:mysql:<span class="comment">//127.0.0.1:3306/jd2311?serverTimezone=UTC&amp;useServerPrepStmts=true</span></span><br></pre></td></tr></table></figure><p><img src="/2023/09/12/05-JDBC/image-20230914182234248.png" alt="image-20230914182234248"></p><p>è·å–æ‰§è¡Œå¯¹è±¡ï¼š</p><ul><li>æ™®é€šæ‰§è¡ŒSQLå¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">Statement <span class="title function_">createStatement</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><ul><li>é¢„ç¼–è¯‘SQLçš„æ‰§è¡ŒSQLå¯¹è±¡ï¼šé˜²æ­¢SQLæ³¨å…¥ï¼ˆå¬æˆ‘ç»†ç»†é“æ¥ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">PreparedStatement <span class="title function_">prepareStatement</span><span class="params">(sql)</span>;</span><br></pre></td></tr></table></figure><h3 id="Statement"><a href="#Statement" class="headerlink" title="Statement"></a>Statement</h3><ul><li>æ‰§è¡ŒDDLï¼ˆæˆåŠŸè¿”å› 0 ï¼‰ã€DMLè¯­å¥</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¦‚æœæ‰§è¡Œçš„æ˜¯DMLè¯­å¥ï¼Œåˆ™è¿”å›ä¿®æ”¹çš„è¡Œæ•°ï¼›å¦‚æœæ‰§è¡ŒDDLè¯­å¥ï¼Œåˆ™è¿”å›0</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">executeUpdate</span><span class="params">(String sql)</span> <span class="keyword">throws</span> SQLException;</span><br></pre></td></tr></table></figure><ul><li>æ‰§è¡ŒDQLè¯­å¥</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿”å›ç»“æœé›†å¯¹è±¡(åŒ…å«ç»™å®šæŸ¥è¯¢äº§ç”Ÿçš„æ•°æ®),æˆ–è€…null</span></span><br><span class="line">ResultSet <span class="title function_">executeQuery</span><span class="params">(String sql)</span> <span class="keyword">throws</span> SQLException;</span><br></pre></td></tr></table></figure><h2 id="DDL"><a href="#DDL" class="headerlink" title="DDL"></a>DDL</h2><h2 id="DML"><a href="#DML" class="headerlink" title="DML"></a>DML</h2><p>æ³¨æ„ï¼šJDBCä»£ç æ‰§è¡Œçš„sqlè¯­å¥ä¸éœ€è¦åŠ åˆ†å· <strong>ï¼›</strong>ï¼Œä½†æ˜¯å‘½ä»¤è¡Œé‡Œé¢æ‰§è¡Œsqlè¯­å¥ï¼Œæ˜¯è¦åŠ åˆ†å·çš„ï¼</p><h2 id="DQL"><a href="#DQL" class="headerlink" title="DQL"></a>DQL</h2><ul><li>ResultSet</li></ul><p>ç»“æœé›†ResultSetå¯¹è±¡ä½œç”¨ï¼š å°è£…äº†SQLæŸ¥è¯¢è¯­å¥çš„ç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">boolean</span> <span class="title function_">next</span><span class="params">()</span> <span class="keyword">throws</span> SQLException; <span class="comment">// ä»-1å¼€å§‹ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡å…‰æ ‡å°±å¾€å++</span></span><br><span class="line"><span class="keyword">public</span> xxx <span class="title function_">getXxx</span><span class="params">(?,?)</span>; <span class="comment">// ç¬¬ä¸€ä¸ªé—®å·æ˜¯ä¸‹æ ‡ä»1å¼€å§‹ï¼Œç¬¬äºŒä¸ªæ˜¯æ•°æ®</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">rs = stmt.executeQuery(sql);</span><br><span class="line">List&lt;TUser&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="keyword">while</span> (rs.next()) &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">id</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> rs.getString(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">    <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> rs.getInt(<span class="string">&quot;age&quot;</span>);</span><br><span class="line">    <span class="type">TUser</span> <span class="variable">tUser</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TUser</span>(id, name, age);</span><br><span class="line">    list.add(tUser);</span><br><span class="line">&#125;</span><br><span class="line">list.forEach(System.out::println);</span><br></pre></td></tr></table></figure><h2 id="SQLæ³¨å…¥"><a href="#SQLæ³¨å…¥" class="headerlink" title="SQLæ³¨å…¥"></a>SQLæ³¨å…¥</h2><p>SQLæ³¨å…¥æ”»å‡»åŸç†ï¼š<font color="#d12920">åˆ©ç”¨ç”¨æˆ·è¾“å…¥çš„æ•°æ®ä½œä¸ºSQLæŸ¥è¯¢è¯­å¥çš„ä¸€éƒ¨åˆ†ï¼Œä»è€Œæ”¹å˜åŸå§‹æŸ¥è¯¢çš„æ„å›¾ã€‚</font></p><p>ä¾‹å­ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># ç¬¬ä¸€ç§<span class="keyword">sql</span>æ³¨å…¥ï¼Œåªéœ€è¦çŸ¥é“è´¦å·å°±å¯ä»¥ç›´æ¥è¿›å…¥äº†</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;admin&#x27;</span> <span class="keyword">and</span> password<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">or</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1&#x27;</span></span><br><span class="line"># ç¬¬äºŒç§æ˜¯è¿è´¦å·éƒ½ä¸éœ€è¦çŸ¥é“</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;&#x27;</span> <span class="keyword">OR</span> <span class="string">&#x27;1&#x27;</span><span class="operator">=</span><span class="string">&#x27;1&#x27;</span>; <span class="comment">-- and password=&#x27;éšä¾¿å¯†ç &#x27;</span></span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> String username <span class="operator">=</span> &quot;admin&quot;;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> String password <span class="operator">=</span> &quot;asdf&#x27; or &#x27;1&#x27;=&#x27;1&quot;;</span><br><span class="line"></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> String username <span class="operator">=</span> &quot;admin&#x27;; -- &quot;;</span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> String password <span class="operator">=</span> &quot;éšä¾¿å¯†ç &quot;;</span><br></pre></td></tr></table></figure><h1 id="PreparedStatement"><a href="#PreparedStatement" class="headerlink" title="PreparedStatement"></a>PreparedStatement</h1><p>PreparedStatement æ˜¯ Statement æ¥å£çš„å­æ¥å£ã€‚</p><p>ä¸ Statement ä¸åŒï¼Œ PreparedStatement åœ¨æ‰§è¡Œä¹‹å‰ä¼šå…ˆå°†SQLè¯­å¥å‘é€ç»™æ•°æ®åº“è¿›è¡Œé¢„ç¼–è¯‘</p><p>PreparedStatementé¢„ç¼–è¯‘ä¼˜ç‚¹ï¼š</p><ul><li>æé«˜æ‰§è¡Œæ•ˆç‡</li><li>èƒ½å¤Ÿé˜²æ­¢SQLæ³¨å…¥æ”»å‡»</li><li>æ”¯æŒå„ç§æ•°æ®ç±»å‹å’Œæ‰¹å¤„ç†æ“ä½œ</li></ul><h2 id="åŒæ„å¼‚æ„"><a href="#åŒæ„å¼‚æ„" class="headerlink" title="åŒæ„å¼‚æ„"></a>åŒæ„å¼‚æ„</h2><ul><li>å¼‚æ„SQLè¯­å¥</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> id<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user <span class="keyword">where</span> name<span class="operator">=</span><span class="string">&#x27;tom&#x27;</span></span><br></pre></td></tr></table></figure><ul><li>åŒæ„SQLè¯­å¥</li></ul><p>åŒæ„å³ç»“æ„ç›¸åŒã€‚å¦‚æœæœ‰å¤šæ¡sqlè¯­å¥ï¼Œå®ƒä»¬çš„æ ¼å¼ç›¸åŒï¼Œåªæ˜¯è¦æ“ä½œçš„æ•°æ®ä¸ åŒï¼Œé‚£ä¹ˆå¯ä»¥ç§°å®ƒä»¬ä¸ºåŒæ„sqlè¯­å¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_user(id,name,password,age) <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;tom1&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">21</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_user(id,name,password,age) <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;tom2&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">22</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_user(id,name,password,age) <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;tom3&#x27;</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">23</span>);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- é—®å·è¡¨ç¤ºå ä½ç¬¦</span></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_user(id,name,password,age) <span class="keyword">values</span>(?,?,?,?);</span><br><span class="line"><span class="comment">-- ç¬¬ä¸€æ¬¡4ä¸ªé—®å·å¯¹åº”å€¼ï¼š 1 tom1 tom 21</span></span><br><span class="line"><span class="comment">-- ç¬¬äºŒæ¬¡4ä¸ªé—®å·å¯¹åº”å€¼ï¼š 2 tom2 tom 22</span></span><br><span class="line"><span class="comment">-- ç¬¬ä¸‰æ¬¡4ä¸ªé—®å·å¯¹åº”å€¼ï¼š 3 tom3 tom 23</span></span><br><span class="line"><span class="operator">/</span><span class="operator">/</span> ä½¿ç”¨pstmtå¯¹è±¡ç»™?èµ‹ä¸åŒæ•°æ®å€¼</span><br><span class="line">pstmt.setInt(id);</span><br><span class="line">pstmt.setString(name);</span><br><span class="line">pstmt.setString(password);</span><br><span class="line">pstmt.setInt(age);</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæ‰§è¡Œå¤§é‡åŒæ„SQLè¯­å¥çš„æƒ…å†µä¸‹ï¼Œä½¿ç”¨PreparedStatementä¼šå¤§å¤§æé«˜æ•ˆç‡ã€‚</p><h2 id="åŸç†åˆ†æ"><a href="#åŸç†åˆ†æ" class="headerlink" title="åŸç†åˆ†æ"></a>åŸç†åˆ†æ</h2><p><img src="/2023/09/12/05-JDBC/image-20230914190750470.png" alt="image-20230914190750470"></p><p>JDBCä½¿ç”¨Statementå¯¹è±¡æ‰§è¡ŒSQLè¯­å¥æµç¨‹ï¼ˆéé¢„ç¼–è¯‘ï¼‰ï¼š</p><ul><li>å°†SQLè¯­å¥ï¼ˆå«ç»“æ„+æ•°æ®ï¼‰å‘é€åˆ°MySQLæœåŠ¡ç«¯</li><li>MySQLæœåŠ¡ç«¯æ£€æŸ¥SQLæŸ¥è¯¢ ï¼ˆæ£€æŸ¥è¯­æ³•æ˜¯å¦æ­£ç¡®ï¼‰</li><li>MySQLæœåŠ¡ç«¯ç¼–è¯‘SQLè¯­å¥ï¼ˆå°†SQLè¯­å¥ç¼–è¯‘æˆå¯æ‰§è¡Œçš„å‡½æ•°ï¼‰</li><li>æ‰§è¡ŒSQLè¯­å¥</li></ul><p><strong>æ³¨æ„ï¼šæ£€æŸ¥å’Œç¼–è¯‘SQLéœ€è¦èŠ±è´¹å¤§é‡æ—¶é—´ï¼Œç”šè‡³æ¯”æ‰§è¡ŒSQLæ—¶é—´è¿˜è¦é•¿</strong></p><p>PreparedStatementï¼ˆé¢„ç¼–è¯‘ï¼‰ï¼š</p><ol><li>å°†SQLè¯­å¥ï¼ˆå«ç»“æ„ï¼‰å‘é€åˆ°MySQLæœåŠ¡å™¨ç«¯</li><li>MySQLæœåŠ¡ç«¯æ£€æŸ¥SQLè¯­å¥</li><li>MySQLæœåŠ¡ç«¯ç¼–è¯‘SQLè¯­å¥ï¼ˆç¼–è¯‘æˆåŠŸï¼Œå¯é‡å¤ä½¿ç”¨ï¼‰</li><li>PreparedStatementå¯¹è±¡ä¼ é€’å‚æ•°å€¼åˆ°æœåŠ¡å™¨</li><li>æ‰§è¡ŒSQLè¯­å¥</li><li>å¦‚æœå†æ¬¡æ‰§è¡ŒSQLè¯­å¥ï¼Œåˆ™åˆ°ç¬¬4æ­¥ï¼Œå†æ¬¡ä¼ é€’å‚æ•°å€¼åˆ°æœåŠ¡å™¨ï¼Œç„¶åç›´æ¥ æ‰§è¡Œå³å¯ã€‚</li></ol><p><strong>ç»“è®ºï¼šé¢„ç¼–è¯‘çœå»äº†åç»­æ‰§è¡ŒSQLçš„æ£€æŸ¥å’Œç¼–è¯‘è¿‡ç¨‹ï¼Œå¤§å¤§æé«˜äº†æ€§èƒ½</strong></p><h2 id="ç›¸å…³API"><a href="#ç›¸å…³API" class="headerlink" title="ç›¸å…³API"></a>ç›¸å…³API</h2><ul><li>è·å– PreparedStatement å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// SQLè¯­å¥ä¸­çš„å‚æ•°å€¼ï¼Œä½¿ç”¨ï¼Ÿå ä½ç¬¦æ›¿ä»£</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;select count(*) from t_user where name = ? and password = ?&quot;</span>;</span><br><span class="line"><span class="comment">// é€šè¿‡Connectionå¯¹è±¡è·å–ï¼Œå¹¶ä¼ å…¥å¯¹åº”çš„sqlè¯­å¥</span></span><br><span class="line"><span class="type">PreparedStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> conn.prepareStatement(sql);</span><br></pre></td></tr></table></figure><ul><li>è®¾ç½®å‚æ•°å€¼å¹¶æ‰§è¡ŒSQLè¯­å¥</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">void</span> <span class="title function_">setString</span><span class="params">(<span class="type">int</span> parameterIndex, String x)</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line"><span class="keyword">void</span> <span class="title function_">setInt</span><span class="params">(<span class="type">int</span> parameterIndex, <span class="type">int</span> x)</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line"><span class="comment">// çœç•¥setXXXX...</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// æ‰§è¡ŒDDLè¯­å¥å’ŒDMLè¯­å¥</span></span><br><span class="line">ResultSet <span class="title function_">executeQuery</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line"><span class="comment">// æ‰§è¡ŒDQLè¯­å¥</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">executeUpdate</span><span class="params">()</span> <span class="keyword">throws</span> SQLException;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šè°ƒç”¨ä¸Šè¿°2ä¸ªæ‰§è¡Œæ–¹æ³•æ—¶ä¸éœ€è¦ä¼ é€’SQLè¯­å¥ï¼Œå› ä¸ºè·å–SQLè¯­å¥æ‰§è¡Œå¯¹è±¡ æ—¶å·²ç»å¯¹SQLè¯­å¥è¿›è¡Œé¢„ç¼–è¯‘äº†ã€‚</font></p><h1 id="Batch"><a href="#Batch" class="headerlink" title="Batch"></a>Batch</h1><p>æ‰¹å¤„ç†ï¼ˆBatchï¼‰ï¼šä¸€æ¬¡æ“ä½œä¸­æ‰§è¡Œå¤šæ¡SQLè¯­å¥ï¼Œç›¸æ¯”äºä¸€æ¬¡æ‰§è¡Œä¸€æ¡SQLè¯­ å¥ï¼Œæ•ˆç‡ä¼šæé«˜å¾ˆå¤šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Statement</span> <span class="keyword">extends</span> <span class="title class_">Wrapper</span>, AutoCloseable &#123;</span><br><span class="line">    <span class="comment">// å‘Batchä¸­åŠ å…¥SQLè¯­å¥</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">addBatch</span><span class="params">( String sql )</span> <span class="keyword">throws</span> SQLException;</span><br><span class="line">    <span class="comment">// æ‰§è¡ŒBatchä¸­çš„SQLè¯­å¥,è¿”å›æ•°ç»„ï¼Œå…ƒç´ å¯¹åº”æ¯æ¡sqlè¯­å¥çš„æ‰§è¡Œç»“æœ</span></span><br><span class="line">    <span class="type">int</span>[] executeBatch() <span class="keyword">throws</span> SQLException;</span><br><span class="line">    <span class="comment">// çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠŠè¦æ‰§è¡Œçš„sqlè¯­å¥ï¼Œæ·»åŠ åˆ°æ‰¹å¤„ç†ä¸­</span></span><br><span class="line">stmt.addBatch(sql1);</span><br><span class="line">stmt.addBatch(sql2);</span><br><span class="line">stmt.addBatch(sql3);</span><br><span class="line">stmt.addBatch(sql4);</span><br><span class="line">stmt.addBatch(sql5);</span><br><span class="line">stmt.addBatch(sql6);</span><br><span class="line"><span class="comment">//æ‰§è¡Œæ‰¹å¤„ç†ä¸­çš„sqlè¯­å¥ï¼Œè¿”å›æ¯ä¸€ä¸ªè¯­å¥çš„ç»“æœ</span></span><br><span class="line"><span class="type">int</span>[] rows = stmt.executeBatch();</span><br></pre></td></tr></table></figure><h1 id="Transaction"><a href="#Transaction" class="headerlink" title="Transaction"></a>Transaction</h1><p>é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨JDBCä¸­æ‰§è¡Œçš„DMLè¯­å¥ï¼Œæ‰€äº§ç”Ÿçš„äº‹åŠ¡ï¼Œéƒ½æ˜¯è‡ªåŠ¨æäº¤çš„ã€‚ä¹Ÿ å°±æ˜¯è¯´ï¼Œæ¯æ‰§è¡Œä¸€æ¬¡DMLè¯­å¥ï¼Œæ‰€äº§ç”Ÿçš„äº‹åŠ¡ï¼Œå°±ä¼šè‡ªåŠ¨æäº¤ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.åŠ è½½æ³¨å†Œé©±åŠ¨</span></span><br><span class="line">Class.forName(driverClass);</span><br><span class="line"><span class="comment">//2.è·å–è¿æ¥å¯¹è±¡</span></span><br><span class="line">conn = DriverManager.getConnection(url,user,password);</span><br><span class="line"><span class="comment">//è®¾ç½®äº‹åŠ¡è‡ªåŠ¨æäº¤ä¸ºfalseï¼Œä¹Ÿå°±æ˜¯éœ€è¦æ‰‹åŠ¨æäº¤ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">conn.setAutoCommit(<span class="literal">false</span>);</span><br><span class="line"><span class="comment">//3.è·å–Statementå¯¹è±¡</span></span><br><span class="line"><span class="type">String</span> <span class="variable">sql</span> <span class="operator">=</span> <span class="string">&quot;update t_user set name=? where id = ?&quot;</span>;</span><br><span class="line">pstmt = conn.prepareStatement(sql);</span><br><span class="line"><span class="comment">//4.æ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line">pstmt.setString(<span class="number">1</span>,<span class="string">&quot;lucy&quot;</span>);</span><br><span class="line">pstmt.setInt(<span class="number">2</span>,<span class="number">1</span>);</span><br><span class="line"><span class="type">int</span> <span class="variable">rows</span> <span class="operator">=</span> pstmt.executeUpdate(sql);</span><br><span class="line"><span class="comment">//æ‰‹åŠ¨æäº¤äº‹åŠ¡ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼ï¼</span></span><br><span class="line">conn.commit();</span><br><span class="line">conn.close();</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„1ï¼Œä»£ç ä¸­å½“å‰è¿æ¥ä¸­çš„äº‹åŠ¡è®¾ç½®ä¸ºäº†æ‰‹åŠ¨æäº¤</li><li>æ³¨æ„2ï¼Œä»£ç ä¸­æ“ä½œå®Œæˆæäº¤äº‹åŠ¡ï¼Œå‡ºç°å¼‚å¸¸åˆ™å›æ»šäº‹åŠ¡</li><li>æ³¨æ„3ï¼Œfinallyè¯­å¥ä¸­çš„ <strong>conn.close()</strong> ä»£ç ï¼Œä¹Ÿå¯ä»¥æäº¤äº‹åŠ¡</li></ul><p>å¦å¤–ï¼Œå¦‚æœæœ‰éœ€è¦ï¼Œä¹Ÿå¯ä»¥åœ¨ç¨‹åºä¸­è®¾ç½®å›æ»šç‚¹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//DML</span></span><br><span class="line"><span class="type">Savepoint</span> <span class="variable">p1</span> <span class="operator">=</span> conn.setSavepoint(<span class="string">&quot;p1&quot;</span>);</span><br><span class="line"><span class="comment">//DML</span></span><br><span class="line"><span class="type">Savepoint</span> <span class="variable">p2</span> <span class="operator">=</span> conn.setSavepoint(<span class="string">&quot;p2&quot;</span>);</span><br><span class="line"><span class="comment">//DML</span></span><br><span class="line"><span class="type">Savepoint</span> <span class="variable">p3</span> <span class="operator">=</span> conn.setSavepoint(<span class="string">&quot;p3&quot;</span>);</span><br><span class="line"><span class="comment">//DML</span></span><br><span class="line"><span class="type">Savepoint</span> <span class="variable">p4</span> <span class="operator">=</span> conn.setSavepoint(<span class="string">&quot;p4&quot;</span>);</span><br><span class="line">conn.rollback(p2);</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šMysqlä¸­è¦ä¸»åŠ¨å¼€å¯é¢„ç¼–è¯‘åŠŸèƒ½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åœ¨ä»£ç ä¸­ç¼–å†™urlæ—¶éœ€è¦åŠ ä¸Šä»¥ä¸‹å‚æ•°</span></span><br><span class="line">useServerPrepStmts=<span class="literal">true</span></span><br><span class="line"><span class="comment">// å³</span></span><br><span class="line">url=jdbc:mysql:<span class="comment">//127.0.0.1:3306/jd2311?serverTimezone=UTC&amp;useServerPrepStmts=true</span></span><br></pre></td></tr></table></figure><h1 id="è¿æ¥æ± "><a href="#è¿æ¥æ± " class="headerlink" title="è¿æ¥æ± "></a>è¿æ¥æ± </h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>æ± (Pool)æŠ€æœ¯åœ¨ä¸€å®šç¨‹åº¦ä¸Šå¯ä»¥æ˜æ˜¾ä¼˜åŒ–æœåŠ¡å™¨åº”ç”¨ç¨‹åºçš„æ€§èƒ½ï¼Œæé«˜ç¨‹åºæ‰§è¡Œæ•ˆç‡å’Œé™ä½ç³»ç»Ÿèµ„æºå¼€é”€ã€‚</p></blockquote><p><img src="/2023/09/12/05-JDBC/image-20230914193128095.png" alt="image-20230914193128095"></p><p>æ•°æ®åº“è¿æ¥æ± ï¼šåœ¨ç³»ç»Ÿåˆå§‹åŒ–æ—¶åˆ›å»ºä¸€å®šæ•°é‡çš„æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼Œéœ€è¦æ—¶ç›´æ¥ä»æ± ä¸­å–å‡ºä¸€ä¸ªç©ºé—²å¯¹è±¡ï¼Œç”¨å®Œåå¹¶ä¸ç›´æ¥é‡Šæ”¾æ‰å¯¹è±¡ï¼Œè€Œæ˜¯å†æ”¾å…¥åˆ°å¯¹è±¡æ± ä¸­ï¼Œä»¥ä¾¿ä¸‹ä¸€æ¬¡å¯¹è±¡è¯·æ±‚å¯ä»¥ç›´æ¥å¤ç”¨ã€‚æ¶ˆé™¤äº†å¯¹è±¡åˆ›å»ºå’Œé”€æ¯æ‰€å¸¦æ¥çš„å»¶è¿Ÿï¼Œä»è€Œæé«˜ç³»ç»Ÿçš„æ€§èƒ½ã€‚</p><p>ä¼˜ç‚¹ï¼š</p><ul><li>èµ„æºå¤ç”¨<ul><li>ç”±äºæ•°æ®åº“è¿æ¥å¾—åˆ°é‡ç”¨ï¼Œé¿å…äº†é¢‘ç¹åˆ›å»ºã€é‡Šæ”¾è¿æ¥å¼•èµ·çš„å¤§é‡æ€§èƒ½å¼€é”€ï¼›</li></ul></li><li>æ›´å¿«çš„ç³»ç»Ÿå“åº”é€Ÿåº¦<ul><li>å¯¹äºä¸šåŠ¡è¯·æ±‚å¤„ç†è€Œè¨€ï¼Œç›´æ¥åˆ©ç”¨ç°æœ‰å¯ç”¨è¿æ¥ï¼Œé¿å…äº†æ•°æ®åº“è¿æ¥åˆå§‹åŒ– å’Œé‡Šæ”¾è¿‡ç¨‹çš„æ—¶é—´ï¼Œä»è€Œç¼©å‡äº†ç³»ç»Ÿæ•´ä½“å“åº”æ—¶é—´ã€‚</li></ul></li><li>ç»Ÿä¸€çš„è¿æ¥ç®¡ç†ï¼Œé¿å…æ•°æ®åº“è¿æ¥æ³„æ¼<ul><li>æ ¹æ®é¢„å…ˆçš„è¿æ¥å ç”¨è¶…æ—¶è®¾å®šï¼Œå¼ºåˆ¶æ”¶å›è¢«å ç”¨è¿æ¥ï¼Œä»è€Œé¿å…äº†å¸¸è§„æ•°æ® åº“è¿æ¥æ“ä½œä¸­å¯èƒ½å‡ºç°çš„èµ„æºæ³„æ¼ã€‚</li></ul></li></ul><h2 id="Druid"><a href="#Druid" class="headerlink" title="Druid"></a>Druid</h2><p>Druidï¼ˆå¾·é²ä¼Šï¼‰</p><ul><li>Druidè¿æ¥æ± æ˜¯é˜¿é‡Œå·´å·´å¼€æºçš„æ•°æ®åº“è¿æ¥æ± é¡¹ç›®</li><li>åŠŸèƒ½å¼ºå¤§ï¼Œæ€§èƒ½ä¼˜ç§€ï¼Œæ˜¯Javaè¯­è¨€æœ€å¥½çš„æ•°æ®åº“è¿æ¥æ± ä¹‹ä¸€</li></ul><blockquote><p>å®˜æ–¹ï¼š<a href="https://github.com/alibaba/druid/wiki/Druid%E8%BF%9E%E6%8E%A5%E6%B1%A0%E4%BB%8B%E7%BB%8D">Druidè¿æ¥æ± ä»‹ç» Â· alibaba&#x2F;druid Wiki (github.com)</a></p></blockquote><p><img src="/2023/09/12/05-JDBC/image-20230914194243566.png" alt="image-20230914194243566"></p><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><p><strong>javax.sql.DataSource</strong> æ˜¯Javaä¸­å®šä¹‰çš„ä¸€ä¸ªæ•°æ®æºæ ‡å‡†çš„æ¥å£ï¼Œé€šè¿‡å®ƒè·å– åˆ°çš„æ•°æ®åº“è¿æ¥å¯¹è±¡ï¼Œå¦‚æœè°ƒç”¨ <strong>close()</strong> æ–¹æ³•ï¼Œä¸ä¼šå†å…³é—­è¿æ¥ï¼Œè€Œæ˜¯å½’è¿˜è¿ æ¥åˆ°è¿æ¥æ± ä¸­ã€‚</p><ul><li>ç¬¬ä¸€æ­¥ï¼šå¯¼jaråŒ…</li></ul><p><img src="/2023/09/12/05-JDBC/image-20230914194908348.png" alt="image-20230914194908348"></p><ul><li>ç¬¬äºŒéƒ¨ï¼šé…ç½®æ–‡ä»¶ (druid.properties)</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">#MySQLçš„é©±åŠ¨ï¼Œæ³¨æ„ç‰ˆæœ¬åŒºåˆ«</span></span><br><span class="line"><span class="attr">driverClassName</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="comment">#æœ¬åœ°æ•°æ®åº“çš„urlï¼šåªæœ‰jd2311åº“å æŒ‰ç…§è‡ªå·±çš„æ•°æ®åº“åç§°æ¥ä¹¦å†™ï¼Œå…¶ä»–çš„æ˜¯ä¸€è‡´çš„</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc:mysql://127.0.0.1:3306/jd2311?serverTimezone=UTC&amp;useServerPrepStmts=true</span></span><br><span class="line"><span class="comment">#è‡ªå·±çš„æ•°æ®åº“ç”¨æˆ·å</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">lwsj</span></span><br><span class="line"><span class="comment">#è‡ªå·±çš„æ•°æ®åº“å¯†ç </span></span><br><span class="line"><span class="attr">password</span>=<span class="string">lwsj</span></span><br><span class="line"><span class="comment"># åˆå§‹åŒ–è¿æ¥æ•°é‡</span></span><br><span class="line"><span class="attr">initialSize</span>=<span class="string">5</span></span><br><span class="line"><span class="comment"># æœ€å¤§è¿æ¥æ•°</span></span><br><span class="line"><span class="attr">maxActive</span>=<span class="string">10</span></span><br><span class="line"><span class="comment"># æœ€å¤§ç­‰å¾…æ—¶é—´</span></span><br><span class="line"><span class="attr">maxWait</span>=<span class="string">3000</span></span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼šä½ç½®ä¸€å®šæ˜¯åœ¨srcæ–‡ä»¶å¤¹ä¸‹é¢</p></blockquote><p>è¿™é‡Œæˆ‘å°±è¦è§£é‡Šä¸€ä¸‹ideaçš„è·¯å¾„é—®é¢˜äº†ï¼š</p><ul><li>ä½¿ç”¨File(url)è¿™ç§çš„ç›¸å¯¹è·¯å¾„</li></ul><p><img src="/2023/09/12/05-JDBC/image-20230914195706811.png" alt="image-20230914195706811"></p><ul><li>ä½¿ç”¨ ç±»å.class.getClassLoader().getResourceAsStream(url) çš„ç›¸å¯¹è·¯å¾„</li></ul><p><img src="/2023/09/12/05-JDBC/image-20230914200333239.png" alt="image-20230914200333239"></p><p><img src="/2023/09/12/05-JDBC/image-20230914200618796.png" alt="image-20230914200618796"></p><p><img src="/2023/09/12/05-JDBC/image-20230914200720318.png" alt="image-20230914200720318"></p><h1 id="å°è£…"><a href="#å°è£…" class="headerlink" title="å°è£…"></a>å°è£…</h1><p>è¿™ä¸ªæœ‰ç‚¹éš¾åº¦å“ˆï¼çœ‹çœ‹å°±è¡Œ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br><span class="line">78</span><br><span class="line">79</span><br><span class="line">80</span><br><span class="line">81</span><br><span class="line">82</span><br><span class="line">83</span><br><span class="line">84</span><br><span class="line">85</span><br><span class="line">86</span><br><span class="line">87</span><br><span class="line">88</span><br><span class="line">89</span><br><span class="line">90</span><br><span class="line">91</span><br><span class="line">92</span><br><span class="line">93</span><br><span class="line">94</span><br><span class="line">95</span><br><span class="line">96</span><br><span class="line">97</span><br><span class="line">98</span><br><span class="line">99</span><br><span class="line">100</span><br><span class="line">101</span><br><span class="line">102</span><br><span class="line">103</span><br><span class="line">104</span><br><span class="line">105</span><br><span class="line">106</span><br><span class="line">107</span><br><span class="line">108</span><br><span class="line">109</span><br><span class="line">110</span><br><span class="line">111</span><br><span class="line">112</span><br><span class="line">113</span><br><span class="line">114</span><br><span class="line">115</span><br><span class="line">116</span><br><span class="line">117</span><br><span class="line">118</span><br><span class="line">119</span><br><span class="line">120</span><br><span class="line">121</span><br><span class="line">122</span><br><span class="line">123</span><br><span class="line">124</span><br><span class="line">125</span><br><span class="line">126</span><br><span class="line">127</span><br><span class="line">128</span><br><span class="line">129</span><br><span class="line">130</span><br><span class="line">131</span><br><span class="line">132</span><br><span class="line">133</span><br><span class="line">134</span><br><span class="line">135</span><br><span class="line">136</span><br><span class="line">137</span><br><span class="line">138</span><br><span class="line">139</span><br><span class="line">140</span><br><span class="line">141</span><br><span class="line">142</span><br><span class="line">143</span><br><span class="line">144</span><br><span class="line">145</span><br><span class="line">146</span><br><span class="line">147</span><br><span class="line">148</span><br><span class="line">149</span><br><span class="line">150</span><br><span class="line">151</span><br><span class="line">152</span><br><span class="line">153</span><br><span class="line">154</span><br><span class="line">155</span><br><span class="line">156</span><br><span class="line">157</span><br><span class="line">158</span><br><span class="line">159</span><br><span class="line">160</span><br><span class="line">161</span><br><span class="line">162</span><br><span class="line">163</span><br><span class="line">164</span><br><span class="line">165</span><br><span class="line">166</span><br><span class="line">167</span><br><span class="line">168</span><br><span class="line">169</span><br><span class="line">170</span><br><span class="line">171</span><br><span class="line">172</span><br><span class="line">173</span><br><span class="line">174</span><br><span class="line">175</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.jdbc.util;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.alibaba.druid.pool.DruidDataSourceFactory;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> javax.sql.DataSource;</span><br><span class="line"><span class="keyword">import</span> java.io.FileInputStream;</span><br><span class="line"><span class="keyword">import</span> java.io.IOException;</span><br><span class="line"><span class="keyword">import</span> java.io.InputStream;</span><br><span class="line"><span class="keyword">import</span> java.sql.*;</span><br><span class="line"><span class="keyword">import</span> java.util.Properties;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@ClassName</span> JDBCUtil</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Author</span> luozongwei</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Date</span> 2023/9/12 16:13</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@Description</span></span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">JDBCUtils</span> &#123;</span><br><span class="line">    <span class="comment">// ç»´æŠ¤ä¸€ä¸ªæ•°æ®æº</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> DataSource dataSource;</span><br><span class="line">    <span class="comment">// é…ç½®æ–‡ä»¶åˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String CLASS_NAME;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String URL;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String USERNAME;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> String PASSWORD;</span><br><span class="line">    <span class="comment">// å®šä¹‰åˆ†ç±»ä¸­ç”¨åˆ°çš„ä¸‰ä¸ªå˜é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Connection conn;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Statement stmt;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> ResultSet rs;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> &#123;</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> JDBCUtils.class.getClassLoader().getResourceAsStream(<span class="string">&quot;jdbc.properties&quot;</span>);</span><br><span class="line">        <span class="comment">// è®°å¾—finalä¿®é¥°çš„å˜é‡ä¸èƒ½æ”¾åœ¨tryé‡Œè¾¹ï¼Œå› ä¸ºå¼‚å¸¸å¯èƒ½å¯¼è‡´ç±»åŠ è½½çš„é¡ºåºæœ‰æ‰€ä¸åŒ</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(in);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        CLASS_NAME = properties.getProperty(<span class="string">&quot;driverClassName&quot;</span>);</span><br><span class="line">        URL = properties.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        USERNAME = properties.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        PASSWORD = properties.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// ä¹Ÿå¯ç”¨é€šè¿‡propertiesåˆ›å»ºæ•°æ®æº</span></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            dataSource = DruidDataSourceFactory.createDataSource(properties);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** </span></span><br><span class="line"><span class="comment">     * ä»é…ç½®æ–‡ä»¶ä¸­åŠ è½½æ•°æ®åº“è¿æ¥ä¿¡æ¯</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> SQLException</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@throws</span> ClassNotFoundException</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException, ClassNotFoundException &#123;</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">p</span> <span class="operator">=</span> loadProperties();</span><br><span class="line">        <span class="type">String</span> <span class="variable">driverClassName</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;driverClassName&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        Class.forName(driverClassName);</span><br><span class="line">        <span class="keyword">return</span> DriverManager.getConnection(url, username, password);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * åŠ è½½propertiesæ–‡ä»¶</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span></span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> Properties <span class="title function_">loadProperties</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="keyword">try</span> (<span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;resources/jdbc.properties&quot;</span>)) &#123;</span><br><span class="line">            <span class="comment">// try (InputStream in = new FileInputStream(&quot;jdbc.properties&quot;)) &#123;</span></span><br><span class="line">            p.load(in);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> p;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * æ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> conn   æ•°æ®åº“è¿æ¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> sql    sqlè¯­å¥</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@param</span> params å‚æ•°ï¼ˆå¦‚æœæœ‰ï¼‰</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@return</span> å¦‚æœæ˜¯DQLæ“ä½œï¼Œè¿”å›ç»“æœé›†ï¼›å¦‚æœæ˜¯DMLï¼Œè¿”å›æ“ä½œè¡Œæ•°</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">execute</span><span class="params">(Connection conn, String sql, Object... params)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="type">PreparedStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> conn.prepareStatement(sql);</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; params.length; i++) &#123;</span><br><span class="line">            pstmt.setObject(i + <span class="number">1</span>, params[i]);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (sql.trim().toLowerCase().startsWith(<span class="string">&quot;select&quot;</span>)) &#123;</span><br><span class="line">            <span class="keyword">return</span> pstmt.executeQuery();</span><br><span class="line">        &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">            <span class="keyword">return</span> pstmt.executeUpdate();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 1ã€ä¸ä½¿ç”¨è¿æ¥æ± è·å¾—è¿æ¥å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getCommonConnection</span><span class="params">()</span> <span class="keyword">throws</span> ClassNotFoundException, SQLException &#123;</span><br><span class="line">        Class.forName(JDBCUtils.CLASS_NAME);</span><br><span class="line">        conn = DriverManager.getConnection(JDBCUtils.URL, JDBCUtils.USERNAME, JDBCUtils.PASSWORD);</span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2ã€ä½¿ç”¨è¿æ¥æ± è·å¾—è¿æ¥å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Connection <span class="title function_">getDruidConnection</span><span class="params">()</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        conn = dataSource.getConnection();</span><br><span class="line">        <span class="keyword">return</span> conn;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3ã€æ‰§è¡ŒDDLè¯­å¥çš„æ–¹æ³•ï¼ˆstmtï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">executeDDL</span><span class="params">(String sql)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        stmt = getDruidConnection().createStatement();</span><br><span class="line">        <span class="keyword">return</span> stmt.executeUpdate(sql);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 4ã€æ‰§è¡ŒDMLè¯­å¥çš„æ–¹æ³•ï¼ˆstmtï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">executeDML</span><span class="params">(String sql)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        <span class="keyword">return</span> executeDDL(sql);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 5ã€æ‰§è¡ŒDQLè¯­å¥çš„æ–¹æ³•ï¼ˆstmtï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> ResultSet <span class="title function_">executeDQL</span><span class="params">(String sql)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">        stmt = getDruidConnection().createStatement();</span><br><span class="line">        rs = stmt.executeQuery(sql);</span><br><span class="line">        <span class="keyword">return</span> rs;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span> &#123;</span><br><span class="line">        close(conn, stmt, rs);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">(Connection conn, Statement stmt)</span> &#123;</span><br><span class="line">        close(conn, stmt, <span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 6ã€å…³é—­æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">close</span><span class="params">(Connection conn, Statement stmt, ResultSet rs)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (rs != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                rs.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (stmt != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                stmt.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">if</span> (conn != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                conn.close();</span><br><span class="line">            &#125; <span class="keyword">catch</span> (SQLException throwables) &#123;</span><br><span class="line">                throwables.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç›®å‰æ„Ÿè§‰æœ€ä¼˜é›…çš„ä¸€æ®µä»£ç ï¼ï¼ ä¸å¤§å®¶ä¸€åŒæ¬£èµ</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* æ‰§è¡ŒSQLè¯­å¥</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> conn   æ•°æ®åº“è¿æ¥</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> sql    sqlè¯­å¥</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> params å‚æ•°ï¼ˆå¦‚æœæœ‰ï¼‰</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> å¦‚æœæ˜¯DQLæ“ä½œï¼Œè¿”å›ç»“æœé›†ï¼›å¦‚æœæ˜¯DMLï¼Œè¿”å›æ“ä½œè¡Œæ•°</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> Object <span class="title function_">execute</span><span class="params">(Connection conn, String sql, Object... params)</span> <span class="keyword">throws</span> SQLException &#123;</span><br><span class="line">    <span class="type">PreparedStatement</span> <span class="variable">pstmt</span> <span class="operator">=</span> conn.prepareStatement(sql);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; params.length; i++) &#123;</span><br><span class="line">        pstmt.setObject(i + <span class="number">1</span>, params[i]);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">if</span> (sql.trim().toLowerCase().startsWith(<span class="string">&quot;select&quot;</span>)) &#123;</span><br><span class="line">        <span class="keyword">return</span> pstmt.executeQuery();</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> pstmt.executeUpdate();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>å¤§é¹ä¸€æ—¥åŒé£èµ·ï¼Œæ‰¶æ‘‡ç›´ä¸Šä¹ä¸‡é‡Œã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>navicatè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</title>
      <link href="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/"/>
      <url>/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>navicat èåˆæ€ª!!!  sqlç¼–è¾‘å™¨çš„é›†å¤§æˆè€…</p></blockquote><h1 id="ä¸‹è½½"><a href="#ä¸‹è½½" class="headerlink" title="ä¸‹è½½"></a>ä¸‹è½½</h1><blockquote><p><a href="https://www.cnblogs.com/marchxd/p/15580739.html">Navicat Premium 15 æ°¸ä¹…ç ´è§£æ¿€æ´»å·¥å…·åŠå®‰è£…æ•™ç¨‹(äº²æµ‹å¯ç”¨)</a></p></blockquote><h1 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h1><blockquote><p>å¼€å¯ä¸€ä¸ªmysqlç»ˆç«¯ï¼šF6</p></blockquote><h1 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h1><h2 id="Connection"><a href="#Connection" class="headerlink" title="Connection"></a>Connection</h2><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910153732304.png" alt="image-20230910153732304"></p><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910153926012.png" alt="image-20230910153926012"></p><h2 id="è®¾ç½®"><a href="#è®¾ç½®" class="headerlink" title="è®¾ç½®"></a>è®¾ç½®</h2><blockquote><p>è¯­è¨€å’ŒèƒŒæ™¯è®¾ç½®ï¼Œåšä¸»å·²ç»ä¹ æƒ¯è‹±æ–‡å•¦~~</p></blockquote><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910155941213.png" alt="image-20230910155941213"></p><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910160052420.png" alt="image-20230910160052420"></p><blockquote><p>è®¾ç½®å®Œæˆåé‡å¯navicatå³å¯ç”Ÿæ•ˆ</p></blockquote><h1 id="è¿›é˜¶æ“ä½œ"><a href="#è¿›é˜¶æ“ä½œ" class="headerlink" title="è¿›é˜¶æ“ä½œ"></a>è¿›é˜¶æ“ä½œ</h1><h2 id="æŸ¥çœ‹E-Rå›¾"><a href="#æŸ¥çœ‹E-Rå›¾" class="headerlink" title="æŸ¥çœ‹E-Rå›¾"></a>æŸ¥çœ‹E-Rå›¾</h2><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910155716829.png" alt="image-20230910155716829"></p><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910155803610.png" alt="image-20230910155803610"></p><h2 id="é€†å‘ç”Ÿæˆè¡¨æ¨¡å‹"><a href="#é€†å‘ç”Ÿæˆè¡¨æ¨¡å‹" class="headerlink" title="é€†å‘ç”Ÿæˆè¡¨æ¨¡å‹"></a>é€†å‘ç”Ÿæˆè¡¨æ¨¡å‹</h2><blockquote><p>å…¶å®å°±æ˜¯E-Rå›¾å“ˆ</p></blockquote><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910160905114.png" alt="image-20230910160905114"></p><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910161523727.png" alt="image-20230910161523727"></p><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910161621343.png" alt="image-20230910161621343"></p><h2 id="Empty-table-å’Œ-Truncate-Tableçš„åŒºåˆ«"><a href="#Empty-table-å’Œ-Truncate-Tableçš„åŒºåˆ«" class="headerlink" title="Empty table å’Œ Truncate Tableçš„åŒºåˆ«"></a>Empty table å’Œ Truncate Tableçš„åŒºåˆ«</h2><p><img src="/2023/09/10/navicat%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230910171135627.png" alt="image-20230910171135627"></p><ul><li>ç›¸åŒç‚¹ï¼šéƒ½ä¼šæ¸…ç©ºæ•°æ®è¡¨é‡Œçš„æ‰€æœ‰æ•°æ®</li><li>ä¸åŒç‚¹<ul><li>empty tableæ˜¯æ¸…ç©ºè¡¨é‡Œçš„æ•°æ®</li><li>truncate tableæ˜¯åˆ é™¤è¡¨ï¼Œç„¶åå†åˆ›å»ºè¿™å¼ è¡¨</li></ul></li><li>æ„ä¹‰ï¼šå¯¹äºä¸»ç´¢å¼•è‡ªåŠ¨å¢åŠ çš„æƒ…å†µï¼Œemptyæ¸…è¡¨åï¼Œæ–°æ·»åŠ çš„è¡Œæ•°æ®ä¾ç„¶åœ¨ä¸Šæ¬¡çš„å€¼ä¸Šå¢åŠ ï¼›è€Œtruncateåˆ™ä¼šé‡æ–°ä»1å¼€å§‹</li></ul></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> navicat </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04-äº‹åŠ¡ç´¢å¼•è§†å›¾</title>
      <link href="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/"/>
      <url>/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šMysqlæ•°æ®åº“çš„ä½¿ç”¨åŠæ•°æ®åº“åˆ†æåŠè®¾è®¡å®è·µ</p></blockquote><h1 id="æ•°æ®åº“äº‹åŠ¡"><a href="#æ•°æ®åº“äº‹åŠ¡" class="headerlink" title="æ•°æ®åº“äº‹åŠ¡"></a>æ•°æ®åº“äº‹åŠ¡</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>äº‹åŠ¡ï¼ˆTransactionï¼‰,æ˜¯ç”±ä¸€äº›åˆ—å¯¹æ•°æ®åº“è¡¨ä¸­æ•°æ®ï¼Œè¿›è¡Œè®¿é—®ä¸æ›´æ–°çš„æ“ä½œï¼Œæ‰€ç»„æˆçš„ä¸€ä¸ªæ‰§è¡Œé€»è¾‘å•å…ƒ</p></blockquote><ul><li>åªæœ‰DMLè¯­å¥æ‰ä¼šäº§ç”Ÿäº‹åŠ¡ï¼Œå…¶ä»–è¯­å¥ä¸ä¼šäº§ç”Ÿäº‹åŠ¡</li><li>DMLè¯­å¥æ‰§è¡Œçš„æ—¶å€™ï¼Œå¦‚æœå½“å‰æœ‰äº‹åŠ¡ï¼Œé‚£ä¹ˆå°±ä½¿ç”¨è¿™ä¸ªäº‹åŠ¡ã€‚å¦‚æœå½“å‰æ²¡æœ‰äº‹åŠ¡ï¼Œåˆ™äº§ç”Ÿä¸€ä¸ªæ–°äº‹ç‰©</li><li>commitã€rollbackã€DDLè¯­å¥éƒ½å¯ä»¥æŠŠå½“å‰äº‹åŠ¡ç»™ç»“æŸæ‰</li><li>commitå’ŒDDLè¯­å¥ç»“æŸäº‹åŠ¡çš„æ–¹å¼æ˜¯æŠŠè¿™ä¸ªäº‹åŠ¡ç»™æäº¤äº†ï¼Œç„¶åDMLæ“ä½œæ°¸ä¹…ç”Ÿæ•ˆ</li><li>rollbackç»“æŸäº‹åŠ¡çš„æ–¹å¼æ˜¯æŠŠè¿™ä¸ªäº‹åŠ¡ç»™å›æ»šäº†ï¼Œé»˜è®¤å›æ»šåˆ°äº‹åŠ¡å¼€å§‹ çš„çŠ¶æ€</li><li><strong>mysqlé»˜è®¤æ˜¯å¼€å¯äº‹åŠ¡</strong>ï¼Œå³autocommit&#x3D;1,è‡ªåŠ¨æäº¤äº‹åŠ¡ã€‚å³æ‰§è¡Œinsertã€updateã€deleteæ“ä½œï¼Œç«‹å³æäº¤</li></ul><p>äº‹åŠ¡çš„ç”Ÿå‘½å‘¨æœŸ</p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911084859175.png" alt="image-20230911084859175"></p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911085248432.png" alt="image-20230911085248432"></p><h2 id="äº‹åŠ¡ç‰¹å¾"><a href="#äº‹åŠ¡ç‰¹å¾" class="headerlink" title="äº‹åŠ¡ç‰¹å¾"></a>äº‹åŠ¡ç‰¹å¾</h2><p>æ•°æ®åº“äº‹åŠ¡å¿…é¡»å…·å¤‡ACIDç‰¹æ€§ï¼Œ<strong>ACIDæ˜¯Atomicï¼ˆåŸå­æ€§ï¼‰ã€Consistencyï¼ˆä¸€è‡´ æ€§ï¼‰ã€Isolationï¼ˆéš”ç¦»æ€§ï¼‰å’ŒDurabilityï¼ˆæŒä¹…æ€§ï¼‰</strong></p><ul><li>åŸå­æ€§ï¼ˆAtomicityï¼‰</li></ul><p>â€‹ä¸€ä¸ªäº‹åŠ¡(transaction)ä¸­çš„æ‰€æœ‰æ“ä½œï¼Œ<strong>è¦ä¹ˆå…¨éƒ¨å®Œæˆï¼Œè¦ä¹ˆå…¨éƒ¨ä¸å®Œæˆï¼Œä¸ä¼šç»“æŸåœ¨ä¸­é—´æŸä¸ªç¯èŠ‚ã€‚</strong></p><p>â€‹äº‹åŠ¡åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å‘ç”Ÿé”™è¯¯ï¼Œä¼šè¢«å›æ»šï¼ˆRollbackï¼‰ åˆ°äº‹åŠ¡å¼€å§‹å‰çš„çŠ¶æ€ï¼Œå°±åƒè¿™ä¸ªäº‹åŠ¡ä»æ¥æ²¡æœ‰æ‰§è¡Œè¿‡ä¸€æ ·ã€‚ </p><p>â€‹å¦‚ï¼šå¼ ä¸‰è½¬è´¦ç»™æå››é’±ï¼Œè½¬è´¦è¿‡ç¨‹ä¸­åœç”µäº†ï¼Œåº”è¯¥è½¬è´¦ä¸ç”Ÿæ•ˆï¼ˆå›é€€ï¼‰ï¼Œäº‹ ç‰©çš„åŸå­æ€§</p><ul><li>ä¸€è‡´æ€§ï¼ˆConsistencyï¼‰</li></ul><p>â€‹äº‹åŠ¡çš„ä¸€è‡´æ€§æŒ‡çš„æ˜¯åœ¨ä¸€ä¸ªäº‹åŠ¡æ‰§è¡Œä¹‹å‰å’Œæ‰§è¡Œä¹‹åæ•°æ®åº“éƒ½å¿…é¡»å¤„äºä¸€è‡´ æ€§çŠ¶æ€ã€‚</p><p>â€‹å¦‚æœäº‹åŠ¡æˆåŠŸåœ°å®Œæˆï¼Œé‚£ä¹ˆç³»ç»Ÿä¸­æ‰€æœ‰å˜åŒ–å°†æ­£ç¡®åœ°åº”ç”¨ï¼Œç³»ç»Ÿå¤„ äºæœ‰æ•ˆçŠ¶æ€ã€‚å¦‚æœåœ¨äº‹åŠ¡ä¸­å‡ºç°é”™è¯¯ï¼Œé‚£ä¹ˆç³»ç»Ÿä¸­çš„æ‰€æœ‰å˜åŒ–å°†è‡ªåŠ¨åœ°å› æ»šï¼Œç³»ç»Ÿè¿”å›åˆ°åŸå§‹çŠ¶æ€ã€‚</p><p>â€‹å¦‚ï¼šå¼ ä¸‰è½¬è´¦ç»™æå››é’±ï¼Œè½¬å¸ä¹‹å‰å’Œè½¬è´¦ä¹‹åï¼Œè´¦åŠ¡æ€»é¢åº”è¯¥ä¿æŒä¸å˜ã€‚</p><ul><li>éš”ç¦»æ€§ï¼ˆIsolationï¼‰</li></ul><p>â€‹æŒ‡çš„æ˜¯åœ¨å¹¶å‘ç¯å¢ƒä¸­ï¼Œå½“ä¸åŒçš„äº‹åŠ¡åŒæ—¶æ“çºµç›¸åŒçš„æ•°æ®æ—¶ï¼Œæ¯ä¸ªäº‹åŠ¡éƒ½æœ‰ å„è‡ªçš„å®Œæ•´æ•°æ®ç©ºé—´ã€‚ç”±å¹¶å‘äº‹åŠ¡æ‰€åšçš„ä¿®æ”¹å¿…é¡»ä¸ä»»ä½•å…¶ä»–å¹¶å‘äº‹åŠ¡æ‰€åš çš„ä¿®æ”¹éš”ç¦»ã€‚äº‹åŠ¡æŸ¥çœ‹æ•°æ®æ›´æ–°æ—¶ï¼Œæ•°æ®æ‰€å¤„çš„çŠ¶æ€è¦ä¹ˆæ˜¯å¦ä¸€äº‹åŠ¡ä¿®æ”¹å®ƒ ä¹‹å‰çš„çŠ¶æ€ï¼Œè¦ä¹ˆæ˜¯å¦ä¸€äº‹åŠ¡ä¿®æ”¹å®ƒä¹‹åçš„çŠ¶æ€ï¼Œäº‹åŠ¡ä¸ä¼šæŸ¥çœ‹åˆ°ä¸­é—´çŠ¶æ€ çš„æ•°æ®ã€‚</p><p>å¦‚ï¼šå¼ ä¸‰è½¬è´¦è¿‡ç¨‹ï¼Œæå››çœ‹ä¸åˆ°å¼ ä¸‰è´¦æˆ·çš„å˜åŒ–</p><ul><li>æŒä¹…æ€§ï¼ˆDurabilityï¼‰</li></ul><p>æŒ‡çš„æ˜¯åªè¦äº‹åŠ¡æˆåŠŸç»“æŸï¼Œå®ƒå¯¹æ•°æ®åº“æ‰€åšçš„æ›´æ–°å°±å¿…é¡»æ°¸ä¹…ä¿å­˜ä¸‹æ¥ã€‚å³ ä½¿å‘ç”Ÿç³»ç»Ÿå´©æºƒï¼Œé‡æ–°å¯åŠ¨æ•°æ®åº“ç³»ç»Ÿåï¼Œæ•°æ®åº“è¿˜èƒ½æ¢å¤åˆ°äº‹åŠ¡æˆåŠŸç»“æŸ æ—¶çš„çŠ¶æ€ã€‚</p><p>å¦‚ï¼šå¦‚æœè½¬åˆ°é”™è¯¯çš„äººçš„è´¦æˆ·ä¸Šï¼Œé’±æ˜¯é€€ä¸å›æ¥çš„ï¼Œäº‹åŠ¡ä¸€æ—¦å®Œæˆï¼Œäº‹åŠ¡ä¸­æ‰€æ¶‰åŠçš„æ•°æ®ï¼Œä¸èƒ½å†è¢«æ­¤æ¬¡äº‹åŠ¡æ‰€æ›´æ”¹ã€‚</p><h2 id="æäº¤å›æ»š"><a href="#æäº¤å›æ»š" class="headerlink" title="æäº¤å›æ»š"></a>æäº¤å›æ»š</h2><h3 id="æŸ¥çœ‹äº‹åŠ¡"><a href="#æŸ¥çœ‹äº‹åŠ¡" class="headerlink" title="æŸ¥çœ‹äº‹åŠ¡"></a>æŸ¥çœ‹äº‹åŠ¡</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> @<span class="variable">@autocommit</span>;</span><br></pre></td></tr></table></figure><h3 id="å¼€å¯äº‹åŠ¡"><a href="#å¼€å¯äº‹åŠ¡" class="headerlink" title="å¼€å¯äº‹åŠ¡"></a>å¼€å¯äº‹åŠ¡</h3><p>äº‹åŠ¡å¼€å¯ä¸€æ¬¡å³å¯ï¼</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SET</span> AUTOCOMMIT<span class="operator">=</span><span class="number">0</span>; # ç”¨æ¥ç¦æ­¢ä½¿ç”¨å½“å‰ä¼šè¯çš„è‡ªåŠ¨æäº¤ã€‚</span><br><span class="line"># å¼€å¯äº‹åŠ¡ï¼Œä¸‹é¢äºŒé€‰ä¸€å³å¯ </span><br><span class="line"><span class="keyword">BEGIN</span>;</span><br><span class="line"><span class="keyword">START</span> TRANSACTION;</span><br></pre></td></tr></table></figure><h3 id="äº‹åŠ¡æäº¤"><a href="#äº‹åŠ¡æäº¤" class="headerlink" title="äº‹åŠ¡æäº¤"></a>äº‹åŠ¡æäº¤</h3><p><strong>å¼€å¯äº‹åŠ¡ä»¥åï¼Œæ‰§è¡ŒDMLè¯­å¥é‡åˆ°commitå…³é”®å­—æˆ–DDLè¯­å¥ï¼Œä¼šæäº¤äº‹åŠ¡ã€‚</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- äº‹åŠ¡å·²ç»å¼€å¯</span></span><br><span class="line"><span class="keyword">insert</span> ... ç¬¬ä¸€æ¬¡æ‰§è¡ŒDMLè¯­å¥ï¼Œæ–°å»ºäº‹åŠ¡(ç”¨Aæ ‡è¯†)</span><br><span class="line"><span class="keyword">update</span> ... è¿™ä¸ªæ“ä½œæ˜¯äº‹åŠ¡Aä¸­çš„æ“ä½œ</span><br><span class="line"><span class="keyword">insert</span> .. è¿™ä¸ªæ“ä½œæ˜¯äº‹åŠ¡Aä¸­çš„æ“ä½œ</span><br><span class="line"><span class="keyword">commit</span>; è®©äº‹åŠ¡Aé‡Œé¢çš„ä¸‰ä¸ªæ“ä½œç”Ÿæ•ˆã€äº‹åŠ¡Aç»“æŸ</span><br><span class="line"><span class="keyword">delete</span> ... æ­¤æ—¶æ²¡æœ‰äº‹åŠ¡ï¼Œæ‰§è¡Œæ–°çš„DMLè¯­å¥ä¼šäº§ç”Ÿæ–°äº‹åŠ¡(ç”¨Bæ ‡è¯†)</span><br><span class="line"><span class="keyword">insert</span> .. è¿™ä¸ªæ“ä½œæ˜¯äº‹åŠ¡Bä¸­çš„æ“ä½œ</span><br><span class="line"><span class="keyword">insert</span> .. è¿™ä¸ªæ“ä½œæ˜¯äº‹åŠ¡Bä¸­çš„æ“ä½œ</span><br><span class="line">rename .. é‡åˆ°DDLè¯­å¥ï¼Œäº‹åŠ¡è‡ªåŠ¨æäº¤</span><br><span class="line"><span class="keyword">insert</span> .. æ­¤æ—¶æ²¡æœ‰äº‹åŠ¡ï¼Œæ‰§è¡Œæ–°DMLä¼šåˆ›å»ºæ–°äº‹åŠ¡(ç”¨Cæ ‡è¯†)</span><br><span class="line">...</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæœ‰ä¸€äº›è¯­å¥ä¼šä½¿å¾—äº‹åŠ¡ç»“æŸ</p><ul><li>DDL<ul><li>alter databaseã€alter eventã€alter procedureã€alter tableã€alter viewã€create tableã€drop tableã€rename tableã€truncate tableç­‰ï¼›</li></ul></li><li>ä¿®æ”¹MYSQLæ¶æ„çš„è¯­å¥<ul><li>create userã€drop userã€grantã€renameã€userã€revokeã€set passwordï¼›</li></ul></li><li>ç®¡ç†è¯­å¥<ul><li>analyze tableã€cache indexã€check tableã€load indexã€into cacheã€optimize tableã€repair tableç­‰</li></ul></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_customer(id,name) <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_customer(id,name) <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;jack&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_customer(id,name) <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;rose&#x27;</span>);</span><br><span class="line"><span class="keyword">update</span> t_customer <span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;lucy&#x27;</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">commit</span>;</span><br><span class="line"><span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_customer <span class="keyword">where</span> id<span class="operator">=</span><span class="number">3</span>;</span><br><span class="line"><span class="keyword">update</span> t_customer <span class="keyword">set</span> name<span class="operator">=</span><span class="string">&#x27;lily&#x27;</span> <span class="keyword">where</span> id<span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_customer;</span><br><span class="line"><span class="comment">-- DDLè¯­å¥ï¼Œä¼šè‡ªåŠ¨æäº¤äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3 <span class="keyword">add</span> phone <span class="type">varchar</span>(<span class="number">20</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_customer;</span><br></pre></td></tr></table></figure><h3 id="äº‹åŠ¡å›æ»š"><a href="#äº‹åŠ¡å›æ»š" class="headerlink" title="äº‹åŠ¡å›æ»š"></a>äº‹åŠ¡å›æ»š</h3><p>ä½¿ç”¨å…³é”®å­— savepoint ï¼Œç”¨æ¥è®¾ç½®å›æ»šç‚¹</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># DMLè¯­å¥<span class="number">1</span></span><br><span class="line"><span class="keyword">savepoint</span> A </span><br><span class="line">#  DMLè¯­å¥<span class="number">2</span></span><br><span class="line"><span class="keyword">savepoint</span> B</span><br><span class="line"># DMLè¯­å¥<span class="number">3</span></span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> A<span class="operator">/</span>B</span><br><span class="line"><span class="keyword">rollback</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å¼€å¯äº‹åŠ¡</span></span><br><span class="line"><span class="keyword">start</span> transaction;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_user <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="number">1000</span>);</span><br><span class="line"><span class="keyword">savepoint</span> A;</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_user(id,name) <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;zs&#x27;</span>);</span><br><span class="line"><span class="keyword">savepoint</span> B;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_user;</span><br><span class="line"><span class="comment">-- å›æ»šåˆ°B</span></span><br><span class="line"><span class="keyword">rollback</span> <span class="keyword">to</span> B;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user;</span><br><span class="line"><span class="comment">-- å›æ»šäº‹åŠ¡ï¼ˆç”Ÿæ•ˆï¼‰</span></span><br><span class="line"><span class="keyword">rollback</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> t_user;</span><br><span class="line"><span class="comment">-- æµ‹è¯•å®Œæˆåå¯ä»¥åˆ é™¤è¡¨</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> t_user;</span><br></pre></td></tr></table></figure><h2 id="éš”ç¦»çº§åˆ«"><a href="#éš”ç¦»çº§åˆ«" class="headerlink" title="éš”ç¦»çº§åˆ«"></a>éš”ç¦»çº§åˆ«</h2><p>äº‹åŠ¡éš”ç¦»çº§åˆ«æŒ‡çš„æ˜¯éš”ç¦»æ€§çš„å¼ºå¼±</p><ul><li>ä¸å¯é‡å¤è¯»ï¼šåœ¨åŒä¸€äº‹åŠ¡ä¸­ï¼Œä¸¤æ¬¡è¯»å–åŒä¸€æ•°æ®ï¼Œå¾—åˆ°å†…å®¹ä¸åŒ</li></ul><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911163741636.png" alt="image-20230911163741636"></p><ul><li>å¹»å½±è¯»ï¼šåŒä¸€äº‹åŠ¡ä¸­ï¼Œç”¨åŒæ ·çš„æ“ä½œè¯»å–ä¸¤æ¬¡ï¼Œå¾—åˆ°çš„è®°å½•æ•°ä¸ç›¸åŒã€‚</li></ul><p>åœ¨å¯é‡å¤è¯»éš”ç¦»çº§åˆ«ä¸‹ï¼Œäº‹åŠ¡Båªèƒ½åœ¨äº‹åŠ¡Aä¿®æ”¹è¿‡æ•°æ®å¹¶æäº¤åï¼Œè‡ªå·±ä¹Ÿæäº¤äº‹åŠ¡åï¼Œæ‰èƒ½è¯»å–åˆ°äº‹åŠ¡Bä¿®æ”¹çš„æ•°æ®</p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911164452672.png" alt="image-20230911164452672"></p><ul><li>è„è¯»ï¼šä¼šè¯1è¯»åˆ°ä¼šè¯2æœªæäº¤çš„æ•°æ®ã€‚</li></ul><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911164832598.png" alt="image-20230911164832598"></p><p>4ç±»éš”ç¦»çº§åˆ«</p><ul><li>READ UNCOMMITTED å¹»å½±è¯»ã€ä¸å¯é‡å¤è¯»å’Œè„è¯»éƒ½å…è®¸</li><li>READ COMMITTED å…è®¸å¹»å½±è¯»ã€ä¸å¯é‡å¤è¯»ï¼Œä¸å…è®¸è„è¯»</li><li>REPEATABLE READ ï¼ˆé»˜è®¤ï¼‰å…è®¸å¹»å½±è¯»ï¼Œä¸å…è®¸ä¸å¯é‡å¤è¯»å’Œè„è¯»</li><li>SERIALIZABLE å¹»å½±è¯»ã€ä¸å¯é‡å¤è¯»å’Œè„è¯»éƒ½ä¸å…è®¸</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%isolation%&#x27;</span>; </span><br><span class="line"><span class="keyword">set</span> session transaction isolation level READ COMMITTED;</span><br><span class="line"><span class="comment">-- æ¢å¤æˆé»˜è®¤éš”ç¦»çº§åˆ«</span></span><br><span class="line"><span class="keyword">set</span> session transaction isolation level REPEATABLE READ;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šä¼šè¯çº§åˆ«åªé’ˆå¯¹å½“å‰ç”Ÿæ•ˆï¼Œæ°¸ä¹…ç”Ÿæ•ˆmysqlé…ç½®æ–‡ä»¶ä¿®æ”¹</font></p><h1 id="ç´¢å¼•"><a href="#ç´¢å¼•" class="headerlink" title="ç´¢å¼•"></a>ç´¢å¼•</h1><p>åœ¨ MySQL ä¸­ï¼Œç´¢å¼•ï¼ˆIndexï¼‰æ˜¯ä¸€ç§æ•°æ®ç»“æ„ï¼Œç”¨äºæé«˜æ•°æ®åº“è¡¨çš„æŸ¥è¯¢æ€§èƒ½ã€‚ </p><p>ç´¢å¼•å¯ä»¥åŠ é€Ÿæ•°æ®çš„æ£€ç´¢ï¼Œå‡å°‘æŸ¥è¯¢æ‰€éœ€çš„æ—¶é—´å’Œèµ„æºæ¶ˆè€—ã€‚ ç´¢å¼•ç”¨äºå¿«é€Ÿå®šä½å’Œè®¿é—®è¡¨ä¸­çš„æ•°æ®ã€‚å®ƒç±»ä¼¼äºä¹¦ç±çš„ç›®å½•ï¼Œå¯ä»¥æ ¹æ®å…³é”®å­—å¿« é€Ÿæ‰¾åˆ°å¯¹åº”çš„æ•°æ®è¡Œï¼Œè€Œæ— éœ€æ‰«ææ•´ä¸ªè¡¨ã€‚</p><p>ç´¢å¼•ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>ä¼˜ç‚¹ï¼šåŠ å¿«æ•°æ®æ£€ç´¢é€Ÿåº¦ï¼Œæé«˜æŸ¥æ‰¾æ•ˆç‡</li><li>ç¼ºç‚¹ï¼šå ç”¨æ•°æ®åº“ç‰©ç†å­˜å‚¨ç©ºé—´ï¼Œå½“å¯¹æ ‡ä¸­æ•°æ®æ›´æ–°æ—¶ï¼Œç´¢å¼•éœ€è¦åŠ¨æ€ç»´æŠ¤ï¼Œé™ä½æ•°æ®å†™å…¥æ•ˆç‡</li></ul><p>åˆ›å»ºåŸåˆ™ï¼š</p><ul><li>å¯¹whereå’Œorder byæ¶‰åŠçš„åˆ—ä¸Šå°½é‡å»ºç«‹ç´¢å¼•</li><li>æ›´æ–°é¢‘ç¹çš„åˆ—ä¸åº”è®¾ç½®ç´¢å¼•</li><li>æ•°æ®é‡å°çš„è¡¨ä¸è¦ä½¿ç”¨ç´¢å¼•</li><li>é‡å¤æ•°æ®å¤šçš„å­—æ®µä¸åº”è®¾ä¸ºç´¢å¼•ï¼ˆå¦‚æ€§åˆ«ï¼Œåªæœ‰ç”·å’Œå¥³ï¼‰ï¼Œé‡å¤æ•°æ®è¶…15%å°±ä¸è¯¥å»ºç´¢å¼•</li></ul><h2 id="å­˜å‚¨å¼•æ“"><a href="#å­˜å‚¨å¼•æ“" class="headerlink" title="å­˜å‚¨å¼•æ“"></a>å­˜å‚¨å¼•æ“</h2><p>åœ¨ MySQL ä¸­ï¼Œå­˜å‚¨å¼•æ“ï¼ˆStorage Engineï¼‰æ˜¯è´Ÿè´£å¤„ç†æ•°æ®çš„å­˜å‚¨å’Œæ£€ç´¢çš„æ¨¡ å—ã€‚</p><p>MySQL æ”¯æŒå¤šç§å­˜å‚¨å¼•æ“ï¼Œä¸åŒçš„å­˜å‚¨å¼•æ“å¯ä»¥åœ¨ä¸åŒçš„åº”ç”¨åœºæ™¯ä¸­æä¾› ä¸åŒçš„ä¼˜åŠ¿å’Œç‰¹æ€§ã€‚</p><p>å¸¸è§å­˜å‚¨å¼•æ“ï¼š</p><ul><li>InnoDBï¼šInnoDB æ˜¯ MySQL 5.5 ç‰ˆæœ¬ä¹‹åçš„é»˜è®¤å­˜å‚¨å¼•æ“ã€‚ å®ƒæä¾›äº†äº‹åŠ¡æ”¯æŒã€è¡Œçº§é”å®šã€å¤–é”®çº¦æŸå’Œå´©æºƒæ¢å¤ç­‰åŠŸèƒ½ã€‚ InnoDB å¼•æ“é€‚ç”¨äºéœ€è¦äº‹åŠ¡æ”¯æŒå’Œé«˜å¹¶å‘è¯»å†™æ“ä½œçš„åº”ç”¨åœºæ™¯ã€‚</li><li>MyISAMï¼šMyISAM æ˜¯ MySQL 5.5 ç‰ˆæœ¬ä¹‹å‰çš„é»˜è®¤å­˜å‚¨å¼•æ“ã€‚ å®ƒä»¥å…¶ç®€å•å’Œé«˜æ€§èƒ½è€Œé—»åï¼Œé€‚ç”¨äºå¤§é‡çš„è¯»æ“ä½œå’Œåªè¯»æ•°æ®ã€‚ MyISAM å¼•æ“ä¸æ”¯æŒäº‹åŠ¡å’Œè¡Œçº§é”å®šã€‚</li><li>Memoryï¼šæˆ–ç§°ä¸º Heapå­˜å‚¨å¼•æ“ï¼Œå°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œæä¾›äº†éå¸¸å¿«é€Ÿçš„ è¯»å†™æ€§èƒ½ã€‚ ä½†æ˜¯ï¼Œç”±äºæ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­ï¼Œé‡å¯æœåŠ¡å™¨æˆ–æ–­ç”µä¼šå¯¼è‡´æ•°æ®ä¸¢å¤±ã€‚Memory å¼•æ“é€‚ç”¨äºä¸´æ—¶æ•°æ®å­˜å‚¨å’Œé«˜é€Ÿç¼“å­˜ç­‰åœºæ™¯ã€‚</li></ul><h2 id="åº•å±‚å®ç°"><a href="#åº•å±‚å®ç°" class="headerlink" title="åº•å±‚å®ç°"></a>åº•å±‚å®ç°</h2><p><strong>MySQL 8 é»˜è®¤å­˜å‚¨å¼•æ“ä¸º InnoDB ï¼Œå…¶é‡‡ç”¨B+Treeä½œä¸ºç´¢å¼•å¸¸ç”¨åº•å±‚æ•°æ®ç»“æ„ã€‚</strong></p><ol><li>Hashè¡¨</li></ol><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911181205284.png" alt="image-20230911181205284"></p><p>å¼Šç«¯ï¼šé€šè¿‡hashå€¼å®šä½æ•°æ®éå¸¸å¿«ï¼Œä½†åªæœ‰ç²¾ç¡®åŒ¹é…ç´¢å¼•æ‰€æœ‰åˆ—çš„æŸ¥è¯¢æ‰æœ‰æ•ˆï¼</p><p><font color="#d12920">å› ä¸ºæ•£åˆ—è¡¨ä¸­çš„å€¼æ˜¯æ— åºçš„ï¼Œæ— æ³•è¿›è¡Œå¤§å°çš„æ¯”è¾ƒ</font></p><p>åœ¨MySQLä¸­ï¼Œå¸¸è§å­˜å‚¨å¼•æ“å¹¶ä¸æ”¯æŒ Hash ç´¢å¼•ï¼Œåªæœ‰Memoryå¼•æ“æ˜¾å¼æ”¯æŒå“ˆå¸Œ ç´¢å¼•ã€‚è¿™ä¹Ÿæ˜¯Memoryå¼•æ“è¡¨çš„é»˜è®¤ç´¢å¼•ç±»å‹ï¼ŒMemoryå¼•æ“åŒæ—¶ä¹Ÿæ”¯æŒB-Treeç´¢ å¼•ã€‚</p><ol start="2"><li>äºŒå‰æ ‘</li></ol><p><strong>ä½¿ç”¨äºŒå‰æ ‘å¯ä»¥æé«˜æŸ¥è¯¢æ•°æ®çš„é€Ÿåº¦ï¼Œä½†æ˜¯æœ‰å¯èƒ½äº§ç”Ÿä¸å¹³è¡¡ç±»ä¼¼äºé“¾è¡¨çš„ç»“æ„</strong></p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911182219764.png" alt="image-20230911182219764"></p><ol start="3"><li>å¹³è¡¡äºŒå‰æ ‘</li></ol><p>å¹³è¡¡äºŒå‰æ ‘æ˜¯é‡‡ç”¨äºŒåˆ†æ³•æ€ç»´æŠŠæ•°æ®æŒ‰è§„åˆ™ç»„è£…æˆä¸€ä¸ªæ ‘å½¢ç»“æ„çš„æ•°æ®ï¼Œç”¨è¿™ä¸ª æ ‘å½¢ç»“æ„çš„æ•°æ®å‡å°‘æ— å…³æ•°æ®çš„æ£€ç´¢ï¼Œå¤§å¤§çš„æå‡äº†æ•°æ®æ£€ç´¢çš„é€Ÿåº¦ï¼Œå…¶ç‰¹ç‚¹ï¼š</p><ul><li>å®ƒçš„å·¦å­æ ‘å’Œå³å­æ ‘éƒ½æ˜¯å¹³è¡¡äºŒå‰æ ‘</li><li>å·¦å­æ ‘æ¯”ä¸­é—´å°ï¼Œå³å­æ ‘æ¯”ä¸­é—´å€¼å¤§</li><li>å·¦å­æ ‘å’Œå³å­æ ‘çš„æ·±åº¦ä¹‹å·®çš„ç»å¯¹å€¼ä¸è¶…è¿‡1</li></ul><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911182738849.png" alt="image-20230911182738849"></p><ol start="4"><li>BTree</li></ol><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911183102890.png" alt="image-20230911183102890"></p><ul><li>MyISAMå¼•æ“</li></ul><p>MyISAMå¼•æ“ä½¿ç”¨B+Treeä½œä¸ºç´¢å¼•ç»“æ„ï¼Œå¶èŠ‚ç‚¹çš„dataåŸŸå­˜æ”¾çš„æ˜¯æ•°æ®è®°å½•çš„åœ°å€<br><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911183249786.png" alt="image-20230911183249786"></p><ul><li>InnoDBå¼•æ“</li></ul><p>InnoDBå¼•æ“ä½¿ç”¨B+Treeä½œä¸ºç´¢å¼•ç»“æ„ï¼Œå¶èŠ‚ç‚¹çš„dataåŸŸå­˜æ”¾çš„æ˜¯æ•°æ®ï¼Œç›¸æ¯” MyISAMæ•ˆç‡è¦é«˜ä¸€äº›ï¼Œä½†æ˜¯å ç¡¬ç›˜å†…å­˜æ›´å¤šã€‚</p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911183430121.png" alt="image-20230911183430121"></p><h2 id="å•åˆ—ç´¢å¼•"><a href="#å•åˆ—ç´¢å¼•" class="headerlink" title="å•åˆ—ç´¢å¼•"></a>å•åˆ—ç´¢å¼•</h2><h3 id="æ™®é€šç´¢å¼•"><a href="#æ™®é€šç´¢å¼•" class="headerlink" title="æ™®é€šç´¢å¼•"></a>æ™®é€šç´¢å¼•</h3><p>ä¸‰ç§åˆ›å»ºç´¢å¼•çš„æ–¹æ³•</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] tb_name [(</span><br><span class="line">    å­—æ®µ<span class="number">1</span> æ•°æ®ç±»å‹ [çº¦æŸæ¡ä»¶] [é»˜è®¤å€¼] [COMMENT <span class="string">&#x27;æ³¨è§£&#x27;</span>],</span><br><span class="line">    å­—æ®µ<span class="number">2</span> æ•°æ®ç±»å‹ [çº¦æŸæ¡ä»¶] [é»˜è®¤å€¼] [COMMENT <span class="string">&#x27;æ³¨è§£&#x27;</span>],</span><br><span class="line">    å­—æ®µ<span class="number">3</span> æ•°æ®ç±»å‹ [çº¦æŸæ¡ä»¶] [é»˜è®¤å€¼] [COMMENT <span class="string">&#x27;æ³¨è§£&#x27;</span>],</span><br><span class="line">    ......</span><br><span class="line">    [è¡¨çº¦æŸæ¡ä»¶]</span><br><span class="line">    index index_name(col_name...)</span><br><span class="line">    ...</span><br><span class="line">)][engine<span class="operator">=</span>innodb] [<span class="keyword">default</span> charset<span class="operator">=</span>utf8];</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> index index_name <span class="keyword">on</span> tb_name(col_name);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_name <span class="keyword">add</span> index index_name(col_name);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹jd2311æ•°æ®åº“ä¸­çš„æ‰€æœ‰ç´¢å¼•</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> mysql.innodb_index_stats</span><br><span class="line"><span class="keyword">where</span> database_name<span class="operator">=</span><span class="string">&#x27;jd2311&#x27;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹briupæ•°æ®åº“ä¸­æ•™å¸ˆè¡¨ä¸­æ‰€æœ‰ç´¢å¼•</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> mysql.innodb_index_stats</span><br><span class="line"><span class="keyword">where</span> database_name<span class="operator">=</span><span class="string">&#x27;briup&#x27;</span> <span class="keyword">and</span> table_name<span class="operator">=</span><span class="string">&#x27;tea&#x27;</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># æŸ¥çœ‹briupæ•°æ®åº“ä¸­æ•™å¸ˆè¡¨ä¸­æ‰€æœ‰ç´¢å¼•</span><br><span class="line"><span class="keyword">show</span> index <span class="keyword">from</span> tea;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"># åˆ é™¤teaè¡¨ä¸­çš„ç´¢å¼•</span><br><span class="line"><span class="keyword">drop</span> index index_name <span class="keyword">on</span> tea;</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tea <span class="keyword">drop</span> index index_name;</span><br></pre></td></tr></table></figure><h3 id="å”¯ä¸€ç´¢å¼•"><a href="#å”¯ä¸€ç´¢å¼•" class="headerlink" title="å”¯ä¸€ç´¢å¼•"></a>å”¯ä¸€ç´¢å¼•</h3><p>å”¯ä¸€ç´¢å¼•ä¸å‰é¢çš„æ™®é€šç´¢å¼•ç±»ä¼¼ï¼Œä¸åŒçš„å°±æ˜¯ï¼šç´¢å¼•åˆ—çš„å€¼å¿…é¡»å”¯ä¸€ï¼Œä½†å…è®¸æœ‰ç©ºå€¼ã€‚å¦‚æœæ˜¯ç»„åˆç´¢å¼•ï¼Œ<strong>åˆ™åˆ—å€¼çš„ç»„åˆå¿…é¡»å”¯ä¸€</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tea3(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    <span class="keyword">unique</span> index_name(name)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">unique</span> index index_name <span class="keyword">on</span> tea3(name);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tea3 <span class="keyword">add</span> <span class="keyword">unique</span> index_name(name);</span><br></pre></td></tr></table></figure><h3 id="ä¸»é”®ç´¢å¼•"><a href="#ä¸»é”®ç´¢å¼•" class="headerlink" title="ä¸»é”®ç´¢å¼•"></a>ä¸»é”®ç´¢å¼•</h3><p>åˆ›å»ºè¡¨æ—¶ï¼ŒMySQLä¼šè‡ªåŠ¨åœ¨ä¸»é”®åˆ—ä¸Šå»ºç«‹ä¸€ä¸ªç´¢å¼•ï¼Œè¿™å°±æ˜¯ä¸»é”®ç´¢å¼•ã€‚ä¸»é”®æ˜¯å…·æœ‰å”¯ä¸€æ€§å¹¶ä¸”ä¸å…è®¸ä¸ºNULLã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tea4(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tea4(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="type">int</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tea4 <span class="keyword">add</span> <span class="keyword">primary</span> key(id);</span><br></pre></td></tr></table></figure><h2 id="ç»„åˆç´¢å¼•"><a href="#ç»„åˆç´¢å¼•" class="headerlink" title="ç»„åˆç´¢å¼•"></a>ç»„åˆç´¢å¼•</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tea5(</span><br><span class="line">    id <span class="type">int</span>,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    age <span class="type">int</span>,</span><br><span class="line">    index index_name(id,name)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> index index_name <span class="keyword">on</span> tea5(id,name);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tea5 <span class="keyword">add</span> index index_name(id,name);</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼šå¤åˆç´¢å¼•çš„<strong>ä½¿ç”¨å¤åˆæœ€å·¦åŸåˆ™</strong> table_name(id, name)</p><ul><li>where id&#x3D;1å¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œæ¡ä»¶é‡Œé¢å¿…é¡»åŒ…å«ç´¢å¼•å‰é¢çš„å­—æ®µæ‰èƒ½å¤Ÿç»§ç»­è¿›è¡ŒåŒ¹é…</li><li>where name&#x3D;â€™lisiâ€™ ä¸å¯ä»¥ä½¿ç”¨ç´¢å¼•</li><li>where name&#x3D;â€™lisiâ€™ and id&#x3D;12å¯ä»¥ä½¿ç”¨ç´¢å¼•ï¼Œmysqlæœ¬èº«å°±æœ‰ä¸€å±‚sqlä¼˜åŒ–ï¼Œä»–ä¼šæ ¹æ®sqlæ¥è¯†åˆ«å‡ºæ¥è¯¥ç”¨å“ªä¸ªç´¢å¼•</li><li>where id&#x3D;12 and name&#x3D;â€™lisiâ€™ å¯ä»¥ä½¿ç”¨ï¼Œé¡ºåºä¸€è‡´</li></ul><h2 id="å…¨æ–‡ç´¢å¼•"><a href="#å…¨æ–‡ç´¢å¼•" class="headerlink" title="å…¨æ–‡ç´¢å¼•"></a>å…¨æ–‡ç´¢å¼•</h2><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911185508476.png" alt="image-20230911185508476"></p><p>ä¸ºä»€ä¹ˆè¦å…¨æ–‡ç´¢å¼•ï¼Ÿ </p><p>like + % åœ¨æ–‡æœ¬æ¯”è¾ƒå°‘æ—¶æ˜¯åˆé€‚çš„ï¼Œä½†æ˜¯å¯¹äºå¤§é‡çš„æ–‡æœ¬æ•°æ®æ£€ç´¢ï¼Œæ˜¯ä¸å¯ æƒ³è±¡çš„ã€‚ </p><p>å…¨æ–‡ç´¢å¼•åœ¨å¤§é‡çš„æ•°æ®é¢å‰ï¼Œèƒ½æ¯” like + % å¿« N å€ï¼Œé€Ÿåº¦ä¸æ˜¯ä¸€ä¸ªæ•°é‡çº§ï¼Œ ä½†æ˜¯å…¨æ–‡ç´¢å¼•å¯èƒ½å­˜åœ¨ç²¾åº¦é—®é¢˜ã€‚</p><p><strong>ç´¢å¼•å˜é‡ï¼ˆäº†è§£å³å¯ï¼‰</strong></p><p>MySQL ä¸­çš„å…¨æ–‡ç´¢å¼•ï¼Œæœ‰ä¸¤ä¸ªå˜é‡ï¼Œ<strong>æœ€å°æœç´¢é•¿åº¦å’Œæœ€å¤§æœç´¢é•¿åº¦</strong>ï¼Œå¯¹äºé•¿åº¦ å°äºæœ€å°æœç´¢é•¿åº¦å’Œå¤§äºæœ€å¤§æœç´¢é•¿åº¦çš„è¯è¯­ï¼Œéƒ½ä¸ä¼šè¢«ç´¢å¼•ã€‚é€šä¿—ç‚¹å°±æ˜¯è¯´ï¼Œ æƒ³å¯¹ä¸€ä¸ªè¯è¯­ä½¿ç”¨å…¨æ–‡ç´¢å¼•æœç´¢ï¼Œé‚£ä¹ˆè¿™ä¸ªè¯è¯­çš„é•¿åº¦å¿…é¡»åœ¨ä»¥ä¸Šä¸¤ä¸ªå˜é‡çš„åŒºé—´å†…ã€‚</p><p>å…¨æ–‡æ£€ç´¢è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">match</span> (col_name1,col_name2,...) against(expr [search_modifier])</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> variables <span class="keyword">like</span> <span class="string">&#x27;%ft%&#x27;</span>; # æŸ¥çœ‹ç´¢å¼•å˜é‡</span><br></pre></td></tr></table></figure><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911185956377.png" alt="image-20230911185956377"></p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911190103557.png" alt="image-20230911190103557"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> Poetry(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">20</span>),</span><br><span class="line">    content text,</span><br><span class="line">    fulltext(content)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">create</span> fulltext index index_content <span class="keyword">on</span> Poetry(content);</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> Poetry <span class="keyword">add</span> fulltext index_content(content);</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Poetry <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;rain&#x27;</span>,<span class="string">&#x27;Rain is falling all around&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Poetry <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;rain&#x27;</span>,<span class="string">&#x27;It falls on field and tree&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Poetry <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;rain&#x27;</span>,<span class="string">&#x27;It rains on the umbrella here&#x27;</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> Poetry <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;rain&#x27;</span>,<span class="string">&#x27;And on the ships at sea&#x27;</span>);</span><br><span class="line"></span><br><span class="line"># åŸºäºå…¨æ–‡æ£€ç´¢æŸ¥è¯¢å«æœ‰<span class="keyword">And</span>å†…å®¹</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span></span><br><span class="line"><span class="keyword">from</span> Poetry</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">match</span>(content) against(<span class="string">&#x27;And&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="ç©ºé—´ç´¢å¼•"><a href="#ç©ºé—´ç´¢å¼•" class="headerlink" title="ç©ºé—´ç´¢å¼•"></a>ç©ºé—´ç´¢å¼•</h2><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911190533564.png" alt="image-20230911190533564"></p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911191013096.png" alt="image-20230911191013096"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"># åˆ›å»ºè¶…å¸‚ï¼Œå¹¶è®°å½•ç»çº¬åº¦</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> shop(</span><br><span class="line">    id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">    name <span class="type">varchar</span>(<span class="number">64</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    point geometry <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">    spatial key geom_index(point)</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h1 id="è§†å›¾"><a href="#è§†å›¾" class="headerlink" title="è§†å›¾"></a>è§†å›¾</h1><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911191542418.png" alt="image-20230911191542418"></p><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911191707937.png" alt="image-20230911191707937"></p><p>è§†å›¾ä¼˜ç‚¹ï¼š</p><ul><li>æ“ä½œç®€å•</li><li>å‡å°‘æ•°æ®å†—ä½™</li><li>æ•°æ®å®‰å…¨</li><li>é€‚åº”å¤šå˜çš„éœ€æ±‚</li><li>èƒ½å¤Ÿåˆ†è§£å¤æ‚çš„æŸ¥è¯¢é€»è¾‘</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [<span class="keyword">OR</span> REPLACE] <span class="keyword">VIEW</span> view_name [(å­—æ®µåˆ—è¡¨)]</span><br><span class="line"><span class="keyword">AS</span></span><br><span class="line"><span class="keyword">select</span>è¯­å¥  # è¡¨ç¤ºä¸€ä¸ªå®Œæ•´çš„æŸ¥è¯¢è¯­å¥ï¼Œå°†æŸ¥è¯¢è®°å½•æ˜ å°„åˆ°è§†å›¾ä¸­</span><br><span class="line">[<span class="keyword">WITH</span> [<span class="keyword">CASCADED</span> <span class="operator">|</span><span class="keyword">LOCAL</span>] <span class="keyword">CHECK</span> OPTION]  # å¯é€‰é¡¹ï¼Œè¡¨ç¤ºæ›´æ–°è§†å›¾æ—¶è¦ä¿è¯åœ¨è¯¥è§†å›¾çš„æƒé™èŒƒå›´ä¹‹å†…</span><br></pre></td></tr></table></figure><h2 id="å•è¡¨è§†å›¾"><a href="#å•è¡¨è§†å›¾" class="headerlink" title="å•è¡¨è§†å›¾"></a>å•è¡¨è§†å›¾</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ–°å»ºæˆ–æ›´æ–°è§†å›¾</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">or</span> replace <span class="keyword">view</span> v_emp(id,username)</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> id,name</span><br><span class="line"><span class="keyword">from</span> emp;</span><br><span class="line"><span class="keyword">desc</span> emp;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> emp;</span><br><span class="line"><span class="comment">-- æŸ¥çœ‹è§†å›¾ç»“æ„</span></span><br><span class="line"><span class="keyword">desc</span> v_emp;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> v_emp;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v_emp1</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> id,name,salary,salary<span class="operator">*</span><span class="number">30</span></span><br><span class="line"><span class="keyword">from</span> emp;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">view</span> v_emp_new</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> name,salary<span class="operator">*</span><span class="number">30</span> <span class="keyword">as</span> yearSal</span><br><span class="line"><span class="keyword">from</span> v_emp1;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> v_emp_new;</span><br></pre></td></tr></table></figure><h2 id="å¤šè¡¨è§†å›¾"><a href="#å¤šè¡¨è§†å›¾" class="headerlink" title="å¤šè¡¨è§†å›¾"></a>å¤šè¡¨è§†å›¾</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> v_emp_dept</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> concat(e.name,<span class="string">&#x27;(&#x27;</span>,d.name,<span class="string">&#x27;)&#x27;</span>) <span class="keyword">as</span></span><br><span class="line">username,e.salary,e.dept_id,d.name dept_name</span><br><span class="line"><span class="keyword">from</span> emp e, dept d</span><br><span class="line"><span class="keyword">where</span> e.dept_id<span class="operator">=</span>d.id;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> v_emp_dept;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables; # æŸ¥çœ‹å½“å‰æ•°æ®åº“ä¸‹çš„è§†å›¾è¯­æ³•</span><br><span class="line">rename <span class="keyword">table</span> old_view_name <span class="keyword">to</span> new_view_name; # é‡å‘½åè§†å›¾</span><br><span class="line"></span><br><span class="line"># ä¿®æ”¹è§†å›¾ </span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">view</span> view_name</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span>æŸ¥è¯¢è¯­å¥</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">view</span> if <span class="keyword">exists</span> view_name; # åˆ é™¤è§†å›¾</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šä¿®æ”¹è§†å›¾å¯ä»¥ä½¿ç”¨åˆ›å»ºè§†å›¾æ›¿æ¢</p><h2 id="è§†å›¾æ›´æ–°"><a href="#è§†å›¾æ›´æ–°" class="headerlink" title="è§†å›¾æ›´æ–°"></a>è§†å›¾æ›´æ–°</h2><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šå¯¹åŸºè¡¨ï¼ˆæ•°æ®è¡¨ï¼‰è¿›è¡Œæ›´æ–°æ”¹ä¼šå½±å“è§†å›¾</font></p><p>å¦‚æœè§†å›¾åŒ…å«ä¸‹è¿°ç»“æ„ä¸­çš„ä»»ä½•ä¸€ç§ï¼Œé‚£ä¹ˆå®ƒå°±æ˜¯ä¸å¯æ›´æ–°çš„ï¼š</p><ul><li>èšåˆå‡½æ•°ï¼ˆSUM(), MIN(), MAX(), COUNT()ç­‰ï¼‰</li><li>selectæŸ¥è¯¢åˆ—è¡¨æœ‰æ•°å­¦è¡¨è¾¾å¼</li><li>DISTINCT</li><li>UNION æˆ– UNION ALL</li><li>ä½äºé€‰æ‹©åˆ—è¡¨ä¸­çš„å­æŸ¥è¯¢</li><li>GROUP BY</li><li>HAVING</li><li>JOIN</li><li>å¸¸é‡è§†å›¾</li></ul><h1 id="å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹"><a href="#å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹" class="headerlink" title="å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹"></a>å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹</h1><p>å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°æ˜¯äº‹å…ˆç»è¿‡ç¼–è¯‘å¹¶å­˜å‚¨åœ¨æ•°æ®åº“ä¸­çš„ä¸€æ®µsqlè¯­å¥é›†åˆï¼Œè°ƒç”¨å­˜ å‚¨è¿‡ç¨‹å’Œå‡½æ•°å¯ä»¥ç®€åŒ–åº”ç”¨å¼€å‘å·¥ä½œï¼Œæé«˜æ•°æ®å¤„ç†çš„æ•ˆç‡ã€‚</p><h2 id="å‡½æ•°åˆ›å»º"><a href="#å‡½æ•°åˆ›å»º" class="headerlink" title="å‡½æ•°åˆ›å»º"></a>å‡½æ•°åˆ›å»º</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># mysql8 å¢åŠ äº†ä¸€ä¸ªå®‰å…¨é€‰é¡¹ï¼Œéœ€è¦æ‰§è¡Œä¸€ä¸‹ä»£ç æ‰èƒ½åˆ›å»ºå‡½æ•°</span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> log_bin_trust_function_creators<span class="operator">=</span><span class="literal">TRUE</span>;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">delimiter è‡ªå®šä¹‰ç¬¦å·    # é—¨ä¸»ä¹ æƒ¯ä½¿ç”¨ä¸€ä¸ª $ ä½œä¸ºç»“æŸæ ‡å¿—</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> å‡½æ•°å(å½¢å‚åˆ—è¡¨) <span class="keyword">returns</span> è¿”å›ç±»å‹ <span class="comment">-- æ³¨æ„æ˜¯</span></span><br><span class="line">retruns</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">å‡½æ•°ä½“ <span class="comment">-- è‹¥å¹²sqlè¯­å¥ï¼Œä½†æ˜¯ä¸è¦ç›´æ¥å†™æŸ¥è¯¢</span></span><br><span class="line"><span class="keyword">return</span> val;</span><br><span class="line"><span class="keyword">end</span> è‡ªå®šä¹‰ç¬¦å·</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="comment">-- æ ¼å¼è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">-- delimiter è‡ªå®šä¹‰ç¬¦å· æ˜¯ä¸ºäº†åœ¨å‡½æ•°å†…å†™è¯­å¥æ–¹ä¾¿ï¼Œåˆ¶å®šé™¤äº†;ä¹‹å¤–çš„ç¬¦å·ä½œä¸º</span></span><br><span class="line"><span class="comment">-- å‡½æ•°ä¹¦å†™ç»“æŸæ ‡å¿—ï¼Œä¸€èˆ¬ç”¨$$æˆ–è€…//   </span></span><br><span class="line"><span class="comment">-- å½¢å‚åˆ—è¡¨ï¼šå½¢å‚å ç±»å‹ ç±»å‹ä¸ºmysqlæ”¯æŒç±»å‹</span></span><br><span class="line"><span class="comment">-- è¿”å›ç±»å‹: å‡½æ•°è¿”å›çš„æ•°æ®ç±»å‹ï¼Œmysqlæ”¯æŒç±»å‹å³å¯</span></span><br><span class="line"><span class="comment">-- å‡½æ•°ä½“ï¼šè‹¥å¹²sqlè¯­å¥ç»„æˆ</span></span><br><span class="line"><span class="comment">-- return: è¿”å›æŒ‡å®šç±»å‹è¿”å›å€¼</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å¼€å¯å‡½æ•°åˆ›å»º</span></span><br><span class="line"><span class="keyword">set</span> <span class="keyword">global</span> log_bin_trust_function_creators<span class="operator">=</span><span class="literal">TRUE</span>;</span><br><span class="line"><span class="comment">-- åˆ›å»ºæ— å‚æ•°çš„å‡½æ•°</span></span><br><span class="line">delimiter $$</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> func01() <span class="keyword">returns</span> <span class="type">int</span></span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">select</span> salary <span class="keyword">from</span> s_emp <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span> limit</span><br><span class="line"><span class="number">1</span>);</span><br><span class="line"><span class="keyword">end</span> $$</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="keyword">select</span> func01();</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary<span class="operator">=</span>func01();</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ›å»ºåŒ…å«å‚æ•°çš„å‡½æ•°</span></span><br><span class="line">delimiter $$</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">function</span> func02(eid <span class="type">int</span>)</span><br><span class="line"><span class="keyword">returns</span> <span class="type">varchar</span>(<span class="number">25</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">return</span> (<span class="keyword">select</span> last_name <span class="keyword">from</span> s_emp <span class="keyword">where</span> id<span class="operator">=</span>eid);</span><br><span class="line"><span class="keyword">end</span> $$</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="keyword">select</span> func02(<span class="number">1</span>);</span><br></pre></td></tr></table></figure><p>è®¾ç½®å˜é‡ï¼š</p><ul><li>å®šä¹‰ç”¨æˆ·å˜é‡</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- å®šä¹‰æ ¼å¼</span></span><br><span class="line"><span class="keyword">set</span> @[å˜é‡å] <span class="operator">=</span> å€¼;</span><br><span class="line"><span class="comment">-- ä½¿ç”¨æ ¼å¼</span></span><br><span class="line">@[å˜é‡å]</span><br><span class="line"></span><br><span class="line"><span class="keyword">set</span> <span class="variable">@eid</span><span class="operator">=</span><span class="number">10</span>;</span><br><span class="line"><span class="keyword">select</span> func02(<span class="variable">@eid</span>);</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰å±€éƒ¨å˜é‡</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DECLARE</span> variable_name datatype [<span class="keyword">DEFAULT</span> initial_value];</span><br><span class="line"><span class="comment">-- variable_name æ˜¯å˜é‡çš„åç§°</span></span><br><span class="line"><span class="comment">-- datatype æ˜¯å˜é‡çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">-- initial_value æ˜¯å¯é€‰çš„åˆå§‹å€¼</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">DELIMITER $</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">FUNCTION</span> get_total_price(num <span class="type">INT</span>, price <span class="type">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>))</span><br><span class="line"><span class="keyword">RETURNS</span> <span class="type">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>)</span><br><span class="line"><span class="keyword">BEGIN</span></span><br><span class="line">    <span class="keyword">DECLARE</span> total <span class="type">DECIMAL</span>(<span class="number">10</span>, <span class="number">2</span>);</span><br><span class="line">    <span class="keyword">SET</span> total <span class="operator">=</span> num <span class="operator">*</span> price;</span><br><span class="line">    <span class="keyword">RETURN</span> total;</span><br><span class="line"><span class="keyword">END</span> $</span><br><span class="line">DELIMITER ;</span><br><span class="line"><span class="keyword">select</span> get_total_price(<span class="number">5</span>,<span class="number">2.5</span>);</span><br><span class="line"><span class="comment">-- åˆ é™¤å‡½æ•°</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">function</span> get_total_price;</span><br></pre></td></tr></table></figure><h2 id="å­˜å‚¨è¿‡ç¨‹åˆ›å»º"><a href="#å­˜å‚¨è¿‡ç¨‹åˆ›å»º" class="headerlink" title="å­˜å‚¨è¿‡ç¨‹åˆ›å»º"></a>å­˜å‚¨è¿‡ç¨‹åˆ›å»º</h2><p>åˆ›å»ºå­˜å‚¨è¿‡ç¨‹è¯­æ³•ä¸åˆ›å»ºå‡½æ•°åŸºæœ¬ç›¸åŒï¼Œ<strong>ä½†æ˜¯æ²¡æœ‰è¿”å›å€¼ã€‚</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">delimiter è‡ªå®šä¹‰ç¬¦å·</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> å­˜å‚¨è¿‡ç¨‹å(å½¢å‚åˆ—è¡¨)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line">å­˜å‚¨è¿‡ç¨‹ <span class="comment">-- sqlè¯­å¥æ„æˆå­˜å‚¨è¿‡ç¨‹è¯­å¥é›†</span></span><br><span class="line"><span class="keyword">end</span> è‡ªå®šä¹‰ç¬¦å·</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="comment">-- è¯´æ˜ï¼š</span></span><br><span class="line"><span class="comment">-- delimiter è‡ªå®šä¹‰ç¬¦å· æ˜¯ä¸ºäº†åœ¨å­˜å‚¨è¿‡ç¨‹å†…å†™è¯­å¥æ–¹ä¾¿ï¼Œåˆ¶å®šé™¤äº†;ä¹‹å¤–çš„ç¬¦å·</span></span><br><span class="line"><span class="comment">-- ä½œä¸ºå‡½æ•°ä¹¦å†™ç»“æŸæ ‡å¿—</span></span><br><span class="line"><span class="comment">-- å½¢å‚åˆ—è¡¨ï¼š[IN | OUT | INOUT] å½¢å‚å ç±»å‹</span></span><br><span class="line"><span class="comment">-- in è¾“å…¥ (åªæœ‰é‡Œé¢å¯ä»¥ç”¨)</span></span><br><span class="line"><span class="comment">-- out è¾“å‡º (åªæœ‰è¿”å›å‡ºç»™å¤–é¢ç”¨)</span></span><br><span class="line"><span class="comment">-- inout å¯ä»¥è¾“å…¥ä¹Ÿå¯ä»¥è¾“å‡º (é‡Œå¤–éƒ½èƒ½ç”¨)</span></span><br><span class="line"><span class="comment">-- å­˜å‚¨è¿‡ç¨‹ï¼šè‹¥å¹²sqlè¯­å¥ç»„æˆï¼Œå¦‚æœåªæœ‰ä¸€æ¡è¯­å¥ä¹Ÿå¯ä»¥ä¸å†™delimiterå’Œ</span></span><br><span class="line"><span class="comment">-- begin,end</span></span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- ä¾‹å¦‚ï¼š å­˜å‚¨è¿‡ç¨‹åˆ›å»ºå’Œè°ƒç”¨</span></span><br><span class="line">delimiter $$</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> proc01()</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">select</span> id,last_name <span class="keyword">from</span> s_emp;</span><br><span class="line"><span class="keyword">select</span> id,salary <span class="keyword">from</span> s_emp <span class="keyword">order</span> <span class="keyword">by</span> salary <span class="keyword">desc</span>;</span><br><span class="line"><span class="keyword">end</span> $$</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="keyword">call</span> proc01();</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> if <span class="keyword">exists</span> proc_param;</span><br><span class="line"><span class="comment">-- ä¾‹å¦‚ï¼šåˆ†åˆ«å°†å‚æ•°ç±»å‹æ”¹ä¸ºIN OUT INOUT çœ‹ä¸€ä¸‹ç»“æœåŒºåˆ«</span></span><br><span class="line">delimiter $$</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">procedure</span> proc_param(<span class="keyword">OUT</span> num <span class="type">int</span>)</span><br><span class="line"><span class="keyword">begin</span></span><br><span class="line"><span class="keyword">select</span> num;</span><br><span class="line"><span class="keyword">set</span> num<span class="operator">=</span><span class="number">100</span>;</span><br><span class="line"><span class="keyword">select</span> num;</span><br><span class="line"><span class="keyword">end</span> $$</span><br><span class="line">delimiter ;</span><br><span class="line"><span class="keyword">set</span> <span class="variable">@num</span><span class="operator">=</span><span class="number">10</span>;</span><br><span class="line"><span class="keyword">call</span> proc_param(<span class="variable">@num</span>);</span><br><span class="line"><span class="comment">-- è¾“å‡ºnumå˜é‡çš„å€¼</span></span><br><span class="line"><span class="keyword">select</span> <span class="variable">@num</span>;</span><br></pre></td></tr></table></figure><h2 id="è°ƒç”¨æ ¼å¼"><a href="#è°ƒç”¨æ ¼å¼" class="headerlink" title="è°ƒç”¨æ ¼å¼"></a>è°ƒç”¨æ ¼å¼</h2><p>è°ƒç”¨å­˜å‚¨è¿‡ç¨‹ è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">call</span> å­˜å‚¨è¿‡ç¨‹åå­—([å­˜å‚¨è¿‡ç¨‹å‚æ•°[,â€¦â€¦]])</span><br></pre></td></tr></table></figure><p>è°ƒç”¨å­˜å‚¨å‡½æ•° è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­˜å‚¨å‡½æ•°åå­—([å‡½æ•°å‚æ•°[,â€¦â€¦]])</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨show createè¯­å¥æŸ¥çœ‹å­˜å‚¨è¿‡ç¨‹å’Œå‡½æ•°çš„å®šä¹‰</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> <span class="keyword">create</span> &#123;<span class="keyword">procedure</span><span class="operator">|</span><span class="keyword">function</span>&#125; å­˜å‚¨è¿‡ç¨‹æˆ–å­˜å‚¨å‡½æ•°çš„åç§°</span><br></pre></td></tr></table></figure><p>æŸ¥çœ‹æ‰€æœ‰å‡½æ•°æˆ–è€…å­˜å‚¨è¿‡ç¨‹ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ ¼å¼1ï¼šæŸ¥çœ‹æ•°æ®åº“ä¸­å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">PROCEDURE</span> STATUS <span class="keyword">WHERE</span> Db <span class="operator">=</span> <span class="string">&#x27;your_database_name&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">FUNCTION</span> STATUS <span class="keyword">WHERE</span> Db <span class="operator">=</span> <span class="string">&#x27;your_database_name&#x27;</span>;</span><br><span class="line"><span class="comment">-- å…·ä½“æ¡ˆä¾‹</span></span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">PROCEDURE</span> STATUS <span class="keyword">WHERE</span> Db <span class="operator">=</span> <span class="string">&#x27;briup&#x27;</span>;</span><br><span class="line"><span class="keyword">SHOW</span> <span class="keyword">FUNCTION</span> STATUS <span class="keyword">WHERE</span> Db <span class="operator">=</span> <span class="string">&#x27;briup&#x27;</span>;</span><br><span class="line"><span class="comment">-- æ ¼å¼2ï¼šæŸ¥çœ‹æŒ‡å®šæ•°æ®åº“ä¸­ å‡½æ•°å’Œå­˜å‚¨è¿‡ç¨‹çš„åç§°ä¸ç±»å‹</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUTINE_NAME, ROUTINE_TYPE</span><br><span class="line"><span class="keyword">FROM</span> INFORMATION_SCHEMA.ROUTINES</span><br><span class="line"><span class="keyword">WHERE</span> ROUTINE_SCHEMA <span class="operator">=</span> <span class="string">&#x27;your_database_name&#x27;</span>;</span><br><span class="line"><span class="comment">-- å…·ä½“æ¡ˆä¾‹</span></span><br><span class="line"><span class="keyword">SELECT</span> ROUTINE_NAME, ROUTINE_TYPE</span><br><span class="line"><span class="keyword">FROM</span> INFORMATION_SCHEMA.ROUTINES</span><br><span class="line"><span class="keyword">WHERE</span> ROUTINE_SCHEMA <span class="operator">=</span> <span class="string">&#x27;briup&#x27;</span>;</span><br></pre></td></tr></table></figure><p>åˆ é™¤å­˜å‚¨è¿‡ç¨‹æˆ–å­˜å‚¨å‡½æ•°ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> &#123;<span class="keyword">PROCEDURE</span> <span class="operator">|</span> <span class="keyword">FUNCTION</span>&#125; [IF <span class="keyword">EXISTS</span>] name</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">function</span> if <span class="keyword">exists</span> func01;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">procedure</span> if <span class="keyword">exists</span> proc01;</span><br></pre></td></tr></table></figure><h2 id="ä¸¤è€…åŒºåˆ«"><a href="#ä¸¤è€…åŒºåˆ«" class="headerlink" title="ä¸¤è€…åŒºåˆ«"></a>ä¸¤è€…åŒºåˆ«</h2><p><img src="/2023/09/07/04-%E4%BA%8B%E5%8A%A1%E7%B4%A2%E5%BC%95%E8%A7%86%E5%9B%BE/image-20230911195258952.png" alt="image-20230911195258952"></p><h1 id="æ•°æ®åº“ä¼˜åŒ–-åé¢é‡åˆ°å†å†™å•¦ï¼"><a href="#æ•°æ®åº“ä¼˜åŒ–-åé¢é‡åˆ°å†å†™å•¦ï¼" class="headerlink" title="æ•°æ®åº“ä¼˜åŒ– (åé¢é‡åˆ°å†å†™å•¦ï¼~)"></a>æ•°æ®åº“ä¼˜åŒ– (åé¢é‡åˆ°å†å†™å•¦ï¼~)</h1><h2 id="ç´¢å¼•ä¼˜åŒ–"><a href="#ç´¢å¼•ä¼˜åŒ–" class="headerlink" title="ç´¢å¼•ä¼˜åŒ–"></a>ç´¢å¼•ä¼˜åŒ–</h2><h2 id="æŸ¥è¯¢ä¼˜åŒ–"><a href="#æŸ¥è¯¢ä¼˜åŒ–" class="headerlink" title="æŸ¥è¯¢ä¼˜åŒ–"></a>æŸ¥è¯¢ä¼˜åŒ–</h2><h2 id="è®¾è®¡ä¼˜åŒ–"><a href="#è®¾è®¡ä¼˜åŒ–" class="headerlink" title="è®¾è®¡ä¼˜åŒ–"></a>è®¾è®¡ä¼˜åŒ–</h2><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>å¿—ä¸æ±‚æ˜“æˆè€…ï¼Œäº‹ä¸é¿éš¾è€…è¿›ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03-DDLåŠDMLæ“ä½œ</title>
      <link href="/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/"/>
      <url>/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šMysqlæ•°æ®åº“çš„ä½¿ç”¨åŠæ•°æ®åº“åˆ†æåŠè®¾è®¡å®è·µ</p></blockquote><h1 id="æ•°æ®æ“ä½œè¯­è¨€DML"><a href="#æ•°æ®æ“ä½œè¯­è¨€DML" class="headerlink" title="æ•°æ®æ“ä½œè¯­è¨€DML"></a>æ•°æ®æ“ä½œè¯­è¨€DML</h1><h2 id="æ’å…¥æ•°æ®"><a href="#æ’å…¥æ•°æ®" class="headerlink" title="æ’å…¥æ•°æ®"></a>æ’å…¥æ•°æ®</h2><ul><li>æ ¼å¼1ï¼šæŒ‰é»˜è®¤é¡ºåºå¾€è¡¨ä¸­æ’å…¥æ•°æ®ï¼ˆå«æ‰€æœ‰å­—æ®µï¼‰</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_name <span class="keyword">values</span>(value1,value2,....);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;lisi&#x27;</span>,<span class="number">30</span>);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span>(<span class="number">2</span>,<span class="string">&#x27;tom&#x27;</span>,<span class="keyword">null</span>);</span><br></pre></td></tr></table></figure><ul><li><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p><strong>æ’å…¥æ•°æ®å¦‚æœæ˜¯å­—ç¬¦ä¸²ã€æ—¥æœŸã€jsonå¯¹è±¡ï¼Œéœ€è¦ä½¿ç”¨å•å¼•å·å¼•èµ·æ¥</strong></p></li><li><p><strong>valuesä¹Ÿå¯ä»¥å†™æˆvalueï¼Œvaluesæ˜¯æ ‡å‡†å†™æ³•</strong></p></li></ul></li><li><p>æ ¼å¼2ï¼šå¾€è¡¨æ’å…¥æŒ‡å®šå­—æ®µæ•°æ®å€¼</p></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_name(col_name [, col_name2, ..., col_namen]) <span class="keyword">values</span>(value1 [,value2, ..., valuen]);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp(id,name) <span class="keyword">values</span>(<span class="number">3</span>,<span class="string">&#x27;wangwu&#x27;</span>);</span><br></pre></td></tr></table></figure><ul><li>æ ¼å¼3ï¼šåŒæ—¶æ’å…¥å¤šæ¡è®°å½•</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_name <span class="keyword">values</span>(value1 [,value2, ..., valuen]),</span><br><span class="line">(value1 [,value2, ..., valuen]),</span><br><span class="line">...</span><br><span class="line">(value1 [,value2, ..., valuen]);</span><br><span class="line"># æˆ–</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_name(col_name [, col_name2, ..., col_namen])</span><br><span class="line"><span class="keyword">values</span>(value1 [,value2, ..., valuen]),</span><br><span class="line">(value1 [,value2, ..., valuen]),</span><br><span class="line">...</span><br><span class="line">(value1 [,value2, ..., valuen]);</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp <span class="keyword">values</span>(<span class="number">4</span>,<span class="string">&#x27;xiaowang&#x27;</span>,<span class="number">1000</span>),(<span class="number">5</span>,<span class="string">&#x27;xiaoli&#x27;</span>,<span class="number">1200</span>),(<span class="number">4</span>,<span class="string">&#x27;xiaosong&#x27;</span>,<span class="number">2000</span>);</span><br></pre></td></tr></table></figure><ul><li>æ ¼å¼4ï¼šç‰¹æ®Šå½¢å¼ï¼Œå°†æŸ¥è¯¢çš„ç»“æœæ’å…¥åˆ°è¡¨ä¸­</li></ul><p>INSERTå­å¥ä¸­æ’å…¥åˆ—åº”å’Œå­æŸ¥è¯¢ä¸­çš„æŸ¥è¯¢åˆ—è¡¨ç›¸å¯¹åº”ã€‚<strong>å¦‚æœæŸ¥è¯¢çš„åˆ—åå’Œæ’å…¥çš„åˆ—åä¸ä¸€è‡´ï¼Œå»ºè®®èµ·åˆ«åä¿æŒä¸€è‡´ã€‚</strong></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> tb_name(tar_col_name1 [, tar_col_name2, ...,tar_col_namen])</span><br><span class="line"><span class="keyword">SELECT</span> (src_col_name1 [, src_col_name2, ..., src_col_namen])</span><br><span class="line"><span class="keyword">FROM</span> src_tb_name</span><br><span class="line">[<span class="keyword">where</span> <span class="keyword">condition</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> emp</span><br><span class="line"><span class="keyword">select</span> id,last_name name,salary</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> id <span class="operator">&lt;=</span><span class="number">8</span> <span class="keyword">and</span> id <span class="operator">&gt;=</span><span class="number">6</span>;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ï¼šå¦‚æœè¦å¾€è¡¨ä¸­æ’å…¥å®Œæ•´åˆ—æ•°æ®ï¼Œinsertåçš„åˆ—åå¯ä»¥ä¸å†™</strong></p><h2 id="æ•°æ®æ›´æ–°"><a href="#æ•°æ®æ›´æ–°" class="headerlink" title="æ•°æ®æ›´æ–°"></a>æ•°æ®æ›´æ–°</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">update</span> tb_name</span><br><span class="line"><span class="keyword">set</span> col_name<span class="operator">=</span>value1, col_name<span class="operator">=</span>value2, ... , col_namen<span class="operator">=</span>valuen</span><br><span class="line">[<span class="keyword">where</span> <span class="keyword">condition</span>]</span><br><span class="line"></span><br><span class="line"><span class="keyword">update</span> emp <span class="keyword">set</span> salary<span class="operator">=</span><span class="number">2000</span> <span class="keyword">where</span> id<span class="operator">&lt;</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šä¸åŠ whereæ¡ä»¶è¡¨ç¤ºå¯¹æ‰€æœ‰æ•°æ®æ›´æ–°ï¼ŒåŠ whereæ¡ä»¶ä¼šé€‰å‡ºç¬¦åˆæ¡ä»¶ çš„è¡Œè¿›è¡Œæ›´æ–°ã€‚</font></p><h2 id="æ•°æ®åˆ é™¤"><a href="#æ•°æ®åˆ é™¤" class="headerlink" title="æ•°æ®åˆ é™¤"></a>æ•°æ®åˆ é™¤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> tb_name [<span class="keyword">where</span> <span class="keyword">condition</span>]</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp <span class="keyword">where</span> name <span class="keyword">like</span> <span class="string">&#x27;xiao%&#x27;</span>;</span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> emp; # æ¸…ç©ºè¡¨</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šä¸åŠ whereæ¡ä»¶è¡¨ç¤ºåˆ é™¤æ‰€æœ‰æ•°æ®ï¼ŒåŠ whereè¡¨ç¤ºé€‰å‡ºç¬¦åˆæ¡ä»¶çš„æ•°æ®åˆ é™¤ã€‚</font></p><h1 id="æ•°æ®åº“è®¾è®¡"><a href="#æ•°æ®åº“è®¾è®¡" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h1><h2 id="è½¯ä»¶å¼€å‘"><a href="#è½¯ä»¶å¼€å‘" class="headerlink" title="è½¯ä»¶å¼€å‘"></a>è½¯ä»¶å¼€å‘</h2><h2 id="æ•°æ®å»ºæ¨¡"><a href="#æ•°æ®å»ºæ¨¡" class="headerlink" title="æ•°æ®å»ºæ¨¡"></a>æ•°æ®å»ºæ¨¡</h2><h2 id="E-Rå›¾"><a href="#E-Rå›¾" class="headerlink" title="E-Rå›¾"></a>E-Rå›¾</h2><h2 id="æ•°æ®åº“è®¾è®¡-1"><a href="#æ•°æ®åº“è®¾è®¡-1" class="headerlink" title="æ•°æ®åº“è®¾è®¡"></a>æ•°æ®åº“è®¾è®¡</h2><h2 id="ä¸»é”®ä¸å¤–é”®"><a href="#ä¸»é”®ä¸å¤–é”®" class="headerlink" title="ä¸»é”®ä¸å¤–é”®"></a>ä¸»é”®ä¸å¤–é”®</h2><h2 id="æ•°æ®åº“èŒƒå¼"><a href="#æ•°æ®åº“èŒƒå¼" class="headerlink" title="æ•°æ®åº“èŒƒå¼"></a>æ•°æ®åº“èŒƒå¼</h2><h2 id="å…³ç³»è½¬æ¢"><a href="#å…³ç³»è½¬æ¢" class="headerlink" title="å…³ç³»è½¬æ¢"></a>å…³ç³»è½¬æ¢</h2><h1 id="æ•°æ®åº“å®šä¹‰è¯­è¨€"><a href="#æ•°æ®åº“å®šä¹‰è¯­è¨€" class="headerlink" title="æ•°æ®åº“å®šä¹‰è¯­è¨€"></a>æ•°æ®åº“å®šä¹‰è¯­è¨€</h1><p>DDLï¼ˆData Definition Languageï¼‰æ˜¯ SQL ä¸­ç”¨äºå®šä¹‰å’Œç®¡ç†æ•°æ®åº“å¯¹è±¡çš„è¯­å¥é›†åˆã€‚DDLè¯­å¥ä¸»è¦åŒ…æ‹¬ <strong>CREATEã€ALTERã€RENAMEã€DROPå’ŒTRUNCATE ã€‚</strong></p><h2 id="åˆ›å»ºè¡¨"><a href="#åˆ›å»ºè¡¨" class="headerlink" title="åˆ›å»ºè¡¨"></a>åˆ›å»ºè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æ ¼å¼1</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> è¡¨å(</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- æ ¼å¼2</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> è¡¨å(</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">å­—æ®µå æ•°æ®ç±»å‹ [åˆ—çº¦æŸç±»å‹],</span><br><span class="line">[è¡¨çº§çº¦æŸ],</span><br><span class="line">[è¡¨çº§çº¦æŸ]</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h3 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h3><ul><li>æ•°å€¼ç±»å‹</li></ul><p><img src="/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/image-20230910180734944.png" alt="image-20230910180734944"></p><p><img src="/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/image-20230910181006031.png" alt="image-20230910181006031"></p><ul><li>æ–‡æœ¬ç±»å‹</li></ul><p><img src="/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/image-20230910181142152.png" alt="image-20230910181142152"></p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æ™®é€šå­—ç¬¦ä¸²ï¼šCHARï¼ŒVARCHAR</li><li>å­˜å‚¨æ–‡æœ¬ï¼šTEXT</li><li>å­˜å‚¨äºŒè¿›åˆ¶æ•°æ®ï¼šBLOB</li></ul><ol><li>charï¼šå®šé•¿ï¼Œå³æŒ‡å®šå­˜å‚¨å­—èŠ‚æ•°åï¼Œæ— è®ºå®é™…å­˜å‚¨äº†å¤šå°‘å­—èŠ‚æ•°æ®ï¼Œæœ€ç»ˆéƒ½å æŒ‡å®šçš„å­—èŠ‚å¤§å°ã€‚é»˜è®¤åªèƒ½å­˜1å­—èŠ‚æ•°æ®ï¼Œå­˜å–æ•ˆç‡é«˜</li><li>varcharï¼šä¸å®šé•¿ï¼Œæ•ˆç‡åä½ï¼Œä½†æ˜¯èŠ‚çœç©ºé—´ï¼Œå®é™…å ç”¨ç©ºé—´æ ¹æ®å®é™…å­˜å‚¨æ•°æ®å¤§å°è€Œå®šã€‚å¿…é¡»è¦æŒ‡å®šå­˜å‚¨å¤§å°varchar(50)</li></ol><ul><li>æ—¥æœŸç±»å‹</li></ul><p><img src="/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/image-20230910181719129.png" alt="image-20230910181719129"></p><ul><li>æ—¥æœŸæ—¶é—´å‡½æ•°</li></ul><p>now() è¿”å›æœåŠ¡å™¨å½“å‰æ—¥æœŸæ—¶é—´ï¼Œæ ¼å¼å¯¹åº”datetimeç±»å‹</p><ul><li>æ—¶é—´æ“ä½œ</li></ul><p>æ—¶é—´ç±»å‹æ•°æ®å¯ä»¥è¿›è¡Œæ¯”è¾ƒå’Œæ’åºç­‰æ“ä½œï¼Œåœ¨å†™æ—¶é—´å­—ç¬¦ä¸²æ—¶å°½é‡æŒ‰ç…§æ ‡å‡†æ ¼å¼ä¹¦å†™ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- é©¬æ‹‰æ¾æ¯”èµ›ç™»è®°è¡¨</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> marathon (</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key auto_increment,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">32</span>),</span><br><span class="line">birthday <span class="type">date</span>,</span><br><span class="line">register_time datetime,</span><br><span class="line">performance <span class="type">time</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> marathon <span class="keyword">values</span></span><br><span class="line">(<span class="number">1</span>,<span class="string">&#x27;Jack&#x27;</span>,<span class="string">&#x27;1995-2-18&#x27;</span>,<span class="string">&#x27;2021-12-18 19:20:20&#x27;</span>,<span class="string">&#x27;2:48:58&#x27;</span>),</span><br><span class="line">(<span class="number">2</span>,<span class="string">&#x27;Tony&#x27;</span>,<span class="string">&#x27;2000-6-8&#x27;</span>,<span class="string">&#x27;2021/12/22 9:30:25&#x27;</span>,<span class="string">&#x27;2:29:8&#x27;</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;Tom&#x27;</span>,<span class="string">&#x27;1998-2-28&#x27;</span>,<span class="string">&#x27;2022-1-1 16:21:21&#x27;</span>,<span class="string">&#x27;2:33:55&#x27;</span>);</span><br><span class="line"># å¯ä»¥æ ¹æ®æ—¶é—´æ¥è¿›è¡Œæ¯”è¾ƒ</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> marathon <span class="keyword">where</span> birthday<span class="operator">&gt;=</span><span class="string">&#x27;2000-01-01&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> marathon <span class="keyword">where</span> birthday<span class="operator">&gt;=</span><span class="string">&#x27;2000-07-01&#x27;</span> <span class="keyword">and</span></span><br><span class="line">performance<span class="operator">&lt;=</span><span class="string">&#x27;2:30:00&#x27;</span>;</span><br></pre></td></tr></table></figure><ul><li>é¢å¤–è¡¥å……ï¼ˆäº†è§£å³å¯ï¼‰ï¼š å­˜å‚¨é€‰é¡¹å‹æ•°æ® ENUMï¼ŒSET</li></ul><p>ENUM æ˜¯ä¸€ç§ç‰¹æ®Šçš„æ•°æ®ç±»å‹ï¼Œç”¨äºå­˜å‚¨å›ºå®šçš„é€‰é¡¹åˆ—è¡¨ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">TABLE</span> if <span class="keyword">EXISTS</span> my_table;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_table (</span><br><span class="line">id <span class="type">INT</span>,</span><br><span class="line">option_column ENUM(<span class="string">&#x27;Option 1&#x27;</span>, <span class="string">&#x27;Option 2&#x27;</span>, <span class="string">&#x27;Option 3&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="comment">-- option_columnåªèƒ½æ·»åŠ ä¸Šè¿°3ä¸ªå€¼</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_table(id, option_column) <span class="keyword">VALUES</span> (<span class="number">1</span>, <span class="string">&#x27;Option 1&#x27;</span>);</span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_table(id, option_column) <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;Option 4&#x27;</span>);  # Data truncated <span class="keyword">for</span> <span class="keyword">column</span> <span class="string">&#x27;option_column&#x27;</span> <span class="keyword">at</span> <span class="type">row</span> <span class="number">1</span></span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_table;</span><br></pre></td></tr></table></figure><p>SET æ•°æ®ç±»å‹å¯ä»¥ç”¨æ¥å­˜å‚¨ä¸€ç»„é¢„å®šä¹‰çš„é€‰é¡¹ã€‚SET ç±»å‹å…è®¸ä½ åœ¨ä¸€ä¸ªåˆ—ä¸­å­˜å‚¨å¤šä¸ªé€‰é¡¹å€¼ï¼Œæ¯ä¸ªé€‰é¡¹å€¼å¯ä»¥è¢«è®¾ç½®ä¸º 1ï¼ˆé€‰ä¸­ï¼‰æˆ– 0ï¼ˆæœªé€‰ä¸­ï¼‰ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- åˆ é™¤è¡¨</span></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> my_table;</span><br><span class="line"><span class="keyword">CREATE</span> <span class="keyword">TABLE</span> my_table (</span><br><span class="line">    id <span class="type">INT</span>,</span><br><span class="line">    options <span class="keyword">SET</span>(<span class="string">&#x27;Option 1&#x27;</span>, <span class="string">&#x27;Option 2&#x27;</span>, <span class="string">&#x27;Option 3&#x27;</span>)</span><br><span class="line">);</span><br><span class="line"><span class="comment">-- optionså¯ä»¥åŒæ—¶æ·»åŠ å¤šä¸ªå€¼</span></span><br><span class="line"><span class="keyword">INSERT</span> <span class="keyword">INTO</span> my_table(id, options) <span class="keyword">VALUES</span> (<span class="number">2</span>, <span class="string">&#x27;Option 1,Option 2&#x27;</span>);</span><br><span class="line"><span class="keyword">SELECT</span> <span class="operator">*</span> <span class="keyword">FROM</span> my_table;</span><br></pre></td></tr></table></figure><h3 id="å¸¸è§çº¦æŸ"><a href="#å¸¸è§çº¦æŸ" class="headerlink" title="å¸¸è§çº¦æŸ"></a>å¸¸è§çº¦æŸ</h3><p>1ï¼‰çº¦æŸç±»å‹</p><ul><li>NOT NULL<ul><li>è®¾ç½®çš„åˆ—ä¸èƒ½ä¸ºç©ºï¼Œæ¢è¨€ä¹‹å¿…é¡»æœ‰å€¼ï¼Œæ‰€æœ‰ç±»å‹çš„é»˜è®¤å€¼éƒ½ä¸ºnullï¼›</li><li>NOT NULL åªèƒ½ç”¨äºåˆ—çº§çº¦æŸä¸èƒ½ç”¨äºè¡¨çº§çº¦æŸ</li><li>æ‰€æœ‰ç±»å‹å’Œnullè¿›è¡Œè¿ç®—éƒ½ä¸ºnull</li></ul></li><li>UNIQUEï¼šç”¨æ¥é™åˆ¶æŸä¸ªå­—æ®µ&#x2F;æŸåˆ—çš„å€¼ä¸èƒ½é‡å¤<ul><li>å”¯ä¸€çº¦æŸå¯ä»¥æ˜¯æŸä¸€ä¸ªåˆ—çš„å€¼å”¯ä¸€ï¼Œä¹Ÿå¯ä»¥å¤šä¸ªåˆ—ç»„åˆçš„å€¼å”¯ä¸€</li><li>åˆ›å»ºå”¯ä¸€çº¦æŸï¼Œä¸æŒ‡å®šçº¦æŸåå­—ï¼ŒmysqlåŸºäºåˆ—åä½œä¸ºçº¦æŸå</li><li>å”¯ä¸€æ€§çº¦æŸå…è®¸åˆ—å€¼ä¸ºç©º</li><li>å”¯ä¸€æ€§çº¦æŸé»˜è®¤è‡ªå¸¦ç´¢å¼•</li></ul></li><li>PRIMARY KEYï¼šç”¨æ¥å”¯ä¸€æ ‡è¯†è¡¨ä¸­çš„ä¸€è¡Œè®°å½•<ul><li>ä¸»é”®çº¦æŸåˆ—ä¸å…è®¸é‡å¤ï¼Œä¹Ÿä¸å…è®¸å‡ºç°ç©ºå€¼</li><li>ä¸€ä¸ªè¡¨æœ€å¤šåªèƒ½ç”±ä¸€ä¸ªä¸»é”®çº¦æŸ</li><li>ä¸»é”®çº¦æŸå¯¹åº”ç€è¡¨ä¸­çš„ä¸€åˆ—æˆ–è€…å¤šåˆ—ï¼Œç»„åˆåˆ—åŒæ ·ä¸å…è®¸é‡å¤ï¼Œä¹Ÿä¸å…è®¸å‡ºç°ç©ºå€¼</li><li>åˆ›å»ºä¸»é”®çº¦æŸæ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šåœ¨æ‰€åœ¨çš„åˆ—æˆ–åˆ—ç»„åˆä¸Šå»ºç«‹å¯¹åº”çš„ä¸»é”®ç´¢å¼•</li><li>åˆ é™¤ä¸»é”®çº¦æŸäº†ï¼Œä¸»é”®çº¦æŸå¯¹åº”çš„ç´¢å¼•å°±ä¼šè‡ªåŠ¨åˆ é™¤äº†</li></ul></li><li>FOREIGN KEYï¼šå¤–é”®çº¦æŸï¼Œç»´æŠ¤è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_name(</span><br><span class="line">    col_name type <span class="keyword">primary</span> key,</span><br><span class="line">    col_name1 type</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> tb_name(</span><br><span class="line">col_name type <span class="keyword">primary</span> key,</span><br><span class="line">col_name1 type,</span><br><span class="line">col_name2 type</span><br><span class="line">[<span class="keyword">constraint</span> fg_name] <span class="keyword">foreign</span> key(col_name2) <span class="keyword">references</span></span><br><span class="line">tb_name(col_name) [<span class="keyword">on</span> <span class="keyword">update</span> [cascade<span class="operator">|</span><span class="keyword">set</span> <span class="keyword">null</span>][<span class="keyword">on</span> <span class="keyword">delete</span></span><br><span class="line">[cascade<span class="operator">|</span><span class="keyword">set</span> <span class="keyword">null</span>]]</span><br><span class="line">);</span><br><span class="line"></span><br><span class="line"># å‘½åè§„åˆ™</span><br><span class="line"><span class="keyword">constraint</span> tOrder_customerId_fk <span class="keyword">FOREIGN</span> KEY(customer_id) <span class="keyword">REFERENCES</span> t_customer(id),</span><br><span class="line"><span class="keyword">constraint</span> è¡¨å(å°é©¼å³°)_å­—æ®µå(å°é©¼å³°)_fk(è¡¨ç¤ºå¤–é”®) <span class="keyword">FOREIGN</span> KEY(å­—æ®µå) <span class="keyword">REFERENCES</span> å¤–é”®è¡¨å(å­—æ®µ)</span><br></pre></td></tr></table></figure><ul><li>FOREIGN KEY<ul><li>å¤–é”®ç”¨äºç»´æŠ¤è¡¨ä¸è¡¨ä¹‹é—´çš„å…³ç³»ï¼Œå¤–é”®å¿…é¡»å¼•ç”¨å¦å¤–ä¸€å¼ è¡¨çš„ä¸»é”®æˆ–è€…å”¯ä¸€çº¦æŸ</li><li>åˆ›å»ºå¤–é”®çº¦æŸæ—¶ï¼Œå¦‚æœä¸ç»™å¤–é”®çº¦æŸå‘½åï¼Œé»˜è®¤åä¸æ˜¯åˆ—åï¼Œè€Œæ˜¯è‡ªåŠ¨äº§ç”Ÿä¸€ä¸ªå¤–é”®å</li><li>åˆ›å»ºè¡¨æ—¶å°±æŒ‡å®šå¤–é”®çº¦æŸçš„è¯ï¼Œå…ˆåˆ›å»ºä¸»é”®çº¦æŸçš„è¡¨ï¼Œå†åˆ›å»ºå¤–é”®çš„è¡¨</li><li>åˆ è¡¨æ—¶ï¼Œå…ˆåˆ å¤–é”®çš„è¡¨ï¼Œå†åˆ é™¤ä¸»é”®è¡¨ï¼Œåˆ é™¤æ•°æ®åŒç†</li><li>ä¸€å¼ è¡¨å¯ä»¥åˆ›å»ºå¤šä¸ªå¤–é”®ï¼Œå¼•ç”¨å¤šä¸ªä¸åŒçš„è¡¨çš„ä¸»é”®ç»´æŠ¤å…³ç³»</li><li>åˆ›å»ºå¤–é”®çº¦æŸæ—¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šåœ¨æ‰€åœ¨çš„åˆ—ä¸Šå»ºç«‹å¯¹åº”çš„æ™®é€šç´¢å¼•ã€‚ä½†æ˜¯ç´¢å¼•åæ˜¯å¤–é”®çš„çº¦æŸå</li><li>åˆ é™¤å¤–é”®çº¦æŸåï¼Œå¿…é¡»æ‰‹åŠ¨åˆ é™¤å¯¹åº”çš„ç´¢å¼•</li><li>å¤–é”®å’Œä¸»é”®ç±»å‹å¿…é¡»ä¸€è‡´</li></ul></li><li>CHECKï¼šæ£€æŸ¥æŸä¸ªå­—æ®µçš„å€¼æ˜¯å¦ç¬¦åˆè¦æ±‚ï¼Œä¸€èˆ¬æŒ‡çš„æ˜¯å€¼å¾—èŒƒå›´<ul><li>MySQL5.7å¯ä»¥ä½¿ç”¨checkçº¦æŸï¼Œä½†checkçº¦æŸå¯¹æ•°æ®éªŒè¯æ²¡æœ‰ä»»ä½•ä½œç”¨ã€‚æ·»åŠ æ•°æ®æ—¶ï¼Œæ²¡æœ‰ä»»ä½•é”™è¯¯æˆ–è­¦å‘Š</li><li>MySQL8.0ä¸­å¯ä»¥ä½¿ç”¨checkçº¦æŸ</li></ul></li><li>DEFAULT<ul><li>ç»™æŸä¸ªå­—æ®µ&#x2F;æŸåˆ—æŒ‡å®šé»˜è®¤å€¼ï¼Œä¸€æ—¦è®¾ç½®é»˜è®¤å€¼ï¼Œåœ¨æ’å…¥æ•°æ®æ—¶ï¼Œå¦‚æœæ­¤å­—æ®µ æ²¡æœ‰æ˜¾å¼èµ‹å€¼ï¼Œåˆ™èµ‹å€¼ä¸ºé»˜ è®¤å€¼ã€‚é»˜è®¤å€¼çº¦æŸä¸€èˆ¬ä¸åœ¨å”¯ä¸€é”®å’Œä¸»é”®åˆ—ä¸ŠåŠ ã€‚</li></ul></li></ul><p>2ï¼‰çº¦æŸåˆ†ç±»</p><ul><li>è¡¨çº§çº¦æŸ</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [TEMPORARY] <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] tbl_name [(</span><br><span class="line">å­—æ®µ<span class="number">1</span> æ•°æ®ç±»å‹ ,</span><br><span class="line">å­—æ®µ<span class="number">2</span> æ•°æ®ç±»å‹ ,</span><br><span class="line">å­—æ®µ<span class="number">3</span> æ•°æ®ç±»å‹ ,</span><br><span class="line">......</span><br><span class="line">[<span class="keyword">constraint</span> çº¦æŸå] è¡¨çº§çº¦æŸ</span><br><span class="line">[<span class="keyword">constraint</span> çº¦æŸå] è¡¨çº§çº¦æŸ</span><br><span class="line">......</span><br><span class="line">)]engine<span class="operator">=</span>innodb <span class="keyword">default</span> charset<span class="operator">=</span>utf8</span><br></pre></td></tr></table></figure><ul><li>åˆ—çº§çº¦æŸ</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> [TEMPORARY] <span class="keyword">TABLE</span> [IF <span class="keyword">NOT</span> <span class="keyword">EXISTS</span>] tbl_name [(</span><br><span class="line">å­—æ®µ<span class="number">1</span> æ•°æ®ç±»å‹ [<span class="keyword">constraint</span> çº¦æŸå] [åˆ—çº§çº¦æŸ] ,</span><br><span class="line">å­—æ®µ<span class="number">2</span> æ•°æ®ç±»å‹ [<span class="keyword">constraint</span> çº¦æŸå] [åˆ—çº§çº¦æŸ] ,</span><br><span class="line">å­—æ®µ<span class="number">3</span> æ•°æ®ç±»å‹ [<span class="keyword">constraint</span> çº¦æŸå] [åˆ—çº§çº¦æŸ] ,</span><br><span class="line">......</span><br><span class="line">)]engine<span class="operator">=</span>innodb <span class="keyword">default</span> charset<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"># æ¡ˆä¾‹<span class="number">1</span>ï¼šæ™®é€šçš„å»ºè¡¨ä¾‹å­</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">birthday <span class="type">date</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"># æ¡ˆä¾‹<span class="number">2</span>ï¼šä½¿ç”¨å››ç§åˆ—çº§çº¦æŸ ä¸»é”®çº¦æŸ éç©ºçº¦æŸ å”¯ä¸€çº¦æŸ <span class="keyword">check</span>çº¦æŸ</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> student(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">email <span class="type">varchar</span>(<span class="number">100</span>) <span class="keyword">unique</span>,</span><br><span class="line">gender <span class="type">char</span>(<span class="number">1</span>) <span class="keyword">check</span>(gender <span class="keyword">in</span>(<span class="string">&#x27;f&#x27;</span>,<span class="string">&#x27;m&#x27;</span>)),</span><br><span class="line">age <span class="type">int</span>,</span><br><span class="line">birthday <span class="type">date</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> student;</span><br></pre></td></tr></table></figure><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"># æ¡ˆä¾‹<span class="number">3</span>ï¼šä½¿ç”¨åˆ—çº§çº¦æŸå£°æ˜å¤–é”®çº¦æŸ</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> t_order;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> t_customer;</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_customer(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">name <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">not</span> <span class="keyword">null</span></span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_customer <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;zs&#x27;</span>),(<span class="number">2</span>,<span class="string">&#x27;ls&#x27;</span>),(<span class="number">3</span>,<span class="string">&#x27;ww&#x27;</span>);</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> t_order(</span><br><span class="line">id <span class="type">int</span> <span class="keyword">primary</span> key,</span><br><span class="line">content <span class="type">varchar</span>(<span class="number">200</span>) <span class="keyword">not</span> <span class="keyword">null</span>,</span><br><span class="line">customer_id <span class="type">int</span>,</span><br><span class="line"><span class="keyword">foreign</span> key(customer_id) <span class="keyword">references</span> t_customer(id)</span><br><span class="line">);</span><br><span class="line"><span class="keyword">insert</span> <span class="keyword">into</span> t_order <span class="keyword">values</span>(<span class="number">1</span>,<span class="string">&#x27;xiaomi&#x27;</span>,<span class="number">1</span>),(<span class="number">2</span>,<span class="string">&#x27;huawei&#x27;</span>,<span class="number">2</span>),</span><br><span class="line">(<span class="number">3</span>,<span class="string">&#x27;phone&#x27;</span>,<span class="number">3</span>);</span><br><span class="line"><span class="comment">-- æ­¤æ—¶åˆ é™¤å¤±è´¥ï¼Œå› ä¸ºå¦ä¸€å¼ è¡¨ å¼•ç”¨äº†è¯¥æ¡è®°å½•</span></span><br><span class="line"><span class="keyword">delete</span> <span class="keyword">from</span> t_customer <span class="keyword">where</span> id <span class="operator">=</span> <span class="number">3</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šéç©ºçº¦æŸ(not null)ï¼Œä¸èƒ½å£°æ˜æˆè¡¨çº§çº¦æŸ</font></p><p>è¡¨çº§çº¦æŸå’Œåˆ—çº§çº¦æŸå¯¹æ¯”ï¼š</p><ul><li>è¡¨çº§çº¦æŸå’Œåˆ—çº§çº¦æŸæ‰€å†™çš„ä½ç½®ä¸ä¸€æ ·</li><li>not nullçº¦æŸä¸èƒ½ç”¨è¡¨çº§çº¦æŸæ¥å£°æ˜</li><li>è¡¨çº§çº¦æŸå’Œåˆ—çº§çº¦æŸå£°æ˜è¯­æ³•ç¨æœ‰æ‰€ä¸åŒ</li><li>å¦‚æœè¦å£°æ˜çš„çº¦æŸä¸ºè”åˆä¸»é”®ã€è”åˆå¤–é”®ã€è”åˆå”¯ä¸€çš„æ—¶å€™ï¼Œå°±ä¸€å®šè¦ç”¨ è¡¨çº§çº¦æŸ</li><li>æ–°ç‰ˆæœ¬å¤–é”®çº¦æŸåªèƒ½ä¸ºè¡¨çº§çº¦æŸ</li></ul><h3 id="ç‰¹æ®Šå»ºè¡¨"><a href="#ç‰¹æ®Šå»ºè¡¨" class="headerlink" title="ç‰¹æ®Šå»ºè¡¨"></a>ç‰¹æ®Šå»ºè¡¨</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"># æ¡ˆä¾‹<span class="number">1</span>ï¼šå»ºç«‹ä¸€å¼ è¡¨å’Œs_deptä¸€æ¨¡ä¸€æ ·ï¼Œs_deptçš„è¡¨ç»“æ„å’Œè¡¨ä¸­çš„æ•°æ®å…¨éƒ¨å¤åˆ¶è¿‡æ¥</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test1</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> s_dept; </span><br><span class="line"></span><br><span class="line"># æ¡ˆä¾‹<span class="number">2</span>ï¼šå»ºç«‹ä¸€å¼ è¡¨å’Œs_deptä¸€æ¨¡ä¸€æ ·ï¼Œåªæ‹¿æ¥s_deptçš„è¡¨ç»“æ„ï¼Œæ²¡æœ‰æ•°æ®</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test2</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> s_dept</span><br><span class="line"><span class="keyword">where</span> <span class="number">1</span><span class="operator">=</span><span class="number">2</span>;</span><br><span class="line"></span><br><span class="line"># æ¡ˆä¾‹<span class="number">3</span>ï¼šå»ºç«‹ä¸€å¼ è¡¨å’Œs_deptä¸€æ¨¡ä¸€æ ·ï¼Œåªå¤åˆ¶è¡¨ä¸­æŸå‡ ä¸ªæŒ‡å®šåˆ—çš„æ•°æ®</span><br><span class="line"><span class="keyword">create</span> <span class="keyword">table</span> test3</span><br><span class="line"><span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> id,last_name,salary</span><br><span class="line"><span class="keyword">from</span> s_emp;</span><br></pre></td></tr></table></figure><h3 id="çº§è”åŠ¨ä½œ"><a href="#çº§è”åŠ¨ä½œ" class="headerlink" title="çº§è”åŠ¨ä½œ"></a>çº§è”åŠ¨ä½œ</h3><ul><li>restrict(é»˜è®¤) : on delete restrict on update restrict<ul><li>å½“ä¸»è¡¨åˆ é™¤è®°å½•æ—¶ï¼Œå¦‚æœä»è¡¨ä¸­æœ‰ç›¸å…³è®°å½•åˆ™ä¸å…è®¸ä¸»è¡¨åˆ é™¤</li><li>å½“ä¸»è¡¨æ›´æ”¹ä¸»é”®å­—æ®µå€¼æ—¶ï¼Œå¦‚æœä»è¡¨æœ‰ç›¸å…³è®°å½•åˆ™ä¸å…è®¸æ›´æ”¹</li></ul></li></ul><p><img src="/2023/09/07/03-DDL%E5%8F%8ADML%E6%93%8D%E4%BD%9C/image-20230910214117049.png" alt="image-20230910214117049"></p><ul><li>cascadeï¼šæ•°æ®çº§è”æ›´æ–° on delete cascade on update cascade<ul><li>å½“ä¸»è¡¨åˆ é™¤è®°å½•æˆ–æ›´æ”¹è¢«å‚ç…§å­—æ®µçš„å€¼æ—¶ï¼Œä»è¡¨ä¼šçº§è”æ›´æ–°</li></ul></li><li>set nullï¼šon delete set null on update set null<ul><li>å½“ä¸»è¡¨åˆ é™¤è®°å½•æ—¶ï¼Œä»è¡¨å¤–é”®å­—æ®µå€¼å˜ä¸ºnull</li><li>å½“ä¸»è¡¨æ›´æ”¹ä¸»é”®å­—æ®µå€¼æ—¶ï¼Œä»è¡¨å¤–é”®å­—æ®µå€¼å˜ä¸ºnull</li></ul></li></ul><h2 id="ä¿®æ”¹è¡¨"><a href="#ä¿®æ”¹è¡¨" class="headerlink" title="ä¿®æ”¹è¡¨"></a>ä¿®æ”¹è¡¨</h2><h3 id="æ·»åŠ å­—æ®µ"><a href="#æ·»åŠ å­—æ®µ" class="headerlink" title="æ·»åŠ å­—æ®µ"></a>æ·»åŠ å­—æ®µ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_name</span><br><span class="line"><span class="keyword">add</span> [<span class="keyword">column</span>] col_name type [<span class="keyword">first</span><span class="operator">|</span>after col_name];</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3</span><br><span class="line"><span class="keyword">add</span> name <span class="type">varchar</span>(<span class="number">20</span>);</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3</span><br><span class="line"><span class="keyword">add</span> <span class="keyword">column</span> uid <span class="type">int</span> <span class="keyword">first</span>; # ç¬¬ä¸€åˆ—æ’å…¥ï¼ŒåŒç†afteræœ€åä¸€åˆ—</span><br></pre></td></tr></table></figure><h3 id="ä¿®æ”¹å­—æ®µ"><a href="#ä¿®æ”¹å­—æ®µ" class="headerlink" title="ä¿®æ”¹å­—æ®µ"></a>ä¿®æ”¹å­—æ®µ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_name </span><br><span class="line">modify [<span class="keyword">column</span>] col_name type [<span class="keyword">default</span> é»˜è®¤å€¼];</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3</span><br><span class="line">modify <span class="keyword">column</span> uid <span class="type">varchar</span>(<span class="number">32</span>) <span class="keyword">default</span> <span class="string">&#x27;1&#x27;</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šå¯¹é»˜è®¤å€¼çš„ä¿®æ”¹åªå½±å“ä»Šåå¯¹è¡¨çš„ä¿®æ”¹ï¼Œå¦‚æœåŸè¡¨ä¸­æœ‰æ•°æ®ï¼Œç±»å‹ä¸å…è®¸ä¿®æ”¹ã€‚</font></p><h3 id="åˆ—é‡å‘½å"><a href="#åˆ—é‡å‘½å" class="headerlink" title="åˆ—é‡å‘½å"></a>åˆ—é‡å‘½å</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_name </span><br><span class="line">change [<span class="keyword">column</span>] old_col_name new_col_name type;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3</span><br><span class="line">change <span class="keyword">column</span> name username text;</span><br></pre></td></tr></table></figure><h3 id="åˆ é™¤å­—æ®µ"><a href="#åˆ é™¤å­—æ®µ" class="headerlink" title="åˆ é™¤å­—æ®µ"></a>åˆ é™¤å­—æ®µ</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> tb_name </span><br><span class="line"><span class="keyword">drop</span> [<span class="keyword">column</span>] col_name;</span><br><span class="line"></span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> user3 </span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">column</span> age;</span><br></pre></td></tr></table></figure><h2 id="é‡å‘½åè¡¨"><a href="#é‡å‘½åè¡¨" class="headerlink" title="é‡å‘½åè¡¨"></a>é‡å‘½åè¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">rename <span class="keyword">table</span> old_tb_name <span class="keyword">to</span> new_tb_name; # å»ºè®®è®°è¿™ä¸ª</span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">alter</span> <span class="keyword">table</span> old_tb_name rename [<span class="keyword">to</span>] new_tb_name;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤è¡¨"><a href="#åˆ é™¤è¡¨" class="headerlink" title="åˆ é™¤è¡¨"></a>åˆ é™¤è¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> [if <span class="keyword">exists</span>] tb_name [, tb_name1, ..., tb_namen];</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> if <span class="keyword">exists</span> my_user1;</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">table</span> emp,emp1,test_bit,test_int; # åˆ é™¤å¤šä¸ªè¡¨</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>åˆ é™¤è¡¨çš„æ—¶å€™å½“å‰è¡¨ä¸èƒ½è¢«å…¶å®ƒè¡¨å¼•ç”¨</li><li>æ•°æ®ã€ç»“æ„ã€ç´¢å¼•å…¨éƒ½è¢«åˆ é™¤</li><li>5.7ç‰ˆæœ¬åˆ é™¤ã€ä¸€æ‰¹ã€‘è¡¨ï¼Œå…¶ä¸­è¡¨ä¸å­˜åœ¨ä¹Ÿèƒ½æˆåŠŸæ‰§è¡Œï¼Œ8.0ç‰ˆæœ¬å¿…é¡»ä¿è¯è¡¨å­˜åœ¨æ‰å¯ä»¥åˆ é™¤ï¼ˆæ‰€ä»¥è¦ä½¿ç”¨ if existsï¼‰</li></ul><h2 id="æˆªæ–­è¡¨"><a href="#æˆªæ–­è¡¨" class="headerlink" title="æˆªæ–­è¡¨"></a>æˆªæ–­è¡¨</h2><p>TRUNCATE æ˜¯ä¸€ä¸ª DDLè¯­å¥ï¼Œç”¨äºå¿«é€Ÿåˆ é™¤è¡¨ä¸­çš„æ‰€æœ‰è¡Œï¼ŒåŒæ—¶ä¿ç•™è¡¨çš„ç»“æ„ã€ ç´¢å¼•å’Œçº¦æŸã€‚ </p><p>TRUNCATE å¯ä»¥å¿«é€Ÿåˆ é™¤è¡¨ä¸­æ•°æ®ï¼Œç›¸æ¯”äº DELETE è¯­å¥ï¼Œå®ƒçš„æ‰§è¡Œé€Ÿåº¦æ›´å¿«ï¼Œ å› ä¸ºå®ƒä¸ä¼šé€è¡Œåˆ é™¤æ•°æ®ï¼Œè€Œæ˜¯<strong>ç›´æ¥åˆ é™¤æ•´ä¸ªè¡¨çš„æ•°æ®</strong>ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">truncate</span> <span class="keyword">table</span> tb_name;</span><br></pre></td></tr></table></figure><ul><li>åˆ é™¤è¡¨ä¸­æ‰€æœ‰æ•°æ®</li><li>é‡Šæ”¾è¡¨çš„å­˜å‚¨ç©ºé—´</li></ul><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>åŠŸå´‡æƒŸå¿—ï¼Œä¸šå¹¿æƒŸå‹¤ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02-selectæŸ¥è¯¢</title>
      <link href="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/"/>
      <url>/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šMysqlæ•°æ®åº“çš„ä½¿ç”¨åŠæ•°æ®åº“åˆ†æåŠè®¾è®¡å®è·µ</p></blockquote><h1 id="SQLè¯­æ³•è§„èŒƒ"><a href="#SQLè¯­æ³•è§„èŒƒ" class="headerlink" title="SQLè¯­æ³•è§„èŒƒ"></a>SQLè¯­æ³•è§„èŒƒ</h1><h2 id="ä¹¦å†™è§„èŒƒ"><a href="#ä¹¦å†™è§„èŒƒ" class="headerlink" title="ä¹¦å†™è§„èŒƒ"></a>ä¹¦å†™è§„èŒƒ</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230901160909460.png" alt="image-20230901160909460"></p><h2 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">å•è¡Œæ³¨é‡Š: #æ³¨é‡Šæ–‡å­—(MySQLç‰¹æœ‰çš„æ–¹å¼)</span><br><span class="line">å•è¡Œæ³¨é‡Š: <span class="comment">-- æ³¨é‡Šæ–‡å­—(--åé¢å¿…é¡»åŒ…å«ä¸€ä¸ªç©ºæ ¼)</span></span><br><span class="line">å¤šè¡Œæ³¨é‡Š: <span class="comment">/* æ³¨é‡Šæ–‡å­— */</span></span><br></pre></td></tr></table></figure><h2 id="å‘½åè§„åˆ™"><a href="#å‘½åè§„åˆ™" class="headerlink" title="å‘½åè§„åˆ™"></a>å‘½åè§„åˆ™</h2><ul><li>å­—æ¯ï¼Œæ•°å­—ï¼Œä¸‹åˆ’çº¿ï¼Œ@ï¼Œ#ï¼Œ$ç¬¦å·ç»„æˆ</li><li>é¦–å­—æ¯ä¸èƒ½æ˜¯æ•°å­—å’Œ$</li><li>ä¸å…è®¸æ˜¯Mysqlçš„å…³é”®å­—ä»¥åŠä¿ç•™å­—</li><li>ä¸å…è®¸å‡ºç°ç©ºæ ¼å’Œç‰¹æ®Šå­—ç¬¦</li><li>é•¿åº¦å°äº128ä½</li><li>å¿…é¡»ä¿è¯æ‰€æœ‰çš„()ã€å•å¼•å·ã€åŒå¼•å·æ˜¯æˆå¯¹ç»“æŸçš„ï¼Œå¿…é¡»ä½¿ç”¨è‹±æ–‡çŠ¶æ€ä¸‹çš„åŠè§’è¾“å…¥æ–¹å¼</li><li>å­—ç¬¦ä¸²å‹å’Œæ—¥æœŸæ—¶é—´ç±»å‹çš„æ•°æ®å¯ä»¥ä½¿ç”¨å•å¼•å· â€˜ â€˜ è¡¨ç¤º</li><li>åˆ—çš„åˆ«åï¼Œå°½é‡ä½¿ç”¨åŒå¼•å· â€œ â€œ ,è€Œä¸”ä¸å»ºè®®çœç•¥ <strong>as</strong></li></ul><h1 id="åŸºç¡€æŸ¥è¯¢"><a href="#åŸºç¡€æŸ¥è¯¢" class="headerlink" title="åŸºç¡€æŸ¥è¯¢"></a>åŸºç¡€æŸ¥è¯¢</h1><h2 id="åŸºæœ¬è¯­æ³•"><a href="#åŸºæœ¬è¯­æ³•" class="headerlink" title="åŸºæœ¬è¯­æ³•"></a>åŸºæœ¬è¯­æ³•</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> [<span class="keyword">distinct</span>] <span class="operator">*</span>&#123;col_name1,col_name2,..&#125; <span class="keyword">from</span> tb_name;</span><br><span class="line"><span class="keyword">select</span> <span class="operator">*</span> <span class="keyword">from</span> s_dept;</span><br><span class="line"><span class="keyword">select</span> id,name,region_id <span class="keyword">from</span> s_dept;</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230901161852093.png" alt="image-20230901161852093"></p><h2 id="è®¾ç½®åˆ«å"><a href="#è®¾ç½®åˆ«å" class="headerlink" title="è®¾ç½®åˆ«å"></a>è®¾ç½®åˆ«å</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> old_column [<span class="keyword">as</span>] new_column_name <span class="keyword">from</span> tb_name; # å»ºè®®ä¸è¦çœç•¥<span class="keyword">as</span></span><br><span class="line"><span class="keyword">select</span> id,last_name,salary<span class="operator">*</span><span class="number">12</span> <span class="keyword">as</span> annual <span class="keyword">from</span> s_emp;</span><br><span class="line"><span class="keyword">select</span> id,se.last_name <span class="keyword">from</span> s_emp se; # ç»™å‘˜å·¥è¡¨èµ·åˆ«å</span><br></pre></td></tr></table></figure><h2 id="å»é™¤é‡å¤"><a href="#å»é™¤é‡å¤" class="headerlink" title="å»é™¤é‡å¤"></a>å»é™¤é‡å¤</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">distinct</span> col_name,col_name... <span class="keyword">from</span> tb_name;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ï¼šdistinctå…³é”®è¯åªèƒ½æ”¾åœ¨selectå…³é”®è¯åé¢</strong></p><h2 id="ç©ºå€¼è¿ç®—"><a href="#ç©ºå€¼è¿ç®—" class="headerlink" title="ç©ºå€¼è¿ç®—"></a>ç©ºå€¼è¿ç®—</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ifnull(expression,replacement) <span class="keyword">from</span> tb_name;</span><br><span class="line"><span class="keyword">select</span> id,last_name,ifnull(commission_pct,<span class="number">0</span>) c_pct <span class="keyword">from</span> s_emp;</span><br></pre></td></tr></table></figure><p>IFNULL() å‡½æ•°çš„å·¥ä½œåŸç†å¦‚ä¸‹ï¼š </p><ul><li>å¦‚æœ expression ä¸ä¸º NULLï¼Œåˆ™ IFNULL() å‡½æ•°è¿”å› expression çš„å€¼ã€‚ </li><li>å¦‚æœ expression ä¸º NULLï¼Œåˆ™ IFNULL() å‡½æ•°è¿”å› replacement çš„å€¼ã€‚</li></ul><h2 id="æŸ¥è¯¢å¸¸æ•°"><a href="#æŸ¥è¯¢å¸¸æ•°" class="headerlink" title="æŸ¥è¯¢å¸¸æ•°"></a>æŸ¥è¯¢å¸¸æ•°</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">100</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;john&#x27;</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="number">5</span><span class="operator">*</span><span class="number">5</span><span class="number">-5</span>;</span><br><span class="line"><span class="keyword">select</span> <span class="string">&#x27;briup&#x27;</span>,id,last_name <span class="keyword">from</span> s_emp;</span><br></pre></td></tr></table></figure><h2 id="æ¡ä»¶æŸ¥è¯¢"><a href="#æ¡ä»¶æŸ¥è¯¢" class="headerlink" title="æ¡ä»¶æŸ¥è¯¢"></a>æ¡ä»¶æŸ¥è¯¢</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">SELECT</span> column1, column2, ...</span><br><span class="line"><span class="keyword">FROM</span> <span class="keyword">table</span></span><br><span class="line"><span class="keyword">WHERE</span> <span class="keyword">condition</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š<strong>whereå­å¥çš„ä¼˜å…ˆçº§åˆ«æœ€é«˜</strong></p><p>æ¡ä»¶æŸ¥è¯¢ä¸­å¸¸ç”¨çš„æ¯”è¾ƒè¿ç®—ç¬¦æœ‰ï¼š</p><ul><li>é€»è¾‘æ¯”è¾ƒæ“ä½œç¬¦ï¼š<ul><li><code>= &gt; &lt; &gt;= &lt;= !=</code></li></ul></li><li>ä¸ç­‰äºæ“ä½œç¬¦ï¼Œä»¥ä¸‹ä¸‰ä¸ªéƒ½è¡¨ç¤ºä¸ç­‰äºçš„æ„æ€ï¼Œç»å¸¸ç”¨çš„æ˜¯ <code>!=</code><ul><li><code>!= &lt;&gt; ^=</code></li></ul></li></ul><p>é€»è¾‘è¿ç®—ç¬¦ç”¨äºç»„åˆå¤šä¸ªæ¡ä»¶ï¼Œå¸¸ç”¨çš„é€»è¾‘è¿ç®—ç¬¦æœ‰ï¼š</p><ul><li>AND</li><li>OR</li><li>NOT</li></ul><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šandæ¯”orçš„ä¼˜å…ˆçº§è¦é«˜</font></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,dept_id,title,salary</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> salary <span class="operator">&gt;</span> <span class="number">1000</span></span><br><span class="line"><span class="keyword">and</span> (dept_id <span class="operator">=</span> <span class="number">41</span> <span class="keyword">or</span> dept_id <span class="operator">=</span> <span class="number">44</span>);</span><br></pre></td></tr></table></figure><h2 id="ç‰¹æ®Šæ¡ä»¶"><a href="#ç‰¹æ®Šæ¡ä»¶" class="headerlink" title="ç‰¹æ®Šæ¡ä»¶"></a>ç‰¹æ®Šæ¡ä»¶</h2><ul><li>between and æ“ä½œç¬¦ï¼Œè¡¨ç¤ºåœ¨ä¿©ä¸ªå€¼ä¹‹é—´</li><li>in() ï¼Œè¡¨ç¤ºå€¼åœ¨ä¸€ä¸ªæŒ‡å®šçš„åˆ—è¡¨ä¸­</li><li>like ï¼Œæ¨¡ç³ŠæŸ¥è¯¢ï¼Œåœ¨å€¼ä¸ç²¾ç¡®çš„æ—¶å€™ä½¿ç”¨<ul><li>% ï¼Œé€šé…0åˆ°å¤šä¸ªå­—ç¬¦</li><li>_ ï¼Œé€šé…ä¸€ä¸ªå­—ç¬¦ï¼Œå¹¶ä¸”æ˜¯ä¸€å®šè¦æœ‰ä¸€ä¸ªå­—ç¬¦</li><li>\ ï¼Œè½¬ä¹‰å­—ç¬¦</li></ul></li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,salary</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> last_name <span class="keyword">like</span> <span class="string">&#x27;_ _ _ n _%&#x27;</span>; # æ³¨æ„æˆ‘æ˜¯ä¸ºäº†åŒºåˆ†æ‰åŠ ç©ºæ ¼æ»´</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ï¼šæ•°æ®åº“ä¸­çš„å­—ç¬¦ä¸²ï¼Œéœ€è¦ä½¿ç”¨å•å¼•å·æ‹¬èµ·æ¥</strong></p><ul><li>is null ï¼Œåˆ¤æ–­å€¼ä¸ºnullçš„æ—¶å€™ä½¿ç”¨ï¼Œnullå€¼çš„åˆ¤æ–­ä¸èƒ½ä½¿ç”¨ç­‰å·</li></ul><p>æ³¨æ„ï¼Œä¸Šè¿°å‡ ä¸ªå…³é”®å­—çš„å–åæ“ä½œçš„ä¸ºï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">not</span> <span class="keyword">between</span> <span class="keyword">and</span></span><br><span class="line"><span class="keyword">not</span> <span class="keyword">in</span> (åˆ—è¡¨)</span><br><span class="line"><span class="keyword">not</span> <span class="keyword">like</span></span><br><span class="line"><span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span></span><br></pre></td></tr></table></figure><h1 id="SQLè¿ç®—ç¬¦"><a href="#SQLè¿ç®—ç¬¦" class="headerlink" title="SQLè¿ç®—ç¬¦"></a>SQLè¿ç®—ç¬¦</h1><h2 id="ç®—æ•°è¿ç®—ç¬¦"><a href="#ç®—æ•°è¿ç®—ç¬¦" class="headerlink" title="ç®—æ•°è¿ç®—ç¬¦"></a>ç®—æ•°è¿ç®—ç¬¦</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230904135707807.png" alt="image-20230904135707807"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">1</span><span class="operator">+</span><span class="number">1</span>;</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary,salary<span class="operator">*</span><span class="number">13</span> <span class="keyword">as</span> sumsal <span class="keyword">from</span> s_emp;</span><br></pre></td></tr></table></figure><h2 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230904135914508.png" alt="image-20230904135914508"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary <span class="operator">&lt;=&gt;</span> <span class="keyword">null</span>; # ç­‰äºä¸‹ä¸€æ¡è¯­å¥</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary <span class="keyword">is</span> <span class="keyword">null</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>nullå‚ä¸è¿ç®—ç»“æœéƒ½ä¸ºnull</li><li>&lt;&#x3D;&gt; å’Œ &#x3D; ä½œç”¨ä¸€æ ·ï¼Œå”¯ä¸€çš„åŒºåˆ« &lt;&#x3D;&gt;å¯ä»¥ç”¨æ¥å¯¹NULLè¿›è¡Œåˆ¤æ–­â€˜</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> id<span class="operator">&gt;=</span><span class="number">22</span>;</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary <span class="keyword">is</span> <span class="keyword">not</span> <span class="keyword">null</span>;</span><br><span class="line"><span class="keyword">select</span> least(<span class="number">1</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">87</span>,<span class="number">34</span>);</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp  <span class="keyword">where</span> salary <span class="keyword">between</span> <span class="number">850</span> <span class="keyword">and</span> <span class="number">1200</span>;</span><br><span class="line"><span class="keyword">select</span> id,last_name,dept_id <span class="keyword">from</span> s_emp <span class="keyword">where</span> dept_id <span class="keyword">in</span>(<span class="number">41</span>,<span class="number">42</span>,<span class="number">43</span>,<span class="number">44</span>);</span><br><span class="line"><span class="keyword">select</span> id,last_name <span class="keyword">from</span> s_emp <span class="keyword">where</span> last_name <span class="keyword">like</span> <span class="string">&#x27;%a%&#x27;</span>;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>%è¡¨ç¤º0åˆ°ä»»æ„å­—ç¬¦</li><li>_è¡¨ç¤º1ä¸ªå­—ç¬¦å ä½</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> last_name <span class="keyword">like</span> <span class="string">&#x27;$_%&#x27;</span> <span class="keyword">escape</span> <span class="string">&#x27;$&#x27;</span>; # æ³¨æ„äº‹é¡¹ï¼š<span class="keyword">escape</span>æŒ‡å®šè½¬ä¹‰ç¬¦</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> last_name regexp <span class="string">&#x27;^s&#x27;</span>; # regexpä»ç„¶è§£å†³ä¸äº†å¤§å°å†™é—®é¢˜</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> <span class="type">binary</span> last_name <span class="keyword">like</span> <span class="string">&#x27;^s&#x27;</span>; # <span class="type">binary</span>å¯ä»¥è§£å†³</span><br></pre></td></tr></table></figure><h2 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907165915692.png" alt="image-20230907165915692"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary <span class="keyword">not</span> <span class="keyword">between</span> <span class="number">850</span> <span class="keyword">and</span> <span class="number">1200</span>;</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary <span class="keyword">not</span> (salary<span class="operator">&gt;=</span><span class="number">850</span> <span class="keyword">and</span> salary<span class="operator">&lt;=</span><span class="number">1200</span>);</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary <span class="keyword">from</span> s_emp <span class="keyword">where</span> salary<span class="operator">&lt;</span><span class="number">850</span> <span class="keyword">or</span> salary<span class="operator">&gt;</span><span class="number">1200</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šORå’ŒAndå¯ä»¥è¿ç”¨ï¼Œä½†æ˜¯andçš„ä¼˜å…ˆçº§é«˜äºor</font></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,dept_id <span class="keyword">from</span> s_emp <span class="keyword">where</span> dept_id <span class="keyword">not</span> <span class="keyword">in</span>(<span class="number">41</span>,<span class="number">42</span>,<span class="number">43</span>,<span class="number">44</span>);</span><br><span class="line"># å‘˜å·¥åœ¨<span class="number">41</span>æˆ–<span class="number">42</span>å·éƒ¨é—¨ï¼Œä½†æ˜¯è–ªæ°´ä¸èƒ½é«˜äº<span class="number">1000</span>çš„å‘˜å·¥ä¿¡æ¯ï¼Œæˆ–å‘˜å·¥ä¸åœ¨<span class="number">41</span>æˆ–<span class="number">42</span>å·éƒ¨é—¨ï¼Œä½†æ˜¯è–ªæ°´é«˜äº<span class="number">1000</span>çš„å‘˜å·¥ä¿¡æ¯</span><br><span class="line"># ä¹Ÿå°±æ˜¯ä¸¤ä¸ªæ¡ä»¶åªèƒ½æœ‰ä¸€ä¸ªä¸ºçœŸ</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary,dept_id <span class="keyword">from</span> s_emp <span class="keyword">where</span> dept_id <span class="keyword">in</span>(<span class="number">41</span>,<span class="number">42</span>) xor salary<span class="operator">&gt;</span><span class="number">1000</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šé€»è¾‘å¼‚æˆ–ï¼ˆXORï¼‰è¿ç®—ç¬¦æ˜¯å½“ç»™å®šçš„å€¼ä¸­ä»»æ„ä¸€ä¸ªå€¼ä¸ºNULLæ—¶ï¼Œåˆ™è¿”å›NULL</font></p><h2 id="ä½è¿ç®—ç¬¦"><a href="#ä½è¿ç®—ç¬¦" class="headerlink" title="ä½è¿ç®—ç¬¦"></a>ä½è¿ç®—ç¬¦</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907171037941.png" alt="image-20230907171037941"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="number">5</span><span class="operator">&amp;</span><span class="number">3</span>;</span><br></pre></td></tr></table></figure><h2 id="è¿ç®—ä¼˜å…ˆçº§"><a href="#è¿ç®—ä¼˜å…ˆçº§" class="headerlink" title="è¿ç®—ä¼˜å…ˆçº§"></a>è¿ç®—ä¼˜å…ˆçº§</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907171446355.png" alt="image-20230907171446355"></p><h1 id="æ’åºåˆ†é¡µ"><a href="#æ’åºåˆ†é¡µ" class="headerlink" title="æ’åºåˆ†é¡µ"></a>æ’åºåˆ†é¡µ</h1><h2 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h2><blockquote><p>æŸ¥è¯¢æ•°æ®çš„æ—¶å€™è¿›è¡Œæ’åºï¼Œå°±æ˜¯æ ¹æ®æŸä¸ªå­—æ®µçš„å€¼ï¼ŒæŒ‰ç…§å‡åºæˆ–è€…é™åºçš„æƒ…å†µå°†è®°å½•æ˜¾ç¤ºå‡ºæ¥</p></blockquote><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,id2 <span class="keyword">from</span> test <span class="keyword">order</span> <span class="keyword">by</span> id <span class="keyword">asc</span>,id2 <span class="keyword">desc</span>;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul><li><strong>order byè¯­å¥ï¼Œåªå¯¹æŸ¥è¯¢è®°å½•æ˜¾ç¤ºè°ƒæ•´ï¼Œå¹¶ä¸æ”¹å˜æŸ¥è¯¢ç»“æœï¼Œæ‰€ä»¥æ‰§è¡Œæƒæœ€ ä½ï¼Œæœ€åæ‰§è¡Œ</strong></li><li><strong>æ’åºçš„é»˜è®¤å€¼æ—¶ascï¼šå‡åºï¼Œ descï¼šé™åº</strong></li><li><strong>å¦‚æœæœ‰å¤šä¸ªåˆ—è¿›è¡Œæ’åºï¼Œåé¢çš„åˆ—æ’åºçš„å‰ææ—¶å‰é¢çš„åˆ—æ’å¥½åºä»¥åæœ‰é‡å¤ï¼ˆç›¸åŒï¼‰çš„å€¼</strong></li></ul><h2 id="åˆ†é¡µ"><a href="#åˆ†é¡µ" class="headerlink" title="åˆ†é¡µ"></a>åˆ†é¡µ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µåˆ—è¡¨ <span class="keyword">from</span> è¡¨å limit èµ·å§‹ç´¢å¼•, æŸ¥è¯¢è®°å½•æ•°;</span><br><span class="line"><span class="keyword">select</span> id,last_name <span class="keyword">from</span> s_emp limit <span class="number">0</span>,<span class="number">5</span>;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><ul><li><strong>èµ·å§‹ç´¢å¼•ä»0å¼€å§‹ï¼Œè®¡ç®—å…¬å¼ï¼šèµ·å§‹ç´¢å¼•&#x3D;ï¼ˆæŸ¥è¯¢é¡µç -1ï¼‰*æ¯é¡µæ˜¾ç¤ºè®°å½•æ•°</strong></li><li><strong>åˆ†é¡µæŸ¥è¯¢æ—¶æ•°æ®åº“çš„æ–¹è¨€ï¼Œä¸åŒçš„æ•°æ®åº“æœ‰ä¸åŒçš„å®ç°ï¼ŒMySQLä¸­çš„æ—¶LIMIT</strong></li><li><strong>å¦‚æœæŸ¥è¯¢çš„æ—¶ç¬¬ä¸€é¡µæ•°æ®ï¼Œå…¶å®ç´¢å¼•å¯ä»¥çœç•¥ç›´æ¥ç®€å†™ä¸ºlimitæ¡æ•°</strong></li></ul><h1 id="å¤šè¡¨æŸ¥è¯¢"><a href="#å¤šè¡¨æŸ¥è¯¢" class="headerlink" title="å¤šè¡¨æŸ¥è¯¢"></a>å¤šè¡¨æŸ¥è¯¢</h1><p>å¤šè¡¨æŸ¥è¯¢ï¼Œåˆç§°è¡¨è”åˆæŸ¥è¯¢ï¼Œå³ä¸€æ¡sqlè¯­å¥æ¶‰åŠåˆ°çš„è¡¨æœ‰å¤šå¼ ï¼Œè¡¨ä¸­çš„æ•° æ®é€šè¿‡ç‰¹å®šçš„è¿æ¥ï¼Œè¿›è¡Œè”åˆæ˜¾ç¤ºã€‚</p><p><strong>æ³¨æ„äº‹é¡¹ï¼šé˜¿é‡Œå¼€å‘è§„èŒƒä¸­è¦æ±‚å¤šè¡¨è¿æ¥å¿…é¡»ç»™è¡¨èµ·åˆ«å</strong></p><h2 id="ç¬›å¡å„¿ç§¯"><a href="#ç¬›å¡å„¿ç§¯" class="headerlink" title="ç¬›å¡å„¿ç§¯"></a>ç¬›å¡å„¿ç§¯</h2><h2 id="ç­‰å€¼è¿æ¥"><a href="#ç­‰å€¼è¿æ¥" class="headerlink" title="ç­‰å€¼è¿æ¥"></a>ç­‰å€¼è¿æ¥</h2><p><strong>ç­‰å€¼è¿æ¥åˆç§°ä¸ºå†…è¿æ¥ï¼ˆè‡ªç„¶è¿æ¥ï¼‰</strong>ï¼Œå°†ä¸¤å¼ å…·æœ‰å…³è”å…³ç³»çš„åˆ—çš„æ•°æ®è¿æ¥ èµ·æ¥ï¼Œè¿æ¥æŸ¥è¯¢whereå­å¥ä¸­ç”¨æ¥è¿æ¥ä¸¤ä¸ªè¡¨çš„æ¡ä»¶ç§°ä¸º<strong>è¿æ¥æ¡ä»¶æˆ–è€…è¿æ¥è°“è¯</strong>ï¼Œå½“è¿æ¥è¿ç®—ä¸º&#x3D;çš„æ—¶å€™ï¼Œç§°ä¹‹ä¸ºç­‰å€¼è¿æ¥ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> col_name....</span><br><span class="line"><span class="keyword">from</span> table_name1,table_name2</span><br><span class="line"><span class="keyword">where</span> [table_name1].[col_name]<span class="operator">=</span>[table_name2].[col_name]</span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">select</span> col_name....</span><br><span class="line"><span class="keyword">from</span> table_name1 <span class="keyword">inner</span> <span class="keyword">join</span> table_name2</span><br><span class="line"><span class="keyword">on</span> [table_name1].[col_name]<span class="operator">=</span>[table_name2].[col_name]</span><br></pre></td></tr></table></figure><h2 id="ä¸ç­‰å€¼è¿æ¥"><a href="#ä¸ç­‰å€¼è¿æ¥" class="headerlink" title="ä¸ç­‰å€¼è¿æ¥"></a>ä¸ç­‰å€¼è¿æ¥</h2><p>ä¸¤å¼ æ²¡æœ‰å…³è”å…³ç³»ï¼ˆä¸»å¤–é”®ï¼‰çš„è¡¨ï¼Œé€šè¿‡æŸä¸ªç‰¹å®šåœºæ™¯çš„ä¸šåŠ¡è¿æ¥èµ·æ¥ï¼Œä¸ºä¸ç­‰å€¼è¿æ¥</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> e.id, e.last_name, e.title, e.salary, s.name</span><br><span class="line"><span class="keyword">from</span> s_emp e, salgrade s    # s_emp å’Œ salgradeæ²¡æœ‰å…³è”å…³ç³»</span><br><span class="line"><span class="keyword">where</span> e.salary <span class="keyword">between</span> s.minsal <span class="keyword">and</span> s.maxsal;</span><br></pre></td></tr></table></figure><h2 id="è‡ªè¿æ¥"><a href="#è‡ªè¿æ¥" class="headerlink" title="è‡ªè¿æ¥"></a>è‡ªè¿æ¥</h2><p>è‡ªè¿æ¥å°±æ˜¯ä¸€å¼ è¡¨ï¼Œè‡ªå·±å’Œè‡ªå·±è¿æ¥åè¿›è¡ŒæŸ¥è¯¢</p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907182451767.png" alt="image-20230907182451767"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> s1.id,s1.last_name,s2.id,s2.last_name manager_name</span><br><span class="line"><span class="keyword">from</span> s_emp s1,s_emp s2</span><br><span class="line"><span class="keyword">where</span> s1.manager_id <span class="operator">=</span> s2.id;</span><br><span class="line"># å¯ç†è§£s1ä¸ºå‘˜å·¥è¡¨ï¼Œs2ä¸ºç»ç†è¡¨</span><br></pre></td></tr></table></figure><h2 id="å†…è¿æ¥"><a href="#å†…è¿æ¥" class="headerlink" title="å†…è¿æ¥"></a>å†…è¿æ¥</h2><p>å†…è¿æ¥æŸ¥è¯¢ï¼šæŸ¥è¯¢ä¸¤è¡¨æˆ–å¤šè¡¨ä¸­<strong>äº¤é›†</strong>éƒ¨åˆ†æ•°æ®ã€‚</p><p>éšå¼å†…è¿æ¥è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µåˆ—è¡¨</span><br><span class="line"><span class="keyword">from</span> table_name1,table_name2</span><br><span class="line"><span class="keyword">where</span> æ¡ä»¶ ... ;</span><br></pre></td></tr></table></figure><p>æ˜¾å¼å†…è¿æ¥è¯­æ³•ï¼š</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µåˆ—è¡¨</span><br><span class="line"><span class="keyword">from</span> table_name1 [<span class="keyword">inner</span>] <span class="keyword">join</span> table_name2</span><br><span class="line"><span class="keyword">on</span> è¿æ¥æ¡ä»¶ ... ;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šä¸€æ—¦è¡¨èµ·äº†åˆ«åï¼Œå°±ä¸èƒ½å†ä½¿ç”¨è¡¨åæ¥æŒ‡å®šå¯¹åº”çš„å­—æ®µäº†ï¼Œæ­¤æ—¶åªèƒ½å¤Ÿä½¿ç”¨åˆ«åå†æŒ‡å®šå­—æ®µ</font></p><h2 id="å¤–è¿æ¥"><a href="#å¤–è¿æ¥" class="headerlink" title="å¤–è¿æ¥"></a>å¤–è¿æ¥</h2><h3 id="å·¦å¤–è¿æ¥"><a href="#å·¦å¤–è¿æ¥" class="headerlink" title="å·¦å¤–è¿æ¥"></a>å·¦å¤–è¿æ¥</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> col_name....</span><br><span class="line"><span class="keyword">from</span> table_name1 <span class="keyword">left</span> [<span class="keyword">outer</span>] <span class="keyword">join</span> table_name2</span><br><span class="line"><span class="keyword">on</span> [table_name1].[col_name]<span class="operator">=</span>[table_name2].[col_name]</span><br></pre></td></tr></table></figure><h3 id="å³å¤–è¿æ¥"><a href="#å³å¤–è¿æ¥" class="headerlink" title="å³å¤–è¿æ¥"></a>å³å¤–è¿æ¥</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> col_name....</span><br><span class="line"><span class="keyword">from</span> table_name1 <span class="keyword">right</span> [<span class="keyword">outer</span>] <span class="keyword">join</span> table_name2</span><br><span class="line"><span class="keyword">on</span> [table_name1].[col_name]<span class="operator">=</span>[table_name2].[col_name]</span><br></pre></td></tr></table></figure><h3 id="å…¨è¿æ¥"><a href="#å…¨è¿æ¥" class="headerlink" title="å…¨è¿æ¥"></a>å…¨è¿æ¥</h3><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"># <span class="keyword">UNION</span> å¹¶é›† <span class="operator">-</span><span class="operator">&gt;</span>å…¨è¿æ¥</span><br><span class="line"># ä½¿ç”¨å·¦è¿æ¥å’Œå³è¿æ¥çš„å¹¶é›†ä»£æ›¿å…¨è¿æ¥</span><br><span class="line"><span class="keyword">SELECT</span> se.dept_id, last_name, `name`</span><br><span class="line"><span class="keyword">FROM</span> s_emp se </span><br><span class="line"><span class="keyword">LEFT</span> <span class="keyword">JOIN</span> s_dept sd</span><br><span class="line"><span class="keyword">on</span> se.dept_id <span class="operator">=</span> sd.id</span><br><span class="line"><span class="keyword">UNION</span></span><br><span class="line"><span class="keyword">SELECT</span> se.dept_id, last_name, `name`</span><br><span class="line"><span class="keyword">FROM</span> s_emp se </span><br><span class="line"><span class="keyword">RIGHT</span> <span class="keyword">JOIN</span> s_dept sd</span><br><span class="line"><span class="keyword">on</span> se.dept_id <span class="operator">=</span> sd.id;</span><br></pre></td></tr></table></figure><h1 id="å•è¡Œå‡½æ•°"><a href="#å•è¡Œå‡½æ•°" class="headerlink" title="å•è¡Œå‡½æ•°"></a>å•è¡Œå‡½æ•°</h1><blockquote><p>å•è¡Œå‡½æ•°æ¥å—å‚æ•°è¿”å›ä¸€ä¸ªç»“æœï¼Œåªå¯¹ä¸€è¡Œè¿›è¡Œå˜æ¢ï¼Œæ¯è¡Œè¿”å›ä¸€ä¸ªç»“æœï¼Œå¯ä»¥åµŒå¥—ï¼Œå‚æ•°å¯ä»¥æ—¶ä¸€åˆ—æˆ–ä¸€ä¸ªå€¼</p></blockquote><h2 id="æ•°å€¼å‡½æ•°"><a href="#æ•°å€¼å‡½æ•°" class="headerlink" title="æ•°å€¼å‡½æ•°"></a>æ•°å€¼å‡½æ•°</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907184433547.png" alt="image-20230907184433547"></p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907184505274.png" alt="image-20230907184505274"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">abs</span>(<span class="number">-20</span>);</span><br><span class="line"><span class="keyword">select</span> round(<span class="number">32.56</span>,<span class="number">-2</span>);</span><br><span class="line"><span class="keyword">select</span> bin(<span class="number">10</span>),oct(<span class="number">10</span>),hex(<span class="number">10</span>);</span><br></pre></td></tr></table></figure><h2 id="å­—ç¬¦ä¸²å‡½æ•°"><a href="#å­—ç¬¦ä¸²å‡½æ•°" class="headerlink" title="å­—ç¬¦ä¸²å‡½æ•°"></a>å­—ç¬¦ä¸²å‡½æ•°</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907184822633.png" alt="image-20230907184822633"></p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907184848955.png" alt="image-20230907184848955"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="built_in">upper</span>(<span class="string">&#x27;hello&#x27;</span>),<span class="built_in">lower</span>(<span class="string">&#x27;GOOD&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> concat(<span class="string">&#x27;hello&#x27;</span>,<span class="string">&#x27;world&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">trim</span>(<span class="string">&#x27; hello world &#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> substr(<span class="string">&#x27;helloworld&#x27;</span>,<span class="number">3</span>);</span><br></pre></td></tr></table></figure><h2 id="æ—¶é—´æ—¥æœŸ"><a href="#æ—¶é—´æ—¥æœŸ" class="headerlink" title="æ—¶é—´æ—¥æœŸ"></a>æ—¶é—´æ—¥æœŸ</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907185010137.png" alt="image-20230907185010137"></p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907185055446.png" alt="image-20230907185055446"></p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907185122830.png" alt="image-20230907185122830"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> curdate(),<span class="built_in">current_date</span>(); </span><br><span class="line"><span class="keyword">select</span> curtime(),<span class="built_in">current_time</span>();</span><br><span class="line"><span class="keyword">select</span> now(),sysdate();</span><br><span class="line"><span class="keyword">select</span> utc_date(),utc_time();</span><br><span class="line"><span class="keyword">select</span> unix_timestamp();</span><br><span class="line"><span class="keyword">select</span> unix_timestamp(now());</span><br><span class="line"><span class="keyword">select</span> from_unixtime(<span class="number">1661789223</span>);</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">year</span>(now());</span><br><span class="line"><span class="keyword">select</span> <span class="built_in">extract</span>(year_month <span class="keyword">from</span> now());</span><br></pre></td></tr></table></figure><p>extractä¸­typeï¼š</p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907185552227.png" alt="image-20230907185552227"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> time_to_sec(now());</span><br><span class="line"><span class="keyword">select</span> adddate(now(),<span class="type">interval</span> <span class="number">1</span> <span class="keyword">day</span>);</span><br><span class="line"><span class="keyword">select</span> last_day(now());</span><br><span class="line"><span class="keyword">select</span> date_format(now(),<span class="string">&#x27;%Y-%m-%d&#x27;</span>);</span><br></pre></td></tr></table></figure><p>fmæ ¼å¼ï¼š</p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907185806251.png" alt="image-20230907185806251"></p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907185900947.png" alt="image-20230907185900947"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> str_to_date(<span class="string">&#x27;22/02/2022&#x27;</span>,<span class="string">&#x27;%d/%m/%Y&#x27;</span>);</span><br><span class="line"><span class="keyword">select</span> period_add(<span class="string">&#x27;2203&#x27;</span>,<span class="number">3</span>); # è¿”å›<span class="number">202203</span>çš„å<span class="number">3</span>ä¸ªæœˆ <span class="number">2022</span>å¹´<span class="number">03</span>æœˆçš„åä¸‰ä¸ªæœˆ å³<span class="number">6</span>æœˆ</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šç¬¬ä¸€ä¸ªå‚æ•°æ ¼å¼yyyyMMæˆ–yyMMï¼Œç¬¬äºŒä¸ªå‚æ•°å¯ä»¥æ˜¯è´Ÿå€¼</strong></p><h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907190407534.png" alt="image-20230907190407534"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> id,last_name,salary,if(salary<span class="operator">&gt;</span><span class="number">2000</span>,<span class="string">&#x27;è“é¢†&#x27;</span>,<span class="string">&#x27;ç™½é¢†&#x27;</span>) <span class="keyword">from</span> s_emp;</span><br><span class="line"><span class="keyword">select</span> id,last_name,salary,ifnull(salary,<span class="number">0</span>)<span class="operator">*</span><span class="number">13</span> sum_sal <span class="keyword">from</span> s_emp;</span><br><span class="line"></span><br><span class="line"># ç›¸å½“äºJavaçš„if <span class="keyword">else</span> </span><br><span class="line"><span class="keyword">select</span> id,last_name,salary,</span><br><span class="line"><span class="keyword">case</span> <span class="keyword">when</span> salary<span class="operator">&gt;</span><span class="number">2500</span> <span class="keyword">then</span> <span class="string">&#x27;é‡‘é¢†&#x27;</span></span><br><span class="line"><span class="keyword">when</span> salary<span class="operator">&lt;=</span><span class="number">2500</span> <span class="keyword">and</span> salary<span class="operator">&gt;=</span><span class="number">1500</span> <span class="keyword">then</span> <span class="string">&#x27;è“é¢†&#x27;</span></span><br><span class="line"><span class="keyword">else</span> <span class="string">&#x27;ç™½é¢†&#x27;</span> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">as</span> &quot;rank&quot;</span><br><span class="line"><span class="keyword">from</span> s_emp;</span><br><span class="line"></span><br><span class="line"># ç›¸å½“äºJavaçš„switch <span class="keyword">case</span></span><br><span class="line"><span class="keyword">select</span> id,last_name,salary,</span><br><span class="line"><span class="keyword">case</span> id<span class="operator">%</span><span class="number">3</span> <span class="keyword">when</span> <span class="number">1</span> <span class="keyword">then</span> <span class="string">&#x27;1group&#x27;</span></span><br><span class="line"><span class="keyword">when</span> <span class="number">2</span> <span class="keyword">then</span> <span class="string">&#x27;2group&#x27;</span></span><br><span class="line"><span class="keyword">else</span> <span class="string">&#x27;3group&#x27;</span> <span class="keyword">end</span></span><br><span class="line"><span class="keyword">as</span> &quot;group&quot;</span><br><span class="line"><span class="keyword">from</span> s_emp;</span><br></pre></td></tr></table></figure><h1 id="èšåˆå‡½æ•°"><a href="#èšåˆå‡½æ•°" class="headerlink" title="èšåˆå‡½æ•°"></a>èšåˆå‡½æ•°</h1><blockquote><p>èšåˆå‡½æ•°ï¼Œä¸€èˆ¬ä¼šæ“ä½œå¤šç»„æ•°æ®ï¼Œå¹¶å¯¹æ¯ä¸€ç»„ä¸­çš„æŸä¸ªåˆ—ï¼Œæ‰§è¡Œè®¡ç®—å¹¶è¿”å› <strong>å•ä¸€çš„å€¼</strong>ã€‚</p></blockquote><p>èšåˆå‡½æ•°ç»å¸¸ä¸ SELECT è¯­å¥çš„ GROUP BY å­å¥ä¸€åŒä½¿ç”¨ï¼Œæ‰€ä»¥ä¹ŸæŠŠå…¶å®ƒç§°ä¹‹ ä¸º<strong>åˆ†ç»„å‡½æ•°</strong>ã€‚</p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907191112046.png" alt="image-20230907191112046"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> ç»„å‡½æ•°(field1<span class="operator">|</span><span class="operator">*</span>)</span><br><span class="line"><span class="keyword">from</span> table_name</span><br><span class="line"><span class="keyword">where</span> <span class="keyword">condition</span></span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> field1,field2,...</span><br><span class="line">[<span class="keyword">having</span> <span class="keyword">condition</span>];</span><br></pre></td></tr></table></figure><p>èšåˆå‡½æ•°èƒ½å¤Ÿå‡ºç°çš„ä½ç½®ï¼š</p><ul><li>selectåé¢</li><li>havingåé¢</li><li>order byåé¢</li></ul><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šwhereåé¢ä¸€å®šä¸èƒ½å‡ºç°ç»„å‡½æ•°ï¼åŸå› æ—¶whereçš„æ‰§è¡Œé¡ºåºåœ¨ç»„å‡½æ•°ä¹‹å‰ï¼</font></p><h2 id="åŸºç¡€èšåˆå‡½æ•°"><a href="#åŸºç¡€èšåˆå‡½æ•°" class="headerlink" title="åŸºç¡€èšåˆå‡½æ•°"></a>åŸºç¡€èšåˆå‡½æ•°</h2><ul><li>avg ï¼Œæ±‚å¹³å‡å€¼ </li><li>count ï¼Œè®¡ç®—æœ‰å¤šå°‘æ¡æ•°æ® </li><li>max ï¼Œæ±‚æœ€å¤§å€¼ </li><li>min ï¼Œæ±‚æœ€å°å€¼ </li><li>sum ï¼Œæ±‚å’Œ</li></ul><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">count</span>(<span class="operator">*</span>),<span class="built_in">sum</span>(salary)</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> dept_id;</span><br></pre></td></tr></table></figure><h2 id="group-byå­å¥"><a href="#group-byå­å¥" class="headerlink" title="group byå­å¥"></a>group byå­å¥</h2><p>æ³¨æ„ï¼šåˆ†ç»„æŸ¥è¯¢è¯­å¥ä¸­ï¼Œå¦‚æœ<strong>selectã€havingã€order by</strong>è¯­å¥åé¢å‡ºç°ç»„å‡½æ•°ï¼Œé‚£ä¹ˆ <strong>selectã€havingã€order by</strong>åé¢æ²¡æœ‰è¢«ç»„å‡½æ•°ä¿®é¥°çš„åˆ—ï¼Œå°±å¿…é¡»å‡ºç°åœ¨group by åé¢ï¼</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">avg</span>(salary) <span class="keyword">from</span> s_emp <span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">max</span>(salary) <span class="keyword">from</span> s_emp <span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">sum</span>(salary) <span class="keyword">from</span> s_emp <span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">count</span>(<span class="operator">*</span>) <span class="keyword">from</span> s_emp <span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">count</span>(<span class="operator">*</span>),<span class="built_in">min</span>(salary),<span class="built_in">max</span>(salary),<span class="built_in">sum</span>(salary),<span class="built_in">avg</span>(salary) <span class="keyword">from</span> s_emp <span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br></pre></td></tr></table></figure><p>æ€è€ƒï¼Œå¦‚æœgroup byåè·Ÿäº†ä¿©ä¸ªå­—æ®µï¼Œè¡¨ç¤ºä»€ä¹ˆæ„æ€ï¼Ÿ(è¿™ä¸¤ä¸ªå­—æ®µçœ‹ä½œæ˜¯ä¸€ä¸ªæ•´ä½“)</p><h2 id="havingå…³é”®å­—"><a href="#havingå…³é”®å­—" class="headerlink" title="havingå…³é”®å­—"></a>havingå…³é”®å­—</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">avg</span>(salary) <span class="keyword">from</span> s_emp <span class="keyword">group</span> <span class="keyword">by</span> dept_id <span class="keyword">having</span> <span class="built_in">avg</span>(salary)<span class="operator">&gt;=</span><span class="number">1400</span>;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907192205956.png" alt="image-20230907192205956"></p><h2 id="selectæ‰§è¡Œé¡ºåº"><a href="#selectæ‰§è¡Œé¡ºåº" class="headerlink" title="selectæ‰§è¡Œé¡ºåº"></a>selectæ‰§è¡Œé¡ºåº</h2><p>ä¸€ä¸ªå®Œæ•´çš„selectæŸ¥è¯¢è¯­å¥ï¼Œç”±ä»¥ä¸‹å‡ éƒ¨åˆ†ç»„æˆï¼š(<strong>ä¸‹é¢çš„ä¸æ˜¯æ‰§è¡Œé¡ºåºå“ˆ~</strong>)</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> å­—æ®µ<span class="number">1</span>,å­—æ®µ<span class="number">2</span></span><br><span class="line"><span class="keyword">from</span> è¡¨</span><br><span class="line"><span class="keyword">where</span> æ¡ä»¶</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> åˆ†ç»„æ¡ä»¶</span><br><span class="line"><span class="keyword">having</span> åˆ†ç»„ç­›é€‰æ¡ä»¶</span><br><span class="line"><span class="keyword">order</span> <span class="keyword">by</span> æ’åºæ¡ä»¶</span><br><span class="line">limit (n<span class="number">-1</span>)<span class="operator">*</span>size,size;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907192751490.png" alt="image-20230907192751490"></p><p>group by å’Œ havingçš„å…³ç³»ï¼š</p><ul><li>group by å¯ä»¥å•ç‹¬å­˜åœ¨ï¼Œåé¢å¯ä»¥ä¸å‡ºç°havingè¯­å¥</li><li>havingä¸èƒ½å•ç‹¬å­˜åœ¨ï¼Œå¦‚æœéœ€è¦å‡ºç°ï¼Œé‚£ä¹ˆå°±å¿…é¡»å‡ºç°åœ¨group byåé¢</li></ul><p>order byè¯­å¥ï¼š</p><ul><li>å¦‚æœsqlè¯­å¥ä¸­éœ€è¦æ’åºï¼Œé‚£ä¹ˆå°±ä¸€å®šè¦åä½œsqlè¯­å¥çš„æœ€åé¢ï¼ˆlimitæ‰æ˜¯æœ€åçš„å“ˆ~ï¼‰</li><li>order byåä¹Ÿå¯ä»¥å‡ºç°ç»„å‡½æ•°</li></ul><h1 id="å­æŸ¥è¯¢"><a href="#å­æŸ¥è¯¢" class="headerlink" title="å­æŸ¥è¯¢"></a>å­æŸ¥è¯¢</h1><h2 id="æ ‡é‡å­æŸ¥è¯¢"><a href="#æ ‡é‡å­æŸ¥è¯¢" class="headerlink" title="æ ‡é‡å­æŸ¥è¯¢"></a>æ ‡é‡å­æŸ¥è¯¢</h2><p>å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯å•ä¸ªå€¼(æ•°å­—ã€å­—ç¬¦ä¸²ã€æ—¥æœŸç­‰)ï¼Œæœ€ç®€å•çš„å½¢å¼ï¼Œè¿™ç§å­æŸ¥ è¯¢ç§°ä¸ºæ ‡é‡å­æŸ¥è¯¢ã€‚</p><p>å¸¸ç”¨çš„æ“ä½œç¬¦ï¼š &#x3D; &lt;&gt; &gt; &gt;&#x3D; &lt; &lt;&#x3D;</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.æŸ¥è¯¢Smithæ‰€åœ¨éƒ¨é—¨id</span></span><br><span class="line"><span class="keyword">select</span> dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> last_name<span class="operator">=</span><span class="string">&#x27;Smith&#x27;</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š<span class="number">41</span></span><br><span class="line"><span class="comment">-- 2.æŸ¥è¯¢Smithæ‰€åœ¨éƒ¨é—¨çš„æœ€é«˜å·¥èµ„</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">max</span>(salary)</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> dept_id<span class="operator">=</span><span class="number">41</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š<span class="number">1450.00</span></span><br><span class="line"><span class="comment">-- 3.æŸ¥è¯¢æ¯”Smithæ‰€åœ¨éƒ¨é—¨æœ€é«˜å·¥èµ„é«˜çš„å‘˜å·¥çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">select</span> id,last_name,salary</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> salary <span class="operator">&gt;</span><span class="number">1450</span>;</span><br><span class="line"><span class="comment">-- åˆå¹¶ä»¥ä¸Šä¸‰æ¡SQLè¯­å¥</span></span><br><span class="line"><span class="keyword">select</span> id,last_name,salary</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> salary <span class="operator">&gt;</span> (</span><br><span class="line">    <span class="keyword">select</span> <span class="built_in">max</span>(salary)</span><br><span class="line">    <span class="keyword">from</span> s_emp</span><br><span class="line">    <span class="keyword">where</span> dept_id<span class="operator">=</span>(</span><br><span class="line">        <span class="keyword">select</span> dept_id</span><br><span class="line">        <span class="keyword">from</span> s_emp</span><br><span class="line">        <span class="keyword">where</span> last_name<span class="operator">=</span><span class="string">&#x27;Smith&#x27;</span></span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="åˆ—å­æŸ¥è¯¢"><a href="#åˆ—å­æŸ¥è¯¢" class="headerlink" title="åˆ—å­æŸ¥è¯¢"></a>åˆ—å­æŸ¥è¯¢</h2><p>å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯**ä¸€åˆ—(å¯ä»¥æ˜¯å¤šè¡Œ)**ï¼Œè¿™ç§å­æŸ¥è¯¢ç§°ä¸ºåˆ—å­æŸ¥è¯¢ã€‚</p><p>å¸¸ç”¨çš„æ“ä½œç¬¦ï¼š</p><p><img src="/2023/08/31/02-select%E6%9F%A5%E8%AF%A2/image-20230907194422545.png" alt="image-20230907194422545"></p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.æŸ¥è¯¢41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary)</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> dept_id<span class="operator">=</span><span class="number">41</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š<span class="number">1247.5</span></span><br><span class="line"><span class="comment">-- 2.æŸ¥è¯¢å¹³å‡å·¥èµ„æ¯”41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„é«˜çš„éƒ¨é—¨ç¼–å·</span></span><br><span class="line"><span class="keyword">select</span> dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">avg</span>(salary)<span class="operator">&gt;</span><span class="number">1247.5</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š <span class="number">31</span> <span class="number">32</span> <span class="number">35</span> <span class="number">50</span> <span class="number">33</span> <span class="number">10</span></span><br><span class="line"><span class="comment">-- 3.æŸ¥è¯¢å¹³å‡å·¥èµ„æ¯” 41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„ é«˜ çš„éƒ¨é—¨ä¸­å‘˜å·¥çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">select</span> last_name,salary,dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> dept_id <span class="keyword">in</span>(<span class="number">10</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">50</span>);</span><br><span class="line"><span class="comment">-- åˆå¹¶ä»¥ä¸Šä¸‰æ¡SQLè¯­å¥</span></span><br><span class="line"><span class="keyword">select</span> last_name,salary,dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> dept_id <span class="keyword">in</span>(</span><br><span class="line">    <span class="keyword">select</span> dept_id</span><br><span class="line">    <span class="keyword">from</span> s_emp</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line">    <span class="keyword">having</span> <span class="built_in">avg</span>(salary)<span class="operator">&gt;</span>(</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">avg</span>(salary)</span><br><span class="line">        <span class="keyword">from</span> s_emp</span><br><span class="line">        <span class="keyword">where</span> dept_id<span class="operator">=</span><span class="number">41</span></span><br><span class="line">    )</span><br><span class="line">);</span><br></pre></td></tr></table></figure><h2 id="è¡Œå­æŸ¥è¯¢"><a href="#è¡Œå­æŸ¥è¯¢" class="headerlink" title="è¡Œå­æŸ¥è¯¢"></a>è¡Œå­æŸ¥è¯¢</h2><p>å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯**ä¸€è¡Œ(å¯ä»¥æ˜¯å¤šåˆ—)**ï¼Œè¿™ç§å­æŸ¥è¯¢ç§°ä¸ºè¡Œå­æŸ¥è¯¢ã€‚ </p><p>å¸¸ç”¨çš„æ“ä½œç¬¦ï¼š&#x3D; ã€&lt;&gt; ã€IN ã€NOT IN</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- æŸ¥è¯¢&quot;Ngao&quot;çš„å…¥èŒæ—¥æœŸ åŠ èŒä½</span></span><br><span class="line"><span class="keyword">select</span> start_date,dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> last_name <span class="operator">=</span> <span class="string">&#x27;Ngao&#x27;</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š<span class="number">1990</span><span class="number">-03</span><span class="number">-08</span> <span class="number">41</span></span><br><span class="line"><span class="comment">-- æŸ¥è¯¢ä¸&quot;Ngao&quot;çš„å…¥èŒæ—¥æœŸåŠèŒä½ç›¸åŒçš„å‘˜å·¥ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">select</span> last_name,id,salary,dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> (start_date,dept_id) <span class="operator">=</span> (<span class="string">&#x27;1990-03-08&#x27;</span>,<span class="number">41</span>);</span><br><span class="line"><span class="comment">-- åˆå¹¶ä»¥ä¸Šä¸¤æ¡SQLè¯­å¥</span></span><br><span class="line"><span class="keyword">select</span> last_name,id,salary,dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> (start_date,dept_id) <span class="operator">=</span> (</span><br><span class="line">    <span class="keyword">select</span> start_date,dept_id</span><br><span class="line">    <span class="keyword">from</span> s_emp</span><br><span class="line">    <span class="keyword">where</span> last_name <span class="operator">=</span> <span class="string">&#x27;Ngao&#x27;</span>);</span><br></pre></td></tr></table></figure><h2 id="è¡¨å­æŸ¥è¯¢"><a href="#è¡¨å­æŸ¥è¯¢" class="headerlink" title="è¡¨å­æŸ¥è¯¢"></a>è¡¨å­æŸ¥è¯¢</h2><p>å­æŸ¥è¯¢è¿”å›çš„ç»“æœæ˜¯<strong>å¤šè¡Œå¤šåˆ—</strong>ï¼Œå¯å°†å…¶ä½œä¸ºä¸´æ—¶è¡¨ï¼Œè¿›ä¸€æ­¥è¿›è¡ŒæŸ¥è¯¢ï¼Œè¿™ç§å­æŸ¥ è¯¢ç§°ä¸ºè¡¨å­æŸ¥è¯¢ã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">-- 1.æŸ¥è¯¢41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„</span></span><br><span class="line"><span class="keyword">select</span> <span class="built_in">avg</span>(salary)</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">where</span> dept_id<span class="operator">=</span><span class="number">41</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š<span class="number">1247.5</span></span><br><span class="line"><span class="comment">-- 2.æŸ¥è¯¢å¹³å‡å·¥èµ„æ¯” 41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„ é«˜ çš„éƒ¨é—¨id</span></span><br><span class="line"><span class="keyword">select</span> dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line"><span class="keyword">having</span> <span class="built_in">avg</span>(salary) <span class="operator">&gt;</span> <span class="number">1247.5</span>;</span><br><span class="line">#æŸ¥è¯¢ç»“æœï¼š<span class="number">10</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">50</span></span><br><span class="line"><span class="comment">-- 3.æŸ¥è¯¢å¹³å‡å·¥èµ„æ¯” 41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„ é«˜ çš„éƒ¨é—¨ä¸­å‘˜å·¥çš„ä¿¡æ¯</span></span><br><span class="line"><span class="keyword">select</span> se.last_name,se.dept_id</span><br><span class="line"><span class="keyword">from</span> s_emp se</span><br><span class="line"><span class="keyword">where</span> se.dept_id <span class="keyword">in</span> (<span class="number">10</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">50</span>);</span><br><span class="line"><span class="comment">-- 4.å‡†å¤‡éƒ¨é—¨å¹³å‡å·¥èµ„è¡¨</span></span><br><span class="line"><span class="keyword">select</span> dept_id,<span class="built_in">avg</span>(salary) avgs</span><br><span class="line"><span class="keyword">from</span> s_emp</span><br><span class="line"><span class="keyword">group</span> <span class="keyword">by</span> dept_id;</span><br><span class="line"><span class="comment">-- 5.æŸ¥è¯¢å¹³å‡å·¥èµ„æ¯” 41å·éƒ¨é—¨çš„å¹³å‡å·¥èµ„ é«˜ çš„éƒ¨é—¨ä¸­å‘˜å·¥çš„ä¿¡æ¯ï¼Œå¹¶ä¸”æ˜¾ç¤º</span></span><br><span class="line">å‡ºå½“å‰éƒ¨é—¨çš„å¹³å‡å·¥èµ„</span><br><span class="line"><span class="keyword">select</span> se.last_name,se.dept_id,sa.avgs</span><br><span class="line"><span class="keyword">from</span> s_emp se,(</span><br><span class="line">    <span class="keyword">select</span> dept_id,<span class="built_in">avg</span>(salary) avgs</span><br><span class="line">    <span class="keyword">from</span> s_emp</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line">) sa</span><br><span class="line"><span class="keyword">where</span> se.dept_id <span class="keyword">in</span> (<span class="number">10</span>,<span class="number">31</span>,<span class="number">32</span>,<span class="number">33</span>,<span class="number">35</span>,<span class="number">50</span>)</span><br><span class="line"><span class="keyword">and</span> sa.dept_id <span class="operator">=</span> se.dept_id;</span><br><span class="line"><span class="comment">-- åˆå¹¶ä»¥ä¸Šäº”æ¡SQLè¯­å¥</span></span><br><span class="line"><span class="keyword">select</span> se.last_name,se.dept_id,sa.avgs</span><br><span class="line"><span class="keyword">from</span> s_emp se,(</span><br><span class="line">    <span class="keyword">select</span> dept_id,<span class="built_in">avg</span>(salary) avgs</span><br><span class="line">    <span class="keyword">from</span> s_emp</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line">) sa</span><br><span class="line"><span class="keyword">where</span> se.dept_id <span class="keyword">in</span> (</span><br><span class="line">    <span class="keyword">select</span> dept_id</span><br><span class="line">    <span class="keyword">from</span> s_emp</span><br><span class="line">    <span class="keyword">group</span> <span class="keyword">by</span> dept_id</span><br><span class="line">    <span class="keyword">having</span> <span class="built_in">avg</span>(salary) <span class="operator">&gt;</span> (</span><br><span class="line">        <span class="keyword">select</span> <span class="built_in">avg</span>(salary)</span><br><span class="line">        <span class="keyword">from</span> s_emp</span><br><span class="line">        <span class="keyword">where</span> dept_id<span class="operator">=</span><span class="number">41</span></span><br><span class="line">    )</span><br><span class="line">)</span><br><span class="line"><span class="keyword">and</span> sa.dept_id <span class="operator">=</span> se.dept_id;</span><br></pre></td></tr></table></figure><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>çº¸ä¸Šå¾—æ¥ç»ˆè§‰æµ…ï¼Œç»çŸ¥æ­¤äº‹è¦èº¬è¡Œã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01-mysqlæ¦‚è¿°å®‰è£…é…ç½®</title>
      <link href="/2023/08/31/01-mysql%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/"/>
      <url>/2023/08/31/01-mysql%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šMysqlæ•°æ®åº“çš„ä½¿ç”¨åŠæ•°æ®åº“åˆ†æåŠè®¾è®¡å®è·µ</p></blockquote><h1 id="æ•°æ®åº“æ¦‚è¿°"><a href="#æ•°æ®åº“æ¦‚è¿°" class="headerlink" title="æ•°æ®åº“æ¦‚è¿°"></a>æ•°æ®åº“æ¦‚è¿°</h1><blockquote><p>è‡ªå·±ä¸Šç½‘æœå“ˆ~~</p></blockquote><p>2023å¹´<a href="https://db-engines.com/en/ranking">DB-Engines Ranking</a>å¯¹å„æ•°æ®åº“å—æ¬¢è¿ç¨‹åº¦è¿›è¡Œè°ƒæŸ¥åçš„ç»Ÿè®¡ç»“æœï¼›</p><p><img src="/2023/08/31/01-mysql%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/image-20230831195233286.png" alt="image-20230831195233286"></p><h2 id="æ•°æ®åº“æœ¯è¯­"><a href="#æ•°æ®åº“æœ¯è¯­" class="headerlink" title="æ•°æ®åº“æœ¯è¯­"></a>æ•°æ®åº“æœ¯è¯­</h2><p><img src="/2023/08/31/01-mysql%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/image-20230905161012003.png" alt="image-20230905161012003"></p><p><img src="/2023/08/31/01-mysql%E6%A6%82%E8%BF%B0%E5%AE%89%E8%A3%85%E9%85%8D%E7%BD%AE/image-20230905161055412.png" alt="image-20230905161055412"></p><h1 id="MySQLä½¿ç”¨"><a href="#MySQLä½¿ç”¨" class="headerlink" title="MySQLä½¿ç”¨"></a>MySQLä½¿ç”¨</h1><h2 id="ç™»å½•æ•°æ®åº“"><a href="#ç™»å½•æ•°æ®åº“" class="headerlink" title="ç™»å½•æ•°æ®åº“"></a>ç™»å½•æ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">mysql <span class="operator">-</span>h<span class="string">&#x27;HOST_NAME&#x27;</span> <span class="operator">-</span>P<span class="string">&#x27;PORT&#x27;</span> <span class="operator">-</span>u<span class="string">&#x27;USERNAME&#x27;</span> <span class="operator">-</span>p<span class="string">&#x27;PASSWORD&#x27;</span></span><br><span class="line">mysql <span class="operator">-</span>hlocalhost <span class="operator">-</span>P3306 <span class="operator">-</span>uroot <span class="operator">-</span>proot</span><br><span class="line">mysql <span class="operator">-</span>hlocalhost <span class="operator">-</span>P3306 <span class="operator">-</span>uroot <span class="operator">-</span>p  # å¯†ç åœ¨ä¸‹ä¸€è¡Œè¾“å…¥</span><br><span class="line">mysql <span class="operator">-</span>uroot <span class="operator">-</span>p # ç®€å†™ æœ¬åœ°localhostå’Œ<span class="number">3306</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>-pä¸å¯†ç ä¹‹é—´ä¸èƒ½æœ‰ç©ºæ ¼ï¼Œå…¶ä»–å‚æ•°åä¸å‚æ•°å€¼ä¹‹é—´å¯ä»¥æœ‰ç©ºæ ¼ä¹Ÿå¯ä»¥æ²¡æœ‰ç©ºæ ¼ã€‚</li><li>å¯†ç å»ºè®®åœ¨ä¸‹ä¸€è¡Œè¾“å…¥ï¼Œä¿è¯å®‰å…¨</li></ul><h2 id="é€€å‡ºç™»å½•"><a href="#é€€å‡ºç™»å½•" class="headerlink" title="é€€å‡ºç™»å½•"></a>é€€å‡ºç™»å½•</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">exit</span><br><span class="line">quit</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºæ•°æ®åº“"><a href="#åˆ›å»ºæ•°æ®åº“" class="headerlink" title="åˆ›å»ºæ•°æ®åº“"></a>åˆ›å»ºæ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">create</span> database database_name [<span class="type">character</span> <span class="keyword">set</span> utf8];</span><br><span class="line"><span class="keyword">create</span> database briup <span class="type">character</span> <span class="keyword">set</span> utf8;</span><br><span class="line"><span class="keyword">create</span> database briup charset<span class="operator">=</span>utf8;</span><br></pre></td></tr></table></figure><h2 id="åˆ—å‡ºæ•°æ®åº“"><a href="#åˆ—å‡ºæ•°æ®åº“" class="headerlink" title="åˆ—å‡ºæ•°æ®åº“"></a>åˆ—å‡ºæ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> databases;</span><br></pre></td></tr></table></figure><h2 id="é€‰æ‹©æ•°æ®åº“"><a href="#é€‰æ‹©æ•°æ®åº“" class="headerlink" title="é€‰æ‹©æ•°æ®åº“"></a>é€‰æ‹©æ•°æ®åº“</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">use database_name;</span><br><span class="line">use briup;</span><br><span class="line"></span><br><span class="line">source filepath</span><br><span class="line">source <span class="operator">~</span><span class="operator">/</span>briup.sql # linux å¯ä»¥ç›´æ¥å°†æ–‡ä»¶æ‹–å…¥è¿›å»ï¼ŒWindowsæ³¨æ„è¦æ‹–Cç›˜çš„</span><br></pre></td></tr></table></figure><h2 id="åˆ—å‡ºåº“ä¸­è¡¨"><a href="#åˆ—å‡ºåº“ä¸­è¡¨" class="headerlink" title="åˆ—å‡ºåº“ä¸­è¡¨"></a>åˆ—å‡ºåº“ä¸­è¡¨</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> tables;</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹è¡¨ç»“æ„"><a href="#æŸ¥çœ‹è¡¨ç»“æ„" class="headerlink" title="æŸ¥çœ‹è¡¨ç»“æ„"></a>æŸ¥çœ‹è¡¨ç»“æ„</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">desc</span> table_name;</span><br><span class="line"><span class="keyword">desc</span> s_dept;</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> columns <span class="keyword">from</span> table_name;</span><br><span class="line"><span class="keyword">show</span> columns <span class="keyword">from</span> s_region;</span><br></pre></td></tr></table></figure><h2 id="åˆ›å»ºç”¨æˆ·"><a href="#åˆ›å»ºç”¨æˆ·" class="headerlink" title="åˆ›å»ºç”¨æˆ·"></a>åˆ›å»ºç”¨æˆ·</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">CREATE</span> <span class="keyword">USER</span> <span class="string">&#x27;user_name&#x27;</span>@<span class="string">&#x27;host_name&#x27;</span> IDENTIFIED <span class="keyword">BY</span> [PASSWORD] <span class="string">&#x27;password_value&#x27;</span></span><br><span class="line"><span class="keyword">create</span> <span class="keyword">user</span> <span class="string">&#x27;lwsj&#x27;</span>@<span class="string">&#x27;%&#x27;</span> IDENTIFIED <span class="keyword">by</span> <span class="string">&#x27;lwsj&#x27;</span>;</span><br></pre></td></tr></table></figure><p>è‹¥åˆ›å»ºè¿‡ç¨‹ä¸­ï¼Œåªç»™å‡ºç”¨æˆ·åï¼Œè€Œæ²¡æŒ‡å®šä¸»æœºåï¼Œåˆ™ä¸»æœºåé»˜è®¤ä¸ºâ€œ%â€ï¼Œè¡¨ç¤º ä¸€ ç»„ä¸»æœºã€‚</p><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">select</span> <span class="keyword">user</span> <span class="keyword">from</span> mysql.user; # æŸ¥çœ‹æ‰€æœ‰ç”¨æˆ·å</span><br><span class="line"><span class="keyword">select</span> <span class="keyword">user</span>(); # æŸ¥çœ‹å½“å‰ç™»å½•çš„ç”¨æˆ·</span><br></pre></td></tr></table></figure><h2 id="æŸ¥çœ‹æƒé™"><a href="#æŸ¥çœ‹æƒé™" class="headerlink" title="æŸ¥çœ‹æƒé™"></a>æŸ¥çœ‹æƒé™</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">show</span> grants; # æŸ¥çœ‹ç™»å½•çš„å½“å‰ç”¨æˆ·çš„æƒé™</span><br><span class="line"></span><br><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> <span class="string">&#x27;user_name&#x27;</span> # æŸ¥çœ‹æŒ‡å®šç”¨æˆ·çš„æƒé™</span><br><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> <span class="string">&#x27;briup&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="ç”¨æˆ·æˆæƒ"><a href="#ç”¨æˆ·æˆæƒ" class="headerlink" title="ç”¨æˆ·æˆæƒ"></a>ç”¨æˆ·æˆæƒ</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">GRANT</span> privileges <span class="keyword">ON</span> database_name.table_name <span class="keyword">TO</span> <span class="string">&#x27;user_name&#x27;</span>@<span class="string">&#x27;host_name&#x27;</span></span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">SELECT</span>,<span class="keyword">INSERT</span> <span class="keyword">ON</span> briup.<span class="operator">*</span> <span class="keyword">TO</span> <span class="string">&#x27;briup&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">GRANT</span> <span class="keyword">all</span> <span class="keyword">on</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">to</span> <span class="string">&#x27;briup&#x27;</span>@<span class="string">&#x27;%&#x27;</span>; # ç»™å…¨éƒ¨æƒé™</span><br></pre></td></tr></table></figure><h2 id="æ’¤é”€æƒé™"><a href="#æ’¤é”€æƒé™" class="headerlink" title="æ’¤é”€æƒé™"></a>æ’¤é”€æƒé™</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> database_name.table_name <span class="keyword">FROM</span> <span class="string">&#x27;user_name&#x27;</span>@<span class="string">&#x27;host_name&#x27;</span>; # åªèƒ½æ˜¯å…¨éƒ¨æ’¤é”€</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> briup.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="string">&#x27;briup&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line"><span class="keyword">REVOKE</span> <span class="keyword">ALL</span> PRIVILEGES <span class="keyword">ON</span> <span class="operator">*</span>.<span class="operator">*</span> <span class="keyword">FROM</span> <span class="string">&#x27;briup&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">#æŸ¥çœ‹briupç”¨æˆ·æƒé™</span><br><span class="line"><span class="keyword">show</span> grants <span class="keyword">for</span> <span class="string">&#x27;briup&#x27;</span>;</span><br></pre></td></tr></table></figure><h2 id="åˆ é™¤ç”¨æˆ·"><a href="#åˆ é™¤ç”¨æˆ·" class="headerlink" title="åˆ é™¤ç”¨æˆ·"></a>åˆ é™¤ç”¨æˆ·</h2><figure class="highlight sql"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">DROP</span> <span class="keyword">USER</span> <span class="keyword">user</span>;</span><br><span class="line"></span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> <span class="string">&#x27;briup&#x27;</span>@<span class="string">&#x27;%&#x27;</span>;</span><br><span class="line">#å¯ç®€å†™ä¸º</span><br><span class="line"><span class="keyword">drop</span> <span class="keyword">user</span> briup;</span><br></pre></td></tr></table></figure><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>å°‘å¹´è¾›è‹¦ç»ˆèº«äº‹ï¼Œè«å‘å…‰é˜´æƒ°å¯¸åŠŸğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>expand-02-jdk8æ–°ç‰¹æ€§</title>
      <link href="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/"/>
      <url>/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJVMã€JDKæ–°ç‰¹æ€§ã€JDKæºç ã€é«˜å¹¶å‘ã€MySqlä¼˜åŒ–</p></blockquote><blockquote><p>æœ¬ç« ç›®æ ‡ï¼šå‡½æ•°å¼æ¥å£ã€Lambdaè¡¨è¾¾å¼ã€æ–¹æ³•å¼•ç”¨ã€Optionalã€Stream</p></blockquote><h1 id="æ¥å£æ–¹æ³•"><a href="#æ¥å£æ–¹æ³•" class="headerlink" title="æ¥å£æ–¹æ³•"></a>æ¥å£æ–¹æ³•</h1><ul><li>æ•´å‹å¸¸é‡æ•°æ®å¯ä»¥ç”¨ä¸‹åˆ’çº¿åˆ†éš”è¡¨ç¤ºï¼Œåœ¨æ•´æ•°çš„å€¼æ¯”è¾ƒå¤§çš„æ—¶å€™ï¼Œ ä½¿æ•°å€¼æ›´åŠ ç›´è§‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test01_NumberUnderlineTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">long</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1000_000_000L</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">0b00000000_00000000_00000000_00000111</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">1234_5678_9</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">d</span> <span class="operator">=</span> <span class="number">123_456_789</span>;</span><br><span class="line">        System.out.println(<span class="string">&quot;a = &quot;</span> + a); <span class="comment">// a = 1000000000</span></span><br><span class="line">        System.out.println(<span class="string">&quot;b = &quot;</span> + b); <span class="comment">// b = 7</span></span><br><span class="line">        System.out.println(<span class="string">&quot;c = &quot;</span> + c); <span class="comment">// c = 123456789</span></span><br><span class="line">        System.out.println(<span class="string">&quot;d = &quot;</span> + d); <span class="comment">// d = 123456789</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é»˜è®¤æ–¹æ³•"><a href="#é»˜è®¤æ–¹æ³•" class="headerlink" title="é»˜è®¤æ–¹æ³•"></a>é»˜è®¤æ–¹æ³•</h2><p>JDK1.8ä¸­ï¼Œæ¥å£é‡Œé¢å¯ä»¥å®šä¹‰é»˜è®¤æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">InterfaceName</span>&#123;</span><br><span class="line">    <span class="keyword">default</span> returnType <span class="title function_">methodName</span><span class="params">(arg-list)</span>&#123;</span><br><span class="line">        <span class="comment">//ä»£ç å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">FirstInterface</span>&#123;</span><br><span class="line">    <span class="comment">//ä¼ ç»Ÿå®šä¹‰,æŠ½è±¡æ–¹æ³•ï¼Œæ²¡æœ‰æ–¹æ³•ä½“ã€‚</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">//é»˜è®¤æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Default method in FirstInterface&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FirstClass</span> <span class="keyword">implements</span> <span class="title class_">FirstInterface</span>&#123;</span><br><span class="line">    <span class="comment">//æ‰€æœ‰å®ç°ç±»å¿…é¡»å®ç°æ¥å£ä¸­æœªå®ç°çš„æ–¹æ³•ã€‚</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">before</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯FirstInterfaceä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œæ‰€æœ‰å®ç°ç±»å¿…é¡»å®ç°ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">DefaultMethod</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">FirstClass</span> <span class="variable">fc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FirstClass</span>();</span><br><span class="line">        fc.test(); <span class="comment">//æ­¤å¤„è¾“å‡ºDefault method in FirstInterface,å¯¹äºé»˜è®¤æ–¹æ³•ï¼Œå¦‚æœå®ç°ç±»ä¸­æ²¡æœ‰å®ç°å°±æ˜¯ç”¨é»˜è®¤çš„ã€‚</span></span><br><span class="line">        fc.before(); <span class="comment">//æ­¤å¤„è¾“å‡ºæˆ‘æ˜¯FirstInterfaceä¸­çš„æŠ½è±¡æ–¹æ³•ï¼Œæ‰€æœ‰å®ç°ç±»å¿…é¡»å®ç°ã€‚</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æ–¹æ³•å­˜åœ¨çš„ä¸¤å¤§ä¼˜åŠ¿ï¼š</p><ul><li>å¯ä»¥è®©æ¥å£æ›´ä¼˜é›…çš„å‡çº§ï¼Œå‡å°‘ä½¿ç”¨äººå‘˜æ“ä½œçš„è´Ÿæ‹… </li><li>å¯ä»¥è®©å®ç°ç±»ä¸­çœç•¥å¾ˆå¤šä¸å¿…è¦æ–¹æ³•çš„ç©ºå®ç°</li></ul><p>ï¼ˆä¸å¿…éšç€æ¥å£æ–¹æ³•å¢åŠ ï¼Œä»è€Œä¿®æ”¹å®ç°ä»£ç ï¼Œå› ä¸ºé»˜è®¤æ–¹æ³•åœ¨å­—äº†ä¸­å¯ä»¥ä¸ç”¨å®ç°ï¼‰</p><p><strong>æ¥å£ç»§æ‰¿åŠé»˜è®¤æ–¹æ³•å†²çª</strong></p><p>æ–¹æ³•è°ƒç”¨çš„åˆ¤æ–­è§„åˆ™ï¼š</p><ul><li>ç±»ä¸­å£°æ˜çš„æ–¹æ³•ä¼˜å…ˆçº§æœ€é«˜<ul><li>ç±»ä¸­ï¼Œå£°æ˜çš„æ–¹æ³•è¦é«˜äºä»»ä½•é»˜è®¤æ–¹æ³•çš„ä¼˜å…ˆçº§</li></ul></li><li>å¦‚æœæ— æ³•ä¾æ®ç¬¬ä¸€æ¡è¿›è¡Œåˆ¤æ–­ï¼Œé‚£ä¹ˆå­æ¥å£çš„ä¼˜å…ˆçº§æ›´é«˜</li><li>æœ€åï¼Œå¦‚æœè¿˜æ˜¯æ— æ³•åˆ¤æ–­ï¼Œé‚£ä¹ˆç»§æ‰¿äº†å¤šä¸ªæ¥å£çš„ç±»ï¼Œå¿…é¡»é€šè¿‡å®ç°ï¼ˆ<strong>é‡å†™</strong>ï¼‰æ–¹æ³•æ¥ç¡®å®šæ–¹æ³•çš„è°ƒç”¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€æ¡è§„åˆ™</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Default Method test in A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;default method test in B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">extends</span> <span class="title class_">A</span> <span class="keyword">implements</span> <span class="title class_">B</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">C</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">C</span>();</span><br><span class="line">        c.test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿è¡Œç»“æœï¼šdefault method test in A</span></span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸ºAæ˜¯ç±»ï¼ŒBæ˜¯æ¥å£ï¼ŒAé‡Œè¾¹çš„testçš„ä¼˜å…ˆçº§æ›´é«˜</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬äºŒæ¡</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Default Method test in A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> <span class="keyword">extends</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;default method test in B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">implements</span> <span class="title class_">A</span>,B&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">C</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">C</span>();</span><br><span class="line">        c.test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// default method test in B</span></span><br></pre></td></tr></table></figure><blockquote><p>å› ä¸ºBé‡å†™äº†Aä¸­çš„é»˜è®¤æ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">A</span>&#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Default Method test in A&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">B</span> &#123;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;default method test in B&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¦‚ä¸‹ä»£ç ç¼–è¯‘ä¼šæŠ¥é”™ã€‚</span></span><br><span class="line"><span class="comment">/*class C implements A,B&#123;</span></span><br><span class="line"><span class="comment">    public static void main(String[] args)&#123;</span></span><br><span class="line"><span class="comment">        C c = new C();</span></span><br><span class="line"><span class="comment">        c.test();</span></span><br><span class="line"><span class="comment">    &#125;</span></span><br><span class="line"><span class="comment">&#125;*/</span></span><br><span class="line"><span class="comment">//å¦‚æœCéœ€è¦åŒæ—¶å®ç°Aå’ŒBæ¥å£ï¼Œé‚£ä¹ˆå¿…é¡»æ˜¾ç¤ºè¦†ç›–</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">C</span> <span class="keyword">implements</span> <span class="title class_">A</span>,B&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        <span class="comment">//å¦‚æœåœ¨Cä¸­éœ€è¦æ˜¾ç¤ºè®¿é—®A/Bçš„é»˜è®¤æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨æ¥å£</span></span><br><span class="line">        å.<span class="built_in">super</span>.æ–¹æ³•å();</span><br><span class="line">        A.<span class="built_in">super</span>.test();</span><br><span class="line">        B.<span class="built_in">super</span>.test();</span><br><span class="line">        <span class="comment">//æˆ–è€…è‡ªå·±ç¼–å†™testæ–¹æ³•çš„å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h2><p>JDK1.8ä¸­ï¼Œæ¥å£é‡Œé¢å¯ä»¥å®šä¹‰é™æ€æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">InterfaceName</span>&#123;</span><br><span class="line">    <span class="keyword">static</span> returnType <span class="title function_">methodName</span><span class="params">(arg-list)</span>&#123;</span><br><span class="line">        <span class="comment">//ä»£ç å®ç°</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è®¿é—®</span></span><br><span class="line">InterfaceName.methodName();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">StaticMethod</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯StaticMethodæ¥å£ä¸­çš„é™æ€æ–¹æ³•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">A</span> <span class="keyword">implements</span> <span class="title class_">StaticMethod</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String args[])</span>&#123;</span><br><span class="line">        <span class="comment">//è¿è¡ŒæˆåŠŸ</span></span><br><span class="line">        StaticMethod.test();</span><br><span class="line">        <span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼š</span></span><br><span class="line">        <span class="comment">//Static method may be invoked on containing interface class only</span></span><br><span class="line">        <span class="comment">//A.test();</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œæ¥å£ä¸­çš„é™æ€æ–¹æ³•ï¼Œåªèƒ½ä½¿ç”¨å½“å‰æ¥å£çš„åå­—æ¥è°ƒç”¨</p></blockquote><h1 id="Lambda"><a href="#Lambda" class="headerlink" title="Lambda"></a>Lambda</h1><p>Lambdaè¡¨è¾¾å¼æ˜¯JDK1.8æ–°å¢çš„ä¸€ç§è¯­æ³•ï¼Œä»¥ç¡®ä¿åœ¨javaä»£ç ä¸­å¯ä»¥æ”¯æŒå‡½ æ•°å¼ç¼–ç¨‹ï¼Œè®©ä»£ç çš„è¡¨ç¤ºå«ä¹‰æ›´ç®€å•ã€‚ </p><p>ç†è§£lambdaè¡¨è¾¾å¼ä¹‹å‰ï¼Œéœ€è¦å…ˆç†è§£è¡Œä¸ºå‚æ•°åŒ–å’Œå‡½æ•°å¼ç¼–ç¨‹çš„æ¦‚å¿µã€‚</p><h2 id="è¡Œä¸ºå‚æ•°åŒ–"><a href="#è¡Œä¸ºå‚æ•°åŒ–" class="headerlink" title="è¡Œä¸ºå‚æ•°åŒ–"></a>è¡Œä¸ºå‚æ•°åŒ–</h2><p>åœ¨javaä»£ç ä¸­ï¼Œæˆ‘ä»¬å¦‚æœéœ€è¦è¿ç®—ï¼Œé‚£ä¹ˆå¤§éƒ¨åˆ†æˆ‘ä»¬çš„è¿‡ç¨‹æ˜¯ç¡®å®šçš„ï¼Œä½†æ˜¯å®é™…å‚ä¸è¿ç®—çš„æ•°å´ä¸ç¡®å®šã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b, æ­¤å¤„ä¼ é€’ä¸€ä¸ªè®¡ç®—è¡Œä¸º)</span></span><br><span class="line">&#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> a;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> a+<span class="number">1</span>;i&lt;=b;i++)&#123;</span><br><span class="line">        è°ƒç”¨è®¡ç®—è¡Œä¸º,æ“ä½œå½“å‰æ•°æ®</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬å¯ä»¥å°†è¿™ä¸ª <strong>è®¡ç®—è¡Œä¸º</strong>ï¼Œç”¨æ¥å£çš„å½¢å¼è¿›è¡Œå®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">action</span><span class="params">(<span class="type">int</span> result, <span class="type">int</span> i)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™æ—¶å€™ï¼Œ calculate æ–¹æ³•å°±å¯ä»¥è¿™æ ·è¿›è¡Œå®šä¹‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, Action cal)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> a;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> a+<span class="number">1</span>; i&lt;=b; i++) &#123;</span><br><span class="line">        result = cal.action(result, i);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> result;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“çš„ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰ç´¯åŠ çš„æ ¸å¿ƒæ“ä½œè¡Œä¸º</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Add</span> <span class="keyword">implements</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">action</span><span class="params">(<span class="type">int</span> result,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> result+i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰ç´¯ä¹˜çš„æ ¸å¿ƒæ“ä½œè¡Œä¸º</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Multiply</span> <span class="keyword">implements</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">action</span><span class="params">(<span class="type">int</span> result,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> result*i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æµ‹è¯•æ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        result = calculate(<span class="number">3</span>,<span class="number">5</span>,<span class="keyword">new</span> <span class="title class_">Add</span>());</span><br><span class="line">        <span class="comment">//[3,5]ä¹‹é—´ï¼Œç´¯åŠ çš„ç»“æœ</span></span><br><span class="line">        System.out.println(result);</span><br><span class="line">        result = calculate(<span class="number">3</span>,<span class="number">5</span>,<span class="keyword">new</span> <span class="title class_">Multiply</span>());</span><br><span class="line">        <span class="comment">//[3,5]ä¹‹é—´ï¼Œç´¯ä¹˜çš„ç»“æœ</span></span><br><span class="line">        System.out.println(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸Šè¿°ä»£ç ä¸­ï¼Œå°†æˆ‘ä»¬è¦æ‰§è¡Œçš„æ ¸å¿ƒè®¡ç®—æ“ä½œï¼Œå®šä¹‰æˆä¸€ä¸ªå‚æ•°ï¼Œä¼ ç»™äº†calculateæ–¹æ³•</p><p><strong>æˆ‘ä»¬å¯ä»¥é€šè¿‡è¿™ä¸ªå‚æ•°ï¼Œç»™æ–¹æ³•ä¼ é€’ä¸åŒçš„è¡Œä¸ºï¼Œæ¥å®ç°ä¸åŒæ“ä½œï¼Œè¿™å°±æ˜¯è¡Œä¸ºå‚æ•°åŒ–</strong></p><p>javaä¸­ï¼Œä¸å…è®¸å­¤ç«‹çš„ä»£ç å­˜åœ¨ï¼Œæˆ‘ä»¬è¦æƒ³å°†è¡Œä¸ºï¼ˆæ ¸å¿ƒæ“ä½œä»£ç ï¼‰ä¼ é€’ç»™ calculate æ–¹æ³•ï¼Œå°±å¿…é¡»è¦å°†è¿™äº›æ ¸å¿ƒæ“ä½œä»£ç ï¼ŒåŒ…è£…åœ¨ä¸€ä¸ªå®ç°äº† Actionçš„ç±»ä¸­ã€‚</p><p>ä¸ºäº†å‡å°‘å£°æ˜å’Œå®šä¹‰ç±»ï¼ŒJavaæä¾›äº†<strong>åŒ¿åå†…éƒ¨ç±»</strong>çš„å®ç°ï¼Œæ¥ç®€åŒ–æˆ‘ä»¬åˆšæ‰çš„è°ƒç”¨è¿‡ç¨‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Test</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        result = calculate(<span class="number">3</span>,<span class="number">5</span>,<span class="keyword">new</span> <span class="title class_">Action</span>()&#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">action</span><span class="params">(<span class="type">int</span> result,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> result+next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//[3,5]ä¹‹é—´ï¼Œç´¯åŠ çš„ç»“æœ</span></span><br><span class="line">        System.out.println(result);</span><br><span class="line">        result = calculate(<span class="number">3</span>,<span class="number">5</span>,<span class="keyword">new</span> <span class="title class_">Action</span>()&#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">action</span><span class="params">(<span class="type">int</span> result,<span class="type">int</span> i)</span>&#123;</span><br><span class="line">                <span class="keyword">return</span> result*next;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        <span class="comment">//[3,5]ä¹‹é—´ï¼Œç´¯ä¹˜çš„ç»“æœ</span></span><br><span class="line">        System.out.println(result)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½†æ˜¯ä»ç„¶å­˜åœ¨ç›¸åŒçš„ä»£ç ï¼š</p><ul><li>new Action()</li><li>public int action(int result,int next){}</li></ul><p>æˆ‘ä»¬çœŸæ­£å…³å¿ƒçš„æ˜¯ï¼š</p><ul><li>æ–¹æ³•çš„å‚æ•°åˆ—è¡¨</li><li>æ–¹æ³•ä¸­çš„æ ¸å¿ƒæ“ä½œä»£ç </li><li>æ–¹æ³•çš„è¿”å›ç±»å‹</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test02_LambdaClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Action</span> <span class="variable">action1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Action</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">action</span><span class="params">(<span class="type">int</span> result, <span class="type">int</span> i)</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> result + i;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">Action</span> <span class="variable">action2</span> <span class="operator">=</span> (result, i) -&gt; result + i; <span class="comment">// lambdaè¡¨è¾¾å¼</span></span><br><span class="line">        System.out.println(action1.getClass()); <span class="comment">// class com.briup.expand.chap01.Test$1</span></span><br><span class="line">        System.out.println(action2.getClass()); <span class="comment">// class com.briup.expand.chap01.Test$$Lambda$1/1324119927</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">calculate</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, Action cal)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> a;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> a + <span class="number">1</span>; i &lt;= b; i++) &#123;</span><br><span class="line">            result = cal.action(result, i);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> result;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€è€ƒï¼Œå¯¹Actionæ¥å£ï¼Œåˆ†åˆ«ä½¿ç”¨åŒ¿åç±»å’ŒLambdaè¡¨è¾¾å¼è¿›è¡Œå®ç°ï¼Œç„¶åè°ƒ ç”¨ä¿©ä¸ªå¯¹è±¡getClassæ–¹æ³•ï¼Œè§‚å¯Ÿç»“æœæœ‰ä½•ä¸åŒï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// class com.briup.expand.chap01.Test$1  åŒ¿åå†…éƒ¨ç±».getClass()</span></span><br><span class="line"><span class="comment">// class com.briup.expand.chap01.Test$$Lambda$1/1324119927 Lambdaè¡¨è¾¾å¼.getClass()</span></span><br></pre></td></tr></table></figure><ul><li>$$Lambdaè¡¨ç¤ºæ˜¯Lambdaè¡¨è¾¾å¼</li><li>Lambda$1è¡¨ç¤ºæ˜¯Lambdaè¡¨è¾¾å¼ä¸­çš„ç¬¬ä¸€ä¸ªåŒ¿åå†…éƒ¨ç±»</li><li>&#x2F;1324119927ï¼šå”¯ä¸€æ ‡è¯†è¿™ä¸ªlambdaè¡¨è¾¾å¼çš„å†…éƒ¨ç±»</li></ul><h2 id="å‡½æ•°å¼ç¼–ç¨‹"><a href="#å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="å‡½æ•°å¼ç¼–ç¨‹"></a>å‡½æ•°å¼ç¼–ç¨‹</h2><blockquote><p>å‡½æ•°å¼ç¼–ç¨‹ï¼Œå’Œé¢å‘å¯¹è±¡ç¼–ç¨‹ã€ä»¥åŠé¢å‘è¿‡ç¨‹ç¼–ç¨‹ä¸€æ ·ï¼Œå®ƒä»¬éƒ½æ˜¯ç¼–ç¨‹çš„ä¸€ç§æ–¹å¼</p></blockquote><p>å‡½æ•°å¼ç¼–ç¨‹æ—¶é¢å‘æ•°å­¦çš„æŠ½è±¡ï¼Œå°†è®¡ç®—è¿‡ç¨‹æè¿°ä¸ºä¸€ç§è¡¨è¾¾å¼æ±‚å€¼ã€‚f(x) &#x3D; y</p><p>ä¸¥æ ¼æ„ä¹‰ä¸Šçš„è¡¨è¾¾å¼ï¼Œå°±æ˜¯ç”±æ•°æ®å’Œæ“ä½œæˆ‘æŒ‰ç…§ä¸€å®šçš„è§„åˆ™ï¼Œç»„åˆå†ä¸€åˆ‡å½¢æˆçš„åºåˆ—ï¼Œå¹¶ä¸”<strong>æ‰€æœ‰çš„è¡¨è¾¾å¼éƒ½æ˜¯æœ‰è¿”å›ç»“æœçš„</strong>ï¼Œè¿™é‡Œæ‰€è¯´çš„è¡¨è¾¾å¼å’Œä»£ç è¯­å¥çš„æœ€å¤§åŒºåˆ«ã€‚</p><p>ä½†æ˜¯åœ¨javaä¸­ï¼Œæ˜¯å…è®¸å‡½æ•°å¼ç¼–ç¨‹ä¸­æ²¡æœ‰ä»»ä½•è¿”å›å€¼çš„ï¼Œå› ä¸ºjavaä¸­æœ‰å…³é”®å­—voidï¼ˆä¹Ÿå¯ä»¥çœ‹åšæ˜¯ä¸€ä¸ªç»“æœï¼‰ï¼Œä½†æ˜¯åœ¨å…¶ä»–ä¸€äº›ä¸“é—¨çš„å‡½æ•°å¼ç¼–ç¨‹è¯­è¨€ä¸­ï¼Œæ˜¯æ²¡æœ‰voidçš„ã€‚</p><p>æ‰€ä»¥ï¼Œjdk1.8ä¸­ï¼Œå¯ä»¥æŠŠActionæ¥å£çš„å®ç°ï¼Œç®€å†™ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">Action add = (int result,int next) -&gt; &#123;</span></span><br><span class="line"><span class="comment">return result + next;</span></span><br><span class="line"><span class="comment">&#125;;</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">//ç®€åŒ–å†™æ³•</span></span><br><span class="line"><span class="type">Action</span> <span class="variable">add</span> <span class="operator">=</span> (result,next) -&gt; result + next;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829191448561.png" alt="image-20230829191448561"></p><h2 id="Lambdaæ¦‚è¿°"><a href="#Lambdaæ¦‚è¿°" class="headerlink" title="Lambdaæ¦‚è¿°"></a>Lambdaæ¦‚è¿°</h2><blockquote><p>Lambdaè¡¨è¾¾å¼ï¼Œå¯ä»¥ç”¨æ¥è¡¨ç¤ºä¸€ä¸ªå‡½æ•°ï¼Œå®ƒåªå…³æ³¨å‡½æ•°çš„<strong>å‚æ•°åˆ—è¡¨ï¼Œ å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹</strong>ï¼Œå¹¶ä¸”å¯ä»¥å°†æ­¤å‡½æ•°ä½œä¸ºä¸€ä¸ªå‚æ•°ï¼Œè¿›è¡Œä¼ é€’ã€‚</p></blockquote><p>åœ¨javaä¸­ï¼ŒLambdaè¡¨è¾¾å¼è¿˜æœ‰å¦ä¸€ä¸ªå­˜åœ¨çš„æ„ä¹‰ï¼Œé‚£å°±æ˜¯ä½œä¸ºä¸€ä¸ª<strong>æ¥å£çš„å®ç°ç±»å¯¹è±¡</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Action</span> <span class="variable">a</span> <span class="operator">=</span> (str) -&gt; str.length(); <span class="comment">// ä½œä¸ºæ¥å£çš„å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">        System.out.println(a.test(<span class="string">&quot;hello&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">test</span><span class="params">(String str)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹å‡ºï¼ŒLambdaè¡¨è¾¾å¼ï¼Œè™½ç„¶å¯ä»¥é€šè¿‡ï¼ˆå‚æ•°åˆ—è¡¨ï¼Œå‡½æ•°ä¸»ä½“ï¼Œè¿”å›ç±»å‹ï¼‰ä¸‰éƒ¨åˆ†æ¥æ ‡è¯†ä¸€ä¸ªå…·ä½“çš„å‡½æ•°æ“ä½œï¼Œä½†æ˜¯å®ƒå¿…é¡»æ˜¯ä¾æ‰˜ä¸€ä¸ªæ¥å£æ‰è¡Œï¼Œæ‰€ä»¥Lambdaè¡¨è¾¾å¼å°±æ˜¯å¯¹<strong>æ¥å£</strong>ä¸­æŠ½è±¡æ–¹æ³•çš„å®ç°</p></blockquote><h2 id="Lambdaä½¿ç”¨"><a href="#Lambdaä½¿ç”¨" class="headerlink" title="Lambdaä½¿ç”¨"></a>Lambdaä½¿ç”¨</h2><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829192124234.png" alt="image-20230829192124234"></p><h3 id="å‡½æ•°å¼æ¥å£"><a href="#å‡½æ•°å¼æ¥å£" class="headerlink" title="å‡½æ•°å¼æ¥å£"></a>å‡½æ•°å¼æ¥å£</h3><blockquote><p>æœ‰ä¸”åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•çš„æ¥å£ï¼Œå°±æ˜¯å‡½æ•°å¼æ¥å£ã€‚è¯¥æ¥å£ä¸­ï¼Œä¹Ÿå…è®¸æœ‰å…¶ä»–çš„é»˜è®¤æ–¹æ³•å’Œé™æ€æ–¹æ³•</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™æ˜¯å‡½æ•°å¼æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">action</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™ä¹Ÿæ˜¯å‡½æ•°å¼æ¥å£ï¼Œé‡Œè¾¹åªæœ‰ä¸€ä¸ªæŠ½è±¡çš„æ–¹æ³•action</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">DefaultAction</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">action</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span>&#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘æ˜¯é»˜è®¤å®ç°&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿™æ˜¯å‡½æ•°å¼æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Calculate</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™ã€ä¸æ˜¯ã€‘å‡½æ•°å¼æ¥å£ï¼Œå› ä¸ºæ¥å£SubCalculateä¸­æœ‰ä¿©ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè‡ª</span></span><br><span class="line">å·±ä¸€ä¸ªï¼Œç»§æ‰¿ä¸€ä¸ª</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">SubCalculate</span> <span class="keyword">extends</span> <span class="title class_">Calculate</span>&#123;</span><br><span class="line">    <span class="type">double</span> <span class="title function_">add</span><span class="params">(<span class="type">double</span> a,<span class="type">double</span> b)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿™ã€ä¸æ˜¯ã€‘å‡½æ•°å¼æ¥å£ï¼Œå› ä¸ºæ¥å£Notingä¸­æ²¡æœ‰ä»»ä½•æŠ½è±¡æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Noting</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>JDK1.8ä¸­ï¼Œé’ˆå¯¹å‡½æ•°å¼æ¥å£ï¼Œæ–°å¢äº†ä¸€ä¸ªæ³¨è§£ <strong>@FunctionalInterface</strong>,ç”¨æ¥æ£€æŸ¥è¢«æ ‡æ³¨çš„æ¥å£ï¼Œæ˜¯ä¸æ˜¯ä¸€ä¸ªå‡½æ•°å¼æ¥å£ï¼Œå¦‚æœä¸æ˜¯ï¼Œé‚£ä¹ˆç¼–è¯‘å™¨ä¼šæŠ¥é”™ã€‚</p><p>ä½†æ˜¯ï¼Œè¯¥æ³¨è§£ä¸æ˜¯å¿…é¡»è¦ç”¨çš„ï¼Œå®ƒåªæ˜¯ä¼šè®©ç¼–è¾‘å™¨å¸®æˆ‘ä»¬æ£€æŸ¥ä¸€ä¸‹è€Œå·²ï¼Œä»¥å…å‡ºç°æ¥å£ä¸­<strong>æŠ½è±¡ä¸ªæ•°ä¸æ˜¯1</strong>çš„æƒ…å†µ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="Lambdaè¯­æ³•"><a href="#Lambdaè¯­æ³•" class="headerlink" title="Lambdaè¯­æ³•"></a>Lambdaè¯­æ³•</h3><blockquote><p>Lambdaè¡¨è¾¾å¼çš„æ ¼å¼ä¸ºï¼š() -&gt; {}</p></blockquote><ul><li>ï¼ˆï¼‰è¡¨ç¤ºå‚æ•°åˆ—è¡¨</li><li>-&gt; åé¢è·Ÿçš„å¼å‡½æ•°ä¸»ä½“</li><li>{} å‡½æ•°ä¸»é¢˜ï¼Œè¡¨è¾¾å¼çš„è¿”å›å€¼ï¼Œç”±è¿™ä¸ªå‡½æ•°ä¸»ä½“ä¸­ä»£ç æ¥å†³å®š</li></ul><p>å‡½æ•°å¼æ¥å£ä¸­ï¼ŒæŠ½è±¡æ–¹æ³•å¸¸è§çš„æœ‰ä»¥ä¸‹å‡ ç§æƒ…å†µï¼š</p><ul><li>æ— å‚æ— è¿”å›å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Action</span> <span class="variable">action1</span> <span class="operator">=</span> () -&gt; &#123;&#125;;</span><br><span class="line"><span class="type">Action</span> <span class="variable">action2</span> <span class="operator">=</span> () -&gt; System.out.println(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">Action action3= () -&gt; &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">2</span>;</span><br><span class="line">    System.out.println(a+b);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœ‰å‚æ— è¿”å›å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Action</span> <span class="variable">action1</span> <span class="operator">=</span> (a,b) -&gt; &#123;&#125;;</span><br><span class="line"><span class="comment">//æŠ½è±¡æ–¹æ³•æ˜¯å¤šä¸ªå‚æ•°çš„æƒ…å†µ</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>; <span class="comment">// ä¸¤ä¸ªå‚æ•°</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœ‰å‚æœ‰è¿”å›å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Action</span> <span class="variable">action</span> <span class="operator">=</span> () -&gt; <span class="number">1</span>;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ— å‚æœ‰è¿”å›å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Action</span> <span class="variable">action1</span> <span class="operator">=</span> (a,b) -&gt; a + b;</span><br><span class="line"><span class="type">Action</span> <span class="variable">action2</span> <span class="operator">=</span> (a,b) -&gt; &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> a+b;</span><br><span class="line">    <span class="keyword">return</span> (<span class="type">int</span>)(Math.random()*num);</span><br><span class="line">&#125;;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">run</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼ŒLambdaè¡¨è¾¾å¼ä¸­çš„å‚æ•°åˆ—è¡¨ï¼Œé‡Œé¢çš„å‚æ•°å¯ä»¥ä¸å†™ç±»å‹ï¼Œå› ä¸ºJVMåœ¨è¿è¡Œæ—¶ä¼šè‡ªåŠ¨æ¨æ–­ï¼Œå½“ç„¶ï¼Œå¦‚æœç›´æ¥æ‰‹å†™ä¸Šå»ï¼Œä¹Ÿå®Œå…¨æ²¡æœ‰é—®é¢˜</p></blockquote><h3 id="å¸¸ç”¨æ¥å£"><a href="#å¸¸ç”¨æ¥å£" class="headerlink" title="å¸¸ç”¨æ¥å£"></a>å¸¸ç”¨æ¥å£</h3><p>JDK1.8ä¸­ï¼Œå·²ç»å®šäº†ä¸€äº›ä¼šå¸¸ç”¨åˆ°çš„å‡½æ•°å¼æ¥å£ï¼Œè¿™äº›å‡½æ•°å¼æ¥å£éƒ½å®šä¹‰ åœ¨ <strong>java.lang.function</strong> åŒ…ä¸­ï¼Œä¾‹å¦‚ Predicate ã€ Consumer ã€ Function ã€ Supplier ã€ UnaryOperator å’Œ BinaryOperator ç­‰ã€‚ </p><p>æ³¨æ„ï¼Œå¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥è‡ªå·±å®šä¹‰ç±»ä¼¼çš„å‡½æ•°å¼æ¥å£ï¼Œå¹¶ä¸æ˜¯å¿…é¡»è¦ä½¿ç”¨ è¿™äº›å®šä¹‰å¥½çš„æ¥å£ã€‚</p><h4 id="Predicate"><a href="#Predicate" class="headerlink" title="Predicate"></a>Predicate</h4><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// java.util.function.Predicate&lt;T&gt;</span></span><br><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Predicate</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">test</span><span class="params">(T t)</span>; <span class="comment">// T -&gt; boolean</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥è¿‡æ»¤æ•°ç»„ä¸­æ‰€æœ‰ç¬¦åˆè¦æ±‚çš„æ•°æ®ï¼Œé€‰å‡ºå¤§äº50 çš„æ•°æ®</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3_PredicateTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Integer[] arr = &#123;<span class="number">1</span>, <span class="number">54</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">455</span>, <span class="number">8</span>, <span class="number">35</span>, <span class="number">835</span>, <span class="number">98</span>&#125;;</span><br><span class="line">        arr = Test3_PredicateTest.filter(arr, e -&gt; e &gt; <span class="number">50</span>);</span><br><span class="line">        System.out.println(Arrays.toString(arr));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> Integer[] filter(Integer[] arr, Predicate&lt;Integer&gt; p) &#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">for</span> (Integer integer : arr) &#123;</span><br><span class="line">            <span class="comment">// åˆ¤æ–­å½“å‰æ•°æ®æ˜¯å¦æ»¡è¶³è¦æ±‚</span></span><br><span class="line">            <span class="keyword">if</span> (p.test(integer)) &#123;</span><br><span class="line">                list.add(integer);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// return list.toArray(new Integer[list.size()]);</span></span><br><span class="line">        <span class="comment">// è¿™é‡Œä½¿ç”¨new Integer[0]å³å¯ï¼Œä¸»è¦æ˜¯ä¸ºäº†å‘Šè¯‰JVMæˆ‘è¦è½¬æ•°ç»„çš„ç±»å‹</span></span><br><span class="line">        <span class="comment">// toArray()ä¼šè¿›è¡Œè‡ªåŠ¨æ‰©å®¹</span></span><br><span class="line">        <span class="keyword">return</span> list.toArray(<span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">0</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829194701375.png" alt="image-20230829194701375"></p><ul><li>and</li></ul><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829194904469.png" alt="image-20230829194904469"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¡ä»¶1ï¼Œæ•°æ®å¤§äº10</span></span><br><span class="line">Predicate&lt;Integer&gt; p1 = e -&gt; e&gt;<span class="number">10</span>;</span><br><span class="line"><span class="comment">//æ¡ä»¶2ï¼Œæ•°æ®å°äº50</span></span><br><span class="line">Predicate&lt;Integer&gt; p2 = e -&gt; e&lt;<span class="number">50</span>;</span><br><span class="line"><span class="comment">//ä¿©ä¸ªæ¡ä»¶åŒæ—¶æˆç«‹</span></span><br><span class="line">Predicate&lt;Integer&gt; p = p1.and(p2);</span><br><span class="line">arr = t.filter(arr,p);</span><br></pre></td></tr></table></figure><ul><li>or</li></ul><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829194940940.png" alt="image-20230829194940940"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¡ä»¶1ï¼Œæ•°æ®å°äº10</span></span><br><span class="line">Predicate&lt;Integer&gt; p1 = e -&gt; e&lt;<span class="number">10</span>;</span><br><span class="line"><span class="comment">//æ¡ä»¶2ï¼Œæ•°æ®å¤§äº50</span></span><br><span class="line">Predicate&lt;Integer&gt; p2 = e -&gt; e&gt;<span class="number">50</span>;</span><br><span class="line"><span class="comment">//ä¿©ä¸ªæ¡ä»¶æˆç«‹ä¸€ä¸ªå³å¯</span></span><br><span class="line">Predicate&lt;Integer&gt; p = p1.or(p2);</span><br><span class="line">arr = t.filter(arr,p);</span><br></pre></td></tr></table></figure><ul><li>negate</li></ul><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829195049226.png" alt="image-20230829195049226"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ¡ä»¶1ï¼Œæ•°æ®å¤§äº10</span></span><br><span class="line">Predicate&lt;Integer&gt; p1 = e -&gt; e&gt;<span class="number">10</span>;</span><br><span class="line"><span class="comment">//è·å–æ¡ä»¶1ç›¸åçš„æ•°æ®</span></span><br><span class="line">Predicate&lt;Integer&gt; p = p1.negate();</span><br><span class="line">arr = t.filter(arr,p);</span><br></pre></td></tr></table></figure><p>JDK1.8ä¸­ï¼Œç»™ Collection é›†åˆå¢åŠ äº†é»˜è®¤æ–¹æ³•ï¼š <strong>removeIf</strong></p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829195458458.png" alt="image-20230829195458458"></p><h4 id="Consumer"><a href="#Consumer" class="headerlink" title="Consumer"></a>Consumer</h4><p>java.util.function.Consumer æ¥å£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Consumer</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">accept</span><span class="params">(T t)</span>;</span><br><span class="line">    <span class="keyword">default</span> Consumer&lt;T&gt; <span class="title function_">andThen</span><span class="params">(Consumer&lt;? <span class="built_in">super</span> T&gt; after)</span></span><br><span class="line">    &#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; &#123; accept(t); after.accept(t); &#125;;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œç”¨æ¥å¯¹å­¦ç”Ÿå¯¹è±¡è¿›è¡Œæ“ä½œ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test04_ConsumerTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test04_ConsumerTest</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test04_ConsumerTest</span>();</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;peter&quot;</span>);</span><br><span class="line">        <span class="comment">// æ“ä½œ1ã€ç»™stuå¯¹è±¡çš„nameå±æ€§å€¼åŠ å‰ç¼€</span></span><br><span class="line">        Consumer&lt;Student&gt; consumer1 = (student) -&gt; student.name = <span class="string">&quot;TangClan_&quot;</span> + student.name;</span><br><span class="line">        <span class="comment">// æ“ä½œ2ã€ç»™stuå¯¹å¯¹è±¡çš„nameå±æ€§å€¼æ·»åŠ åç¼€</span></span><br><span class="line">        Consumer&lt;Student&gt; consumer2 = student -&gt; student.name = student.name + <span class="string">&quot;_&quot;</span> + System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// æ“ä½œ3ã€ç»™stuå¯¹è±¡çš„nameå±æ€§å€¼ï¼Œå…ˆåŠ å‰ç¼€ï¼Œå†åŠ åç¼€</span></span><br><span class="line">        Consumer&lt;Student&gt; consumer3 = consumer1.andThen(consumer2);</span><br><span class="line">        <span class="comment">//å¦‚æœä¼ å…¥consumer1ï¼Œè¡¨ç¤ºåªåŠ å‰ç¼€</span></span><br><span class="line">        <span class="comment">//å¦‚æœä¼ å…¥consumer2ï¼Œè¡¨ç¤ºåªåŠ åç¼€</span></span><br><span class="line">        <span class="comment">//å¦‚æœä¼ å…¥consumer3ï¼Œè¡¨ç¤ºå…ˆåŠ å‰ç¼€ï¼Œå†åŠ åç¼€</span></span><br><span class="line">        <span class="comment">// t.operStu(stu, consumer1);</span></span><br><span class="line">        <span class="comment">// t.operStu(stu, consumer2);</span></span><br><span class="line">        t.operStu(stu, consumer3);</span><br><span class="line">        System.out.println(stu.name);</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Collection&lt;String&gt; col = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        col.add(<span class="string">&quot;lwsj&quot;</span>);</span><br><span class="line">        col.add(<span class="string">&quot;peter&quot;</span>);</span><br><span class="line">        col.add(<span class="string">&quot;parker&quot;</span>);</span><br><span class="line">        <span class="comment">// å»æ‰ä¸­é—´å˜é‡ï¼Œç›´æ¥æŠŠLambdaè¡¨è¾¾å¼ä½œä¸ºå½“å‰å‚æ•°ä¼ å…¥åˆ°forEachæ–¹æ³•ä¸­</span></span><br><span class="line">        col.forEach(res -&gt; System.out.println(res));</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">operStu</span><span class="params">(Student stu, Consumer&lt;Student&gt; consumer)</span> &#123;</span><br><span class="line">        consumer.accept(stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829201856470.png" alt="image-20230829201856470"></p><h4 id="Function"><a href="#Function" class="headerlink" title="Function"></a>Function</h4><p>java.util.function.Function æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Function</span>&lt;T, R&gt; &#123;</span><br><span class="line">    R <span class="title function_">apply</span><span class="params">(T t)</span>;</span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; Function&lt;V, R&gt; <span class="title function_">compose</span><span class="params">(Function&lt;? <span class="built_in">super</span> V, ? extends T&gt; before)</span> &#123;</span><br><span class="line">        Objects.requireNonNull(before);</span><br><span class="line">        <span class="keyword">return</span> (V v) -&gt; apply(before.apply(v));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">default</span> &lt;V&gt; Function&lt;T, V&gt; <span class="title function_">andThen</span><span class="params">(Function&lt;? <span class="built_in">super</span> R, ? extends V&gt; after)</span> &#123;</span><br><span class="line">        Objects.requireNonNull(after);</span><br><span class="line">        <span class="keyword">return</span> (T t) -&gt; after.apply(apply(t));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Returns a function that always returns its input argument.</span></span><br><span class="line">    <span class="keyword">static</span> &lt;T&gt; Function&lt;T, T&gt; <span class="title function_">identity</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> t -&gt; t;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å°†å­—ç¬¦ä¸²æŒ‰ç…§æŒ‡å®šæ¡ä»¶è½¬ä¸ºé›†åˆ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test05_FunctionTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;a-b-c-a-b-c&quot;</span>;</span><br><span class="line">        <span class="comment">// ä¼ å…¥å­—ç¬¦ä¸²ï¼Œè¿”å›æ•°ç»„ï¼Œæ“ä½œä¸ºæŠŠå­—ç¬¦ä¸²æŒ‰ç…§ &quot;_&quot; è¿›è¡Œåˆ†å‰²ä¸ºå­—ç¬¦ä¸²æ•°ç»„</span></span><br><span class="line">        <span class="comment">// &quot;a-b-c-a-b-c&quot; è½¬æ¢ä¸º &#123;&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;&#125;</span></span><br><span class="line">        Function&lt;String, String[]&gt; f1 = s -&gt; s.split(<span class="string">&quot;-&quot;</span>);</span><br><span class="line">        <span class="comment">// ä¼ å…¥å­—ç¬¦ä¸²æ•°ç»„ï¼Œè¿”å›Set&lt;String&gt;é›†åˆï¼Œç›®çš„æ˜¯å»é™¤æ•°ç»„ä¸­é‡å¤çš„æ•°æ®ï¼Œå­˜æ”¾æŠŠç»“æœå­˜æ”¾åˆ°Seté›†åˆä¸­</span></span><br><span class="line">        <span class="comment">// &#123;&quot;a&quot;,&quot;b&quot;,&quot;c&quot;,&quot;a&quot;,&quot;b&quot;,&quot;c&quot;&#125; è½¬æ¢ä¸ºé›†åˆ [a,b,c]</span></span><br><span class="line">        Function&lt;String[], Set&lt;String&gt;&gt; f2 = arr -&gt; &#123;</span><br><span class="line">            Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">            set.addAll(Arrays.asList(arr));</span><br><span class="line">            <span class="keyword">return</span> set;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// åˆšå¥½ï¼Œf1å‡½æ•°çš„ç»“æœï¼Œä½œä¸ºf2å‡½æ•°çš„å‚æ•°ï¼Œf1å’Œf2ç»„åˆæˆf3å‡½æ•°</span></span><br><span class="line">        <span class="comment">// f3å‡½æ•°è¡¨ç¤ºä¼ å…¥å­—ç¬¦ä¸²ï¼Œæœ€åè¿”å›Set&lt;String&gt;é›†åˆ</span></span><br><span class="line">        <span class="comment">// å…¶å®å†…éƒ¨æ˜¯å…ˆè®²å­—ç¬¦ä¸²äº¤ç»™f1å‡½æ•°è½¬æ¢æ•°ç»„ï¼Œå†å°†æ•°ç»„äº¤ç»™f2å‡½æ•°è½¬æ¢Seté›†åˆ</span></span><br><span class="line">        Function&lt;String, Set&lt;String&gt;&gt; f3 = f1.andThen(f2);</span><br><span class="line">        Set&lt;String&gt; set = f3.apply(str);</span><br><span class="line">        System.out.println(set);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>ç†è§£äº†andThenæ–¹æ³•ï¼Œé‚£ä¹ˆcomposeæ–¹æ³•ä¹Ÿå°±ç†è§£ï¼šf1.andThen(f2)ï¼Œ f1.compose(f2) </p><pre><code>ä¿©ä¸ªæ–¹æ³•çš„åŒºåˆ«æ˜¯ï¼ŒæŠŠf2æ“ä½œæ”¾åœ¨f1æ“ä½œä¹‹å‰è¿˜æ˜¯ä¹‹åçš„é—®é¢˜</code></pre></blockquote><p>é™æ€æ–¹æ³• identity ï¼ŒAPIä¸­ç»™å‡ºçš„æ³¨é‡Šä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Returns a function that always returns its input argument.</span></span><br><span class="line"><span class="comment">*</span></span><br><span class="line"><span class="comment">* <span class="doctag">@param</span> &lt;T&gt; the type of the input and output objects to the function</span></span><br><span class="line"><span class="comment">* <span class="doctag">@return</span> a function that always returns its input argument</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">static</span> &lt;T&gt; Function&lt;T, T&gt; <span class="title function_">identity</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> t -&gt; t;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>å¯ä»¥çœ‹å‡ºï¼Œè¯¥æ–¹æ³•å¯ä»¥ç›´æ¥è¿”å›ä¸€ä¸ªFunctionå¯¹è±¡ï¼Œä¼ å…¥ä¸€ä¸ªå‚æ•°ï¼Œç›´æ¥æŠŠè¯¥å‚æ•°è¿”å›ï¼Œä¸åšä»»ä½•æ“ä½œ</p><p>éœ€è¦æ³¨æ„çš„å¼ï¼Œè¿™æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•ï¼Œå› ä¸ºæ³›å‹å‚æ•°Tæ˜¯åœ¨è¿™ä¸ªæ–¹æ³•ä¸Šå®šä¹‰çš„</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Function&lt;String,String&gt; f = Function.identity();</span><br><span class="line">        <span class="comment">//ä¼ å…¥helloï¼Œè¿”å›hello</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> f.apply(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…·ä½“çš„ä½¿ç”¨åœºæ™¯åé¢é‡åˆ°å†è¯´å“ˆ~~</p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829215134694.png" alt="image-20230829215134694"></p><h4 id="Supplier"><a href="#Supplier" class="headerlink" title="Supplier"></a>Supplier</h4><p><strong>java.util.function.Supplier</strong> æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@FunctionalInterface</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Supplier</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Gets a result.</span></span><br><span class="line"><span class="comment">    *</span></span><br><span class="line"><span class="comment">    * <span class="doctag">@return</span> a result</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    T <span class="title function_">get</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¾“å‡º10ä¸ª1-100ä¹‹é—´çš„éšæœºçš„å¥‡æ•°</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test08_SupplierTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// ç”Ÿæˆ1-100ç›´æ¥çš„éšæœºçš„å¥‡æ•°</span></span><br><span class="line">        Supplier&lt;Integer&gt; supplier = () -&gt; &#123;</span><br><span class="line">            <span class="type">int</span> num;</span><br><span class="line">            <span class="keyword">do</span> &#123;</span><br><span class="line">                num = (<span class="type">int</span>) (Math.random() * <span class="number">100</span> + <span class="number">1</span>);</span><br><span class="line">            &#125; <span class="keyword">while</span> ((num &amp; <span class="number">1</span>) == <span class="number">0</span>);</span><br><span class="line">            <span class="keyword">return</span> num;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">10</span>; i++) &#123;</span><br><span class="line">            System.out.println(supplier.get());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Predicate ã€ Consumer ï¼Œ Function ï¼Œ Supplier ï¼Œè¿™äº›æ¥å£éƒ½æ˜¯å¸¦æ³›å‹çš„æ¥å£ï¼Œæ³›å‹çš„ç±»å‹åªèƒ½æ˜¯å¼•ç”¨ç±»å‹ï¼Œé‚£ä¹ˆå¦‚æœéœ€è¦æ“ä½œåŸºæœ¬ç±»å‹çš„æ•°æ®ï¼Œè¿™æ—¶å€™å°±ä¼šåšè‡ªåŠ¨è£…ç®±å’Œæ‹†ç®±ã€‚è€Œ<strong>å¤§é‡</strong>çš„è£…ç®±å’Œæ‹†ç®±æ˜¯æ¯”è¾ƒæ¶ˆè€—æ€§èƒ½çš„ï¼Œæ‰€ä»¥JDK1.8ä¸­ï¼Œè¿˜ä¸“é—¨å®šä¹‰äº†ä¸€ äº›é’ˆå¯¹åŸºæœ¬ç±»å‹çš„å‡½æ•°å¼æ¥å£ï¼Œä¾‹å¦‚ï¼š</p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829215638731.png" alt="image-20230829215638731"></p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230829220034827.png" alt="image-20230829220034827"></p><h2 id="ç±»å‹æ¨æ–­"><a href="#ç±»å‹æ¨æ–­" class="headerlink" title="ç±»å‹æ¨æ–­"></a>ç±»å‹æ¨æ–­</h2><p>ä½¿ç”¨Lambdaè¡¨è¾¾å¼ï¼Œç›¸å½“äºç»™å‡½æ•°å¼æ¥å£ç”Ÿæˆä¸€ä¸ªå®ä¾‹ï¼Œä½†æ˜¯Lambdaè¡¨è¾¾ å¼æœ¬èº«ï¼Œå¹¶ä¸åŒ…å«è¿™ä¸ªæ¥å£çš„ä»»ä½•ä¿¡æ¯ï¼Œä¾‹å¦‚ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="comment">//()-&gt;&#123;&#125; è¿™ä¸ªè¡¨è¾¾å¼ä¸­å¹¶æ²¡æœ‰åŒ…å«ä»»ä½•Runnableæ¥å£çš„ä¿¡æ¯</span></span><br><span class="line">        <span class="comment">//ä½†æ˜¯ç¼–è¯‘å’Œè¿è¡Œéƒ½æ˜¯æˆåŠŸçš„</span></span><br><span class="line">        t.test(()-&gt;&#123;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Runnable run)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¹‹æ‰€ä»¥Lambdaè¡¨è¾¾å¼ä¸­æ²¡æœ‰æ¥å£çš„ä»»ä½•ä¿¡æ¯ï¼ŒJVMè¿˜èƒ½å°†å…¶å’Œæ¥å£åŒ¹é…ä¸Šï¼Œé‚£æ˜¯å› ä¸ºï¼š</p><ul><li>æˆ‘ä»¬åœ¨ä½¿ç”¨Lambdaè¡¨è¾¾å¼çš„æ—¶å€™ï¼ŒJVMæ˜¯ä¼šé€šè¿‡ä¸Šä¸‹æ–‡<strong>è‡ªåŠ¨æ¨æ–­</strong>å®ƒæ‰€å±æ¥å£ç±»å‹çš„</li><li>å¹¶ä¸”æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³•ï¼Œè‡ªç„¶ä¹Ÿèƒ½åŒ¹é…æˆåŠŸè¯¥è¡¨è¾¾å¼æ‰€å¯¹åº”å®ç°çš„æŠ½è±¡æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="comment">//JVMæ ¹æ®ä¸Šä¸‹æ–‡è¿è¡Œç¯å¢ƒè‡ªåŠ¨æ¨æ–­å‡º ()-&#123;&#125; è¡¨è¾¾å¼å¯¹åº”çš„æ˜¯æ¥å£æ˜¯Runnable</span></span><br><span class="line">        t.test1(()-&gt;&#123;&#125;);</span><br><span class="line">        <span class="comment">//JVMæ ¹æ®ä¸Šä¸‹æ–‡è¿è¡Œç¯å¢ƒè‡ªåŠ¨æ¨æ–­å‡º ()-&#123;&#125; è¡¨è¾¾å¼å¯¹åº”çš„æ˜¯æ¥å£æ˜¯Action</span></span><br><span class="line">        t.test2(()-&gt;&#123;&#125;);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">(Runnable run)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">(Action action)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»ä¼¼çš„ï¼ŒJVMè¿˜èƒ½è‡ªåŠ¨æ¨æ–­å‡ºLambdaè¡¨è¾¾å¼ä¸­å‚æ•°çš„ç±»å‹ï¼Œä¾‹å¦‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="comment">//è¿™ä¿©ç§å†™æ³•çš„æ•ˆæœæ˜¯ä¸€æ ·çš„ï¼ŒJVMæ ¹æ®ç¯å¢ƒè‡ªåŠ¨æ¨æ–­å‡ºå‚æ•°aå’Œbçš„ç±»å‹</span></span><br><span class="line">        t.test((<span class="type">int</span> a,<span class="type">int</span> b)-&gt;a+b);</span><br><span class="line">        t.test((a,b)-&gt;a+b);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Action action)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">run</span><span class="params">(<span class="type">int</span> a,<span class="type">int</span> b)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="é‡è½½è§£æ"><a href="#é‡è½½è§£æ" class="headerlink" title="é‡è½½è§£æ"></a>é‡è½½è§£æ</h2><p>å¦‚æœç±»ä¸­çš„æ–¹æ³•è¿›è¡Œäº†é‡è½½ï¼Œé‚£ä¹ˆåœ¨ä½¿ç”¨Lambdaè¡¨è¾¾å¼çš„æ—¶å€™ï¼Œå¾ˆå¯èƒ½ç»™å®ƒçš„ç±»å‹æ¨æ–­å¸¦æ¥é—®é¢˜ã€‚</p><ul><li>ç¼–è¯‘æŠ¥é”™</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼Œå› ä¸ºä¿©ä¸ªæ–¹æ³•éƒ½ç¬¦åˆ</span></span><br><span class="line">        test(<span class="number">1</span>,num -&gt; num&gt;<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a,Predicate&lt;Integer&gt; p)</span>&#123; <span class="comment">// T -&gt; boolean</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a,Function&lt;Integer,Boolean&gt; f)</span>&#123; <span class="comment">// T -&gt; R</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç±»å‹è½¬æ¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//ç¼–è¯‘é€šè¿‡ï¼Œç”¨å¼ºè½¬çš„æ–¹å¼æŒ‡å®šäº†è¡¨è¾¾å¼çš„å¯¹åº”çš„æ¥å£ç±»</span></span><br><span class="line">        test(<span class="number">1</span>,(Predicate&lt;Integer&gt;)(num-&gt;num&gt;<span class="number">0</span>));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a,Predicate&lt;Integer&gt; p)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a,Function&lt;Integer,Boolean&gt; f)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å±€éƒ¨å˜é‡"><a href="#å±€éƒ¨å˜é‡" class="headerlink" title="å±€éƒ¨å˜é‡"></a>å±€éƒ¨å˜é‡</h2><p>å¦‚æœåœ¨Lambdaè¡¨è¾¾å¼ä¸­ï¼Œä½¿ç”¨äº†å±€éƒ¨å˜é‡ï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡å°±ä¸€å®šè¦ä½¿ ç”¨ <strong>final</strong> ä¿®é¥°ç¬¦è¿›è¡Œä¿®é¥°ï¼Œè¿™æ–¹é¢çš„è¯­æ³•è¦æ±‚ï¼Œå’Œä¹‹å‰å­¦ä¹ çš„åŒ¿åå†…éƒ¨ç±» ä¿æŒä¸€è‡´ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">run</span> <span class="operator">=</span> ()-&gt;&#123;</span><br><span class="line">            <span class="comment">//è¿™é‡Œè®¿é—®å±€éƒ¨å˜é‡aä¹‹åï¼Œaå°±è‡ªåŠ¨å˜æˆäº†finalä¿®é¥°çš„å¸¸é‡ï¼ˆJDK1.8ï¼‰</span></span><br><span class="line">            <span class="comment">//ä¹Ÿå¯ä»¥æ‰‹åŠ¨ç»™å±€éƒ¨å˜é‡aåŠ ä¸Šfinalä¿®é¥°ç¬¦</span></span><br><span class="line">            <span class="comment">//å˜é‡açš„å€¼å°†ä¸å¯è¢«å†æ¬¡èµ‹å€¼ï¼Œå˜ä¸ºäº†å¸¸é‡</span></span><br><span class="line">            System.out.println(a);</span><br><span class="line">        &#125;; </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="æ–¹æ³•å¼•ç”¨"><a href="#æ–¹æ³•å¼•ç”¨" class="headerlink" title="æ–¹æ³•å¼•ç”¨"></a>æ–¹æ³•å¼•ç”¨</h1><h2 id="é™æ€æ–¹æ³•å¼•ç”¨"><a href="#é™æ€æ–¹æ³•å¼•ç”¨" class="headerlink" title="é™æ€æ–¹æ³•å¼•ç”¨"></a>é™æ€æ–¹æ³•å¼•ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç±»å::é™æ€æ–¹æ³•å</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šæ–¹æ³•ååé¢ä¸€å®š<strong>æ²¡æœ‰å°æ‹¬å·</strong>ï¼Œå› ä¸ºè¿™é‡Œä¸æ˜¯åœ¨è°ƒç”¨æ–¹æ³•ï¼Œè€Œæ˜¯åœ¨å¼•ç”¨è¿™ä¸ªæ–¹æ³•çš„å®šä¹‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//åªè¦å‡½æ•°çš„å‚æ•°åˆ—è¡¨æ˜¯Stringç±»å‹ï¼Œå‡½æ•°çš„è¿”å›å€¼æ˜¯intç±»å‹ï¼Œå°±å¯ä»¥ä½œä¸ºActionæ¥å£çš„å…·ä½“å®ç°</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a1</span> <span class="operator">=</span> str -&gt; <span class="number">1</span>;</span><br><span class="line">        <span class="comment">//ä½¿ç”¨ ç±»å::é™æ€æ–¹æ³•å çš„å½¢å¼æ¥å¼•ç”¨å½“å‰ç±»ä¸­çš„lenæ–¹æ³•</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a2</span> <span class="operator">=</span> Test::len;</span><br><span class="line">        System.out.println(a1.run(<span class="string">&quot;hello&quot;</span>));<span class="comment">//è¾“å‡º1</span></span><br><span class="line">        System.out.println(a2.run(<span class="string">&quot;hello&quot;</span>));<span class="comment">//è¾“å‡º5</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">len</span><span class="params">(String str)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> str.length();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">run</span><span class="params">(String str)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å®ä¾‹æ–¹æ³•å¼•ç”¨"><a href="#å®ä¾‹æ–¹æ³•å¼•ç”¨" class="headerlink" title="å®ä¾‹æ–¹æ³•å¼•ç”¨"></a>å®ä¾‹æ–¹æ³•å¼•ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç±»å::éé™æ€æ–¹æ³•å</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼Œè¿™é‡Œä¹Ÿæ˜¯ä½¿ç”¨ç±»åæ¥è¿›è¡Œå¼•ç”¨</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * Action a = new Action() &#123;</span></span><br><span class="line"><span class="comment">        * <span class="doctag">@Override</span></span></span><br><span class="line"><span class="comment">        * public int run(MyHandler handler,int i, String str,</span></span><br><span class="line"><span class="comment">        List&lt;Integer&gt; list) &#123;</span></span><br><span class="line"><span class="comment">        * return handler.test(i,str,list);</span></span><br><span class="line"><span class="comment">        * &#125;</span></span><br><span class="line"><span class="comment">        * &#125;;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a</span> <span class="operator">=</span> MyHandler::test;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="type">int</span> <span class="title function_">run</span><span class="params">(MyHandler handler, <span class="type">int</span> i, String str, List&lt;Integer&gt; list)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyHandler</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> i, String str, List&lt;Integer&gt; list)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§„å¾‹ï¼šæ–¹æ³•å‚æ•°åˆ—è¡¨ä¸­ç¬¬ä¸€ä¸ªå‚æ•°ä½œä¸º<strong>å¯¹è±¡</strong>ï¼Œä»ç¬¬äºŒä¸ªå‚æ•°å¼€å§‹ï¼Œåé¢çš„éƒ½ä½œä¸ºè¯¥å¯¹è±¡çš„å‚æ•°åˆ—è¡¨ï¼Œè¿”å›å€¼ç±»å‹è¦ä¸€è‡´</p><h2 id="ä½¿ç”¨å¯¹è±¡å¼•ç”¨æ–¹æ³•"><a href="#ä½¿ç”¨å¯¹è±¡å¼•ç”¨æ–¹æ³•" class="headerlink" title="ä½¿ç”¨å¯¹è±¡å¼•ç”¨æ–¹æ³•"></a>ä½¿ç”¨å¯¹è±¡å¼•ç”¨æ–¹æ³•</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">å¯¹è±¡::éé™æ€æ–¹æ³•</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">MyHandler</span> <span class="variable">handler</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyHandler</span>();</span><br><span class="line">        <span class="type">Action</span> <span class="variable">a1</span> <span class="operator">=</span> str -&gt; str;</span><br><span class="line">        <span class="comment">//è¿™é‡Œè¡¨ç¤ºï¼Œä½¿ç”¨handlerå¯¹è±¡çš„testæ–¹æ³•ï¼Œæ¥å¯¹Actionæ¥å£è¿›è¡Œå®ç°</span></span><br><span class="line">        <span class="comment">//å› ä¸ºtestæ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ï¼Œæ°å¥½æ˜¯å’Œrunæ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a2</span> <span class="operator">=</span> handler::test; <span class="comment">// è¿™ä¸ªæ—¶å€™è¡¨ç¤ºa2æŒ‡å‘äº†handlerå¯¹è±¡ä¸­çš„testæ–¹æ³•</span></span><br><span class="line">        System.out.println(a2.run(<span class="string">&quot;tom&quot;</span>));<span class="comment">//è¾“å‡ºï¼šhello! tom</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    String <span class="title function_">run</span><span class="params">(String str)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyHandler</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">test</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;hello! &quot;</span>+name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æ„é€ æ–¹æ³•å¼•ç”¨"><a href="#æ„é€ æ–¹æ³•å¼•ç”¨" class="headerlink" title="æ„é€ æ–¹æ³•å¼•ç”¨"></a>æ„é€ æ–¹æ³•å¼•ç”¨</h2><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ç±»å::<span class="keyword">new</span></span><br></pre></td></tr></table></figure><h3 id="æ— å‚æ„é€ å™¨"><a href="#æ— å‚æ„é€ å™¨" class="headerlink" title="æ— å‚æ„é€ å™¨"></a>æ— å‚æ„é€ å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Action</span> <span class="variable">a1</span> <span class="operator">=</span> ()-&gt;<span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        <span class="comment">//è¿™é‡Œè¡¨ç¤ºï¼Œä½¿ç”¨Studentç±»çš„æ— å‚æ„é€ å‡½æ•°ï¼Œæ¥å¯¹Actionæ¥å£è¿›è¡Œå®ç°</span></span><br><span class="line">        <span class="comment">//å› ä¸ºStudentç±»çš„æ— å‚æ„é€ å‡½æ•°ï¼Œæ°å¥½æ˜¯å’Œrunæ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a2</span> <span class="operator">=</span> Student::<span class="keyword">new</span>;</span><br><span class="line">        System.out.println(a2.run());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    Student <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æœ‰å‚æ„é€ å™¨"><a href="#æœ‰å‚æ„é€ å™¨" class="headerlink" title="æœ‰å‚æ„é€ å™¨"></a>æœ‰å‚æ„é€ å™¨</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Action</span> <span class="variable">a1</span> <span class="operator">=</span> name-&gt;<span class="keyword">new</span> <span class="title class_">Student</span>(name);</span><br><span class="line">        <span class="comment">//è¿™é‡Œè¡¨ç¤ºï¼Œä½¿ç”¨Studentç±»çš„æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ¥å¯¹Actionæ¥å£è¿›è¡Œå®ç°</span></span><br><span class="line">        <span class="comment">//å› ä¸ºStudentç±»çš„æœ‰å‚æ„é€ å‡½æ•°ï¼Œæ°å¥½æ˜¯å’Œrunæ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a2</span> <span class="operator">=</span> Student::<span class="keyword">new</span>;</span><br><span class="line">        System.out.println(a2.run(<span class="string">&quot;tom&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    Student <span class="title function_">run</span><span class="params">(String name)</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Student</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„æ„é€ "><a href="#æ•°ç»„æ„é€ " class="headerlink" title="æ•°ç»„æ„é€ "></a>æ•°ç»„æ„é€ </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">æ•°ç»„ç±»å‹::<span class="keyword">new</span></span><br></pre></td></tr></table></figure><ul><li>æ ¹æ®ç»™å®šçš„é•¿åº¦ï¼Œåˆ›å»ºä»»æ„ç±»å‹çš„æ•°ç»„å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Action</span> <span class="variable">a1</span> <span class="operator">=</span> len -&gt; <span class="keyword">new</span> <span class="title class_">int</span>[len];</span><br><span class="line">        <span class="comment">//è¿™é‡Œè¡¨ç¤ºï¼Œä½¿ç”¨intæ•°ç»„çš„æ„é€ å‡½æ•°ï¼Œæ¥å¯¹Actionæ¥å£è¿›è¡Œå®ç°</span></span><br><span class="line">        <span class="comment">//å› ä¸ºintæ•°ç»„çš„æ„é€ å‡½æ•°ï¼Œæ°å¥½æ˜¯å’Œrunæ–¹æ³•çš„å‚æ•°åˆ—è¡¨å’Œè¿”å›ç±»å‹ä¿æŒä¸€è‡´</span></span><br><span class="line">        <span class="type">Action</span> <span class="variable">a2</span> <span class="operator">=</span> <span class="type">int</span>[]::<span class="keyword">new</span>;</span><br><span class="line">        System.out.println(a2.run(<span class="number">5</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&#123;</span><br><span class="line">    <span class="type">int</span>[] run(<span class="type">int</span> len);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œæ— è®ºæ˜¯æ„é€ å™¨ï¼Œè¿˜æ˜¯æ™®é€šæ–¹æ³•ï¼Œåœ¨Lambdaè¡¨è¾¾å¼ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªå¯ä»¥å¼•ç”¨è¿‡æ¥ï¼Œå½“åšä¸€ä¸ªå‡½æ•°ï¼Œè¿™ä¸ªå‡½æ•°æœ‰å‚æ•°åˆ—è¡¨ã€å‡½æ•°ä¸»ä½“ã€è¿”å›ç±»å‹ï¼Œå¹¶ä¸”æŠŠè¿™ä¸ªå‡½æ•°å½“åšä¸€ä¸ªå‡½æ•°å¼æ¥å£ä¸­æŠ½è±¡æ–¹æ³•çš„å®ç°ï¼</p><h1 id="Optional"><a href="#Optional" class="headerlink" title="Optional"></a>Optional</h1><blockquote><p>java.util.Optional ç±»ï¼Œæ˜¯ç”¨æ¥é˜²æ­¢<strong>NullPointerException</strong>å¼‚å¸¸çš„è¾…åŠ©ç±»å‹ï¼Œ Optional å¯¹ è±¡ä¸­å°è£…çš„å€¼ï¼Œå¯ä»¥æ˜¯ null ï¼Œä¹Ÿå¯ä»¥ä¸æ˜¯ null</p></blockquote><p>åœ¨Java8ä¹‹å‰ï¼Œä¸€ä¸ªå‡½æ•°å¯èƒ½å› ä¸ºä»£ç é€»è¾‘é—®é¢˜ï¼Œæœ€ç»ˆè¿”å›ä¸€ä¸ªnullï¼Œè¿™æ—¶å€™ç¨‹åºä¸­å¾ˆå¯èƒ½å‡ºç°ç©ºæŒ‡é’ˆå¼‚ å¸¸ã€‚è€Œåœ¨Java8ä¸­ï¼Œä¸æ¨èè¿”å› null ï¼Œè€Œæ˜¯è¿”å› <strong>Optional</strong></p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230830202310474.png" alt="image-20230830202310474"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * ofæ–¹æ³• ä¸ºénullçš„å€¼åˆ›å»ºä¸€ä¸ªOptionalå¯¹è±¡</span></span><br><span class="line"><span class="comment">        * å¦‚æœä¼ å…¥å‚æ•°ä¸ºnull,åˆ™æŠ›å‡ºNullPointerException</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        Optional&lt;String&gt; op1 = Optional.of(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * ofNullableæ–¹æ³•</span></span><br><span class="line"><span class="comment">        * ofNullableä¸ofæ–¹æ³•ç›¸ä¼¼,å”¯ä¸€çš„åŒºåˆ«æ˜¯å¯ä»¥æ¥å—å‚æ•°ä¸ºnullçš„æƒ…å†µ</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        Optional&lt;String&gt; op2 = Optional.ofNullable(<span class="literal">null</span>);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * isPresentæ–¹æ³• å¦‚æœå€¼å­˜åœ¨è¿”å›true,å¦åˆ™è¿”å›false</span></span><br><span class="line"><span class="comment">        * getæ–¹æ³• å¦‚æœOptionalæœ‰å€¼åˆ™å°†å…¶è¿”å›,å¦åˆ™æŠ›å‡ºNoSuchElementException</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        <span class="keyword">if</span>(op1.isPresent())&#123;</span><br><span class="line">            System.out.println(op1.get());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>(op2.isPresent())&#123;</span><br><span class="line">            System.out.println(op2.get());</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * ifPresentæ–¹æ³• å¦‚æœOptionalå®ä¾‹æœ‰å€¼åˆ™ä¸ºå…¶è°ƒç”¨Consumeræ¥å£ä¸­çš„æ–¹æ³•,å¦åˆ™ä¸åšå¤„ç†</span></span><br><span class="line"><span class="comment">        * Consumer:</span></span><br><span class="line"><span class="comment">        * public void accept(T t);</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        op1.ifPresent(str-&gt;System.out.println(str));</span><br><span class="line">        op2.ifPresent(str-&gt;System.out.println(str));<span class="comment">//è¿™ä¸ªä¸æ‰§è¡Œ å› ä¸ºop2é‡Œé¢çš„å€¼æ˜¯null</span></span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * orElseæ–¹æ³• å¦‚æœæœ‰å€¼åˆ™å°†å…¶è¿”å›,å¦åˆ™è¿”å›æŒ‡å®šçš„å…¶å®ƒå€¼</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        System.out.println(op1.orElse(<span class="string">&quot;å¦‚æœop1ä¸­çš„å€¼ä¸ºnullåˆ™è¿”å›è¿™å¥è¯&quot;</span>));</span><br><span class="line">        System.out.println(op2.orElse(<span class="string">&quot;å¦‚æœop2ä¸­çš„å€¼ä¸ºnullåˆ™è¿”å›è¿™å¥è¯&quot;</span>));</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * orElseGetæ–¹æ³• orElseGetä¸orElseæ–¹æ³•ç±»ä¼¼,åŒºåˆ«åœ¨äºå¾—åˆ°çš„é»˜è®¤å€¼çš„æ–¹å¼ä¸åŒ</span></span><br><span class="line"><span class="comment">        * Supplier:</span></span><br><span class="line"><span class="comment">        * public T get();</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        System.out.println(op1.orElseGet(()-&gt;<span class="string">&quot;è‡ªå·±å®šä¹‰çš„è¿”å›å€¼&quot;</span>));</span><br><span class="line">        System.out.println(op2.orElseGet(()-&gt;<span class="string">&quot;è‡ªå·±å®šä¹‰çš„è¿”å›å€¼&quot;</span>));</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * mapæ–¹æ³• å¦‚æœæœ‰å€¼,åˆ™è°ƒç”¨mapperçš„å‡½æ•°å¤„ç†å¹¶å¾—åˆ°è¿”å›å€¼</span></span><br><span class="line"><span class="comment">        * è¿”å›å€¼å¹¶ä¸”ä¾ç„¶OptionalåŒ…è£¹èµ·æ¥,å…¶æ³›å‹å’Œä½ è¿”å›å€¼çš„ç±»å‹ä¸€è‡´</span></span><br><span class="line"><span class="comment">        * public &lt;U&gt; Optional&lt;U&gt; map(Function&lt;? super T, ? extends U&gt; mapper)</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        Optional&lt;Integer&gt; map1 = op1.map(str-&gt;<span class="number">1</span>);</span><br><span class="line">        System.out.println(map1.orElse(<span class="number">0</span>));</span><br><span class="line">        Optional&lt;Double&gt; map2 = op2.map(str-&gt;<span class="number">1.2</span>);</span><br><span class="line">        System.out.println(map2.orElse(<span class="number">0D</span>));</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * flatMapæ–¹æ³• å¦‚æœæœ‰å€¼,åˆ™è°ƒç”¨mapperçš„å‡½æ•°è¿”å›Optionalç±»å‹è¿”å›å€¼,å¦åˆ™è¿”å›ç©º</span></span><br><span class="line"><span class="comment">        Optional</span></span><br><span class="line"><span class="comment">        * flatMapä¸mapæ–¹æ³•ç±»ä¼¼,åŒºåˆ«åœ¨äºflatMapä¸­çš„mapperè¿”å›å€¼å¿…é¡»æ˜¯Optional</span></span><br><span class="line"><span class="comment">        * è°ƒç”¨ç»“æŸæ—¶,flatMapä¸ä¼šå¯¹ç»“æœç”¨Optionalå°è£…,éœ€è¦æˆ‘ä»¬è‡ªå·±æŠŠè¿”å›å€¼å°è£…ä¸ºOptional</span></span><br><span class="line"><span class="comment">        * public &lt;U&gt; Optional&lt;U&gt; flatMap(Function&lt;? super T,Optional&lt;U&gt;&gt;</span></span><br><span class="line"><span class="comment">        mapper);</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        Optional&lt;String&gt; flatMap = op1.flatMap(str-&gt;Optional.of(str+<span class="string">&quot;_briup&quot;</span>));</span><br><span class="line">        System.out.println(flatMap.get());</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">* filteræ–¹æ³• å¦‚æœæœ‰å€¼å¹¶ä¸”æ»¡è¶³æ–­è¨€æ¡ä»¶è¿”å›åŒ…å«è¯¥å€¼çš„Optional,å¦åˆ™è¿”å›ç©ºOptional</span></span><br><span class="line"><span class="comment">* public Optional&lt;T&gt; filter(Predicate&lt;? super T&gt; predicate);</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">        op1 = op1.filter(str-&gt;str.length()&lt;<span class="number">10</span>);</span><br><span class="line">        System.out.println(op1.orElse(<span class="string">&quot;å€¼ä¸ºnull&quot;</span>));</span><br><span class="line">        op1 = op1.filter(str-&gt;str.length()&gt;<span class="number">10</span>);</span><br><span class="line">        System.out.println(op1.orElse(<span class="string">&quot;å€¼ä¸ºnull&quot;</span>));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h1 id="Stream"><a href="#Stream" class="headerlink" title="Stream"></a>Stream</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230830214424150.png" alt="image-20230830214424150"></p><p>Streamæ“ä½œåˆ†ä¸ºä¸­é—´æ“ä½œæˆ–è€…æœ€ç»ˆæ“ä½œä¸¤ç§ï¼š</p><ul><li>ä¸­é—´æ“ä½œï¼šè¿”å›Streamæœ¬èº«ï¼Œè¿™æ ·å°±å¯ä»¥å°†å¤šä¸ªæ“ä½œä¾æ¬¡ä¸²èµ·æ¥</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mapã€flatMapã€filterã€distinctã€sortedã€peekã€limitã€skipã€parallelã€sequentialã€unordered</span><br></pre></td></tr></table></figure><ul><li>æœ€ç»ˆæ“ä½œï¼šè¿”å›ä¸€ç‰¹å®šç±»å‹çš„è®¡ç®—ç»“æœ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">forEachã€forEachOrderedã€toArrayã€reduceã€collectã€minã€maxã€countã€anyMatchã€allMatchã€noneMatchã€findFirstã€findAnyã€iterator</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(list,<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>,<span class="number">6</span>,<span class="number">7</span>,<span class="number">8</span>,<span class="number">9</span>,<span class="number">10</span>);</span><br><span class="line">        list = list.stream() <span class="comment">//æŠŠé›†åˆlistå˜ä¸ºstream</span></span><br><span class="line">            .filter(e-&gt;e%<span class="number">2</span>==<span class="number">0</span>) <span class="comment">//è¿‡æ»¤ï¼Œä¿ç•™å¶æ•°</span></span><br><span class="line">            .sorted((e1,e2)-&gt;e2-e1) <span class="comment">//æ’åºï¼Œå€’åº</span></span><br><span class="line">            .collect(Collectors.toList()); <span class="comment">//ç»“æœæ”¶é›†åˆ°ä¸€ä¸ªæ–°çš„Listé›†åˆä¸­å¹¶è¿”å›</span></span><br><span class="line">            System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// [10, 8, 6, 4, 2]</span></span><br></pre></td></tr></table></figure><p>ä¼˜é›…ã€ç®€æ´</p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230830215947132.png" alt="image-20230830215947132"></p><h2 id="å…¶ä»–è½¬Stream"><a href="#å…¶ä»–è½¬Stream" class="headerlink" title="å…¶ä»–è½¬Stream"></a>å…¶ä»–è½¬Stream</h2><p>å¯ä»¥å°†ç°æœ‰çš„æ•°æ®ï¼Œè½¬æ¢ä¸ºStreamå¯¹è±¡ï¼Œç„¶åå†ä½¿ç”¨Streamçš„APIå¯¹æ•°æ®è¿›è¡Œä¸€äº›ç³»åˆ—æ“ä½œ</p><h3 id="å€¼"><a href="#å€¼" class="headerlink" title="å€¼"></a>å€¼</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        String[] arr = &#123;<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>&#125;;</span><br><span class="line">        Stream&lt;String&gt; stream1 = Arrays.stream(arr);</span><br><span class="line">        Stream&lt;String&gt; stream2 = Stream.of(arr);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Collections.addAll(list,<span class="string">&quot;a&quot;</span>, <span class="string">&quot;b&quot;</span>, <span class="string">&quot;c&quot;</span>);</span><br><span class="line">        Stream&lt;String&gt; stream = list.stream();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><blockquote><p>æ³¨æ„ï¼Œåªè¦æ˜¯Collectionç±»å‹çš„é›†åˆï¼Œéƒ½å¯ä»¥è°ƒç”¨stream()æ–¹æ³•ï¼Œå°†é›†åˆè½¬æ¢ä¸ºStreamå¯¹è±¡</p></blockquote><h3 id="åŸºæœ¬ç±»å‹"><a href="#åŸºæœ¬ç±»å‹" class="headerlink" title="åŸºæœ¬ç±»å‹"></a>åŸºæœ¬ç±»å‹</h3><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230830220446043.png" alt="image-20230830220446043"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">IntStream</span> <span class="variable">stream1</span> <span class="operator">=</span> IntStream.of(<span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;);</span><br><span class="line">        <span class="comment">//[1,3)</span></span><br><span class="line">        <span class="type">IntStream</span> <span class="variable">stream2</span> <span class="operator">=</span> IntStream.range(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">        <span class="comment">//[1,3]</span></span><br><span class="line">        <span class="type">IntStream</span> <span class="variable">stream3</span> <span class="operator">=</span> IntStream.rangeClosed(<span class="number">1</span>, <span class="number">3</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Streamè½¬å…¶ä»–"><a href="#Streamè½¬å…¶ä»–" class="headerlink" title="Streamè½¬å…¶ä»–"></a>Streamè½¬å…¶ä»–</h2><blockquote><p>ä½¿ç”¨Streamçš„APIå¯¹æ•°æ®æ“ä½œåï¼Œè¿˜å¯ä»¥æŠŠç»“æœè½¬æ¢ä¸ºå…¶ä»–ç±»å‹</p></blockquote><h3 id="æ•°ç»„-1"><a href="#æ•°ç»„-1" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        * &lt;A&gt; A[] toArray(IntFunction&lt;A[]&gt; generator);</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * public interface IntFunction&lt;R&gt; &#123;</span></span><br><span class="line"><span class="comment">        * R apply(int value);</span></span><br><span class="line"><span class="comment">        * &#125;</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        String[] strArray = stream.toArray(String[]::<span class="keyword">new</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="é›†åˆ-1"><a href="#é›†åˆ-1" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        List&lt;String&gt; list1 = stream.collect(Collectors.toList());</span><br><span class="line">        <span class="comment">// åˆ›å»ºæŒ‡å®šç±»å‹çš„List</span></span><br><span class="line">        <span class="comment">// List&lt;String&gt; list2 = stream.collect(Collectors.toCollection(ArrayList::new));</span></span><br><span class="line">        Set&lt;String&gt; set3 = stream.collect(Collectors.toSet());</span><br><span class="line">        <span class="comment">// åˆ›å»ºæŒ‡å®šç±»å‹çš„Set</span></span><br><span class="line">        <span class="comment">//Set&lt;String&gt; set4 = stream.collect(Collectors.toCollection(HashSet::new));</span></span><br><span class="line">    &#125;  </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œä¸€ä¸ªStreamåœ¨ä»£ç ä¸­ï¼Œåªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå†æ¬¡ä½¿ç”¨å°±ä¼šæŠ¥é”™</p><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230830222023406.png" alt="image-20230830222023406"></p><h3 id="å­—ç¬¦ä¸²"><a href="#å­—ç¬¦ä¸²" class="headerlink" title="å­—ç¬¦ä¸²"></a>å­—ç¬¦ä¸²</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;truman&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">result</span> <span class="operator">=</span> stream.collect(Collectors.joining(<span class="string">&quot;-&quot;</span>));</span><br><span class="line">        System.out.println(result); <span class="comment">// hello-world-truman</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="Streamæ“ä½œ"><a href="#Streamæ“ä½œ" class="headerlink" title="Streamæ“ä½œ"></a>Streamæ“ä½œ</h2><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230830222717813.png" alt="image-20230830222717813"></p><h3 id="æœ€ç»ˆæ“ä½œ"><a href="#æœ€ç»ˆæ“ä½œ" class="headerlink" title="æœ€ç»ˆæ“ä½œ"></a>æœ€ç»ˆæ“ä½œ</h3><ul><li>iterator ï¼Œ è¿”å›è¿­ä»£å™¨å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        Iterator&lt;String&gt; it = stream.iterator();</span><br><span class="line">        <span class="keyword">while</span>(it.hasNext())&#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>forEach ï¼Œå°†è°ƒStreamä¸­çš„æ¯ä¸ªå…ƒç´ ï¼Œäº¤ç»™ä¸€ä¸ªConsumerå‡½æ•°å¤„ç†</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        stream.forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>count : ç»Ÿè®¡æµä¸­çš„å…ƒç´ æ•°ï¼Œå¹¶è¿”å›ç»“æœ</p></li><li><p>max : è¿”å›æµä¸­åŸºäºcomparatoræ‰€æŒ‡å®šçš„æ¯”è¾ƒè§„åˆ™ï¼Œæ¯”è¾ƒå‡ºçš„æœ€å¤§å€¼</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        <span class="comment">/**</span></span><br><span class="line"><span class="comment">        *</span></span><br><span class="line"><span class="comment">        * Optional&lt;String&gt; max = stream.max(new Comparator&lt;String&gt;() &#123;</span></span><br><span class="line"><span class="comment">        * <span class="doctag">@Override</span></span></span><br><span class="line"><span class="comment">        * public int compare(String o1, String o2) &#123;</span></span><br><span class="line"><span class="comment">        * return o1.compareTo(o2);</span></span><br><span class="line"><span class="comment">        * &#125;</span></span><br><span class="line"><span class="comment">        * &#125;);</span></span><br><span class="line"><span class="comment">        */</span></span><br><span class="line">        Optional&lt;String&gt; max = stream.max(String::compareTo);</span><br><span class="line">        System.out.println(max.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><p>min ï¼Œè¿”å›æµä¸­åŸºäºcomparatoræ‰€æŒ‡å®šçš„æ¯”è¾ƒè§„åˆ™ï¼Œæ¯”è¾ƒå‡ºçš„æœ€å°å€¼</p></li><li><p>toArray : ä½¿ç”¨è°ƒç”¨æµä¸­çš„å…ƒç´ ï¼Œç”Ÿæˆæ•°ç»„è¿”å›ã€‚</p></li><li><p>collect ï¼Œå°†å…ƒç´ æ”¶é›†åˆ°ä¸€ä¸ªå¯ä»¥ä¿®æ”¹çš„å®¹å™¨ä¸­ï¼Œå¹¶è¿”å›è¯¥å®¹å™¨</p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        List&lt;String&gt; list1 = stream.collect(Collectors.toList());</span><br><span class="line">        <span class="comment">//List&lt;String&gt; list2 = stream.collect(Collectors.toCollection(ArrayList::new));</span></span><br><span class="line">        <span class="comment">//Set&lt;String&gt; set3 = stream.collect(Collectors.toSet());</span></span><br><span class="line">        <span class="comment">//Set&lt;String&gt; set4 = stream.collect(Collectors.toCollection(HashSet::new));</span></span><br><span class="line">        <span class="comment">//String result = stream.collect(Collectors.joining(&quot;-&quot;));</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;java&quot;</span>, <span class="string">&quot;tom&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;javascript&quot;</span>);</span><br><span class="line">        <span class="comment">//æŠŠStreamä¸­çš„å…ƒç´ ï¼ŒæŒ‰ç…§å­—ç¬¦ä¸²é•¿åº¦è¿›è¡Œåˆ†ç»„ï¼Œé•¿åº¦ç›¸åŒç®—æ˜¯ä¸€ç»„ï¼Œå¹¶å­˜æ”¾åˆ°åŒä¸€ä¸ªé›†åˆä¸­</span></span><br><span class="line">        <span class="comment">//mapçš„keyæ˜¯å­—ç¬¦ä¸²çš„é•¿åº¦ï¼Œvalueæ˜¯åŒä¸€ç»„çš„æ•°æ®</span></span><br><span class="line">        Map&lt;Integer, List&lt;String&gt;&gt; map = stream.collect(Collectors.groupingBy(String::length));</span><br><span class="line">        map.forEach((k, v) -&gt; System.out.println(k + <span class="string">&quot; : &quot;</span> + v));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 : [C]</span></span><br><span class="line"><span class="comment">// 3 : [tom]</span></span><br><span class="line"><span class="comment">// 4 : [test, java]</span></span><br><span class="line"><span class="comment">// 5 : [hello, world]</span></span><br><span class="line"><span class="comment">// 10 : [javascript]</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>, <span class="string">&quot;hello&quot;</span>, <span class="string">&quot;world&quot;</span>, <span class="string">&quot;java&quot;</span>, <span class="string">&quot;tom&quot;</span>, <span class="string">&quot;C&quot;</span>, <span class="string">&quot;javascript&quot;</span>);</span><br><span class="line">        <span class="comment">//æŠŠStreamä¸­çš„å…ƒç´ ï¼ŒæŒ‰ç…§æŒ‡å®šæ¡ä»¶åˆ†å‰²æˆä¿©ç»„ï¼Œæ¡ä»¶è¿”å›trueæ˜¯ä¸€ç»„ï¼Œæ¡ä»¶è¿”å›falseæ˜¯å¦ä¸€ç»„</span></span><br><span class="line">        <span class="comment">//mapçš„keyæ˜¯trueæˆ–è€…falseï¼Œvalueæ˜¯å¯¹åº”çš„æ•°æ®</span></span><br><span class="line">        <span class="comment">//æŒ‰ç…§æ•°æ®ä¸­æ˜¯å¦åŒ…å«&quot;java&quot;å­—ç¬¦ä¸²æ¥è¿›è¡Œåˆ’åˆ†</span></span><br><span class="line">        Map&lt;Boolean, List&lt;String&gt;&gt; map = stream.collect(Collectors.partitioningBy(s -&gt; s.indexOf(<span class="string">&quot;java&quot;</span>) != -<span class="number">1</span>));</span><br><span class="line">        map.forEach((k, v) -&gt; System.out.println(k + <span class="string">&quot; : &quot;</span> + v));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// false : [test, hello, world, tom, C]</span></span><br><span class="line"><span class="comment">// true : [java, javascript]</span></span><br></pre></td></tr></table></figure><ul><li>Match ï¼ŒåŒ¹é…æ“ä½œï¼ŒStreamä¸­æä¾›äº†å¤šç§åŒ¹é…æ¨¡å¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>,<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;tom&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;javascript&quot;</span>);</span><br><span class="line">        <span class="comment">//æ‰€æœ‰å…ƒç´ åŒ¹é…æˆåŠŸæ‰è¿”å›true å¦åˆ™è¿”å›false</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">allMatch</span> <span class="operator">=</span> stream.allMatch((s)-&gt;s.startsWith(<span class="string">&quot;j&quot;</span>));</span><br><span class="line">        System.out.println(allMatch);</span><br><span class="line">        <span class="comment">//ä»»æ„ä¸€ä¸ªåŒ¹é…æˆåŠŸå°±è¿”å›true å¦åˆ™è¿”å›false</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">anyMatch</span> <span class="operator">=</span> stream.anyMatch((s)-&gt;s.startsWith(<span class="string">&quot;j&quot;</span>));</span><br><span class="line">        System.out.println(anyMatch);</span><br><span class="line">        <span class="comment">//æ²¡æœ‰ä¸€ä¸ªåŒ¹é…çš„å°±è¿”å›true å¦åˆ™è¿”å›false</span></span><br><span class="line">        <span class="type">boolean</span> <span class="variable">noneMatch</span> <span class="operator">=</span> stream.noneMatch((s)-&gt;s.startsWith(<span class="string">&quot;j&quot;</span>));</span><br><span class="line">        System.out.println(noneMatch);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™äº›æ“ä½œä¸èƒ½åŒæ—¶æ‰§è¡Œï¼Œå› ä¸ºä¸€ä¸ªStreamåªèƒ½ä½¿ç”¨ä¸€æ¬¡</p><ul><li>findFirst ï¼Œè¿”å› Streamçš„ç¬¬ä¸€ä¸ªå…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>,<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;tom&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;javascript&quot;</span>);</span><br><span class="line">        Optional&lt;String&gt; first = stream.findFirst();</span><br><span class="line">        System.out.println(first.get());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ä¸­é—´æ“ä½œ"><a href="#ä¸­é—´æ“ä½œ" class="headerlink" title="ä¸­é—´æ“ä½œ"></a>ä¸­é—´æ“ä½œ</h3><ul><li>filter ï¼Œ è¿‡æ»¤æ–¹æ³•ï¼Œè¿”å›æ»¡è¶³predicateæŒ‡å®šçš„æ¡ä»¶çš„æ‰€æœ‰å…ƒç´ çš„ä¸€ä¸ªæ–°æµ</li><li>map ï¼Œ å¯¹è°ƒç”¨æµä¸­çš„å…ƒç´ ï¼Œåº”ç”¨Functionæ‰€æŒ‡å®šçš„æ“ä½œï¼Œç„¶åè¿”å›ä¸€ä¸ªæ–°æµ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; nameStream = Stream.of(<span class="string">&quot;lwsj&quot;</span>, <span class="string">&quot;truman&quot;</span>, <span class="string">&quot;peter&quot;</span>, <span class="string">&quot;parker&quot;</span>);</span><br><span class="line"><span class="comment">// æŠŠå­—ç¬¦ä¸²æµè½¬ä¸º -&gt; lengthæµ -&gt; List&lt;Integer&gt;</span></span><br><span class="line"><span class="comment">// mapç”Ÿæˆçš„æ˜¯ä¸ª1:1æ˜ å°„ï¼Œæ¯ä¸ªè¾“å…¥å…ƒç´ ï¼Œéƒ½æŒ‰ç…§è§„åˆ™è½¬æ¢æˆä¸ºå¦å¤–ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">List&lt;Integer&gt; collect = nameStream.map(s -&gt; s.length()).collect(Collectors.toList());</span><br><span class="line"><span class="keyword">for</span> (Integer integer : collect) &#123;</span><br><span class="line">    System.out.println(integer);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>map æ–¹æ³•å¯ä»¥å’Œ reduce æ–¹æ³•é…åˆä½¿ç”¨ï¼Œ reduce æ–¹æ³•æ˜¯å°†ä¸€ç»„æ•°æ®ä¿©ä¿©åˆå¹¶ï¼Œæœ€åå¾—å‡ºä¸€ä¸ªç»“æœï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1~10ä¹‹é—´çš„æ•°å­—ç´¯åŠ </span></span><br><span class="line"><span class="type">IntStream</span> <span class="variable">stream</span> <span class="operator">=</span> IntStream.rangeClosed(<span class="number">1</span>, <span class="number">10</span>);</span><br><span class="line"><span class="comment">//reduceæ–¹æ³•éœ€è¦æä¾›ä¸€ä¸ªèµ·å§‹å€¼(ç§å­)</span></span><br><span class="line"><span class="comment">//ç„¶åä¾ç…§è¿ç®—è§„åˆ™,å’ŒStreamä¸­çš„ç¬¬ä¸€ä¸ªæ•°æ®è¿›è¡Œæ“ä½œï¼Œå¾—å‡ºç»“æœ</span></span><br><span class="line"><span class="comment">//å†å°†è¿™ä¸ªç»“æœå’ŒStreamä¸­çš„ç¬¬äºŒä¸ªæ•°æ®è¿›è¡Œæ“ä½œï¼Œå†å¾—å‡ºç»“æœï¼Œä¾æ¬¡ç±»æ¨ï¼Œç›´åˆ°å¾—å‡ºæœ€ç»ˆç»“æœ</span></span><br><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> stream.reduce(<span class="number">0</span>, (a, b) -&gt; a + b);</span><br><span class="line">System.out.println(result);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;tom&quot;</span>, <span class="string">&quot;mary&quot;</span>, <span class="string">&quot;lucy&quot;</span>);</span><br><span class="line"><span class="comment">//mapæ–¹æ³•ä¸­ï¼Œè®©æ¯ä¸€ä¸ªæ•°æ®åŠ ä¸Šå‰ç¼€</span></span><br><span class="line"><span class="comment">//reduceæ–¹æ³•ä¸­ï¼Œå°†æ¯ä¸ªæ•°æ®ä½¿ç”¨|æ‹¼æ¥åˆå¹¶åœ¨ä¸€èµ·</span></span><br><span class="line"><span class="comment">//reduceæ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ²¡æœ‰èµ·å§‹å€¼ï¼Œç›´æ¥å¯¹Streamä¸­çš„æ•°æ®è¿›è¡Œä¿©ä¿©æ“ä½œ</span></span><br><span class="line">Optional&lt;String&gt; result = stream.map(str -&gt; <span class="string">&quot;Truman_&quot;</span> + str)</span><br><span class="line">    .reduce((s1, s2) -&gt; s1 + <span class="string">&quot;|&quot;</span> + s2);</span><br><span class="line">System.out.println(result.get());</span><br></pre></td></tr></table></figure><ul><li>sorted ï¼Œ æ’åº</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line"><span class="comment">//é»˜è®¤è‡ªç„¶æ’åº</span></span><br><span class="line">stream.sorted().forEach(System.out::println);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;briup&quot;</span>);</span><br><span class="line"><span class="comment">//æ¯”è¾ƒå™¨æ’åºï¼Œæ³¨æ„Lambdaè¡¨è¾¾å¼ä¸­è¿”å›çš„å€¼å‰åŠ äº†ç¬¦å· ï¼ˆè‡ªå®šä¹‰æ¯”è¾ƒè§„åˆ™ï¼‰</span></span><br><span class="line">stream.sorted((o1, o2) -&gt; - o1.compareTo(o2)).forEach(System.out::println);</span><br></pre></td></tr></table></figure><ul><li>limit ï¼Œè¿”å› Stream çš„å‰é¢ n ä¸ªå…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>,<span class="string">&quot;javap&quot;</span>,<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;tom&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;javascript&quot;</span>);</span><br><span class="line">stream.limit(<span class="number">5</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure><ul><li>skip ï¼Œ è·³è¿‡å‰ n ä¸ªå…ƒç´ åªè¦åé¢çš„å…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>,<span class="string">&quot;javap&quot;</span>,<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;tom&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;javascript&quot;</span>);</span><br><span class="line">stream.skip(<span class="number">5</span>).forEach(System.out::println);</span><br></pre></td></tr></table></figure><ul><li>distinct ï¼Œå»é™¤é‡å¤æ•°æ®</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;test&quot;</span>,<span class="string">&quot;test&quot;</span>,<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;java&quot;</span>,<span class="string">&quot;C&quot;</span>,<span class="string">&quot;C&quot;</span>);</span><br><span class="line">stream.distinct().forEach(System.out::println)</span><br></pre></td></tr></table></figure><h3 id="é™æ€æ–¹æ³•-1"><a href="#é™æ€æ–¹æ³•-1" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h3><ul><li>concat ï¼Œæ‹¼æ¥ä¸¤ä¸ªæµ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream1 = Stream.of(<span class="string">&quot;hello&quot;</span>,<span class="string">&quot;world&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream2 = Stream.of(<span class="string">&quot;tom&quot;</span>,<span class="string">&quot;mary&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; result = Stream.concat(stream1, stream2);</span><br><span class="line">result.forEach(System.out::println);</span><br></pre></td></tr></table></figure><ul><li>Stream.generate ï¼Œé€šè¿‡Supplieræ¥å£,å¯ä»¥è‡ªå·±æ¥æ§åˆ¶æ•°æ®çš„ç”Ÿæˆ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span>&lt;T&gt; Stream&lt;T&gt; <span class="title function_">generate</span><span class="params">(Supplier&lt;T&gt; s)</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">final</span> <span class="type">Random</span> <span class="variable">random</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line"><span class="comment">//ç”Ÿæˆ100ä¸ªéšæœºæ•°,å¹¶è¾“å‡º</span></span><br><span class="line">Stream.generate(()-&gt;random.nextInt(<span class="number">100</span>))</span><br><span class="line">    .limit(<span class="number">100</span>)</span><br><span class="line">    .forEach(System.out::println);</span><br><span class="line"><span class="comment">//ç”Ÿæˆ100ä¸ªéšæœºæ•°,å¹¶å­˜æ”¾åˆ°é›†åˆä¸­</span></span><br><span class="line">List&lt;Integer&gt; list = Stream.generate(()-&gt;random.nextInt(<span class="number">100</span>))</span><br><span class="line">    .limit(<span class="number">100</span>)</span><br><span class="line">    .collect(Collectors.toList());</span><br></pre></td></tr></table></figure><ul><li>Stream.iterate</li></ul><p><img src="/2023/08/29/expand-02-jdk8%E6%96%B0%E7%89%B9%E6%80%A7/image-20230831091821908.png" alt="image-20230831091821908"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// UnaryOperatorï¼šä¸€å…ƒè¿ç®—ç¬¦</span></span><br><span class="line">        <span class="comment">// ç”Ÿæˆä¸€ä¸ªç­‰å·®æ•°åˆ—ï¼Œå…¬å·®ä¸º3ï¼Œä»0å¼€å§‹è·å–å‰10ä¸ªæ•°å­—</span></span><br><span class="line">        Stream.iterate(<span class="number">0</span>, n -&gt; n+<span class="number">3</span>)</span><br><span class="line">                .limit(<span class="number">10</span>)</span><br><span class="line">                .forEach(System.out::println);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="IOæµå’ŒStream"><a href="#IOæµå’ŒStream" class="headerlink" title="IOæµå’ŒStream"></a>IOæµå’ŒStream</h2><p>åœ¨IOæµä¸­ï¼Œä¹Ÿæœ‰æ–¹æ³•ï¼Œå¯ä»¥å°†è¯»å–åˆ°çš„æ•°æ®è½¬æ¢ä¸ºStreamå¯¹è±¡</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReader</span> <span class="keyword">extends</span> <span class="title class_">Reader</span> &#123;</span><br><span class="line">    <span class="comment">//@since 1.8</span></span><br><span class="line">    <span class="keyword">public</span> Stream&lt;String&gt; <span class="title function_">lines</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//..</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src/dir/a.txt&quot;</span>));</span><br><span class="line">        <span class="type">int</span> <span class="variable">maxLen</span> <span class="operator">=</span> br.lines() <span class="comment">//ioæµè½¬ä¸ºStream</span></span><br><span class="line">                .mapToInt(String::length) <span class="comment">//æ¯è¡Œå­—ç¬¦ä¸²è½¬æ¢ä¸ºå®ƒçš„å­—ç¬¦é•¿åº¦</span></span><br><span class="line">                .max() <span class="comment">//è·å–æœ€å¤§é•¿åº¦çš„æ•°å­—</span></span><br><span class="line">                .getAsInt();<span class="comment">//è¿”å›intç±»å‹çš„ç»“æœ</span></span><br><span class="line">        System.out.println(maxLen);</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="å¹¶è¡Œæµ"><a href="#å¹¶è¡Œæµ" class="headerlink" title="å¹¶è¡Œæµ"></a>å¹¶è¡Œæµ</h2><p>Streamæœ‰ä¸²è¡Œå’Œå¹¶è¡Œä¸¤ç§ã€‚ä¸²è¡ŒStreamä¸Šçš„æ“ä½œæ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹ä¸­ä¾æ¬¡å®Œæˆï¼Œè€Œå¹¶è¡ŒStreamåˆ™æ˜¯åœ¨å¤š ä¸ªçº¿ç¨‹ä¸ŠåŒæ—¶æ‰§è¡Œã€‚</p><p>åˆ›å»ºå¹¶è¡ŒStreamçš„ä¸¤ç§æ–¹å¼ï¼š</p><ul><li>è°ƒç”¨ä¸²è¡ŒStreamçš„ parallel()æ–¹æ³•ï¼Œå¯ä»¥å°†å…¶è½¬æ¢å¹¶è¡ŒStream</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Stream&lt;String&gt; stream = Stream.of(<span class="string">&quot;truman&quot;</span>, <span class="string">&quot;peter&quot;</span>, <span class="string">&quot;parker&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; parallel = stream.parallel();</span><br></pre></td></tr></table></figure><ul><li>è°ƒç”¨é›†åˆå¯¹è±¡çš„parallelStreamæ–¹æ³•ï¼Œä¹‹åè·å–å¹¶è¡ŒStream</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">Collections.addAll(list, <span class="string">&quot;truman&quot;</span>,<span class="string">&quot;perter&quot;</span>,<span class="string">&quot;parker&quot;</span>);</span><br><span class="line">Stream&lt;String&gt; stream = list.parallelStream();</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> FileNotFoundException &#123;</span><br><span class="line">        <span class="comment">//ç”Ÿæˆ200ä¸‡ä¸ªä¸åŒçš„å­—ç¬¦ä¸²æ”¾åˆ°é›†åˆä¸­</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">maxx</span> <span class="operator">=</span> <span class="number">2000000</span>;</span><br><span class="line">        List&lt;UUID&gt; collect = Stream.generate(UUID::randomUUID)</span><br><span class="line">            .limit(maxx)</span><br><span class="line">            .collect(Collectors.toList());</span><br><span class="line"></span><br><span class="line">        <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        <span class="comment">// ä¸²è¡ŒStream</span></span><br><span class="line">        <span class="comment">// long count = collect.stream().sorted().count(); // 822ms</span></span><br><span class="line">        <span class="comment">// å¹¶è¡ŒStream</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">count</span> <span class="operator">=</span> collect.parallelStream().sorted().count(); <span class="comment">// 381ms</span></span><br><span class="line">        <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----costTime: &quot;</span> + (endTime - startTime) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œåœ¨æ•°æ®é‡è¾ƒå¤§çš„ç‰¹å®šåœºæ™¯ä¸‹ï¼Œå¹¶è¡ŒStreamæ¯”ä¸²è¡ŒStreamçš„æ•ˆç‡è¦é«˜ä¸€äº›</p><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ç«‹å¿—æ¬²åšä¸æ¬²é”ï¼ŒæˆåŠŸåœ¨ä¹…ä¸åœ¨é€Ÿâ€”â€”å®‹.å¼ å­ç¥¥ ã€Šè®ºæ²»ä½“æœ­å­ã€‹ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> jdk8 </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>expand-01-æ·±å…¥Javaè™šæ‹Ÿæœº</title>
      <link href="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/"/>
      <url>/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJVMã€JDKæºç ã€é«˜å¹¶å‘ã€MySqlä¼˜åŒ–</p></blockquote><h1 id="è™šæ‹Ÿæœºæ¦‚è¿°"><a href="#è™šæ‹Ÿæœºæ¦‚è¿°" class="headerlink" title="è™šæ‹Ÿæœºæ¦‚è¿°"></a>è™šæ‹Ÿæœºæ¦‚è¿°</h1><h2 id="å‘å±•å†ç¨‹"><a href="#å‘å±•å†ç¨‹" class="headerlink" title="å‘å±•å†ç¨‹"></a>å‘å±•å†ç¨‹</h2><h3 id="Java-å¾€äº‹"><a href="#Java-å¾€äº‹" class="headerlink" title="Java å¾€äº‹"></a>Java å¾€äº‹</h3><p> <img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826134742280.png" alt="image-20230826134742280"></p><h3 id="ç‰ˆæœ¬è¿­ä»£"><a href="#ç‰ˆæœ¬è¿­ä»£" class="headerlink" title="ç‰ˆæœ¬è¿­ä»£"></a>ç‰ˆæœ¬è¿­ä»£</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826135315287.png" alt="image-20230826135315287"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826135329908.png" alt="image-20230826135329908"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826135619860.png" alt="image-20230826135619860"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826135651540.png" alt="image-20230826135651540"></p><h3 id="ä¸¤ç§JDK"><a href="#ä¸¤ç§JDK" class="headerlink" title="ä¸¤ç§JDK"></a>ä¸¤ç§JDK</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826135720684.png" alt="image-20230826135720684"></p><h2 id="JVMä½“ç³»"><a href="#JVMä½“ç³»" class="headerlink" title="JVMä½“ç³»"></a>JVMä½“ç³»</h2><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826135936718.png" alt="image-20230826135936718"></p><ul><li>JDKï¼ˆJava Development Kitï¼‰æ˜¯Javaè¯­è¨€çš„è½¯ä»¶å¼€å‘å·¥å…·åŒ…ï¼Œä¹Ÿæ˜¯æ•´ä¸ªJavaå¼€å‘çš„æ ¸å¿ƒï¼Œå®ƒåŒ…å«äº†JREå’Œå¼€å‘å·¥å…·åŒ…</li><li>JREï¼ˆJava Runtime Environment), Javaè¿è¡Œç¯å¢ƒï¼ŒåŒ…å«äº†JVMå’ŒJavaçš„æ ¸å¿ƒç±»åº“ï¼ˆJava APIï¼‰</li><li>JVMï¼ˆJava virtual Machineï¼‰ï¼ŒJavaè™šæ‹Ÿæœºï¼Œå®ƒæ˜¯è¿è¡Œåœ¨æ“ä½œç³»ç»Ÿä¹‹ä¸Šçš„ï¼Œå®ƒä¸ç¡¬ä»¶æ²¡æœ‰ç›´æ¥çš„äº¤äº’</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826140354802.png" alt="image-20230826140354802"></p><blockquote><p>æ€»ç»“ï¼šJDKæ˜¯å¼€å‘äººæ°‘çš„å·¥å…·åŒ…ï¼Œå®ƒåŒ…å«äº†Javaçš„è¿è¡Œç¯å¢ƒå’Œè™šæ‹Ÿæœºï¼Œè€Œä¸€æ¬¡ç¼–åˆ°å¤„è¿è¡Œå°±æ˜¯åŸºäºJVM</p></blockquote><h2 id="å„ç§è™šæ‹Ÿæœº"><a href="#å„ç§è™šæ‹Ÿæœº" class="headerlink" title="å„ç§è™šæ‹Ÿæœº"></a>å„ç§è™šæ‹Ÿæœº</h2><h3 id="æ¸…å•"><a href="#æ¸…å•" class="headerlink" title="æ¸…å•"></a>æ¸…å•</h3><ul><li>Sun Classic VM</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826141106997.png" alt="image-20230826141106997"></p><h3 id="æŸ¥çœ‹"><a href="#æŸ¥çœ‹" class="headerlink" title="æŸ¥çœ‹"></a>æŸ¥çœ‹</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826141211102.png" alt="image-20230826141211102"></p><h2 id="JVMæ•´ä½“æ¶æ„"><a href="#JVMæ•´ä½“æ¶æ„" class="headerlink" title="JVMæ•´ä½“æ¶æ„"></a>JVMæ•´ä½“æ¶æ„</h2><h3 id="Javaè¿è¡Œè¿‡ç¨‹"><a href="#Javaè¿è¡Œè¿‡ç¨‹" class="headerlink" title="Javaè¿è¡Œè¿‡ç¨‹"></a>Javaè¿è¡Œè¿‡ç¨‹</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826141919138.png" alt="image-20230826141919138"></p><ul><li>æºç ç¼–è¯‘ï¼šé€šè¿‡Javaæºç ç¼–è¯‘å™¨å°†Javaä»£ç ç¼–è¯‘æˆJVMå­—èŠ‚ç ï¼ˆ.classæ–‡ä»¶ï¼‰</li><li>ç±»åŠ è½½ï¼šé€šè¿‡ClassLoaderåŠå…¶å­ç±»æ¥å®ŒæˆJVMçš„ç±»åŠ è½½ï¼ˆ.classæ–‡ä»¶â€”&gt;åŠ è½½â€”&gt;æ–¹æ³•åŒºä¸­ï¼‰</li><li>ç±»æ‰§è¡Œï¼šå­—èŠ‚ç è¢«è£…å…¥å†…å­˜ï¼Œè¿›å…¥JVMè™šæ‹Ÿæœºï¼Œè¢«è§£é‡Šå™¨è§£é‡Šæ‰§è¡Œ</li></ul><h3 id="JVMæ¨¡å‹"><a href="#JVMæ¨¡å‹" class="headerlink" title="JVMæ¨¡å‹"></a>JVMæ¨¡å‹</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826143643440.png" alt="image-20230826143643440"></p><ul><li>ç±»åŠ è½½å­ç³»ç»Ÿ</li></ul><p>Javaè™šæ‹ŸæœºæŠŠæè¿°ç±»çš„æ•°æ®ä»classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜ï¼Œå¹¶å¯¹æ•°æ®è¿›è¡Œæ ¡éªŒã€è½¬æ¢è§£æå’Œåˆå§‹åŒ–ï¼Œæœ€ç»ˆå½¢æˆå¯ä»¥è¢«è™šæ‹Ÿæœºç›´æ¥ä½¿ç”¨çš„Javaç±»å‹</p><ul><li>è¿è¡Œæ—¶æ•°æ®åŒº</li></ul><p>Javaè™šæ‹Ÿæœºåœ¨æ‰§è¡ŒJavaç¨‹åºçš„è¿‡ç¨‹ä¸­ä¼šæŠŠå®ƒæ‰€ç®¡ç†çš„å†…å­˜åˆ’åˆ†ä¸ºè‹¥å¹²ä¸ªä¸åŒçš„æ•°æ®åŒºåŸŸã€‚ </p><p>è¿™äº›åŒºåŸŸæœ‰å„è‡ªçš„ç”¨é€”ï¼Œä»¥åŠåˆ›å»ºå’Œé”€æ¯çš„æ—¶é—´ï¼Œæœ‰çš„åŒºåŸŸéšç€è™šæ‹Ÿæœºè¿›ç¨‹çš„å¯åŠ¨è€Œä¸€ç›´å­˜åœ¨ï¼Œæœ‰äº›åŒºåŸŸåˆ™æ˜¯ä¾èµ–ç”¨æˆ·çº¿ç¨‹çš„å¯åŠ¨å’Œç»“æŸè€Œå»ºç«‹å’Œé”€æ¯ã€‚</p><ul><li>æ‰§è¡Œå¼•æ“</li></ul><p>æ‰§è¡Œå¼•æ“ç”¨äºæ‰§è¡ŒJVMå­—èŠ‚ç æŒ‡ä»¤ï¼Œä¸»è¦æœ‰ä¸¤ç§æ–¹å¼ï¼Œè§£é‡Šæ‰§è¡Œå’Œç¼–è¯‘æ‰§è¡Œã€‚</p><p>åŒºåˆ«åœ¨äºï¼Œè§£é‡Šæ‰§è¡Œæ˜¯åœ¨æ‰§è¡Œæ—¶ç¿»è¯‘æˆè™šæ‹ŸæœºæŒ‡ä»¤æ‰§è¡Œï¼Œè€Œç¼–è¯‘æ‰§è¡Œæ˜¯åœ¨æ‰§è¡Œä¹‹å‰å…ˆè¿›è¡Œç¼–è¯‘å†æ‰§è¡Œã€‚ </p><p><strong>è§£é‡Šæ‰§è¡Œå¯åŠ¨å¿«ï¼Œæ‰§è¡Œæ•ˆç‡ä½ï¼›ç¼–è¯‘æ‰§è¡Œï¼Œå¯åŠ¨æ…¢ï¼Œæ‰§è¡Œæ•ˆç‡é«˜ã€‚</strong> </p><p>åƒåœ¾å›æ”¶å™¨è‡ªåŠ¨ç®¡ç†è¿è¡Œæ•°æ®åŒºçš„å†…å­˜ï¼Œå°†æ— ç”¨çš„å†…å­˜å ç”¨è¿›è¡Œæ¸…é™¤ï¼Œé‡Šæ”¾å†…å­˜èµ„æºã€‚</p><ul><li>æœ¬åœ°æ–¹æ³•åº“ã€æœ¬åœ°åº“æ¥å£</li></ul><p>åœ¨JDKçš„åº•å±‚ï¼Œæœ‰ä¸€äº›å®ç°éœ€è¦è°ƒç”¨æœ¬åœ°æ–¹æ³•å®Œæˆï¼ˆä½¿ç”¨Cæˆ–C++å†™çš„æ–¹æ³•ï¼‰ï¼Œå°±æ˜¯é€šè¿‡æœ¬åœ°åº“æ¥å£è°ƒç”¨ çš„ï¼Œæ¯”å¦‚System.currentTimeMillis()æ–¹æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="type">long</span> <span class="title function_">currentTimeMillis</span><span class="params">()</span>; </span><br></pre></td></tr></table></figure><h1 id="ç±»æ–‡ä»¶ç»“æ„"><a href="#ç±»æ–‡ä»¶ç»“æ„" class="headerlink" title="ç±»æ–‡ä»¶ç»“æ„"></a>ç±»æ–‡ä»¶ç»“æ„</h1><h2 id="æµ‹è¯•æ¡ˆä¾‹"><a href="#æµ‹è¯•æ¡ˆä¾‹" class="headerlink" title="æµ‹è¯•æ¡ˆä¾‹"></a>æµ‹è¯•æ¡ˆä¾‹</h2><h3 id="æºä»£ç "><a href="#æºä»£ç " class="headerlink" title="æºä»£ç "></a>æºä»£ç </h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.classfile;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClassStruct</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> <span class="string">&quot;JVM&quot;</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span>  <span class="keyword">final</span> <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> <span class="number">18</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Hello &quot;</span> + name);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="ç¼–è¯‘"><a href="#ç¼–è¯‘" class="headerlink" title="ç¼–è¯‘"></a>ç¼–è¯‘</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">javac ClassStruct.java</span><br></pre></td></tr></table></figure><h2 id="å­—èŠ‚ç ç»“æ„"><a href="#å­—èŠ‚ç ç»“æ„" class="headerlink" title="å­—èŠ‚ç ç»“æ„"></a>å­—èŠ‚ç ç»“æ„</h2><h3 id="äºŒè¿›åˆ¶æ¦‚è§ˆ"><a href="#äºŒè¿›åˆ¶æ¦‚è§ˆ" class="headerlink" title="äºŒè¿›åˆ¶æ¦‚è§ˆ"></a>äºŒè¿›åˆ¶æ¦‚è§ˆ</h3><p>1ï¼‰æ’ä»¶ä½¿ç”¨</p><blockquote><p>æœ¬äººä½¿ç”¨çš„æ˜¯notepad++ æ’ä»¶ Hex Editorï¼Œå½“ç„¶ä½ ä¹Ÿå¯ä»¥ä½¿ç”¨vsCode ä¸­çš„Hex Editorè¿™ä¸ªæ’ä»¶</p></blockquote><ul><li>vsCode</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826150751030.png" alt="image-20230826150751030"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826150823761.png" alt="image-20230826150823761"></p><ul><li>notepad++</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826150933933.png" alt="image-20230826150933933"></p><blockquote><p>æŸ¥çœ‹å­—èŠ‚ç </p></blockquote><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826151246911.png" alt="image-20230826151246911"></p><p>2ï¼‰classæ–‡ä»¶æ—¶ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶ï¼Œè½¬æ¢åä»¥16è¿›åˆ¶å±•ç¤ºï¼Œå®é™…ä¸Šclassæ–‡ä»¶å°±æ˜¯ä¸€å¼ è¡¨ï¼Œå®ƒç”±ä»¥ä¸‹æ•°æ®é¡¹æ„æˆï¼Œè¿™äº›æ•°æ®é¡¹ä»å¤´åˆ°å°¾ä¸¥æ ¼æŒ‰ç…§ä»¥ä¸‹é¡ºåºæ’åˆ—ï¼š</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826151753339.png" alt="image-20230826151753339"></p><p>classæ–‡ä»¶åªæœ‰ä¸¤ç§æ•°æ®ç±»å‹ï¼š<strong>æ— ç¬¦å·æ•°å’Œè¡¨</strong></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826152106356.png" alt="image-20230826152106356"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826152233261.png" alt="image-20230826152233261"></p><h3 id="é­”æ•°ä¸ç‰ˆæœ¬"><a href="#é­”æ•°ä¸ç‰ˆæœ¬" class="headerlink" title="é­”æ•°ä¸ç‰ˆæœ¬"></a>é­”æ•°ä¸ç‰ˆæœ¬</h3><ul><li>é­”æ•°</li></ul><p>å¼€å¤´çš„4ä¸ªå­—èŠ‚è¡¨ç¤ºçš„æ—¶é­”æ•°ï¼Œ CAFEBABA&#x3D;å’–å•¡å®å®</p><p>é­”æ•°å°±æ˜¯è¦æ¥<strong>åŒºåˆ†æ–‡ä»¶ç±»å‹çš„ä¸€ç§æ ‡å¿—</strong>ï¼Œä¸€èˆ¬éƒ½æ˜¯ç”¨æ–‡ä»¶çš„å‰å‡ ä¸ªå­—èŠ‚æ¥è¡¨ç¤º</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826152634131.png" alt="image-20230826152634131"></p><ul><li>ç‰ˆæœ¬å·</li></ul><p>ç´§è·Ÿç€é­”æ•°åé¢çš„4ä½æ˜¯ç‰ˆæœ¬å·ï¼ŒåŒæ ·ä¹Ÿæ˜¯4ä¸ªå­—èŠ‚ï¼Œå…¶ä¸­å‰2ä¸ªå­—èŠ‚è¡¨ç¤º <strong>å‰¯ç‰ˆæœ¬å·</strong> ï¼Œå2ä¸ªå­—èŠ‚è¡¨ç¤º <strong>ä¸»ç‰ˆæœ¬å·</strong> ã€‚</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826152850275.png" alt="image-20230826152850275"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826153229259.png" alt="image-20230826153229259"></p><p>åœ¨å¼€å‘ä¸­ï¼Œæœ‰æ—¶ä¼šé‡åˆ°ç±»ä¼¼<strong>Unsupported major.minor version 51.0</strong>çš„é”™è¯¯ï¼Œä¸€èˆ¬æƒ…å†µä¸‹éƒ½æ˜¯JDKç‰ˆæœ¬ä¸åŒ¹ é…é€ æˆçš„ã€‚ è™½ç„¶JDKåœ¨æ‰§è¡Œä»£ç æ—¶åŸºæœ¬ä¸Šå‘ä¸‹å…¼å®¹ï¼Œä½†å¼€å‘ç¯å¢ƒå’ŒæœåŠ¡å™¨ç¯å¢ƒJDKæœ€å¥½ä¸€è‡´ï¼Œä¸è¦å°è¯•è¿™ä¸ªå‘ã€‚</p><p>åŒºåˆ†å’Œç†è§£ä¸¤ä¸ªç¯å¢ƒï¼šç¼–è¯‘ç¯å¢ƒã€è¿è¡Œç¯å¢ƒ</p><h3 id="å¸¸é‡æ± "><a href="#å¸¸é‡æ± " class="headerlink" title="å¸¸é‡æ± "></a>å¸¸é‡æ± </h3><p>å†å¾€ä¸‹éµä»ç›¸åŒçš„è§„å¾‹ï¼š è®¡æ•°å™¨ï¼ˆæ ‡æ³¨åé¢æœ‰å¤šå°‘ä¸ªï¼‰ + å¯¹åº”ä¸ªæ•°çš„ç»“æ„ä½“</p><p>ä¸‹é¢ä»¥å¸¸é‡æ± ä¸ºä¾‹å­ï¼š</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826154215658.png" alt="image-20230826154215658"></p><p>å¸¸é‡æ± è®°å½•äº†JVMå†…çš„ä¸€å †å¸¸é‡ä¿¡æ¯ï¼Œè¿™éƒ¨åˆ†ç”± <strong>ã€2ä¸ªå­—èŠ‚è®¡æ•°ã€‘ + ã€nä¸ªcp_infoç»“æ„ã€‘</strong>ç»„æˆ</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826160102752.png" alt="image-20230826160102752"></p><p>å¸¸é‡æ± ä¸­ä¸»è¦å­˜æ”¾ä¸¤å¤§ç±»å¸¸é‡ï¼šå­—é¢é‡ï¼ˆLiteralï¼‰å’Œç¬¦å·å¼•ç”¨ï¼ˆSymbolic Referencesï¼‰ã€‚</p><ul><li><p>å­—é¢é‡æ¯”è¾ƒæ¥è¿‘äºJavaè¯­è¨€å±‚é¢çš„å¸¸é‡æ¦‚å¿µï¼Œå¦‚æ–‡æœ¬å­—ç¬¦ä¸²ã€å£°æ˜ä¸ºfinalçš„å¸¸é‡å€¼ç­‰ã€‚</p></li><li><p>ç¬¦å·å¼•ç”¨å±äºç¼–è¯‘åŸç†æ–¹é¢çš„æ¦‚å¿µï¼ŒåŒ…æ‹¬ä¸‹é¢ä¸‰ç±»å¸¸é‡ï¼š</p><ul><li>ç±»å’Œæ¥å£çš„å…¨é™å®šåï¼ˆFully Qualified Nameï¼‰</li><li>å­—æ®µçš„åç§°å’Œæè¿°ç¬¦ï¼ˆDescriptorï¼‰</li><li>æ–¹æ³•çš„åç§°å’Œæè¿°ç¬¦</li></ul></li></ul><p>å…¶ä¸­cp_infoç”±å¤šç§ç±»å‹ï¼š</p><ul><li>ç›´æ¥ç±»å‹ï¼Œå­˜çš„å°±æ˜¯å½“å‰å€¼ï¼Œè¿™ç§åƒIntegerã€Longç­‰é•¿åº¦éƒ½æ˜¯ç¡®å®šçš„</li><li>å¼•ç”¨ç±»å‹ï¼Œå­˜çš„æ˜¯æŒ‡å‘å…¶ä»–ä½ç½®çš„æŒ‡é’ˆ</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826161457648.png" alt="image-20230826161457648"></p><p>3ï¼‰æ¡ˆä¾‹</p><p>ä¸‹é¢ä»¥Stringä¸ºä¾‹ï¼ŒStringæ˜¯ä¸€ç§å¼•ç”¨ç±»ï¼Œå®ƒä¼šæŒ‡å‘ä¸€ä¸ªutf8ç±»å‹æ¥å­˜å‚¨çœŸå®çš„ä¿¡æ¯</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># JDKæä¾›äº†ä¸€ä¸ªå·¥å…·javapï¼Œå¯ä»¥æŸ¥çœ‹å¸¸é‡åˆ—è¡¨çš„è¯¦ç»†å†…å®¹ï¼š</span></span><br><span class="line">javap -v ClassStruct.class</span><br></pre></td></tr></table></figure><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230826161827309.png" alt="image-20230826161827309"></p><h3 id="å…¶ä»–ä¿¡æ¯"><a href="#å…¶ä»–ä¿¡æ¯" class="headerlink" title="å…¶ä»–ä¿¡æ¯"></a>å…¶ä»–ä¿¡æ¯</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902092022171.png" alt="image-20230902092022171"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902092249489.png" alt="image-20230902092249489"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902092801425.png" alt="image-20230902092801425"></p><h1 id="è¿è¡Œæ•°æ®åŒº"><a href="#è¿è¡Œæ•°æ®åŒº" class="headerlink" title="è¿è¡Œæ•°æ®åŒº"></a>è¿è¡Œæ•°æ®åŒº</h1><p>å­—èŠ‚ç åªæ˜¯ä¸€ä¸ªäºŒè¿›åˆ¶æ–‡ä»¶å­˜æ”¾åœ¨é‚£é‡Œï¼Œè¦æƒ³åœ¨JVMé‡Œè·‘èµ·æ¥ï¼Œå…ˆå¾—æœ‰ä¸ªè¿è¡Œçš„å†…å­˜ç¯å¢ƒï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬ æ‰€è¯´çš„JVMè¿è¡Œæ—¶æ•°æ®åŒºã€‚</p><ul><li>è¿è¡Œæ—¶æ•°æ®åŒºçš„ä½ç½®</li></ul><p>è¿è¡Œæ—¶æ•°æ®åŒºæ˜¯JVMä¸­æœ€ä¸ºé‡è¦çš„éƒ¨åˆ†ï¼Œæ‰§è¡Œå¼•æ“é¢‘ç¹æ“ä½œçš„å°±æ˜¯å®ƒã€‚ç±»çš„åˆå§‹åŒ–ï¼Œä»¥åŠå¯¹è±¡ç©ºé—´çš„åˆ†é…ã€åƒåœ¾çš„å›æ”¶éƒ½æ˜¯åœ¨è¿™å—åŒºåŸŸå‘ç”Ÿçš„ã€‚</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902093238471.png" alt="image-20230902093238471"></p><ul><li>åŒºåŸŸåˆ’åˆ†</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902093751450.png" alt="image-20230902093751450"></p><h2 id="ç¨‹åºè®¡æ•°å™¨"><a href="#ç¨‹åºè®¡æ•°å™¨" class="headerlink" title="ç¨‹åºè®¡æ•°å™¨"></a>ç¨‹åºè®¡æ•°å™¨</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902093951164.png" alt="image-20230902093951164"></p><h3 id="æº¢å‡ºå¼‚å¸¸"><a href="#æº¢å‡ºå¼‚å¸¸" class="headerlink" title="æº¢å‡ºå¼‚å¸¸"></a>æº¢å‡ºå¼‚å¸¸</h3><p>æ²¡æœ‰ï¼åœ¨è™šæ‹Ÿæœºè§„èŒƒä¸­ï¼Œæ²¡æœ‰å¯¹è¿™å—åŒºåŸŸè®¾å®šå†…å­˜æº¢å‡ºè§„èŒƒï¼Œä¹Ÿæ˜¯<strong>å”¯ä¸€ä¸€ä¸ªä¸ä¼šæº¢å‡ºçš„åŒºåŸŸ</strong>ã€‚</p><h3 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902094754700.png" alt="image-20230902094754700"></p><h2 id="è™šæ‹Ÿæœºæ ˆ"><a href="#è™šæ‹Ÿæœºæ ˆ" class="headerlink" title="è™šæ‹Ÿæœºæ ˆ"></a>è™šæ‹Ÿæœºæ ˆ</h2><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902094946438.png" alt="image-20230902094946438"></p><h3 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>æ˜¯çº¿ç¨‹ç§æœ‰çš„ï¼Œç”Ÿå‘½å‘¨æœŸä¸çº¿ç¨‹ç›¸åŒ</li><li>å®ƒæè¿°çš„æ˜¯Javaæ–¹æ³•æ‰§è¡Œçš„å½“å‰çº¿ç¨‹çš„å†…å­˜æ¨¡å‹ï¼Œæ¯ä¸ªæ–¹æ³•è¢«æ‰§è¡Œçš„æ—¶å€™ï¼ŒJavaè™šæ‹Ÿæœºéƒ½ä¼šåˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œç”¨äºå­˜å‚¨å±€éƒ¨å˜é‡è¡¨ã€æ“ä½œæ•°æ ˆã€åŠ¨æ€è¿æ¥ã€æ–¹æ³•å‡ºå£ç­‰ä¿¡æ¯ã€‚æ¯ä¸ªæ–¹æ³•ä»è¢«è°ƒç”¨ç›´è‡³æ‰§è¡Œå®Œæ¯•çš„è¿‡ç¨‹ï¼Œå°±å¯¹åº”ç€ ä¸€ä¸ªæ ˆå¸§åœ¨è™šæ‹Ÿæœºæ ˆä¸­ä»å…¥æ ˆåˆ°å‡ºæ ˆçš„è¿‡ç¨‹</li></ul><h3 id="æº¢å‡ºå¼‚å¸¸-1"><a href="#æº¢å‡ºå¼‚å¸¸-1" class="headerlink" title="æº¢å‡ºå¼‚å¸¸"></a>æº¢å‡ºå¼‚å¸¸</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902100117244.png" alt="image-20230902100117244"></p><h3 id="æ¡ˆä¾‹ä¸€ï¼šè¿›å‡ºæ ˆé¡ºåº"><a href="#æ¡ˆä¾‹ä¸€ï¼šè¿›å‡ºæ ˆé¡ºåº" class="headerlink" title="æ¡ˆä¾‹ä¸€ï¼šè¿›å‡ºæ ˆé¡ºåº"></a>æ¡ˆä¾‹ä¸€ï¼šè¿›å‡ºæ ˆé¡ºåº</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * ç¨‹åºæ¨¡æ‹Ÿè¿›æ ˆã€å‡ºæ ˆè¿‡ç¨‹</span></span><br><span class="line"><span class="comment"> * å…ˆè¿›åå‡º</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StackInAndOut</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®šä¹‰æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">A</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥æ–¹æ³•A&quot;</span>); </span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®šä¹‰æ–¹æ³•äºŒ;è°ƒç”¨æ–¹æ³•ä¸€</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">B</span><span class="params">()</span> &#123;</span><br><span class="line">        A();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥æ–¹æ³•B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        B();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥Mainæ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿›å…¥æ–¹æ³•A</span></span><br><span class="line"><span class="comment">// è¿›å…¥æ–¹æ³•B</span></span><br><span class="line"><span class="comment">// è¿›å…¥Mainæ–¹æ³•</span></span><br></pre></td></tr></table></figure><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902100747181.png" alt="image-20230902100747181"></p><h3 id="æ¡ˆä¾‹äºŒï¼šæ ˆæ·±åº¦æº¢å‡º"><a href="#æ¡ˆä¾‹äºŒï¼šæ ˆæ·±åº¦æº¢å‡º" class="headerlink" title="æ¡ˆä¾‹äºŒï¼šæ ˆæ·±åº¦æº¢å‡º"></a>æ¡ˆä¾‹äºŒï¼šæ ˆæ·±åº¦æº¢å‡º</h3><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * é€šè¿‡ä¸€ä¸ªç¨‹åºæ¨¡æ‹Ÿçº¿ç¨‹è¯·æ±‚çš„æ ˆæ·±åº¦å¤§äºè™šæ‹Ÿæœºæ‰€å…è®¸çš„æ ˆæ·±åº¦ï¼›</span></span><br><span class="line"><span class="comment"> * æŠ›å‡ºStackOverflowError</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StackOverFlow</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * å®šä¹‰æ–¹æ³•ï¼Œå¾ªç¯åµŒå¥—è‡ªå·±</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">B</span><span class="params">()</span> &#123;</span><br><span class="line">        B();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥æ–¹æ³•B&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        B();</span><br><span class="line">        System.out.println(<span class="string">&quot;è¿›å…¥Mainæ–¹æ³•&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902100905281.png" alt="image-20230902100905281"></p><h3 id="æ¡ˆä¾‹ä¸‰ï¼šæ ˆå†…å­˜æº¢å‡º"><a href="#æ¡ˆä¾‹ä¸‰ï¼šæ ˆå†…å­˜æº¢å‡º" class="headerlink" title="æ¡ˆä¾‹ä¸‰ï¼šæ ˆå†…å­˜æº¢å‡º"></a>æ¡ˆä¾‹ä¸‰ï¼šæ ˆå†…å­˜æº¢å‡º</h3><p>è¯•è¯•å°±è¯•è¯•~</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ ˆå†…å­˜æº¢å‡ºï¼Œæ³¨æ„ï¼å¾ˆå±é™©ï¼Œè°¨æ…æ‰§è¡Œ</span></span><br><span class="line"><span class="comment">* æ‰§è¡Œæ—¶å¯èƒ½ä¼šå¡æ­»ç³»ç»Ÿï¼Œç›´åˆ°å†…å­˜è€—å°½</span></span><br><span class="line"><span class="comment">* */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">StackOutOfMem</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Thread</span>(() -&gt; &#123;</span><br><span class="line">                <span class="keyword">while</span>(<span class="literal">true</span>);</span><br><span class="line">            &#125;).start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h2 id="æœ¬åœ°æ–¹æ³•æ ˆ"><a href="#æœ¬åœ°æ–¹æ³•æ ˆ" class="headerlink" title="æœ¬åœ°æ–¹æ³•æ ˆ"></a>æœ¬åœ°æ–¹æ³•æ ˆ</h2><h3 id="æ¦‚è¿°-2"><a href="#æ¦‚è¿°-2" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><ul><li>æœ¬åœ°æ–¹æ³•æ ˆçš„åŠŸèƒ½å’Œç‰¹ç‚¹ç±»ä¼¼äºè™šæ‹Ÿæœºæ ˆï¼Œå‡å…·æœ‰çº¿ç¨‹éš”ç¦»çš„ç‰¹ç‚¹</li><li>ä¸åŒçš„æ˜¯ï¼Œæœ¬åœ°æ–¹æ³•æ ˆæœåŠ¡çš„å¯¹è±¡æ˜¯JVMæ‰§è¡Œçš„nativeæ–¹æ³•ï¼Œè€Œè™šæ‹Ÿæœºæ ˆæœåŠ¡çš„æ˜¯JVMæ‰§è¡Œçš„Javaæ–¹æ³•</li><li>è™šæ‹Ÿæœºè§„èŒƒé‡Œå¯¹è¿™å—æ‰€ç”¨çš„è¯­è¨€ã€æ•°æ®ç»“æ„ã€æ²¡æœ‰å¼ºåˆ¶è§„å®šï¼Œè™šæ‹Ÿæœºå¯ä»¥è‡ªç”±å®ç°å®ƒ</li><li>ç”šè‡³ï¼ŒHotSpotæŠŠå®ƒå’Œè™šæ‹Ÿæœºåˆå¹¶æˆäº†1ä¸ª</li></ul><h3 id="æº¢å‡ºå¼‚å¸¸-2"><a href="#æº¢å‡ºå¼‚å¸¸-2" class="headerlink" title="æº¢å‡ºå¼‚å¸¸"></a>æº¢å‡ºå¼‚å¸¸</h3><p>å’Œè™šæ‹Ÿæœºæ ˆä¸€æ ·ï¼Œä¹Ÿæ˜¯ä¸¤ä¸ªï¼š </p><ul><li>å¦‚æœåˆ›å»ºçš„æ ˆçš„æ·±åº¦å¤§äºè™šæ‹Ÿæœºå…è®¸çš„æ·±åº¦ï¼ŒæŠ›å‡º StackOverFlowErrorã€‚ </li><li>å†…å­˜ç”³è¯·ä¸å¤Ÿçš„æ—¶å€™ï¼ŒæŠ›å‡º OutOfMemoryErrorã€‚</li></ul><h2 id="å †"><a href="#å †" class="headerlink" title="å †"></a>å †</h2><p>Javaå †æ˜¯åƒåœ¾æ”¶é›†å™¨ç®¡ç†çš„å†…å­˜åŒºåŸŸï¼Œå› æ­¤å®ƒä¹Ÿè¢«ç§°ä½œâ€œGCå †â€ï¼Œè¿™å°±æ˜¯æˆ‘ä»¬åšJVMè°ƒä¼˜çš„é‡ç‚¹åŒºåŸŸã€‚</p><h3 id="JDK1-7"><a href="#JDK1-7" class="headerlink" title="JDK1.7"></a>JDK1.7</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902101748102.png" alt="image-20230902101748102"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902102726253.png" alt="image-20230902102726253"></p><h3 id="JDK1-8"><a href="#JDK1-8" class="headerlink" title="JDK1.8"></a>JDK1.8</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902103152472.png" alt="image-20230902103152472"></p><p><font color="#d12920">éœ€è¦ç‰¹åˆ«è¯´æ˜çš„æ˜¯ï¼šMetaspaceæ‰€å ç”¨çš„å†…å­˜ç©ºé—´ä¸æ˜¯åœ¨è™šæ‹Ÿæœºå†…éƒ¨ï¼Œè€Œæ˜¯åœ¨æœ¬åœ°å†…å­˜ç©ºé—´ä¸­ï¼Œè¿™ä¹Ÿæ˜¯ä¸1.7çš„æ°¸ä¹…ä»£æœ€å¤§çš„åŒºåˆ«</font></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902103601431.png" alt="image-20230902103601431"></p><h3 id="æº¢å‡ºå¼‚å¸¸-3"><a href="#æº¢å‡ºå¼‚å¸¸-3" class="headerlink" title="æº¢å‡ºå¼‚å¸¸"></a>æº¢å‡ºå¼‚å¸¸</h3><p>å†…å­˜ä¸è¶³æ—¶ï¼ŒæŠ›å‡º <strong>java.lang.OutOfMemoryError: Java heap space</strong></p><h3 id="æ¡ˆä¾‹ï¼šå †æº¢å‡º"><a href="#æ¡ˆä¾‹ï¼šå †æº¢å‡º" class="headerlink" title="æ¡ˆä¾‹ï¼šå †æº¢å‡º"></a>æ¡ˆä¾‹ï¼šå †æº¢å‡º</h3><ul><li>ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * å †æº¢å‡ºï¼ŒOut Of Memory æµ‹è¯•è¿™ä¸ªåªéœ€è¦ç¬¬ä¸‰ä¸ªå’Œç¬¬å››ä¸ª å‚æ•°è®¾è®¡å°±å¯ä»¥å“ˆï¼</span></span><br><span class="line"><span class="comment"> *   -XX:+HeapDumpOnOutOfMemoryError</span></span><br><span class="line"><span class="comment"> *   -XX:HeapDumpPath=D:\</span></span><br><span class="line"><span class="comment"> *   ä¸‹é¢ä¸¤ä¸ªå‚æ•°æ˜¯è®¾ç½®å †å†…å­˜çš„åˆå§‹å€¼å’Œæœ€å¤§å€¼çš„</span></span><br><span class="line"><span class="comment"> *   -Xms20m   </span></span><br><span class="line"><span class="comment"> *   -Xmx20m</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HeapOOM</span> &#123;</span><br><span class="line">    Byte[] bytes = <span class="keyword">new</span> <span class="title class_">Byte</span>[<span class="number">1024</span>*<span class="number">1024</span>];</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;HeapOOM&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;HeapOOM&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            System.out.println(++i);</span><br><span class="line">            list.add(<span class="keyword">new</span> <span class="title class_">HeapOOM</span>());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯åŠ¨</li></ul><p>æ³¨æ„å¯åŠ¨æ—¶ï¼ŒæŒ‡å®šä¸€ä¸‹å †çš„å¤§å°ï¼š-Xms20m -Xmx20m</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902104554492.png" alt="image-20230902104554492"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902104713028.png" alt="image-20230902104713028"></p><h2 id="æ–¹æ³•åŒº"><a href="#æ–¹æ³•åŒº" class="headerlink" title="æ–¹æ³•åŒº"></a>æ–¹æ³•åŒº</h2><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902105124918.png" alt="image-20230902105124918"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902105350239.png" alt="image-20230902105350239"></p><h3 id="æº¢å‡ºå¼‚å¸¸-4"><a href="#æº¢å‡ºå¼‚å¸¸-4" class="headerlink" title="æº¢å‡ºå¼‚å¸¸"></a>æº¢å‡ºå¼‚å¸¸</h3><ul><li>1.6ï¼šOutOfMemoryError: PermGen space</li><li>1.8ï¼šOutOfMemoryError: Metaspace</li></ul><h3 id="æ¡ˆä¾‹ä¸€ï¼š1-6æ–¹æ³•åŒºæº¢å‡º"><a href="#æ¡ˆä¾‹ä¸€ï¼š1-6æ–¹æ³•åŒºæº¢å‡º" class="headerlink" title="æ¡ˆä¾‹ä¸€ï¼š1.6æ–¹æ³•åŒºæº¢å‡º"></a>æ¡ˆä¾‹ä¸€ï¼š1.6æ–¹æ³•åŒºæº¢å‡º</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902105654461.png" alt="image-20230902105654461"></p><p>åœ¨1.6é‡Œï¼Œå­—ç¬¦ä¸²å¸¸é‡æ˜¯è¿è¡Œæ—¶å¸¸é‡æ± çš„ä¸€éƒ¨åˆ†ï¼Œå½’å±äºæ–¹æ³•åŒºï¼Œæ”¾åœ¨äº†æ°¸ä¹…ä»£é‡Œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¦‚æœå­—ç¬¦ä¸²å¸¸é‡æ± é‡Œæœ‰è¿™ä¸ªå­—ç¬¦ä¸²ï¼Œç›´æ¥è¿”å›å¼•ç”¨ï¼Œä¸å†é¢å¤–æ·»åŠ </span></span><br><span class="line"><span class="comment">å¦‚æœæ²¡æœ‰ï¼ŒåŠ è¿›å»ï¼Œè¿”å›æ–°åˆ›å»ºçš„å¼•ç”¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line">String.intern()</span><br><span class="line"></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Explain: æµ‹è¯•1.6ç‰ˆæœ¬çš„jvmçš„æ–¹æ³•åŒºå¼‚å¸¸</span></span><br><span class="line"><span class="comment"> * -Xms10m åˆå§‹å †å¤§å°</span></span><br><span class="line"><span class="comment"> * -Xmx10m æœ€å¤§å †å¤§å°</span></span><br><span class="line"><span class="comment"> * -XX:PermSize=6M  æ–¹æ³•åŒºåˆå§‹å¤§å°</span></span><br><span class="line"><span class="comment"> * -XX:MaxPermSize=6m æœ€å¤§æ–¹æ³•åŒºå¤§å°</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * ä¿®æ”¹pomæ–‡ä»¶é‡Œçš„ç‰ˆæœ¬ä¸º1.6,jvmå¯åŠ¨å‚æ•°é‡Œæ”¹ä¸º1.6 (æˆ‘æ²¡æœ‰1.6.ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚)</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ConstantOOM</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>)&#123;</span><br><span class="line">            System.out.println(++i);</span><br><span class="line">            list.add(String.valueOf(i).intern());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902110503335.png" alt="image-20230902110503335"></p><h3 id="æ¡ˆä¾‹äºŒï¼š1-8æ–¹æ³•åŒºæº¢å‡º"><a href="#æ¡ˆä¾‹äºŒï¼š1-8æ–¹æ³•åŒºæº¢å‡º" class="headerlink" title="æ¡ˆä¾‹äºŒï¼š1.8æ–¹æ³•åŒºæº¢å‡º"></a>æ¡ˆä¾‹äºŒï¼š1.8æ–¹æ³•åŒºæº¢å‡º</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902111113252.png" alt="image-20230902111113252"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ‰€ä»¥ä¸è®ºé…ç½®ä¸‹é¢é‚£ä¸ªå‚æ•°éƒ½ä¸ç”Ÿæ•ˆï¼Œå› ä¸ºå­—ç¬¦ä¸²å¸¸é‡æ± æ ¹æœ¬ä¸åœ¨å…ƒç©ºé—´ä¸­ã€‚</span></span><br><span class="line">-XX:PermSize=6M -XX:MaxPermSize=6M</span><br><span class="line">-XX:MetaspaceSize=10M -XX:MaxMetaspaceSize=10M</span><br></pre></td></tr></table></figure><ul><li>é‚£å¦‚ä½•æ‰èƒ½è®©å…ƒç©ºé—´æº¢å‡ºå‘¢ï¼Ÿ</li></ul><p>æ—¢ç„¶å­—ç¬¦ä¸²å¸¸é‡æ± ä¸åœ¨è¿™é‡Œï¼Œé‚£å°±æ¢å…¶ä»–çš„ï¼Œç±»çš„åŸºæœ¬ä¿¡æ¯æ€»åœ¨å…ƒç©ºé—´å§ï¼Ÿ</p><p>æˆ‘ä»¬æ¥è¯•ä¸€ä¸‹ cglibæ˜¯ä¸€ä¸ªå¼ºå¤§çš„ã€é«˜æ€§èƒ½ã€é«˜è´¨é‡çš„Codeç”Ÿæˆç±»åº“ï¼Œå®ƒå¯ä»¥åœ¨è¿è¡ŒæœŸæ‰©å±•Javaç±»ä¸å®ç°Javaæ¥å£ï¼Œå¯ä»¥åœ¨è¿è¡Œæ—¶ç”Ÿæˆå¤§é‡çš„å¯¹è±¡ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Explain: jdk1.8ä»¥åèˆå¼ƒäº†æ–¹æ³•åŒº,æ”¹ä¸ºäº†å…ƒç©ºé—´(Metaspace)</span></span><br><span class="line"><span class="comment"> * å…ƒç©ºé—´ä¸å ç”¨å †ç©ºé—´ï¼Œä½¿ç”¨çš„æ˜¯ç›´æ¥å†…å­˜ï¼Œä¹Ÿå°±æ˜¯æˆ‘ä»¬æœåŠ¡å™¨çš„ç‰©ç†å†…å­˜</span></span><br><span class="line"><span class="comment"> * -Xms10m</span></span><br><span class="line"><span class="comment"> * -Xmx10m</span></span><br><span class="line"><span class="comment"> * -XX:+PrintGCDetails æ‰“å°åƒåœ¾å›æ”¶ä¿¡æ¯</span></span><br><span class="line"><span class="comment"> * -XX:MetaspaceSize=10M -XX:MaxMetaspaceSize=10M</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MetaspaceSize</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(<span class="keyword">final</span> String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="type">Enhancer</span> <span class="variable">enhancer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Enhancer</span>();</span><br><span class="line">            enhancer.setSuperclass(MetaspaceSize.class);</span><br><span class="line">            enhancer.setUseCache(<span class="literal">false</span>);</span><br><span class="line">            enhancer.setCallback(<span class="keyword">new</span> <span class="title class_">MethodInterceptor</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> Object <span class="title function_">intercept</span><span class="params">(Object o, Method method, Object[] objects,</span></span><br><span class="line"><span class="params">                                        MethodProxy methodProxy)</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">                    <span class="keyword">return</span> methodProxy.invokeSuper(objects,args);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;);</span><br><span class="line">            enhancer.create();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902112027290.png" alt="image-20230902112027290"></p><h2 id="ä¸€ä¸ªæ¡ˆä¾‹"><a href="#ä¸€ä¸ªæ¡ˆä¾‹" class="headerlink" title="ä¸€ä¸ªæ¡ˆä¾‹"></a>ä¸€ä¸ªæ¡ˆä¾‹</h2><p>å‡è®¾æœ‰ä¸ªBootstrapçš„ç±»ï¼Œæ‰§è¡Œmainæ–¹æ³•ï¼Œåœ¨JVMé‡Œï¼Œå®ƒä»classæ–‡ä»¶åˆ°è·‘èµ·æ¥ï¼Œå¤§è‡´ç»è¿‡å¦‚ä¸‹æ­¥éª¤ï¼š</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902112423080.png" alt="image-20230902112423080"></p><ul><li>é¦–å…ˆJVMä¼šå°†è¿™ä¸ªBootstrap.classä¿¡æ¯åŠ è½½åˆ°å†…å­˜ä¸­çš„æ–¹æ³•åŒº</li><li>æ¥ç€ï¼Œä¸»çº¿ç¨‹å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ï¼Œå‡†å¤‡å¥½ç¨‹åºè®¡æ•°å™¨pcã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆ</li><li>ç„¶åï¼ŒJVMä¼šåœ¨Heapå †ä¸Šä½Bootstrapåˆ›å»ºä¸€ä¸ª<code>Class&lt;Bootstrap&gt;</code>çš„ç±»å®ä¾‹</li><li>JVMå¼€å§‹æ‰§è¡Œmainæ–¹æ³•ï¼Œè¿™æ—¶åœ¨è™šæ‹Ÿæœºæ ˆé‡Œä¸ºmainæ–¹æ³•åˆ›å»ºä¸€ä¸ªæ ˆå¸§</li><li>mainæ–¹æ³•åœ¨æ‰§è¡Œçš„è¿‡ç¨‹ä¹‹ä¸­ï¼Œè°ƒç”¨äº†greetingæ–¹æ³•ï¼Œåˆ™JVMä¼šä¸ºgreetingæ–¹æ³•å†åˆ›å»ºä¸€ä¸ªæ ˆå¸§ï¼Œæ¨åˆ°è™šæ‹Ÿæœºæ ˆé¡¶ï¼Œå†mainçš„ä¸Šé¢ï¼Œæ¯æ¬¡åªæœ‰ä¸€ä¸ªæ ˆå¸§å¤„äºæ´»åŠ¨çŠ¶æ€ï¼Œå½“å‰ä¸ºgreeting</li><li>å½“greetingæ–¹æ³•è¿è¡Œå®Œæˆåï¼Œåˆ™greetingæ–¹æ³•å‡ºæ ˆï¼Œå½“å‰æ´»åŠ¨å¸§æŒ‡å‘mainï¼Œæ–¹æ³•ç»§ç»­å¾€ä¸‹è¿è¡Œ</li></ul><h2 id="å½’çº³æ€»ç»“"><a href="#å½’çº³æ€»ç»“" class="headerlink" title="å½’çº³æ€»ç»“"></a>å½’çº³æ€»ç»“</h2><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902113047040.png" alt="image-20230902113047040"></p><ul><li>ç‹¬äº«&#x2F;å…±äº«çš„è§’åº¦ï¼š<ul><li>ç‹¬äº«ï¼šç¨‹åºè®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•æ ˆ</li><li>å…±äº«ï¼šå †ã€æ–¹æ³•åŒº</li></ul></li><li>errorçš„è§’åº¦ï¼š<ul><li>ç¨‹åºè®¡æ•°å™¨ï¼šä¸ä¼šæº¢å‡ºï¼Œæ¯”è¾ƒç‰¹æ®Šï¼Œå…¶ä»–éƒ½ä¼š</li><li>ä¸¤ä¸ªæ ˆï¼šå¯èƒ½ä¼šå‘ç”Ÿä¸¤ç§æº¢å‡º<ul><li>æ·±åº¦è¶…äº†æŠ¥ï¼šStackOverflowError</li><li>ç©ºé—´ä¸è¶³æŠ¥ï¼šOutOfMemoryError</li></ul></li><li>å †ï¼šåªä¼šå†ç©ºé—´ä¸è¶³æ—¶ï¼ŒæŠ¥ï¼šOutOfMemoryErrorï¼Œä¼šæç¤ºheapSpace</li><li>æ–¹æ³•åŒºï¼šç©ºé—´ä¸è¶³æ—¶ï¼ŒæŠ¥ï¼šOutOfMemoryError<ul><li>1.6 æ˜¯ permspace</li><li>1.8 æ˜¯ meterspace</li></ul></li></ul></li><li>å½’å±<ul><li>è®¡æ•°å™¨ã€è™šæ‹Ÿæœºæ ˆã€æœ¬åœ°æ–¹æ³•ä¸­ï¼šçº¿ç¨‹åˆ›å»ºå¿…é¡»é…å¥—ç”³è¯·ï¼ŒçœŸæ­£çš„ç‰©ç†ç©ºé—´</li><li>å †ï¼šçœŸæ­£çš„ç‰©ç†ç©ºé—´ï¼Œä½†æ˜¯å†…éƒ¨ç»“æ„çš„åˆ’åˆ†æœ‰å˜åŠ¨</li><li>æ–¹æ³•åŒºï¼šæœ€æ²¡å½’å±æ„Ÿçš„ä¸€å—ï¼ŒåŸå› å°±æ˜¯å®ƒæ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µã€‚1.6è¢«æ”¾åœ¨äº†å †çš„æ°¸ä¹…ä»£ï¼Œ1.8è¢«æ‹†åˆ†ï¼Œ <strong>ä¸€éƒ¨åˆ†åœ¨å…ƒç©ºé—´ï¼Œä¸€éƒ¨åˆ†è¢«æ”¾åœ¨äº†å †é‡Œï¼ˆæ–¹æ³•åŒºçš„è¿è¡Œæ—¶å¸¸é‡æ± é‡Œé¢çš„ç±»å¯¹è±¡ï¼ŒåŒ…æ‹¬å­—ç¬¦ä¸²å¸¸é‡ï¼‰</strong></li><li>ç›´æ¥å†…å­˜ï¼šè¿™å—å®é™…ä¸Šä¸å±äºè¿è¡Œæ—¶æ•°æ®åŒºçš„ä¸€éƒ¨åˆ†ï¼Œè€Œæ˜¯ç›´æ¥æ“ä½œç‰©ç†å†…å­˜ã€‚åœ¨nioæ“ä½œé‡Œ DirectByteBufferç±»å¯ä»¥å¯¹nativeæ“ä½œï¼Œé¿å…æµåœ¨å †å†…å¤–çš„æ‹·è´ã€‚</li></ul></li></ul><h1 id="ç±»åŠ è½½"><a href="#ç±»åŠ è½½" class="headerlink" title="ç±»åŠ è½½"></a>ç±»åŠ è½½</h1><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902114547874.png" alt="image-20230902114547874"></p><h2 id="åŠ è½½"><a href="#åŠ è½½" class="headerlink" title="åŠ è½½"></a>åŠ è½½</h2><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902114849883.png" alt="image-20230902114849883"></p><p>æ³¨æ„ï¼š </p><ul><li>åŠ è½½çš„å­—èŠ‚ç æ¥æºï¼Œä¸ä¸€å®šéå¾—æ˜¯classæ–‡ä»¶ï¼Œå¯ä»¥æ˜¯ç¬¦åˆå­—èŠ‚ç è§„èŒƒçš„ä»»æ„åœ°æ–¹ï¼Œç”šè‡³äºŒè¿›åˆ¶æµç­‰ã€‚</li><li>ä»å­—èŠ‚ç åˆ°å†…å­˜ï¼Œæ˜¯ç”±ç±»åŠ è½½å™¨ï¼ˆClassLoaderï¼‰å®Œæˆçš„</li></ul><h3 id="ç³»ç»Ÿç±»åŠ è½½å™¨"><a href="#ç³»ç»Ÿç±»åŠ è½½å™¨" class="headerlink" title="ç³»ç»Ÿç±»åŠ è½½å™¨"></a>ç³»ç»Ÿç±»åŠ è½½å™¨</h3><ul><li>Bootstrap</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902115643014.png" alt="image-20230902115643014"></p><ul><li>ExtClassLoader</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902115751915-16936273690881.png" alt="image-20230902115751915"></p><ul><li>AppClassLoader</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902120419784.png" alt="image-20230902120419784"></p><ul><li>Code</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Explain: æŸ¥çœ‹å„ä¸ªåŠ è½½å™¨,å¦‚ï¼šBootstrapClassLoader,ExtClassLoader,ApplicationClassLoader</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">GetClassLoaders</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">systemClassLoader</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader();</span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">parent</span> <span class="operator">=</span> systemClassLoader.getParent();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;systemClassLoader:&quot;</span> + systemClassLoader);</span><br><span class="line">        System.out.println(<span class="string">&quot;systemClassLoader-parent:&quot;</span> + parent);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        String[] bootstrap = System.getProperty(<span class="string">&quot;sun.boot.class.path&quot;</span>).split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">        String[] ext = System.getProperty(<span class="string">&quot;java.ext.dirs&quot;</span>).split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line">        String[] app = System.getProperty(<span class="string">&quot;java.class.path&quot;</span>).split(<span class="string">&quot;:&quot;</span>);</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;bootstrap:&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : bootstrap) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;ext:&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : ext) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println();</span><br><span class="line"></span><br><span class="line">        <span class="comment">//appæ˜¯é»˜è®¤åŠ è½½å™¨ï¼Œæ³¨æ„å¯åŠ¨æ§åˆ¶å°çš„ -classpath é€‰é¡¹</span></span><br><span class="line">        System.out.println(<span class="string">&quot;app:&quot;</span>);</span><br><span class="line">        <span class="keyword">for</span> (String s : app) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><h3 id="è‡ªå®šä¹‰ç±»åŠ è½½å™¨"><a href="#è‡ªå®šä¹‰ç±»åŠ è½½å™¨" class="headerlink" title="è‡ªå®šä¹‰ç±»åŠ è½½å™¨"></a>è‡ªå®šä¹‰ç±»åŠ è½½å™¨</h3><p>é™¤äº†ä¸Šé¢ç³»ç»Ÿæä¾›çš„3ç§ç±»åŠ è½½å™¨ï¼ŒJVMå…è®¸è‡ªå·±å®šä¹‰ç±»åŠ è½½å™¨ï¼Œå…¸å‹çš„åœ¨Tomcatä¸Šï¼š</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902125829094.png" alt="image-20230902125829094"></p><h3 id="åŒäº²å§”æ´¾-é‡ç‚¹"><a href="#åŒäº²å§”æ´¾-é‡ç‚¹" class="headerlink" title="åŒäº²å§”æ´¾(é‡ç‚¹)"></a>åŒäº²å§”æ´¾(é‡ç‚¹)</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902130032639.png" alt="image-20230902130032639"></p><p>ç±»åŠ è½½å™¨ä¼šä¼˜å…ˆè°ƒçˆ¶ç±»çš„loadæ–¹æ³•ï¼Œå¦‚æœçˆ¶ç±»èƒ½åŠ è½½ï¼Œç›´æ¥ç”¨çˆ¶ç±»çš„ï¼Œå¦åˆ™æœ€ åä¸€æ­¥æ‰æ˜¯è‡ªå·±å°è¯•åŠ è½½</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">protected</span> Class&lt;?&gt; loadClass(String name, <span class="type">boolean</span> resolve) <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">    <span class="keyword">synchronized</span> (getClassLoadingLock(name)) &#123;</span><br><span class="line">        <span class="comment">// é¦–å…ˆï¼Œæ£€æµ‹æ˜¯å¦å·²ç»åŠ è½½</span></span><br><span class="line">        Class&lt;?&gt; c = findLoadedClass(name);</span><br><span class="line">        <span class="keyword">if</span> (c == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//å¦‚æœæ²¡æœ‰åŠ è½½ï¼Œå¼€å§‹æŒ‰å¦‚ä¸‹è§„åˆ™æ‰§è¡Œï¼š</span></span><br><span class="line">            <span class="type">long</span> <span class="variable">t0</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (parent != <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="comment">//é‡ç‚¹ï¼çˆ¶åŠ è½½å™¨ä¸ä¸ºç©ºåˆ™è°ƒç”¨çˆ¶åŠ è½½å™¨çš„loadClass</span></span><br><span class="line">                    c = parent.loadClass(name, <span class="literal">false</span>);</span><br><span class="line">                &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="comment">//çˆ¶åŠ è½½å™¨ä¸ºç©ºåˆ™è°ƒç”¨Bootstrap Classloader</span></span><br><span class="line">                    c = findBootstrapClassOrNull(name);</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (c == <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="type">long</span> <span class="variable">t1</span> <span class="operator">=</span> System.nanoTime();</span><br><span class="line">                <span class="comment">//çˆ¶åŠ è½½å™¨æ²¡æœ‰æ‰¾åˆ°ï¼Œåˆ™è°ƒç”¨findclassï¼Œè‡ªå·±æŸ¥æ‰¾å¹¶åŠ è½½</span></span><br><span class="line">                c = findClass(name);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (resolve) &#123;</span><br><span class="line">            resolveClass(c);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> c;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902130556388.png" alt="image-20230902130556388"></p><h2 id="éªŒè¯"><a href="#éªŒè¯" class="headerlink" title="éªŒè¯"></a>éªŒè¯</h2><p>åŠ è½½å®Œæˆåï¼Œclassé‡Œå®šä¹‰çš„ç±»ç»“æ„å°±è¿›å…¥äº†å†…å­˜çš„æ–¹æ³•åŒºã€‚ æ¥ä¸‹æ¥ï¼ŒéªŒè¯æ˜¯è¿æ¥é˜¶æ®µçš„ç¬¬ä¸€æ­¥ã€‚</p><p>å®é™…ä¸Šï¼ŒéªŒè¯å’Œä¸Šé¢çš„åŠ è½½æ˜¯<strong>äº¤äº’è¿›è¡Œ</strong>çš„ï¼ˆæ¯”å¦‚classæ–‡ä»¶æ ¼å¼éªŒè¯ï¼‰ã€‚ </p><p>ä¹‹æ‰€ä»¥æŠŠéªŒè¯æ”¾åœ¨åŠ è½½çš„åé¢ï¼Œæ˜¯å› ä¸ºé™¤äº†åŸºæœ¬çš„classæ–‡ä»¶æ ¼å¼ï¼Œè¿˜éœ€è¦å…¶ä»–å¾ˆå¤šéªŒè¯ï¼Œæˆ‘ä»¬é€ä¸ªæ¥çœ‹ï¼š</p><h3 id="æ–‡ä»¶æ ¼å¼éªŒè¯"><a href="#æ–‡ä»¶æ ¼å¼éªŒè¯" class="headerlink" title="æ–‡ä»¶æ ¼å¼éªŒè¯"></a>æ–‡ä»¶æ ¼å¼éªŒè¯</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902130837215.png" alt="image-20230902130837215"></p><h3 id="å…ƒæ•°æ®éªŒè¯"><a href="#å…ƒæ•°æ®éªŒè¯" class="headerlink" title="å…ƒæ•°æ®éªŒè¯"></a>å…ƒæ•°æ®éªŒè¯</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902130939891.png" alt="image-20230902130939891"></p><h3 id="å­—èŠ‚ç éªŒè¯"><a href="#å­—èŠ‚ç éªŒè¯" class="headerlink" title="å­—èŠ‚ç éªŒè¯"></a>å­—èŠ‚ç éªŒè¯</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902131054699.png" alt="image-20230902131054699"></p><h3 id="ç¬¦å·å¼•ç”¨éªŒè¯"><a href="#ç¬¦å·å¼•ç”¨éªŒè¯" class="headerlink" title="ç¬¦å·å¼•ç”¨éªŒè¯"></a>ç¬¦å·å¼•ç”¨éªŒè¯</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902131203646.png" alt="image-20230902131203646"></p><h2 id="å‡†å¤‡"><a href="#å‡†å¤‡" class="headerlink" title="å‡†å¤‡"></a>å‡†å¤‡</h2><h3 id="å˜é‡ç±»å‹"><a href="#å˜é‡ç±»å‹" class="headerlink" title="å˜é‡ç±»å‹"></a>å˜é‡ç±»å‹</h3><p>æ³¨æ„æ˜¯ç±»å˜é‡ï¼Œä¹Ÿå°±æ˜¯ç±»é‡Œçš„é™æ€å˜é‡ï¼Œè€Œä¸æ˜¯newçš„é‚£äº›å®ä¾‹å˜é‡ï¼Œnewçš„åœ¨ä¸‹é¢çš„åˆå§‹åŒ–é˜¶æ®µ</p><ul><li>ç±»å˜é‡ &#x3D; é™æ€å˜é‡</li><li>å®ä¾‹å˜é‡ &#x3D; å®ä¾‹åŒ–newå‡ºæ¥çš„é‚£äº›</li></ul><h3 id="å­˜å‚¨ä½ç½®"><a href="#å­˜å‚¨ä½ç½®" class="headerlink" title="å­˜å‚¨ä½ç½®"></a>å­˜å‚¨ä½ç½®</h3><p>ç†è®ºä¸Šè¿™äº›å€¼éƒ½åœ¨æ–¹æ³•åŒºé‡Œï¼Œä½†æ˜¯æ³¨æ„ï¼Œæ–¹æ³•åŒºæœ¬èº«å°±æ˜¯ä¸€ä¸ªé€»è¾‘æ¦‚å¿µã€‚ </p><ul><li>1.6é‡Œï¼Œåœ¨æ°¸ä¹…ä»£ </li><li>1.8ä»¥åï¼Œé™æ€ç±»å˜é‡å¦‚æœæ˜¯ä¸€ä¸ªå¯¹è±¡ï¼Œå…¶å®å®ƒåœ¨å †é‡Œ</li></ul><h3 id="åˆå§‹åŒ–å€¼"><a href="#åˆå§‹åŒ–å€¼" class="headerlink" title="åˆå§‹åŒ–å€¼"></a>åˆå§‹åŒ–å€¼</h3><p>æ³¨æ„ï¼šå³ä½¿æ˜¯staticå˜é‡ï¼Œå®ƒåœ¨è¿™ä¸ªé˜¶æ®µåˆå§‹åŒ–è¿›å†…å­˜çš„ä¾ç„¶æ˜¯å®ƒçš„åˆå§‹å€¼ï¼Œè€Œä¸æ˜¯ä½ æƒ³è¦ä»€ä¹ˆå°±æ˜¯ä»€ä¹ˆ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šç±»å˜é‡ï¼šåœ¨å‡†å¤‡é˜¶æ®µä¸ºå®ƒå¼€äº†å†…å­˜ç©ºé—´ï¼Œä½†æ˜¯å®ƒçš„valueæ˜¯intçš„åˆå§‹å€¼ï¼Œä¹Ÿå°±æ˜¯ 0ï¼</span></span><br><span class="line"><span class="comment">//è€ŒçœŸæ­£çš„123èµ‹å€¼ï¼Œæ˜¯åœ¨ç±»æ„é€ å™¨ï¼Œä¹Ÿå°±æ˜¯ä¸‹é¢çš„åˆå§‹åŒ–é˜¶æ®µ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">123</span>;</span><br><span class="line"><span class="comment">//finalä¿®é¥°çš„ç±»å˜é‡ï¼Œç¼–è¯‘æˆå­—èŠ‚ç åï¼Œæ˜¯ä¸€ä¸ªConstantValueç±»å‹</span></span><br><span class="line"><span class="comment">//è¿™ç§ç±»å‹ï¼Œåœ¨å‡†å¤‡é˜¶æ®µï¼Œç›´æ¥ç»™å®šå€¼123ï¼ŒåæœŸä¹Ÿæ²¡æœ‰äºŒæ¬¡åˆå§‹åŒ–ä¸€è¯´</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">123</span>;</span><br></pre></td></tr></table></figure><h2 id="è§£æ"><a href="#è§£æ" class="headerlink" title="è§£æ"></a>è§£æ</h2><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902142447933.png" alt="image-20230902142447933"></p><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><h3 id="æ¦‚è¿°-3"><a href="#æ¦‚è¿°-3" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230902142840888.png" alt="image-20230902142840888"></p><h3 id="ä¸¤ä¸ªåˆå§‹åŒ–"><a href="#ä¸¤ä¸ªåˆå§‹åŒ–" class="headerlink" title="ä¸¤ä¸ªåˆå§‹åŒ–"></a>ä¸¤ä¸ªåˆå§‹åŒ–</h3><ul><li>ç±»å˜é‡ä¸å®ä¾‹å˜é‡çš„åŒºåˆ†</li></ul><p>è¿™é‡Œæ‰€è¯´çš„åˆå§‹åŒ–æ˜¯ä¸€ä¸ªclassç±»åŠ è½½åˆ°å†…å­˜çš„è¿‡ç¨‹ï¼Œæ‰€è°“çš„åˆå§‹åŒ–å€¼æ˜¯ç±»é‡Œå®šä¹‰çš„ç±»å˜é‡ï¼Œä¹Ÿå°±æ˜¯é™æ€å˜é‡</p><p>è¿™ä¸ªåˆå§‹åŒ–è¦å’Œnewä¸€ä¸ªç±»åŒºåˆ†å¼€æ¥ï¼Œnewçš„æ˜¯å®ä¾‹å˜é‡ï¼Œæ˜¯åœ¨æ‰§è¡Œé˜¶æ®µæ‰åˆ›å»ºçš„</p><ul><li>å®ä¾‹å˜é‡åˆ›å»ºçš„è¿‡ç¨‹ï¼ˆnewï¼‰<ul><li>åœ¨æ–¹æ³•åŒºä¸­æ‰¾åˆ°å¯¹åº”ç±»å‹çš„ç±»ä¿¡æ¯</li><li>åœ¨å½“å‰æ–¹æ³•æ ˆå¸§çš„æœ¬åœ°å˜é‡è¡¨ä¸­æ”¾ç½®ä¸€ä¸ªreferenceæŒ‡é’ˆ</li><li>åœ¨å †ä¸­å¼€è¾Ÿä¸€å—ç©ºé—´ï¼Œæ”¾è¿™ä¸ªå¯¹è±¡çš„å®ä¾‹</li><li>å°†æŒ‡é’ˆæŒ‡å‘å †é‡Œå¯¹è±¡çš„åœ°å€</li></ul></li></ul><h1 id="å¯¹è±¡åˆ›å»º"><a href="#å¯¹è±¡åˆ›å»º" class="headerlink" title="å¯¹è±¡åˆ›å»º"></a>å¯¹è±¡åˆ›å»º</h1><h2 id="å¯¹è±¡åˆ›å»º-1"><a href="#å¯¹è±¡åˆ›å»º-1" class="headerlink" title="å¯¹è±¡åˆ›å»º"></a>å¯¹è±¡åˆ›å»º</h2><h3 id="æ¦‚è¿°-4"><a href="#æ¦‚è¿°-4" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><p>ä»ä½ newä¸€ä¸ªå¯¹è±¡å¼€å§‹ï¼Œå‘ç”Ÿäº†ä»€ä¹ˆï¼Ÿ </p><p>é‡åˆ°newæŒ‡ä»¤ï¼ŒJVMé¦–å…ˆè¦åšçš„äº‹æ˜¯æ£€æŸ¥æœ‰æ²¡æœ‰è¿™ä¸ªç±»ï¼Œæœ‰çš„è¯ï¼ŒåŠ è½½å®ƒï¼</p><h3 id="å†…å­˜åˆ†é…"><a href="#å†…å­˜åˆ†é…" class="headerlink" title="å†…å­˜åˆ†é…"></a>å†…å­˜åˆ†é…</h3><p>ç±»åŠ è½½æ£€æŸ¥é€šè¿‡åï¼Œå°±è¦ç»™æ–°å¯¹è±¡åˆ†é…å†…å­˜ã€‚ </p><p>å› ä¸ºä¸€ä¸ªç±»å‹ç¡®å®šåï¼Œå®ƒå†…éƒ¨å®šä¹‰äº†å“ªäº›ç»“æ„å“ªäº›å€¼ï¼Œæ‰€éœ€è¦çš„å†…å­˜ç©ºé—´ä¹Ÿå°±ç¡®å®šäº†ã€‚</p><ul><li>æŒ‡é’ˆç¢°æ’ï¼ˆBump The Pointerï¼‰</li></ul><p>è¿™ç§åˆ†é…å‰ææ˜¯å†…å­˜ä¸­æœ‰æ•´ç‰‡è¿ç»­çš„ç©ºé—´ï¼Œç”¨çš„åœ¨ä¸€è¾¹ï¼Œç©ºé—²çš„åœ¨å¦ä¸€è¾¹ï¼Œä¸€ä¸ªæŒ‡é’ˆæŒ‡å‘åˆ†ç•Œçº¿ã€‚</p><p>éœ€è¦å¤šå°‘æŒ‡é’ˆå¾€2ç©ºé—²é‚£è¾¹ç§»åŠ¨å¤šå°‘ï¼Œç›´æ¥åˆ’åˆ†å‡ºæ¥ä¸€æ®µï¼Œç»™å½“å‰å¯¹è±¡ã€‚</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230903100520367.png" alt="image-20230903100520367"></p><ul><li>ç©ºé—²åˆ—è¡¨ï¼ˆFree Listï¼‰</li></ul><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230903100709579.png" alt="image-20230903100709579"></p><ul><li>å¹¶å‘æ€§</li></ul><p>æ— è®ºæŒ‡é’ˆç§»åŠ¨è¿˜æ˜¯ç©ºé—²åˆ—è¡¨çš„åŒä¸€ä¸ªæŒ‡é’ˆç©ºé—´ï¼Œåœ¨å¹¶å‘åˆ†é…çš„æƒ…å†µä¸‹ä¼šä¸ä¼šæœ‰é—®é¢˜ï¼Ÿ </p><p>ç¡®å®æœ‰å¹¶å‘é—®é¢˜ï¼Œé‚£JVMæ˜¯å¦‚ä½•è§£å†³çš„å‘¢ï¼Ÿ</p><p>æ–¹å¼ä¸€ï¼šCASåŸå­æ“ä½œ+å¤±è´¥é‡è¯•</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230903101634891.png" alt="image-20230903101634891"></p><p>æ–¹å¼äºŒï¼šæœ¬åœ°çº¿ç¨‹åˆ†é…ç¼“å†²ï¼ˆTLABï¼‰</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230903103716311.png" alt="image-20230903103716311"></p><p>å¯¹è±¡åˆ›å»ºæ—¶å†…å­˜åˆ†é…çš„æµç¨‹ï¼š</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230903112614115.png" alt="image-20230903112614115"></p><ul><li>å†…å­˜åŒºåŸŸ<ul><li>æ ˆä¸Šåˆ†é…ä½¿ç”¨çš„æ˜¯æ ˆæ¥è¿›è¡Œå¯¹è±¡å†…å­˜çš„åˆ†é…</li><li>TLABåˆ†é…ä½¿ç”¨çš„æ˜¯EdenåŒºåŸŸè¿›è¡Œå†…å­˜åˆ†é…ï¼Œå®é™…ä¸Šè¿˜æ˜¯å±äºå †å†…å­˜</li></ul></li><li>ä¼˜å…ˆçº§<ul><li>æ ˆä¸Šåˆ†é…ä¼˜å…ˆäºTLABåˆ†é…è¿›è¡Œï¼Œé€ƒé€¸åˆ†æä¸­è‹¥å¯è¿›è¡Œæ ˆä¸Šåˆ†é…ä¼˜åŒ–ï¼Œä¼šä¼˜å…ˆè¿›è¡Œå¯¹è±¡æ ˆä¸Šç›´æ¥åˆ†é…å†…å­˜</li><li>å½“æ— æ³•è¿›è¡Œæ ˆä¸Šç›´æ¥åˆ†é…æ—¶ï¼Œåˆ™ä¼šè¿›è¡ŒTLABåˆ†é…</li></ul></li></ul><h2 id="å†…å­˜å¸ƒå±€"><a href="#å†…å­˜å¸ƒå±€" class="headerlink" title="å†…å­˜å¸ƒå±€"></a>å†…å­˜å¸ƒå±€</h2><p>å¯¹è±¡åœ¨å †ä¸Šçš„å¸ƒå±€ï¼Œå¯ä»¥åˆ†ä¸ºä¸‰ä¸ªéƒ¨åˆ†ï¼šå¯¹è±¡å¤´ã€å®ä¾‹æ•°æ®ã€å¯¹é½å¡«å……ã€‚</p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230904084052863.png" alt="image-20230904084052863"></p><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230904084426080.png" alt="image-20230904084426080"></p><h3 id="å¯¹è±¡å¤´"><a href="#å¯¹è±¡å¤´" class="headerlink" title="å¯¹è±¡å¤´"></a>å¯¹è±¡å¤´</h3><p>ä¸€èˆ¬åˆ†ä¸ºä¸¤éƒ¨åˆ†ï¼ŒMark Word å’Œ ç±»å‹æŒ‡é’ˆï¼ˆHotSpotï¼‰</p><ul><li>Mark Work, å®˜æ–¹å«æ³•ï¼Œå…¶å®å°±æ˜¯å­˜å‚¨å¯¹è±¡è‡ªå·±è¿è¡Œæ—¶çš„æ•°æ®</li></ul><p>å¦‚å“ˆå¸Œç ã€GCåˆ†ä»£å¹´é¾„ã€é”çŠ¶æ€æ ‡è®°ã€çº¿ç¨‹æŒæœ‰çš„é”ã€åå‘çš„çº¿ç¨‹id (å…·ä½“çš„åˆ†ç±»åœ¨ä¸‹é¢)</p><ul><li>ç±»å‹æŒ‡é’ˆ</li></ul><p>æŒ‡å‘å½“å‰å¯¹è±¡çš„ç±»å‹ï¼Œä¹Ÿå°±æ˜¯æ–¹æ³•åŒºé‡Œï¼Œç±»ä¿¡æ¯çš„åœ°å€ã€‚ï¼ˆå½“ç„¶è¿™é‡Œä¸æ˜¯ç»å¯¹çš„ï¼ŒHotSpotè¿™ä¹ˆè®¾è®¡çš„ã€‚ï¼‰</p><h3 id="å®ä¾‹æ•°æ®"><a href="#å®ä¾‹æ•°æ®" class="headerlink" title="å®ä¾‹æ•°æ®"></a>å®ä¾‹æ•°æ®</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230904085034371.png" alt="image-20230904085034371"></p><h3 id="å¯¹é½å¡«å……"><a href="#å¯¹é½å¡«å……" class="headerlink" title="å¯¹é½å¡«å……"></a>å¯¹é½å¡«å……</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230904085247007.png" alt="image-20230904085247007"></p><h2 id="å¯¹è±¡çš„è®¿é—®"><a href="#å¯¹è±¡çš„è®¿é—®" class="headerlink" title="å¯¹è±¡çš„è®¿é—®"></a>å¯¹è±¡çš„è®¿é—®</h2><p>æˆ‘ä»¬çš„ç¨‹åºè¿è¡Œæ—¶ï¼Œæ¯ä¸€ä¸ªæ–¹æ³•ç›¸å…³çš„å˜é‡ä¿¡æ¯éƒ½åœ¨æ ˆé‡Œï¼Œé‚£ä¹ˆæ€ä¹ˆæ‰¾åˆ°è¿™ä¸ªå¯¹è±¡å‘¢ï¼Ÿ(<strong>æ ˆä¸­å˜é‡å¼•ç”¨å¦‚ä½•æŒ‡å‘å †ä¸­å¯¹è±¡</strong>)</p><h3 id="å¥æŸ„è®¿é—®"><a href="#å¥æŸ„è®¿é—®" class="headerlink" title="å¥æŸ„è®¿é—®"></a>å¥æŸ„è®¿é—®</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230904090112323.png" alt="image-20230904090112323"></p><p>æ ˆæŒ‡é’ˆæŒ‡å‘å †é‡Œçš„ä¸€ä¸ªå¥æŸ„çš„åœ°å€ï¼Œè¿™ä¸ªå¥æŸ„å†å®šä¹‰ä¸¤æŒ‡é’ˆåˆ†åˆ«æŒ‡å‘ç±»å‹å’Œå®ä¾‹</p><p>å¾ˆæ˜¾ç„¶ï¼Œæ‹¦æˆªå›æ”¶ç§»åŠ¨å¯¹è±¡çš„è¯åªéœ€è¦æ”¹å¥æŸ„å³å¯ï¼Œä¸ä¼šæ³¢åŠåˆ°æ ˆï¼Œä½†æ˜¯å¤šäº†ä¸€æ¬¡å¯»å€æ“ä½œã€‚</p><h3 id="ç›´æ¥åœ°å€"><a href="#ç›´æ¥åœ°å€" class="headerlink" title="ç›´æ¥åœ°å€"></a>ç›´æ¥åœ°å€</h3><p><img src="/2023/08/26/expand-01-%E6%B7%B1%E5%85%A5Java%E8%99%9A%E6%8B%9F%E6%9C%BA/image-20230904090400597.png" alt="image-20230904090400597"></p><p>å¾ˆæ˜¾ç„¶ï¼Œåƒåœ¾å›æ”¶ç§»åŠ¨å¯¹è±¡è¦æ”¹æ ˆé‡Œçš„åœ°å€å€¼ï¼Œä½†æ˜¯å®ƒå‡å°‘äº†ä¸€æ¬¡å¯»å€æ“ä½œã€‚</p><blockquote><p>å¤‡æ³¨ï¼šHotSpotä½¿ç”¨çš„æ˜¯ç›´æ¥åœ°å€æ–¹å¼</p></blockquote><h1 id="å¯¹è±¡çš„é”€æ¯"><a href="#å¯¹è±¡çš„é”€æ¯" class="headerlink" title="å¯¹è±¡çš„é”€æ¯"></a>å¯¹è±¡çš„é”€æ¯</h1><h2 id="JVMå‚æ•°"><a href="#JVMå‚æ•°" class="headerlink" title="JVMå‚æ•°"></a>JVMå‚æ•°</h2><h3 id="åˆ†ç±»"><a href="#åˆ†ç±»" class="headerlink" title="åˆ†ç±»"></a>åˆ†ç±»</h3><h3 id="æ ‡å‡†å‚æ•°"><a href="#æ ‡å‡†å‚æ•°" class="headerlink" title="æ ‡å‡†å‚æ•°"></a>æ ‡å‡†å‚æ•°</h3><h3 id="Xå‚æ•°"><a href="#Xå‚æ•°" class="headerlink" title="-Xå‚æ•°"></a>-Xå‚æ•°</h3><h3 id="XXå‚æ•°"><a href="#XXå‚æ•°" class="headerlink" title="-XXå‚æ•°"></a>-XXå‚æ•°</h3><h3 id="å‚æ•°æŸ¥è¯¢"><a href="#å‚æ•°æŸ¥è¯¢" class="headerlink" title="å‚æ•°æŸ¥è¯¢"></a>å‚æ•°æŸ¥è¯¢</h3><h2 id="åƒåœ¾å›æ”¶æ¦‚è¿°"><a href="#åƒåœ¾å›æ”¶æ¦‚è¿°" class="headerlink" title="åƒåœ¾å›æ”¶æ¦‚è¿°"></a>åƒåœ¾å›æ”¶æ¦‚è¿°</h2><h3 id="èƒŒæ™¯"><a href="#èƒŒæ™¯" class="headerlink" title="èƒŒæ™¯"></a>èƒŒæ™¯</h3><p>å®é™…ä¸Šï¼Œåƒåœ¾å›æ”¶å¹¶ä¸æ˜¯Javaé¦–åˆ›çš„ï¼Œåƒåœ¾æ”¶é›†çš„å†å²è¿œæ¯”Javaè¯­è¨€æœ¬èº«è¿˜è¦ä¹…ã€‚ </p><p>æœ€æ—©ä½¿ç”¨åƒåœ¾å›æ”¶åŠŸèƒ½çš„è¯­è¨€æ˜¯<strong>Lisp</strong>ï¼Œäº1960å¹´è¯ç”Ÿäºéº»çœç†å·¥å­¦é™¢ã€‚</p><h2 id="å›æ”¶äº‹ä»¶ä¸‰è¦ç´ "><a href="#å›æ”¶äº‹ä»¶ä¸‰è¦ç´ " class="headerlink" title="å›æ”¶äº‹ä»¶ä¸‰è¦ç´ "></a>å›æ”¶äº‹ä»¶ä¸‰è¦ç´ </h2><h3 id="åœ¨å“ªæ”¶ï¼ˆåœ°ç‚¹ï¼‰"><a href="#åœ¨å“ªæ”¶ï¼ˆåœ°ç‚¹ï¼‰" class="headerlink" title="åœ¨å“ªæ”¶ï¼ˆåœ°ç‚¹ï¼‰"></a>åœ¨å“ªæ”¶ï¼ˆåœ°ç‚¹ï¼‰</h3><h3 id="ä»€ä¹ˆæ—¶å€™æ”¶ï¼ˆæ—¶é—´ï¼‰"><a href="#ä»€ä¹ˆæ—¶å€™æ”¶ï¼ˆæ—¶é—´ï¼‰" class="headerlink" title="ä»€ä¹ˆæ—¶å€™æ”¶ï¼ˆæ—¶é—´ï¼‰"></a>ä»€ä¹ˆæ—¶å€™æ”¶ï¼ˆæ—¶é—´ï¼‰</h3><h3 id="å›æ”¶è°ï¼ˆäººç‰©ï¼‰"><a href="#å›æ”¶è°ï¼ˆäººç‰©ï¼‰" class="headerlink" title="å›æ”¶è°ï¼ˆäººç‰©ï¼‰"></a>å›æ”¶è°ï¼ˆäººç‰©ï¼‰</h3><h4 id="å¼•ç”¨è®¡æ•°æ³•"><a href="#å¼•ç”¨è®¡æ•°æ³•" class="headerlink" title="å¼•ç”¨è®¡æ•°æ³•"></a>å¼•ç”¨è®¡æ•°æ³•</h4><h4 id="å¯è¾¾æ€§åˆ†æ"><a href="#å¯è¾¾æ€§åˆ†æ" class="headerlink" title="å¯è¾¾æ€§åˆ†æ"></a>å¯è¾¾æ€§åˆ†æ</h4><h2 id="å›æ”¶ç®—æ³•ï¼ˆç­–ç•¥ï¼‰"><a href="#å›æ”¶ç®—æ³•ï¼ˆç­–ç•¥ï¼‰" class="headerlink" title="å›æ”¶ç®—æ³•ï¼ˆç­–ç•¥ï¼‰"></a>å›æ”¶ç®—æ³•ï¼ˆç­–ç•¥ï¼‰</h2><h3 id="æ ‡è®°æ¸…é™¤ç®—æ³•"><a href="#æ ‡è®°æ¸…é™¤ç®—æ³•" class="headerlink" title="æ ‡è®°æ¸…é™¤ç®—æ³•"></a>æ ‡è®°æ¸…é™¤ç®—æ³•</h3><h3 id="æ ‡è®°æ•´ç†ç®—æ³•"><a href="#æ ‡è®°æ•´ç†ç®—æ³•" class="headerlink" title="æ ‡è®°æ•´ç†ç®—æ³•"></a>æ ‡è®°æ•´ç†ç®—æ³•</h3><h3 id="æ ‡è®°å¤åˆ¶ç®—æ³•"><a href="#æ ‡è®°å¤åˆ¶ç®—æ³•" class="headerlink" title="æ ‡è®°å¤åˆ¶ç®—æ³•"></a>æ ‡è®°å¤åˆ¶ç®—æ³•</h3><h3 id="åˆ†ä»£"><a href="#åˆ†ä»£" class="headerlink" title="åˆ†ä»£"></a>åˆ†ä»£</h3><h2 id="å›æ”¶å™¨ï¼ˆæ‰§è¡Œè€…ï¼‰"><a href="#å›æ”¶å™¨ï¼ˆæ‰§è¡Œè€…ï¼‰" class="headerlink" title="å›æ”¶å™¨ï¼ˆæ‰§è¡Œè€…ï¼‰"></a>å›æ”¶å™¨ï¼ˆæ‰§è¡Œè€…ï¼‰</h2><h3 id="ä¸²è¡Œ"><a href="#ä¸²è¡Œ" class="headerlink" title="ä¸²è¡Œ"></a>ä¸²è¡Œ</h3><h3 id="å¹¶è¡Œ"><a href="#å¹¶è¡Œ" class="headerlink" title="å¹¶è¡Œ"></a>å¹¶è¡Œ</h3><h3 id="å¹¶å‘-CMS"><a href="#å¹¶å‘-CMS" class="headerlink" title="å¹¶å‘ - CMS"></a>å¹¶å‘ - CMS</h3><h3 id="å¹¶å‘-G1"><a href="#å¹¶å‘-G1" class="headerlink" title="å¹¶å‘ - G1"></a>å¹¶å‘ - G1</h3><h3 id="å¹¶å‘-ZGCï¼ˆäº†è§£ï¼‰"><a href="#å¹¶å‘-ZGCï¼ˆäº†è§£ï¼‰" class="headerlink" title="å¹¶å‘ - ZGCï¼ˆäº†è§£ï¼‰"></a>å¹¶å‘ - ZGCï¼ˆäº†è§£ï¼‰</h3><h3 id="å½’çº³æ€»ç»“-1"><a href="#å½’çº³æ€»ç»“-1" class="headerlink" title="å½’çº³æ€»ç»“"></a>å½’çº³æ€»ç»“</h3><h1 id="è°ƒä¼˜å®æˆ˜"><a href="#è°ƒä¼˜å®æˆ˜" class="headerlink" title="è°ƒä¼˜å®æˆ˜"></a>è°ƒä¼˜å®æˆ˜</h1><h2 id="ç¯å¢ƒ"><a href="#ç¯å¢ƒ" class="headerlink" title="ç¯å¢ƒ"></a>ç¯å¢ƒ</h2><h2 id="åˆå§‹çŠ¶æ€"><a href="#åˆå§‹çŠ¶æ€" class="headerlink" title="åˆå§‹çŠ¶æ€"></a>åˆå§‹çŠ¶æ€</h2><h3 id="å‚æ•°"><a href="#å‚æ•°" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><h3 id="æ‰§è¡Œæ—¥å¿—"><a href="#æ‰§è¡Œæ—¥å¿—" class="headerlink" title="æ‰§è¡Œæ—¥å¿—"></a>æ‰§è¡Œæ—¥å¿—</h3><h3 id="æ—¥å¿—åˆ†æ"><a href="#æ—¥å¿—åˆ†æ" class="headerlink" title="æ—¥å¿—åˆ†æ"></a>æ—¥å¿—åˆ†æ</h3><h2 id="åˆæ­¥è°ƒä¼˜"><a href="#åˆæ­¥è°ƒä¼˜" class="headerlink" title="åˆæ­¥è°ƒä¼˜"></a>åˆæ­¥è°ƒä¼˜</h2><h3 id="å‚æ•°-1"><a href="#å‚æ•°-1" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><h3 id="äºŒæ¬¡åˆ†æ"><a href="#äºŒæ¬¡åˆ†æ" class="headerlink" title="äºŒæ¬¡åˆ†æ"></a>äºŒæ¬¡åˆ†æ</h3><h2 id="äºŒæ¬¡è°ƒä¼˜"><a href="#äºŒæ¬¡è°ƒä¼˜" class="headerlink" title="äºŒæ¬¡è°ƒä¼˜"></a>äºŒæ¬¡è°ƒä¼˜</h2><h3 id="å‚æ•°-2"><a href="#å‚æ•°-2" class="headerlink" title="å‚æ•°"></a>å‚æ•°</h3><h4 id="æ—¥å¿—åˆ†æ-1"><a href="#æ—¥å¿—åˆ†æ-1" class="headerlink" title="æ—¥å¿—åˆ†æ"></a>æ—¥å¿—åˆ†æ</h4><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>13-ç±»åŠ è½½-åå°„</title>
      <link href="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/"/>
      <url>/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaé«˜çº§ç¼–ç¨‹ï¼Œçµæ´»è¿ç”¨åå°„ï¼Œçº¿ç¨‹ï¼ŒIOå’Œç½‘ç»œç­‰è¿›è¡Œç¼–ç¨‹</p></blockquote><h1 id="åŸºç¡€å›é¡¾"><a href="#åŸºç¡€å›é¡¾" class="headerlink" title="åŸºç¡€å›é¡¾"></a>åŸºç¡€å›é¡¾</h1><blockquote><p>æ¸©æ•…è€ŒçŸ¥æ–°ï¼š<a href="https://www.lzwgxust.top/post/190b6531.html?highlight=java">01-JavaåŸºç¡€å…¥é—¨</a></p></blockquote><h1 id="JVMè™šæ‹Ÿæœº"><a href="#JVMè™šæ‹Ÿæœº" class="headerlink" title="JVMè™šæ‹Ÿæœº"></a>JVMè™šæ‹Ÿæœº</h1><blockquote><p>JVM(Java Virtual Machine) æ˜¯Javaå¹³å°çš„æ ¸å¿ƒç»„ä»¶ï¼Œå®ƒæä¾›äº†è·¨å¹³å°çš„èƒ½åŠ›ï¼Œä½¿å¾—Javaç¨‹åºèƒ½å¤Ÿåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸Šè¿è¡Œã€‚JDKä¸­çš„<strong>JVMè´Ÿè´£è§£é‡Šå’Œæ‰§è¡ŒJavaå­—èŠ‚ç æ–‡ä»¶</strong>ï¼ŒåŒæ—¶è¿˜æä¾›äº†<strong>å†…å­˜ç®¡ç†ã€åƒåœ¾å›æ”¶</strong>ç­‰åŠŸèƒ½ï¼Œä½¿å¾—Javaç¨‹åºèƒ½å¤Ÿé«˜æ•ˆã€å®‰å…¨åœ°è¿è¡Œã€‚</p><p>JVMå†…å­˜ç»“æ„</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824185021385.png" alt="image-20230824185021385"></p><ul><li><strong>ç±»åŠ è½½å™¨ï¼ˆClass Loaderï¼‰</strong>ï¼šç±»åŠ è½½å™¨è´Ÿè´£åŠ è½½Javaå­—èŠ‚ç æ–‡ä»¶ï¼ˆ.classæ–‡ä»¶ï¼‰ï¼Œå¹¶å°†å…¶è½¬æ¢ä¸ºå¯æ‰§è¡Œçš„ä»£ç ã€‚å®ƒå°†ç±»åŠ è½½åˆ°JVMçš„è¿è¡Œæ—¶æ•°æ®åŒºåŸŸä¸­ï¼Œå¹¶è§£æç±»çš„ä¾èµ–å…³ç³»</li><li><strong>è¿è¡Œæ—¶æ•°æ®åŒºï¼ˆRuntime Data Areaï¼‰</strong>ï¼šè¿è¡Œæ—¶æ•°æ®åŒºåŸŸæ—¶JVMç”¨äºå­˜å‚¨ç¨‹åºè¿è¡Œæ—¶çš„æ•°æ®çš„åŒºåŸŸã€‚å®ƒåŒ…æ‹¬ä»¥ä¸‹å‡ ä¸ªéƒ¨åˆ†ï¼š<ul><li>æ–¹æ³•åŒºï¼ˆMethod Areaï¼‰ï¼šç”¨äºå­˜å‚¨ç±»çš„ç»“æ„ä¿¡æ¯ã€å¸¸é‡æ± ã€é™æ€å˜é‡ç­‰</li><li>å †ï¼ˆHeapï¼‰ï¼šç”¨äºå­˜å‚¨å¯¹è±¡å®ä¾‹å’Œæ•°ç»„å†…å­˜</li><li>æ ˆï¼ˆStackï¼‰ï¼šä¹Ÿå«åšè™šæ‹Ÿæœºæ ˆï¼Œæ–¹æ³•è°ƒç”¨æ‰§è¡Œã€å±€éƒ¨å˜é‡æ‰€éœ€å†…å­˜ç”±å®ƒæä¾›</li><li>æœ¬åœ°æ–¹æ³•æ ˆï¼ˆNative Method Stackï¼‰ï¼šæœ¬åœ°æ–¹æ³•æ ˆä¸è™šæ‹Ÿæœºæ ˆæ‰€å‘æŒ¥çš„ä½œç”¨éå¸¸ç›¸ä¼¼ï¼Œå…¶åŒºåˆ«æ˜¯è™šæ‹Ÿæœºæ ˆä¸ºè™šæ‹Ÿæœºæ ˆæ˜¯ä¸ºè™šæ‹Ÿæœºæ‰§è¡ŒJavaæ–¹æ³•æœåŠ¡ï¼Œè€Œæœ¬åœ°æ–¹æ³•æ ˆåˆ™æ˜¯ä¸ºè™šæ‹Ÿæœºä½¿ç”¨åˆ°çš„æœ¬åœ°ï¼ˆNativeï¼‰æ–¹æ³•æœåŠ¡</li><li>ç¨‹åºè®¡æ•°å™¨ï¼ˆProgram Counterï¼‰ï¼šç”¨äºå­˜å‚¨å½“å‰çº¿ç¨‹æ‰§è¡Œçš„å­—èŠ‚ç æŒ‡ä»¤çš„åœ°å€</li></ul></li><li><strong>æ‰§è¡Œå¼•æ“ï¼ˆExecution Engineï¼‰</strong>ï¼šæ‰§è¡Œå¼•æ“è´Ÿè´£æ‰§è¡Œç¼–è¯‘åçš„å­—èŠ‚ç æŒ‡ä»¤ï¼Œå°†å…¶ è½¬æ¢ä¸ºæœºå™¨ç å¹¶æ‰§è¡Œã€‚å®ƒåŒ…æ‹¬<strong>è§£é‡Šå™¨å’Œå³æ—¶ç¼–è¯‘å™¨ï¼ˆJust-In-Time Compilerï¼Œ JITï¼‰</strong>ä¸¤ä¸ªéƒ¨åˆ†ï¼Œç”¨äºæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ï¼ˆå…¶å…·ä½“å·¥ä½œåŸç†ï¼Œä¸‹ä¸€ç« èŠ‚å…·ä½“è®¨è®ºï¼‰</li><li><strong>åƒåœ¾å›æ”¶å™¨ï¼ˆGarbage Collectorï¼‰</strong>ï¼šåƒåœ¾å›æ”¶å™¨è´Ÿè´£è‡ªåŠ¨å›æ”¶ä¸åœ¨ä½¿ç”¨çš„å¯¹è±¡å’Œé‡Šæ”¾å†…å­˜ç©ºé—´ã€‚å®ƒé€šè¿‡æ ‡è®°-æ¸…é™¤ã€å¤åˆ¶ã€æ ‡è®°-æ•´ç†ç­‰ç®—æ³•æ¥è¿›è¡Œåƒåœ¾å›æ”¶</li><li>**æœ¬åœ°æ–¹æ³•æ¥å£ï¼ˆNative Method Interface)**ï¼šæœ¬åœ°æ–¹æ³•æ¥å£å…è®¸Javaç¨‹åºè°ƒç”¨æœ¬åœ°æ–¹æ³• å³ä½¿ç”¨å…¶ä»–è¯­è¨€ï¼ˆCã€C++ï¼‰ç¼–å†™çš„ä»£ç </li></ul></blockquote><h1 id="ç±»åŠ è½½"><a href="#ç±»åŠ è½½" class="headerlink" title="ç±»åŠ è½½"></a>ç±»åŠ è½½</h1><blockquote><p>JVMæ¶æ„åŠæ‰§è¡Œæµç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824190709549.png" alt="image-20230824190709549"></p><ul><li>è§£é‡Šæ‰§è¡Œ</li></ul><p>classæ–‡ä»¶å†…å®¹ï¼Œéœ€è¦äº¤ç»™JVMè¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œç®€å•ç†è§£å°±æ˜¯JVMè§£é‡Šä¸€è¡Œå°± æ‰§è¡Œä¸€è¡Œä»£ç ã€‚æ‰€ä»¥å¦‚æœJavaä»£ç å…¨æ˜¯è¿™æ ·çš„è¿è¡Œæ–¹å¼çš„è¯ï¼Œæ•ˆç‡ä¼šç¨ä½ä¸€ äº›ã€‚</p><ul><li>JITï¼ˆJust In Timeï¼‰å³ä½¿ç¼–è¯‘</li></ul><p>æ‰§è¡Œä»£ç çš„å¦ä¸€ç§æ–¹å¼ï¼ŒJVMå¯ä»¥æŠŠJavaä¸­çš„ <strong>çƒ­ç‚¹ä»£ç </strong> ç›´æ¥ç¼–è¯‘æˆè®¡ç®—æœºå¯ ä»¥è¿è¡Œçš„äºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œè¿™æ ·åç»­å†è°ƒç”¨è¿™ä¸ªçƒ­ç‚¹ä»£ç çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥è¿ è¡Œç¼–è¯‘å¥½çš„æŒ‡ä»¤ï¼Œå¤§å¤§æé«˜è¿è¡Œæ•ˆç‡ã€‚</p></blockquote><h2 id="ç±»åŠ è½½å™¨"><a href="#ç±»åŠ è½½å™¨" class="headerlink" title="ç±»åŠ è½½å™¨"></a>ç±»åŠ è½½å™¨</h2><blockquote><p>ç±»åŠ è½½å™¨å¯ä»¥å°†ç¼–è¯‘å¾—åˆ°çš„ <strong>.classæ–‡ä»¶</strong> ï¼ˆ<strong>å­˜å‚¨åœ¨ç£ç›˜ä¸Šçš„ç‰©ç†æ–‡ä»¶</strong>ï¼‰åŠ è½½åœ¨ åˆ°<strong>å†…å­˜</strong>ä¸­ã€‚</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824191049535.png" alt="image-20230824191049535"></p></blockquote><h2 id="åŠ è½½æ—¶æœº"><a href="#åŠ è½½æ—¶æœº" class="headerlink" title="åŠ è½½æ—¶æœº"></a>åŠ è½½æ—¶æœº</h2><blockquote><p><font color="#d12920">å½“ç¬¬ä¸€æ¬¡ä½¿ç”¨åˆ°æŸä¸ªç±»æ—¶ï¼Œè¯¥ç±»çš„classæ–‡ä»¶ä¼šè¢«åŠ è½½åˆ°å†…å­˜æ–¹æ³•åŒºã€‚</font></p><ul><li>ä½¿ç”¨ <strong>java</strong> å‘½ä»¤æ¥è¿è¡ŒæŸä¸ªä¸»ç±»ï¼ˆmainæ–¹æ³•ï¼‰</li><li>åˆ›å»ºç±»çš„å®ä¾‹ï¼ˆå¯¹è±¡ï¼‰</li><li>è°ƒç”¨ç±»çš„<strong>staticæ–¹æ³•</strong></li><li>è®¿é—®ç±»æˆ–æ¥å£çš„<strong>staticæˆå‘˜</strong>ï¼Œæˆ–è€…ä¸ºè¯¥ç±»staticæˆå‘˜èµ‹å€¼</li><li>åˆå§‹åŒ–æŸä¸ªç±»æ—¶ï¼Œå…¶çˆ¶ç±»ä¼šè¢«è‡ªåŠ¨åŠ è½½</li><li>ä½¿ç”¨åå°„æ–¹å¼æ¥è·å–ç±»çš„å­—èŠ‚ç å¯¹è±¡æ—¶ï¼Œä¼šåŠ è½½æŸä¸ªç±»æˆ–æ¥å£çš„<strong>classæ–‡ä»¶</strong></li></ul></blockquote><h2 id="åŠ è½½è¿‡ç¨‹"><a href="#åŠ è½½è¿‡ç¨‹" class="headerlink" title="åŠ è½½è¿‡ç¨‹"></a>åŠ è½½è¿‡ç¨‹</h2><blockquote><p>ç±»çš„åŠ è½½è¿‡ç¨‹ï¼šåŠ è½½ ã€éªŒè¯ã€å‡†å¤‡ã€è§£æã€åˆå§‹åŒ–</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824191717374.png" alt="image-20230824191717374"></p><p>å…·ä½“åŠ è½½æ­¥éª¤ï¼š</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824191929104.png" alt="image-20230824191929104"></p><ul><li>åŠ è½½ Loading</li></ul><p>å°†ç±»çš„å­—èŠ‚ç æ–‡ä»¶åŠ è½½åˆ°å†…å­˜æ–¹æ³•åŒºä¸­ã€‚è¿™ä¸ªé˜¶æ®µç”±ç±»åŠ è½½å™¨å®Œæˆï¼Œç±»åŠ è½½å™¨ æ ¹æ®ç±»çš„å…¨é™å®šåæ¥å®šä½å¹¶è¯»å–ç±»çš„å­—èŠ‚ç æ–‡ä»¶ï¼Œç„¶åå°†å­—èŠ‚ç è½¬æ¢ä¸ºJVMå†…éƒ¨ çš„æ•°æ®ç»“æ„ã€‚</p><ul><li><p>é“¾æ¥ Linking</p><ul><li>éªŒè¯ Verification</li></ul><p>å¯¹åŠ è½½çš„å­—èŠ‚ç è¿›è¡ŒéªŒè¯ï¼Œç¡®ä¿å­—èŠ‚ç çš„ç»“æ„å’Œè¯­ä¹‰æ˜¯æ­£ç¡®çš„ï¼ˆç¡®ä¿classæ–‡ ä»¶ä¸­çš„ä¿¡æ¯ç¬¦åˆè™šæ‹Ÿæœºè§„èŒƒï¼Œæœ‰æ²¡æœ‰å®‰å…¨éšæ‚£ï¼‰ã€‚</p><p>éªŒè¯è¿‡ç¨‹åŒ…æ‹¬æ–‡ä»¶æ ¼å¼éªŒè¯ã€å…ƒæ•°æ®éªŒè¯ã€å­—èŠ‚ç éªŒè¯å’Œç¬¦å·å¼•ç”¨éªŒè¯ç­‰ï¼Œ ä»¥ç¡®ä¿å­—èŠ‚ç çš„å®‰å…¨æ€§å’Œæ­£ç¡®æ€§ã€‚</p><ul><li>å‡†å¤‡ Preparation</li></ul><p>ä¸ºç±»çš„ <strong>staticé™æ€å˜é‡</strong>åˆ†é…å†…å­˜ï¼Œå¹¶è®¾ç½®é»˜è®¤åˆå§‹å€¼</p><p>è¿™ä¸ªé˜¶æ®µä¼šåœ¨æ–¹æ³•åŒºä¸­ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ç©ºé—´ï¼Œå¹¶è®¾ç½®é»˜è®¤<strong>åˆå§‹å€¼ ï¼ˆå¦‚0ã€0.0ã€nullç­‰ï¼‰</strong>ï¼Œä½†ä¸ä¼šæ‰§è¡Œé™æ€å˜é‡çš„åˆå§‹åŒ–ä»£ç ã€‚</p><ul><li>è§£æ Resolution</li></ul><p>å°†ç±»çš„ç¬¦åˆå¼•ç”¨è§£æä¸ºç›´æ¥å¼•ç”¨</p><p>åœ¨è§£æé˜¶æ®µï¼Œå°†<strong>ç¬¦å·å¼•ç”¨ï¼ˆå¦‚ç±»åã€æ–¹æ³•åã€å­—æ®µåï¼‰</strong>è½¬æ¢ä¸º<strong>ç›´æ¥å¼•ç”¨ï¼ˆå¦‚ç›´æ¥æŒ‡å‘æ–¹æ³•ã€å­—æ®µçš„æŒ‡é’ˆæˆ–åç§»é‡ï¼‰</strong>ï¼Œä»¥ä¾¿äºåç»­çš„è®¿é—®å’Œè°ƒç”¨</p></li><li><p>åˆå§‹åŒ– Initialization</p></li></ul><p>å¯¹ç±»è¿›è¡Œåˆå§‹åŒ–ï¼ŒåŒ…æ‹¬æ‰§è¡Œ<strong>é™æ€å˜é‡</strong>çš„èµ‹å€¼å’Œ<strong>é™æ€ä»£ç å—</strong>çš„åˆå§‹åŒ–ã€‚</p><p>åœ¨æ­¤é˜¶æ®µï¼Œä¼šæŒ‰ç…§ç¨‹åºçš„é¡ºåºæ‰§è¡Œç±»çš„é™æ€å˜é‡èµ‹å€¼å’Œé™æ€ä»£ç å—ä¸­çš„åˆå§‹åŒ– ä»£ç ï¼Œå®Œæˆç±»çš„åˆå§‹åŒ–å·¥ä½œã€‚</p><p><strong>æ³¨æ„äº‹é¡¹ï¼š</strong></p><p><font color="skyblue">ç±»åŠ è½½è¿‡ç¨‹æ—¶æŒ‰éœ€è¿›è¡Œçš„ï¼Œå³åœ¨é¦–æ¬¡ä½¿ç”¨ç±»æ—¶æ‰ä¼šè§¦å‘ç±»çš„åŠ è½½å’Œåˆå§‹åŒ–ã€‚æ­¤å¤–ï¼Œç±»åŠ è½½è¿‡ç¨‹æ˜¯ç”±Javaè™šæ‹Ÿæœºçš„ç±»åŠ è½½å™¨è´Ÿè´£å®Œæˆçš„ï¼Œä¸åŒçš„ç±»åŠ è½½å™¨å¯èƒ½æœ‰ä¸åŒçš„åŠ è½½ç­–ç•¥å’Œè¡Œä¸ºã€‚</font></p><p><strong>ç±»åŠ è½½å°ç»“ï¼š</strong></p><p><font color="skyblue">JVMçš„ç±»åŠ è½½è¿‡ç¨‹åŒ…æ‹¬åŠ è½½ã€éªŒè¯ã€å‡†å¤‡ã€è§£æå’Œåˆå§‹åŒ–ç­‰é˜¶æ®µï¼Œå®ƒä»¬å…±åŒå®Œæˆå°†Javaç±»åŠ è½½å†…å­˜ä¸­ï¼Œå¹¶ä¸ºç±»çš„é™æ€å˜é‡åˆ†é…å†…å­˜ã€è§£æç¬¦å·å¼•ç”¨ã€æ‰§è¡Œé™æ€ä»£ç å—ç­‰æ“ä½œï¼Œæœ€ç»ˆä½¿å¾—ç±»å¯ä»¥è¢«æ­£ç¡®çš„ä½¿ç”¨å’Œæ‰§è¡Œã€‚</font></p></blockquote><h2 id="åŠ è½½å™¨åˆ†ç±»"><a href="#åŠ è½½å™¨åˆ†ç±»" class="headerlink" title="åŠ è½½å™¨åˆ†ç±»"></a>åŠ è½½å™¨åˆ†ç±»</h2><blockquote><p>JDK8ç±»åŠ è½½å™¨å¯ä»¥åˆ†ä¸ºä»¥ä¸‹å››ç±»ï¼š</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824194139242.png" alt="image-20230824194139242"></p><ul><li>Bootstrap ClassLoader æ ¹ç±»åŠ è½½å™¨</li></ul><p>ä¹Ÿè¢«ç§°ä¸ºå¼•å¯¼ç±»åŠ è½½å™¨ï¼Œé€šå¸¸è¡¨ç¤ºä¸ºnullã€‚</p><p>å®ƒæ˜¯Javaè™šæ‹Ÿæœºçš„ä¸€éƒ¨åˆ†ï¼Œè´Ÿè´£åŠ è½½Javaæ ¸å¿ƒç±»åº“ï¼Œæ¯”å¦‚<strong>rt.jar</strong>ç­‰ã€‚æ ¹åŠ è½½å™¨æ˜¯æ‰€æœ‰ç±»åŠ è½½å™¨çš„é¡¶çº§åŠ è½½å™¨ï¼Œå®ƒä¸æ˜¯ä¸€ä¸ªJavaå¯¹è±¡ï¼Œè€Œæ˜¯ç”±JVMå®ç°çš„ä¸€éƒ¨åˆ†</p><p>ç±»ä¸€èˆ¬å­˜åœ¨**%JAVA_HOME%\jre\lib\rt.jar**ä¸­</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824194559895.png" alt="image-20230824194559895"></p><ul><li><strong>Extension ClassLoader æ‰©å±•ç±»åŠ è½½å™¨</strong></li></ul><p>è´Ÿè´£åŠ è½½Javaçš„æ‰©å±•ç±»åº“ï¼Œä¹Ÿå¯ä»¥é€šè¿‡ <strong>java.ext.dirs</strong> ç³»ç»Ÿå±æ€§æ¥æŒ‡å®šæ‰© å±•ç±»åº“çš„è·¯å¾„</p><p>è¿™äº›ç±»ä¸€èˆ¬å­˜åœ¨ <strong>%JAVA_HOME%\jre\lib\ext\</strong> ä¸‹çš„jaråŒ…ä¸­</p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824194841038.png" alt="image-20230824194841038"></p><ul><li><strong>System ClassLoader ç³»ç»Ÿç±»åŠ è½½å™¨</strong></li></ul><p>å®ƒè´Ÿè´£åŠ è½½åº”ç”¨ç¨‹åºçš„ç±»ï¼ŒåŒ…æ‹¬<strong>ç”¨æˆ·è‡ªå®šä¹‰çš„ç±»å’Œç¬¬ä¸‰æ–¹åº“</strong>ç­‰ã€‚å®ƒæ˜¯å¤§å¤šæ•°Javaåº”ç”¨ç¨‹åºé»˜è®¤çš„ç±»åŠ è½½å™¨ã€‚</p><p>ç³»ç»Ÿç±»åŠ è½½å™¨çš„<strong>æœç´¢è·¯å¾„</strong>åŒ…æ‹¬<strong>å½“å‰å·¥ä½œç›®å½•</strong>å’Œ<strong>CLASSPATHç¯å¢ƒå˜é‡</strong>æŒ‡å®šçš„è·¯å¾„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test034_ClassLoader</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿç±»åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">systemClassLoader</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader();</span><br><span class="line">        <span class="comment">// è·å–ç³»ç»Ÿç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨ -- æ‰©å±•ç±»åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">exClassLoader</span> <span class="operator">=</span> systemClassLoader.getParent();</span><br><span class="line">        <span class="comment">// è·å–å¹³å°ç±»åŠ è½½å™¨çš„çˆ¶åŠ è½½å™¨ -- æ ¹ç±»åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">bootClassLoader</span> <span class="operator">=</span> exClassLoader.getParent();</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;systemClassLoader = &quot;</span> + systemClassLoader);</span><br><span class="line">        System.out.println(<span class="string">&quot;exClassLoader = &quot;</span> + exClassLoader);</span><br><span class="line">        System.out.println(<span class="string">&quot;bootClassLoader = &quot;</span> + bootClassLoader);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// systemClassLoader = sun.misc.Launcher$AppClassLoader@18b4aac2</span></span><br><span class="line"><span class="comment">// exClassLoader = sun.misc.Launcher$ExtClassLoader@1b6d3586</span></span><br><span class="line"><span class="comment">// bootClassLoader = null</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="åŒäº²å§”æ´¾"><a href="#åŒäº²å§”æ´¾" class="headerlink" title="åŒäº²å§”æ´¾"></a>åŒäº²å§”æ´¾</h2><blockquote><p><strong>åŒäº²å§”æ´¾æœºåˆ¶</strong>æ˜¯Javaç±»åŠ è½½å™¨çš„ä¸€ç§å·¥ä½œæœºåˆ¶ï¼Œé€šè¿‡å±‚çº§åŠ è½½å’Œå§”æ‰˜çˆ¶ç±»åŠ è½½å™¨æ¥åŠ è½½ç±»ï¼Œç¡®ä¿ç±»çš„å”¯ä¸€æ€§ã€å®‰å…¨æ€§ã€å’Œæ¨¡å—åŒ–ã€‚</p><ul><li>é—®é¢˜å¼•å…¥</li></ul><p>ç”¨æˆ·è‡ªå®šä¹‰çš„ <strong>java.lang.String</strong> ï¼Œåœ¨æµ‹è¯•ç±»mainæ–¹æ³•ä¸­ä½¿ç”¨è¯¥ç±»ï¼Œæ€è€ƒï¼š ç±»åŠ è½½å™¨åˆ°åº•åŠ è½½æ˜¯å“ªä¸ªç±»ï¼Œæ˜¯JDKæä¾›çš„Stringï¼Œè¿˜æ˜¯ç”¨æˆ·è‡ªå®šä¹‰çš„Stringï¼Ÿï¼ˆä»£ç è‡ªå·±å†™å“ˆ~ï¼‰</p><p><font color="#d12920">ç»“æœï¼šæœ€ç»ˆåŠ è½½çš„ç±»æ˜¯JDKæä¾›çš„ java.lang.String</font>    ä¸ºä»€ä¹ˆï¼Ÿ<strong>ç­”æ¡ˆæ˜¯åŒäº²å§”æ‰˜æœºåˆ¶ï¼</strong></p><ul><li>åŒäº²å§”æ´¾æœºåˆ¶</li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824201551149.png" alt="image-20230824201551149"></p><p>ä¸€å¼€å§‹çœ‹å›¾æœ‰ç‚¹éš¾æ‡‚ï¼šå¬æˆ‘ç»†ç»†é“æ¥ï¼Œæœ‰è¿™æ ·ä¸€ä¸ªåœºæ™¯ ï¼šå­”èå¾—åˆ°ä¸€ä¸ªæ¢¨ï¼Œä»–å…ˆé—®è‡ªå·±çš„çˆ¶äº²åƒä¸åƒï¼Ÿä»–çš„çˆ¶äº²åˆé—®ä¸€ä¸‹ä»–çš„çˆ·çˆ·åƒä¸åƒï¼Ÿï¼Œä»–çš„çˆ·çˆ·å› ä¸ºç‰™ç–¼åƒä¸äº†ï¼Œå°±æŠŠæ¢¨è®©ç»™äº†ä»–çˆ¸çˆ¸åƒï¼Œä»–çš„çˆ¸çˆ¸å› ä¸ºåˆšåˆšå·²ç»åƒé¥±äº†ï¼Œäºæ˜¯åˆæŠŠæ¢¨ç»™äº†ä»–åƒã€‚ç°åœ¨å­”èè‡ªå·±å†³å®šåƒä¸åƒã€‚</p><p>ç°åœ¨å›åˆ°çœŸå®åœºæ™¯ï¼šç°åœ¨æ¥äº†ä¸€ä¸ªç”¨æˆ·è‡ªå®šä¹‰ç±»ï¼ˆjava.lang.Stringï¼‰ â€“&gt; Application(å¾€ä¸ŠæŠ›ç»™) â€”&gt; Extension(ç»§ç»­å¾€ä¸ŠæŠ›) â€“&gt; Bootstrap(çœ‹çœ‹è‡ªå·±æœ‰æ²¡æœ‰) æœ‰çš„è¯è‡ªå·±åŠ è½½ï¼Œæ²¡æœ‰çš„è¯æ”¾è¡Œä¸‹â€”&gt; Extension(çœ‹çœ‹è‡ªå·±æœ‰æ²¡æœ‰)æœ‰çš„è¯è‡ªå·±åŠ è½½ï¼Œæ²¡æœ‰çš„è¯æ”¾è¡Œ â€“&gt; Application(æœ‰åŠ è½½)ï¼Œæ²¡æœ‰â€”&gt; ClassNotFondExceptionå¼‚å¸¸ã€‚</p><p><strong>æ³¨æ„ï¼šè¿™é‡Œçš„æœ‰æ²¡æœ‰æŒ‡çš„æ˜¯ æ¯”å¦‚åœ¨Bootstrap çš„ rt.jar çš„ä¸€å †.class æœ‰æ²¡æœ‰å¯¹åº”çš„ç±»ï¼Œåƒè¿™ä¸ªä¼ è¿›æ¥çš„java.lang.Stringå› ä¸ºåœ¨ boostrapä¸­æœ‰å¯¹åº”çš„ç±»äº†ï¼Œæ‰€ä»¥ç›´æ¥åŠ è½½ï¼Œå°±ä¸ä¼šå†å»åŠ è½½ç”¨æˆ·è‡ªå·±å†™çš„java.lang.Stringç±»äº†</strong></p></blockquote><h2 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h2><blockquote><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230824202235428.png" alt="image-20230824202235428"></p><p>æ¡ˆä¾‹å±•ç¤ºï¼š</p><p>å‡†å¤‡ä¸€ä¸ªjdbcçš„é…ç½®æ–‡ä»¶ <strong>db.properties</strong> ï¼Œå€ŸåŠ©ç±»åŠ è½½å™¨ä¸­æ–¹æ³•è§£æï¼Œé å†è¾“å‡ºå…¶é…ç½®å†…å®¹ã€‚</p><ul><li>db.properties</li></ul><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">jdbc://mysql:3306/db01?serverTimezone=UTC</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">root</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">root</span></span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test036_LoadFile</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€è·å–ç³»ç»Ÿç±»åŠ è½½å™¨</span></span><br><span class="line">        <span class="type">ClassLoader</span> <span class="variable">systemClassLoader</span> <span class="operator">=</span> ClassLoader.getSystemClassLoader();</span><br><span class="line">        <span class="comment">// 2ã€åˆ©ç”¨åŠ è½½å™¨åŒºåŠ è½½ä¸€ä¸ªæŒ‡å®šçš„æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> systemClassLoader.getResourceAsStream(<span class="string">&quot;com/briup/chap13/test/db.properties&quot;</span>);</span><br><span class="line">        <span class="comment">// 3ã€å®ä¾‹åŒ–Propertieså¯¹è±¡ï¼Œè§£æé…ç½®æ–‡ä»¶å†…å®¹å¹¶è¾“å‡º</span></span><br><span class="line">        <span class="type">Properties</span> <span class="variable">properties</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            properties.load(is);</span><br><span class="line">            <span class="comment">// é…ç½®æ–‡ä»¶å†…å®¹éå†</span></span><br><span class="line">            Set&lt;Map.Entry&lt;Object, Object&gt;&gt; entries = properties.entrySet();</span><br><span class="line">            <span class="keyword">for</span> (Map.Entry&lt;Object, Object&gt; entry : entries) &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">key</span> <span class="operator">=</span> (String) entry.getKey();</span><br><span class="line">                <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> (String) entry.getValue();</span><br><span class="line">                System.out.println(key + <span class="string">&quot;=&quot;</span> + value);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="comment">// 4ã€å…³é—­æµ</span></span><br><span class="line">            <span class="keyword">if</span> (is != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    is.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230825085048419.png" alt="image-20230825085048419"></p><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šgetResourceAsStream(String path)ï¼Œå‚æ•°pathæ˜¯ç›¸å¯¹è·¯å¾„ï¼Œç›¸å¯¹å½“å‰æµ‹è¯•ç±»classæ–‡ä»¶æ‰€åœ¨çš„ç›®å½•ï¼</font></p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230825085338618.png" alt="image-20230825085338618"></p></blockquote><h1 id="åå°„"><a href="#åå°„" class="headerlink" title="åå°„"></a>åå°„</h1><h2 id="åå°„æ¦‚è¿°"><a href="#åå°„æ¦‚è¿°" class="headerlink" title="åå°„æ¦‚è¿°"></a>åå°„æ¦‚è¿°</h2><blockquote><p>Javaåå°„æœºåˆ¶æ˜¯æŒ‡åœ¨Javaç¨‹åºåœ¨è¿è¡ŒçŠ¶æ€ä¸‹ï¼Œ<strong>åŠ¨æ€åœ°è·å–ã€æ£€æŸ¥å’Œæ“ä½œç±»çš„ä¿¡æ¯å’Œå¯¹è±¡çš„èƒ½åŠ›ã€‚</strong></p><p>åå°„æœºåˆ¶ä½œç”¨ï¼š</p><ul><li>å¯¹äºä»»æ„ä¸€ä¸ªç±»ï¼Œéƒ½èƒ½å¤ŸçŸ¥é“è¿™ä¸ªç±»çš„æ‰€æœ‰å±æ€§å’Œæ–¹æ³•</li><li>å¯¹äºä»»æ„ä¸€ä¸ªå¯¹è±¡ï¼Œéƒ½èƒ½å¤Ÿè°ƒç”¨å®ƒçš„ä»»æ„ä¸€ä¸ªæ–¹æ³•å’Œå±æ€§</li></ul><p>è¿™ç§åŠ¨æ€è·å–ä¿¡æ¯ä»¥åŠåŠ¨æ€è°ƒç”¨å¯¹è±¡æ–¹æ³•çš„åŠŸèƒ½ç§°ä¸ºJavaè¯­è¨€çš„åå°„æœºåˆ¶ã€‚</p><p>å½“ä¸€ä¸ªç±»è¢«ä½¿ç”¨çš„æ—¶å€™ï¼Œç±»åŠ è½½å™¨ä¼šæŠŠè¯¥ç±»çš„å­—èŠ‚ç æ–‡ä»¶è£…å…¥å†…å­˜ï¼ˆç±»åŠ è½½ï¼‰ï¼ŒåŒæ—¶åœ¨å¯¹ç©ºé—´åˆ›å»ºä¸€ä¸ª <strong>å­—èŠ‚ç å¯¹è±¡ï¼ˆClassç±»å¯¹è±¡ï¼‰</strong>ï¼Œè¿™ä¸ªå¯¹è±¡æ˜¯Javaåå°„æœºåˆ¶çš„æ ¸å¿ƒï¼Œå®ƒåŒ…å«äº†ä¸€ä¸ªç±»è¿è¡Œæ—¶ä¿¡æ¯ã€‚</p></blockquote><h2 id="åå°„æ ¸å¿ƒç±»"><a href="#åå°„æ ¸å¿ƒç±»" class="headerlink" title="åå°„æ ¸å¿ƒç±»"></a>åå°„æ ¸å¿ƒç±»</h2><blockquote><p>åœ¨Javaä¸­ï¼Œ<strong>Class</strong>ç±»æ˜¯ä¸€ä¸ªé‡è¦çš„æ ¸å¿ƒç±»ï¼Œå®ƒç”¨äºè¡¨ç¤ºä¸€ä¸ªç±»æˆ–æ¥å£çš„è¿è¡Œæ—¶ä¿¡æ¯ã€‚æ¯ä¸ªç±»åœ¨Javaè™šæ‹Ÿæœºç§éƒ½æœ‰ä¸€ä¸ªå¯¹åº”çš„<strong>Class</strong>å¯¹è±¡ï¼Œå¯ä»¥é€šè¿‡è¯¥å¯¹è±¡<strong>è·å–ç±»çš„æ„é€ å‡½æ•°ã€æ–¹æ³•ã€å±æ€§ç­‰ä¿¡æ¯ï¼Œå¹¶ä¸”å¯ä»¥è¿›è¡Œå®ä¾‹åŒ–å¯¹è±¡ã€æ–¹æ³•è°ƒç”¨å’Œæ•°æ®æˆå‘˜è®¿é—®ç­‰æ“ä½œã€‚</strong></p><p>Classæ ¸å¿ƒç±»JavaSEæºç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang;</span><br><span class="line"><span class="comment">//å­—èŠ‚ç ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Class</span>&lt;T&gt; <span class="keyword">implements</span> <span class="title class_">java</span>.io.Serializable,</span><br><span class="line">GenericDeclaration,</span><br><span class="line">Type,</span><br><span class="line">AnnotatedElement &#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//è·å–ç±»çš„æ‰€æœ‰æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@CallerSensitive</span></span><br><span class="line">    <span class="keyword">public</span> Constructor&lt;?&gt;[] getConstructors() <span class="keyword">throws</span> SecurityException &#123;&#125;</span><br><span class="line">    <span class="comment">//è·å–ç±»çš„æ‰€æœ‰æ•°æ®æˆå‘˜</span></span><br><span class="line">    <span class="meta">@CallerSensitive</span></span><br><span class="line">    <span class="keyword">public</span> Field[] getFields() <span class="keyword">throws</span> SecurityException &#123;&#125;</span><br><span class="line">    <span class="comment">//è·å–ç±»çš„æ‰€æœ‰æˆå‘˜æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@CallerSensitive</span></span><br><span class="line">    <span class="keyword">public</span> Method[] getMethods() <span class="keyword">throws</span> SecurityException &#123;&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åœ¨Javaåå°„ä¸­ï¼Œ <strong>Class ã€ Constructor ã€ Method å’Œ Field</strong> æ˜¯è¡¨ç¤ºç±»çš„ä¸åŒéƒ¨åˆ†çš„å…³é”®ç±»ã€‚å®ƒä»¬æä¾›äº†è®¿é—®å’Œæ“ä½œç±»çš„æ„é€ å‡½æ•°ã€æ–¹æ³•å’Œå­—æ®µçš„æ–¹æ³•ã€‚</p><ul><li>Classç±»ï¼šè¡¨ç¤ºä¸€ä¸ªç±»çš„è¿è¡Œæ—¶ä¿¡æ¯ã€‚é€šè¿‡Classç±»å¯ä»¥è·å–ç±»çš„æ„é€ å‡½æ•°ã€æ–¹æ³•å’Œå­—æ®µç­‰ä¿¡æ¯ã€‚å¯ä»¥ä½¿ç”¨<strong>Class.forName()<strong>æ–¹æ³•è·å–ä¸€ä¸ªç±»çš„</strong>Class</strong>å¯¹è±¡ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡çš„<strong>getClass()</strong> æ–¹æ³•è·å–å…¶å¯¹åº”çš„Classå¯¹è±¡ã€‚<font color="#d12920">ï¼ˆå…¶å®æ˜¯.classçš„ä¸€ä¸ªé•œåƒï¼‰</font></li><li><strong>Constructor</strong>ç±»ï¼šè¡¨ç¤ºä¸€ä¸ªç±»çš„æ„é€ å‡½æ•°ã€‚é€šè¿‡<strong>Constructor</strong>ç±»å¯ä»¥åˆ›å»ºç±»çš„å®ä¾‹ã€‚å¯ä»¥ä½¿ç”¨Classå¯¹è±¡çš„<strong>getConstructors()</strong> æˆ– <strong>getConstructor()</strong> æ–¹æ³•è·å–æ„é€ å‡½æ•°çš„å¯¹è±¡ã€‚</li><li><strong>Method</strong> ç±»ï¼šè¡¨ç¤ºä¸€ä¸ªç±»çš„æ–¹æ³•ã€‚é€šè¿‡ <strong>Method</strong> ç±»å¯ä»¥è°ƒç”¨ç±»çš„æ–¹æ³•ã€‚å¯ä»¥ä½¿ç”¨ <strong>Class</strong> å¯¹è±¡çš„ <strong>getMethods</strong>() æˆ– <strong>getMethod</strong>() æ–¹æ³•è·å–æ–¹æ³•çš„å¯¹è±¡ã€‚</li><li><strong>Field</strong> ç±»ï¼šè¡¨ç¤ºä¸€ä¸ªç±»çš„å­—æ®µã€‚é€šè¿‡ <strong>Field</strong> ç±»å¯ä»¥è®¿é—®å’Œä¿®æ”¹ç±»çš„å­—æ®µçš„ å€¼ã€‚å¯ä»¥ä½¿ç”¨ <strong>Class</strong> å¯¹è±¡çš„ <strong>getFields</strong>() æˆ– <strong>getField</strong>() æ–¹æ³•è·å–å­—æ®µçš„ å¯¹è±¡ã€‚</li></ul></blockquote><h2 id="å­—èŠ‚ç å¯¹è±¡"><a href="#å­—èŠ‚ç å¯¹è±¡" class="headerlink" title="å­—èŠ‚ç å¯¹è±¡"></a>å­—èŠ‚ç å¯¹è±¡</h2><blockquote><p>JVMè™šæ‹Ÿæœºå¯¹ç±»è¿›è¡ŒåŠ è½½æ—¶ï¼Œä¼šåœ¨å †ç©ºé—´åˆ›å»ºä¸€ä¸ª <strong>å­—èŠ‚ç å¯¹è±¡ï¼ˆClassç±»å¯¹è±¡ï¼‰</strong></p><p>ç®€å•æ¥è¯´ï¼š<font color="#d12920">å¦‚æœè¦ç”¨åå°„æœºåˆ¶ï¼Œåˆ™å¿…é¡»å…ˆè·å–ç±»çš„å­—èŠ‚ç å¯¹è±¡</font></p><p>è·å–<strong>Class</strong>å¯¹è±¡æ–¹å¼ï¼š</p><ul><li>ä½¿ç”¨ç±»å­—é¢å¸¸é‡ï¼š<strong>ç±»å.class</strong></li><li>Objectç±»ä¸­æ–¹æ³•ï¼š<strong>å¯¹è±¡.getClass()</strong>  public final native Class&lt;?&gt; getClass();</li><li>å€ŸåŠ©Classç±»ä¸­æ–¹æ³•ï¼š<strong>Class.forName(â€œç±»çš„å…¨åŒ…åâ€)</strong> public static Class&lt;?&gt; forName(String className);</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test043_Class</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">        Class&lt;? <span class="keyword">extends</span> <span class="title class_">String</span>&gt; aClass = s.getClass();</span><br><span class="line">        Class&lt;String&gt; aClass1 = String.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;aClass = &quot;</span> + aClass); <span class="comment">// aClass = class java.lang.String</span></span><br><span class="line">        System.out.println(<span class="string">&quot;aClass1 = &quot;</span> + aClass1); <span class="comment">// aClass1 = class java.lang.String</span></span><br><span class="line">        System.out.println(aClass == aClass1); <span class="comment">// true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨3ç§ä¸åŒæ–¹å¼ï¼Œè·å–è‡ªå®šä¹‰ç±»çš„å­—èŠ‚ç å¯¹è±¡ï¼Œå¹¶éªŒè¯æ˜¯å¦å”¯ä¸€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test043_Class</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        Class&lt;? <span class="keyword">extends</span> <span class="title class_">Student</span>&gt; aClass = stu.getClass();</span><br><span class="line">        Class&lt;?&gt; aClass1 = Class.forName(<span class="string">&quot;com.briup.chap13.pojo.Student&quot;</span>);</span><br><span class="line">        Class&lt;Student&gt; aClass2 = Student.class;</span><br><span class="line">        System.out.println(<span class="string">&quot;aClass = &quot;</span> + aClass);</span><br><span class="line">        System.out.println(<span class="string">&quot;aClass == aClass1 : &quot;</span> + (aClass == aClass1));</span><br><span class="line">        System.out.println(<span class="string">&quot;aClass2 == aClass1 : &quot;</span> + (aClass2 == aClass1));</span><br><span class="line">        System.out.println(<span class="string">&quot;aClass == aClass2 : &quot;</span> + (aClass == aClass2));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// aClass = class com.briup.chap13.pojo.Student</span></span><br><span class="line"><span class="comment">// aClass == aClass1 : true</span></span><br><span class="line"><span class="comment">// aClass2 == aClass1 : true</span></span><br><span class="line"><span class="comment">// aClass == aClass2 : true</span></span><br></pre></td></tr></table></figure><p><font color="#d12920">ä¸€ä¸ªå­—èŠ‚ç å¯¹è±¡ï¼Œæœ‰ä¸”åªæœ‰ä¸€ä¸ª</font></p><p><strong>è¡¥å……ï¼šå…¶ä»–ç±»å‹å­—èŠ‚ç å¯¹è±¡è·å–</strong></p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹è·å–å­—èŠ‚ç å¯¹è±¡å›ºå®šæ ¼å¼ï¼šæ•°æ®ç±»å‹.class</li><li>æ•°æ®ç±»å‹è·å–æ ¼å¼ï¼šæ•°æ®ç±»å‹[].class; æ•°ç»„å.getClass();</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// åŸºæœ¬æ•°æ®ç±»å‹</span></span><br><span class="line">    Class&lt;Integer&gt; integerClass = <span class="type">int</span>.class;</span><br><span class="line">    System.out.println(integerClass); <span class="comment">// int</span></span><br><span class="line">    System.out.println(<span class="type">double</span>.class); <span class="comment">// double</span></span><br><span class="line">    <span class="comment">// æ•°æ®ç±»å‹</span></span><br><span class="line">    Class&lt;<span class="type">int</span>[]&gt; aClass = <span class="type">int</span>[].class;</span><br><span class="line">    <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">10</span>];</span><br><span class="line">    Class&lt;? <span class="keyword">extends</span> <span class="title class_">int</span>[]&gt; aClass1 = arr.getClass();</span><br><span class="line">    System.out.println(<span class="string">&quot;aClass = &quot;</span> + aClass); <span class="comment">// class [I</span></span><br><span class="line">    System.out.println(<span class="string">&quot;aClass1 = &quot;</span> + aClass1); <span class="comment">// class [I</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h2><blockquote><p>é€šè¿‡åå°„å¯ä»¥è·å–ç±»çš„<strong>æ„é€ æ–¹æ³•ï¼ˆå«privateï¼‰å¯¹è±¡ï¼Œå¹¶å€ŸåŠ©å…¶å®ä¾‹åŒ–å¯¹è±¡ã€‚</strong></p><ul><li>æ„é€ å™¨ç›¸å…³æ–¹æ³•</li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230825220928177.png" alt="image-20230825220928177"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test044_Constructor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchMethodException &#123;</span><br><span class="line">        <span class="comment">// 1ã€è·å–å­—èŠ‚ç å¯¹è±¡</span></span><br><span class="line">        Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.briup.chap13.pojo.Student&quot;</span>);</span><br><span class="line">        <span class="comment">// 2ã€ç”±å­—èŠ‚ç å¯¹è±¡è·å–æ‰€æœ‰çš„publicæ„é€ å™¨</span></span><br><span class="line">        Constructor&lt;?&gt;[] constructors = clazz.getConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; con : constructors) &#123;</span><br><span class="line">            System.out.println(con);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.è·å–æ‰€æœ‰æ„é€ æ–¹æ³•(å«private)</span></span><br><span class="line">        Constructor&lt;?&gt;[] declaredConstructors = clazz.getDeclaredConstructors();</span><br><span class="line">        <span class="keyword">for</span> (Constructor&lt;?&gt; con : declaredConstructors) &#123;</span><br><span class="line">            System.out.println(con);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------------------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€è¿”å›æŒ‡å®šçš„æ„é€ æ–¹æ³•</span></span><br><span class="line">        Constructor&lt;?&gt; declaredConstructor = clazz.getDeclaredConstructor(String.class, String.class, <span class="type">int</span>.class);</span><br><span class="line">        System.out.println(declaredConstructor);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>Constructorç±»åˆ›å»ºå¯¹è±¡æ–¹æ³•</strong></li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230825221657468.png" alt="image-20230825221657468"></p><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230825222722517.png" alt="image-20230825222722517"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è·å–ç©ºå‚æ„é€ å™¨åˆ›å»ºå¯¹è±¡</span></span><br><span class="line">Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.briup.chap13.pojo.Student&quot;</span>);</span><br><span class="line">Constructor&lt;?&gt; con = clazz.getConstructor();</span><br><span class="line"><span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> (Student) con.newInstance();</span><br><span class="line">System.out.println(<span class="string">&quot;stu = &quot;</span> + stu); <span class="comment">// stu = Student&#123;id=&#x27;null&#x27;, name=&#x27;null&#x27;, age=0&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// è·å–ç§æœ‰privateæ„é€ å™¨</span></span><br><span class="line">Constructor&lt;?&gt; con2 = clazz.getDeclaredConstructor(String.class);</span><br><span class="line">con2.setAccessible(<span class="literal">true</span>);</span><br><span class="line"><span class="type">Student</span> <span class="variable">stu2</span> <span class="operator">=</span> (Student)con2.newInstance(<span class="string">&quot;1001&quot;</span>);</span><br><span class="line">System.out.println(<span class="string">&quot;stu2 = &quot;</span> + stu2); <span class="comment">// stu2 = Student&#123;id=&#x27;1001&#x27;, name=&#x27;null&#x27;, age=0&#125;</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="æˆå‘˜å˜é‡"><a href="#æˆå‘˜å˜é‡" class="headerlink" title="æˆå‘˜å˜é‡"></a>æˆå‘˜å˜é‡</h2><blockquote><p> é€šè¿‡åå°„å¯ä»¥è·å–ç±»çš„æ‰€æœ‰<strong>æ•°æ®æˆå‘˜ï¼ˆå«privateï¼‰å¯¹è±¡</strong>ï¼Œè¿›è€Œå®ç°æ•°æ®æˆå‘˜å€¼çš„è·å–ä¸è®¾ç½®ã€‚</p><ul><li>Filedç›¸å…³æ–¹æ³•</li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230826093753560.png" alt="image-20230826093753560"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test045_Field</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException &#123;</span><br><span class="line">        Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.briup.chap13.pojo.HighStudent2&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;clazz = &quot;</span> + clazz);</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰çš„å…¬å…±å˜é‡ï¼ˆåŒ…å«ç»§æ‰¿çš„ï¼‰</span></span><br><span class="line">        Field[] fields = clazz.getFields();</span><br><span class="line">        <span class="keyword">for</span> (Field field : fields) &#123;</span><br><span class="line">            System.out.println(field);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–æ‰€æœ‰çš„å±æ€§åŒ…å« privateçš„ï¼Œä½†æ˜¯æ²¡æœ‰ç»§æ‰¿è¿‡æ¥çš„</span></span><br><span class="line">        Field[] declaredFields = clazz.getDeclaredFields();</span><br><span class="line">        <span class="keyword">for</span> (Field declaredField : declaredFields) &#123;</span><br><span class="line">            System.out.println(declaredField);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–æŒ‡å®šçš„publicå±æ€§ï¼ˆå«ç»§æ‰¿çš„ï¼‰</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">accumulatedMoney</span> <span class="operator">=</span> clazz.getField(<span class="string">&quot;accumulatedMoney&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;accumulatedMoney = &quot;</span> + accumulatedMoney);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å±æ€§è·å–åŠè®¾ç½®æ–¹æ³•</li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230826095021586.png" alt="image-20230826095021586"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test045_Field</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> ClassNotFoundException, NoSuchFieldException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">// 1ã€è·å–å­—èŠ‚ç å¯¹è±¡</span></span><br><span class="line">        Class&lt;?&gt; clazz = Class.forName(<span class="string">&quot;com.briup.chap13.pojo.Student&quot;</span>);</span><br><span class="line">        System.out.println(clazz);</span><br><span class="line">        <span class="comment">// 2ã€è·å–publicå±æ€§</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">f1</span> <span class="operator">=</span> clazz.getField(<span class="string">&quot;id&quot;</span>);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;1001&quot;</span>, <span class="string">&quot;lwsj&quot;</span>, <span class="number">21</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> (String) f1.get(stu);</span><br><span class="line">        System.out.println(<span class="string">&quot;id = &quot;</span> + id);</span><br><span class="line">        <span class="comment">// 3.å€ŸåŠ©å±æ€§å¯¹è±¡ è·å–å±æ€§å€¼</span></span><br><span class="line">        <span class="comment">// å±æ€§æ˜¯ä¾èµ–å¯¹è±¡è€Œå­˜åœ¨çš„ï¼Œæ‰€ä»¥ï¼š</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šé€šè¿‡åå°„é‡Œé¢å±æ€§ æ¥è·å– å±æ€§å€¼ï¼Œä¸€å®šè¦ ä¾èµ–æ™®é€šå¯¹è±¡</span></span><br><span class="line">        f1.set(stu, <span class="string">&quot;1002&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;after set, stu&quot;</span> + stu);</span><br><span class="line">        <span class="comment">// 4ã€è·å–privateå±æ€§</span></span><br><span class="line">        <span class="type">Field</span> <span class="variable">f2</span> <span class="operator">=</span> clazz.getDeclaredField(<span class="string">&quot;name&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®å¯ä»¥è®¿é—®</span></span><br><span class="line">        f2.setAccessible(<span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 5ã€è·å–privateå±æ€§å€¼è¾“å‡ºï¼Œç„¶åä¿®æ”¹</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> (String) f2.get(stu);</span><br><span class="line">        System.out.println(<span class="string">&quot;name = &quot;</span> + name);</span><br><span class="line">        f2.set(stu,<span class="string">&quot;peter&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;stu = &quot;</span> + stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æˆå‘˜æ–¹æ³•"><a href="#æˆå‘˜æ–¹æ³•" class="headerlink" title="æˆå‘˜æ–¹æ³•"></a>æˆå‘˜æ–¹æ³•</h2><blockquote><p>é€šè¿‡åå°„å¯ä»¥è·å–ç±»é‡Œé¢æ‰€æœ‰çš„æˆå‘˜<strong>ï¼ˆå«ç§æœ‰ï¼‰æ–¹æ³•</strong>ï¼Œå¹¶è°ƒç”¨ã€‚</p><ul><li>Methodè·å–ç›¸å…³æ–¹æ³•</li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230826100343588.png" alt="image-20230826100343588"></p><ul><li>Methodå¯¹è±¡è°ƒç”¨æ–¹æ³•</li></ul><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230826100416725.png" alt="image-20230826100416725"></p><ul><li>å‚æ•°ä¸€ï¼šç”¨objå¯¹è±¡è°ƒç”¨æ–¹æ³•</li><li>å‚æ•°äºŒï¼šè°ƒç”¨æ–¹æ³•çš„ä¼ é€’çš„å‚æ•°ï¼ˆå¦‚æœæ²¡æœ‰å°±ä¸å†™ï¼‰</li><li>è¿”å›å€¼ï¼šæ–¹æ³•çš„è¿”å›å€¼ï¼ˆå¦‚æœæ²¡æœ‰å°±ä¸å†™ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test046_Method</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> NoSuchMethodException, InvocationTargetException, IllegalAccessException &#123;</span><br><span class="line">        <span class="comment">// 1ã€è·å–å­—èŠ‚ç å¯¹è±¡</span></span><br><span class="line">        Class&lt;Student&gt; clazz = Student.class;</span><br><span class="line">        <span class="comment">// 2ã€è·å–æ‰€æœ‰çš„public methodå¯¹è±¡ï¼ˆå«ç»§æ‰¿çš„ï¼‰</span></span><br><span class="line">        Method[] methods = clazz.getMethods();</span><br><span class="line">        <span class="keyword">for</span> (Method m : methods) &#123;</span><br><span class="line">            System.out.println(m);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;--------------------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 3ã€è·å–æŒ‡å®šçš„public æ–¹æ³•</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">m1</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;getId&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;m1 = &quot;</span> + m1);</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;10001&quot;</span>, <span class="string">&quot;lwsj&quot;</span>, <span class="number">23</span>);</span><br><span class="line">        <span class="comment">// 4ã€ä½¿ç”¨methodå¯¹è±¡è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">        <span class="comment">// ä¸å¸¦å‚æ•°ä½†æ˜¯æœ‰è¿”å›å€¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> (String) m1.invoke(stu);</span><br><span class="line">        System.out.println(<span class="string">&quot;id = &quot;</span> + id);</span><br><span class="line">        <span class="comment">// å¸¦å‚æ•°æ²¡æœ‰è¿”å›å€¼</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">m2</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;setName&quot;</span>, String.class);</span><br><span class="line">        <span class="comment">// å¦‚æœæ˜¯ç§æœ‰æ–¹æ³•è®°å¾—ç»™è®¿é—®æƒé™</span></span><br><span class="line">        <span class="comment">// m2.setAccessible(true);</span></span><br><span class="line">        m2.invoke(stu, <span class="string">&quot;peter&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;stu = &quot;</span> + stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/21/13-%E7%B1%BB%E5%8A%A0%E8%BD%BD-%E5%8F%8D%E5%B0%84/image-20230826102557913.png" alt="image-20230826102557913"></p></blockquote><h2 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">ç°æœ‰ä¸€ä¸ªé›†åˆå®šä¹‰å¦‚ä¸‹ï¼š</span><br><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">è¦æ±‚ï¼Œå¾€listé›†åˆä¸­æ·»åŠ å…ƒç´ ï¼š<span class="string">&quot;hello&quot;</span>ã€<span class="number">123</span>ã€<span class="number">3.14</span></span><br><span class="line">è¯·ç¼–ç å®ç°ã€‚</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test047_Question</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InvocationTargetException, IllegalAccessException, NoSuchMethodException &#123;</span><br><span class="line">        ArrayList&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Class&lt;? <span class="keyword">extends</span> <span class="title class_">ArrayList</span>&gt; clazz = list.getClass();</span><br><span class="line">        <span class="type">Method</span> <span class="variable">m1</span> <span class="operator">=</span> clazz.getMethod(<span class="string">&quot;add&quot;</span>, Object.class);</span><br><span class="line">        m1.invoke(list, <span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        m1.invoke(list,<span class="number">123</span>);</span><br><span class="line">        m1.invoke(list,<span class="number">3.14</span>);</span><br><span class="line">        Iterator&lt;Integer&gt; it = list.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            System.out.println(it.next());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šæ³›å‹åªåœ¨ç¼–è¯‘é˜¶æ®µåšè¯­æ³•æ£€æŸ¥ï¼Œè¿è¡ŒæœŸé—´ä¼šè¢«è‡ªåŠ¨å¿½ç•¥</font></p><ul><li>æµ‹è¯•ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        List&lt;Integer&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        List&lt;String&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        Class&lt;? <span class="keyword">extends</span> <span class="title class_">List</span>&gt; clazz1 = list1.getClass();</span><br><span class="line">        Class&lt;? <span class="keyword">extends</span> <span class="title class_">List</span>&gt; clazz2 = list2.getClass();</span><br><span class="line"></span><br><span class="line">        System.out.println(clazz1.getName());</span><br><span class="line">        System.out.println(clazz2.getName());</span><br><span class="line">        System.out.println(clazz1 == clazz2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// java.util.ArrayList</span></span><br><span class="line"><span class="comment">// java.util.ArrayList</span></span><br><span class="line"><span class="comment">// true</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¸‰å†›å¯å¤ºå¸…ä¹Ÿï¼ŒåŒ¹å¤«ä¸å¯å¤ºå¿—ä¹Ÿã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>12-ç½‘ç»œç¼–ç¨‹</title>
      <link href="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/"/>
      <url>/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaé«˜çº§ç¼–ç¨‹ï¼Œçµæ´»è¿ç”¨åå°„ï¼Œçº¿ç¨‹ï¼ŒIOå’Œç½‘ç»œç­‰è¿›è¡Œç¼–ç¨‹</p></blockquote><h1 id="åŸºæœ¬æ¦‚å¿µ"><a href="#åŸºæœ¬æ¦‚å¿µ" class="headerlink" title="åŸºæœ¬æ¦‚å¿µ"></a>åŸºæœ¬æ¦‚å¿µ</h1><h2 id="è®¡ç®—æœºç½‘ç»œ"><a href="#è®¡ç®—æœºç½‘ç»œ" class="headerlink" title="è®¡ç®—æœºç½‘ç»œ"></a>è®¡ç®—æœºç½‘ç»œ</h2><blockquote><p><strong>å¼ºçƒˆæ¨èçœŸçš„è¶…çº§æ£’æ»´</strong>âš“âš“ï¼š<a href="https://xiaolincoding.com/network/">å›¾è§£ç½‘ç»œä»‹ç» | å°æ—coding</a></p></blockquote><blockquote><p>ä¹Ÿç§°ä¸ºè®¡ç®—æœºé€šä¿¡ç½‘ï¼Œå…¶æ—¶åˆ©ç”¨é€šä¿¡çº¿è·¯å°†åœ°ç†ä¸Šåˆ†æ•£çš„ã€å…·æœ‰ç‹¬ç«‹åŠŸèƒ½çš„è®¡ç®—æœºç³»ç»Ÿå’Œé€šä¿¡è®¾å¤‡æŒ‰ä¸åŒçš„å½¢å¼é“¾æ¥èµ·æ¥ï¼Œä»¥åŠŸèƒ½å®Œå–„çš„ç½‘ç»œè½¯ä»¶åŠåè®®å®ç°èµ„æºå…±äº«å’Œä¿¡æ¯ä¼ é€’çš„ç³»ç»Ÿã€‚<strong>æœ€ç®€å•çš„è®¡ç®—æœºç½‘ç»œ</strong>å°±åªæœ‰ä¸¤å°è®¡ç®—æœºå’Œè¿æ¥å®ƒä»¬çš„ä¸€æ¡é“¾è·¯ï¼Œå³<strong>ä¸¤ä¸ªèŠ‚ç‚¹å’Œä¸€æ¡é“¾è·¯</strong>ã€‚</p><p>é€šè¿‡ç¼–ç¨‹æ–¹å¼ï¼Œä½¿å¾—è®¡ç®—æœºç½‘ç»œä¸­ä¸åŒè®¡ç®—æœºä¸Šçš„åº”ç”¨ç¨‹åºé—´èƒ½å¤Ÿè¿›è¡Œæ•°æ®çš„ä¼ è¾“ï¼Œè¿™å°±æ˜¯ç½‘ç»œç¼–ç¨‹è¦åšçš„äº‹æƒ…</p></blockquote><h2 id="è½¯ä»¶ç»“æ„"><a href="#è½¯ä»¶ç»“æ„" class="headerlink" title="è½¯ä»¶ç»“æ„"></a>è½¯ä»¶ç»“æ„</h2><blockquote><ul><li><strong>Client&#x2F;Serverï¼ˆC&#x2F;Sç»“æ„ï¼‰</strong>ï¼Œè¡¨ç¤º å®¢æˆ·ç«¯&#x2F;æœåŠ¡å™¨ çš„è½¯ä»¶ç»“æ„ï¼Œä¾‹å¦‚QQã€ å¾®ä¿¡ã€ç™¾åº¦ç½‘ç›˜å®¢æˆ·ç«¯ç­‰ï¼Œåªè¦æ˜¯éœ€è¦æˆ‘ä»¬ä¸‹è½½å®‰è£…ï¼Œå¹¶ä¸”å’ŒæœåŠ¡å™¨é€š ä¿¡çš„è¿™ä¸€ç±»è½¯ä»¶ï¼Œéƒ½å±äºC&#x2F;Sçš„è½¯ä»¶ç»“æ„ã€‚</li></ul><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821140202794.png" alt="image-20230821140202794"></p><ul><li><strong>Browser&#x2F;Serverï¼ˆB&#x2F;Sç»“æ„ï¼‰</strong>ï¼Œè¡¨ç¤º æµè§ˆå™¨&#x2F;æœåŠ¡å™¨ çš„è½¯ä»¶ç»“æ„ï¼Œä¾‹å¦‚æ·˜ å®ç½‘ã€æ–°æµªæ–°é—»ã€å‡¤å‡°ç½‘ç­‰ï¼Œåªè¦æ˜¯éœ€è¦ä½¿ç”¨æµè§ˆå™¨ï¼Œå¹¶ä¸”å’ŒæœåŠ¡å™¨é€š ä¿¡çš„è¿™ä¸€ç±»è½¯ä»¶ï¼Œéƒ½å±äºB&#x2F;Sçš„è½¯ä»¶ç»“æ„</li></ul><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821140322709.png" alt="image-20230821140322709"></p><p>C&#x2F;S VS B&#x2F;S :</p><ul><li><p>C&#x2F;Såœ¨å›¾å½¢çš„è¡¨ç°èƒ½åŠ›ä¸Šä»¥åŠè¿è¡Œçš„é€Ÿåº¦ä¸Šè‚¯å®šæ˜¯å¼ºäºB&#x2F;Sçš„</p></li><li><p>C&#x2F;Séœ€è¦è¿è¡Œä¸“é—¨çš„å®¢æˆ·ç«¯ï¼Œå¹¶ä¸”å®ƒä¸èƒ½è·¨å¹³å°ï¼ŒC++åœ¨windowsä¸‹å†™çš„ç¨‹åºè‚¯å®šæ˜¯ä¸èƒ½åœ¨linuxä¸‹è¿è¡Œ</p></li><li><p>B&#x2F;Sä¸éœ€è¦ä¼ åª’çš„å®¢æˆ·ç«¯ï¼Œåªè¦ç³»ç»Ÿä¸­å®‰è£…äº†æµè§ˆå™¨å³å¯è®¿é—®ï¼Œæ–¹ä¾¿ç”¨æˆ·çš„ä½¿ç”¨</p></li><li><p>B&#x2F;Sæ˜¯åŸºäºç½‘é¡µè¯­è¨€çš„ã€ä¸æ“ä½œç³»ç»Ÿæ— å…³ï¼Œæ‰€ä»¥è·¨å¹³å°ä¹Ÿæ˜¯å®ƒçš„ä¼˜åŠ¿ã€‚</p><p> éšç€ç½‘é¡µæŠ€æœ¯ä»¥åŠæµè§ˆå™¨çš„è¿›æ­¥ï¼ŒB&#x2F;Såœ¨è¡¨ç°èƒ½åŠ›ä¸Šçš„å¤„ç†ä»¥åŠè¿è¡Œçš„é€Ÿ åº¦ä¸Šä¼šè¶Šæ¥è¶Šå¿«ï¼Œæ‰€ä»¥ç°åœ¨è¶Šæ¥è¶Šå¤šçš„C&#x2F;Sç»“æ„çš„è½¯ä»¶ï¼Œä¹Ÿæ¨å‡ºäº†å¯¹åº”B&#x2F;Sçš„ ç‰ˆæœ¬ï¼Œä¾‹å¦‚webQQï¼Œåœ¨çº¿æ–‡æ¡£å·¥å…·ã€åœ¨çº¿ç”»å›¾å·¥å…·ç­‰ã€‚åŒæ—¶ä¹ŸåŒ…æ‹¬å¾ˆå¤šç½‘ é¡µç‰ˆçš„æ¸¸æˆï¼Œä¹Ÿæ˜¯éšç€å‰ç«¯æŠ€æœ¯çš„å‘å±•ï¼Œæ…¢æ…¢å‡ºç°çš„ã€‚</p></li></ul></blockquote><h2 id="é€šä¿¡è¦ç´ "><a href="#é€šä¿¡è¦ç´ " class="headerlink" title="é€šä¿¡è¦ç´ "></a>é€šä¿¡è¦ç´ </h2><blockquote><p>å¦‚æœä¸¤å°è®¡ç®—æœºä¸Šçš„åº”ç”¨ç¨‹åºèƒ½å¤Ÿå®ç°é€šä¿¡ï¼Œé‚£ä¹ˆå¿…é¡»è§£å†³3ä¸ªé—®é¢˜ï¼Œæ‰¾ åˆ°å¯¹æ–¹è®¡ç®—æœºï¼Œæ‰¾åˆ°å¯¹æ–¹åº”ç”¨ç¨‹åºï¼Œé‡‡ç”¨ç›¸åŒçš„é€šä¿¡åè®®ã€‚</p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821155341102.png" alt="image-20230821155341102"></p><ul><li>IPåœ°å€</li></ul><p>å¯è®¤ä¸ºIPåœ°å€æ˜¯ä¸ªæ ‡è¯†å·ï¼Œé€šè¿‡è¿™ä¸ªæ ‡è¯†å·èƒ½å¤Ÿæ‰¾åˆ°ç½‘ç»œä¸–ç•Œä¸­å”¯ä¸€çš„é‚£ä¸ªè®¡ç®—æœº</p><ul><li>ç«¯å£</li></ul><p>ç«¯å£å·å¯ä»¥ç”¨æ¥æ ‡è¯†è®¡ç®—æœºä¸­å”¯ä¸€çš„é‚£ä¸ªåº”ç”¨ç¨‹åºã€‚ç½‘ç»œçš„é€šä¿¡ï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸¤ä¸ªåº”ç”¨ç¨‹åºçš„é€šä¿¡ã€‚æ¯å°è®¡ç®—æœºéƒ½æœ‰å¾ˆå¤šåº”ç”¨ç¨‹åºï¼Œåœ¨ç½‘ç»œé€šä¿¡æ—¶ï¼Œå°±é‡‡ç”¨ç«¯å£å·è¿›è¡ŒåŒºåˆ†è¿™äº›åº”ç”¨ç¨‹åºã€‚</p><ul><li>åè®®</li></ul><p>å½“æˆ‘ä»¬å’Œå…¶ä»–äººæ²Ÿé€šäº¤æµçš„æ—¶å€™éƒ½è¦ä½¿ç”¨äº’ç›¸èƒ½å¬æ‡‚çš„è¯­è¨€ã€‚è®¡ç®—æœºä¹Ÿ ä¸€æ ·ï¼Œè®¡ç®—æœºä¸è®¡ç®—æœºé€šè¿‡ç½‘ç»œè¿›è¡Œæ•°æ®å’Œä¿¡æ¯äº¤æ¢çš„æ—¶å€™ï¼Œä¹Ÿè¦ä½¿ç”¨ åŒæ ·çš„â€œè¯­è¨€â€ï¼Œè¿™ä¸ªè¯­è¨€è¢«ç§°ä¸ºç½‘ç»œé€šè®¯åè®®ã€‚ </p><p>ç½‘ç»œé€šä¿¡åè®®å¯¹æ•°æ®çš„<strong>ä¼ è¾“æ ¼å¼ã€ä¼ è¾“é€Ÿç‡ã€ä¼ è¾“æ­¥éª¤</strong>ç­‰åšäº†ç»Ÿä¸€è§„ å®šï¼Œé€šä¿¡åŒæ–¹å¿…é¡»åŒæ—¶éµå®ˆæ‰èƒ½å®Œæˆæ•°æ®äº¤æ¢ã€‚å¸¸è§çš„åè®®æœ‰<strong>UDPåè®® å’ŒTCPåè®®ã€‚</strong></p></blockquote><h1 id="IPåœ°å€"><a href="#IPåœ°å€" class="headerlink" title="IPåœ°å€"></a>IPåœ°å€</h1><blockquote><p>å…¨ç§°â€äº’è”ç½‘åè®®åœ°å€â€ï¼Œä¹Ÿç§°IPåœ°å€ã€‚æ˜¯åˆ†é…ç»™ä¸Šç½‘è®¾å¤‡çš„æ•°å­—æ ‡ç­¾ã€‚å¸¸ è§çš„IPåˆ†ç±»ä¸ºï¼šipv4å’Œipv6 </p><ul><li>IPv4ï¼šå…±32ä½ï¼Œè¡¨ç¤ºèŒƒå›´43äº¿å·¦å³ï¼Œä¸€èˆ¬ä½¿ç”¨ç‚¹åˆ†4æ®µè¡¨ç¤ºæ³•</li></ul><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821155958314.png" alt="image-20230821155958314"></p><ul><li>IPv6ï¼šå…±128ä½ï¼Œè¡¨ç¤ºèŒƒå›´æ›´å¤§ï¼Œå·ç§°å¯ä»¥ä¸ºåœ°çƒä¸Šæ¯ä¸€ç²’æ²™å­åˆ†é…ä¸€ä¸ªIP</li></ul><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821160226492.png" alt="image-20230821160226492"></p><p>IPåŸŸåï¼š æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªIPåœ°å€ï¼Œå¯è¯»æ€§æ›´å¥½ï¼Œæ›´å®¹æ˜“è®°å¿†ï¼Œéœ€è¦ä½¿ç”¨dnsåŸŸåè§£ ææœåŠ¡å™¨è§£æã€‚</p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821160351257.png" alt="image-20230821160351257"></p><p>å…¬ç½‘ã€å†…ç½‘IPï¼š</p><ul><li>å…¬ç½‘IPï¼šæ˜¯å¯ä»¥è¿æ¥äº’è”ç½‘çš„IPåœ°å€</li><li>å†…ç½‘IPï¼šä¹Ÿå«å±€åŸŸç½‘IPï¼Œåªèƒ½ç»„ç»‡æœºæ„å†…éƒ¨ä½¿ç”¨<ul><li>192.168.å¼€å¤´çš„æ˜¯å¸¸è§å±€åŸŸç½‘åœ°å€ï¼ŒèŒƒå›´å³ä¸º<strong>192.168.0.0~192.168.255.255</strong>ï¼Œä¸“é—¨ä¸ºç»„ç»‡æœºæ„å†…éƒ¨ä½¿ç”¨</li></ul></li></ul><p>DOSå¸¸ç”¨å‘½ä»¤ï¼š</p><ul><li>ipconfigï¼šæŸ¥çœ‹æœ¬æœºIPåœ°å€</li><li>ping IPåœ°å€ï¼šæ£€æŸ¥ç½‘ç»œæ˜¯å¦è¿é€š</li></ul><p>ç‰¹æ®ŠIPåœ°å€ï¼š</p><ul><li>127.0.0.1ï¼šæ˜¯å›é€åœ°å€ï¼Œå¯ä»¥ä»£è¡¨æœ¬æœºåœ°å€ï¼Œä¸€èˆ¬ç”¨æ¥æµ‹è¯•ä½¿ç”¨</li></ul></blockquote><h1 id="ç«¯å£å·"><a href="#ç«¯å£å·" class="headerlink" title="ç«¯å£å·"></a>ç«¯å£å·</h1><blockquote><p>ç«¯å£å·ç”¨æ¥æ ‡è®°æ­£åœ¨è®¡ç®—æœºè®¾å¤‡ä¸Šè¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œå…¶èŒƒå›´æ˜¯<strong>0~65535</strong>ã€‚ å…¶ä¸­ï¼Œ<strong>0~1023ä¹‹é—´çš„ç«¯å£å·ç”¨äºç³»ç»Ÿå†…éƒ¨çš„ä½¿ç”¨</strong>ï¼Œæˆ‘ä»¬è‡ªå·±æ™®é€šçš„åº”ç”¨ç¨‹ åºè¦ä½¿ç”¨<strong>1024ä»¥ä¸Šçš„ç«¯å£å·å³å¯</strong>ï¼ŒåŒæ—¶ä¹Ÿè¦é¿å…å’Œä¸€äº›çŸ¥ååº”ç”¨ç¨‹åºé»˜è®¤ çš„ç«¯å£å†²çªï¼Œä¾‹å¦‚ï¼š<strong>oracleå¯åŠ¨åé»˜è®¤å ç”¨ç«¯å£å·1521</strong>ï¼Œ<strong>mysqlå¯åŠ¨åé»˜è®¤ å ç”¨ç«¯å£å·3306</strong>ï¼Œ<strong>rediså¯åŠ¨åé»˜è®¤å ç”¨ç«¯å£å·6379</strong>ï¼Œ<strong>tomcatå¯åŠ¨åé»˜è®¤å  ç”¨ç«¯å£å·8080</strong>ã€‚</p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821161042296.png" alt="image-20230821161042296"></p><ul><li><p>ç¨‹åº1ï¼Œåœ¨å®¢æˆ·ç«¯ç”µè„‘ä¸­çš„å†…å­˜ä¸­è¿è¡Œç€ï¼Œå¹¶ä¸”å ç”¨äº†ç«¯å£å·8899</p></li><li><p>ç¨‹åº2ï¼Œåœ¨æœåŠ¡å™¨ç«¯ç”µè„‘ä¸­çš„å†…å­˜ä¸­è¿è¡Œç€ï¼Œå¹¶ä¸”å ç”¨äº†ç«¯å£å·8888 ä¿©ä¸ªç¨‹åºï¼Œé€šè¿‡IP+ç«¯å£å·çš„æ–¹å¼ï¼Œæ‰¾åˆ°å¯¹æ–¹è¿›è¡Œé€šä¿¡ï¼Œä¼ è¾“ä¿¡æ¯</p></li></ul><p>ç«¯å£åˆ†ç±»ï¼š</p><ul><li><p>å‘¨çŸ¥ç«¯å£</p><ul><li>0~1023ï¼Œè¢«é¢„å…ˆå®šä¹‰çš„çŸ¥ååº”ç”¨å ç”¨ï¼Œå¦‚ï¼šHTTPå ç”¨80ï¼ŒFTPå ç”¨21ï¼ŒMySQLå ç”¨3306</li></ul></li><li><p>æ³¨å†Œç«¯å£</p><ul><li><strong>1024~49151ï¼Œåˆ†é…ç»™ç”¨æˆ·è¿›ç¨‹æˆ–æŸäº›åº”ç”¨ç¨‹åºï¼ˆå¯è‡ªå·±åˆ†é…ï¼‰</strong></li></ul></li><li><p>åŠ¨æ€ç«¯å£</p><ul><li>49152~65535ï¼Œä¹‹æ‰€ä»¥è¢«ç§°ä¸ºåŠ¨æ€ç«¯å£ï¼Œæ˜¯å› ä¸ºå®ƒä¸€èˆ¬ä¸å›ºå®šåˆ†é…æŸç§è¿›ç¨‹ï¼Œè€Œæ˜¯åŠ¨æ€åˆ†é…</li></ul></li></ul><p>æ³¨æ„äº‹é¡¹ï¼š </p><ul><li><strong>è‡ªå·±å¼€å‘çš„ç¨‹åºä¸€èˆ¬é€‰æ‹©ä½¿ç”¨æ³¨å†Œç«¯å£</strong> </li><li><strong>åŒä¸€æ—¶åˆ»ä¸€ä¸ªè®¾å¤‡ä¸­ä¸¤ä¸ªç¨‹åºçš„ç«¯å£å·ä¸èƒ½é‡å¤ï¼Œå¦åˆ™å‡ºé”™</strong></li></ul></blockquote><h1 id="é€šä¿¡åè®®"><a href="#é€šä¿¡åè®®" class="headerlink" title="é€šä¿¡åè®®"></a>é€šä¿¡åè®®</h1><blockquote><p>è®¡ç®—æœºç½‘ç»œä¸­ï¼Œä¸åŒè®¾å¤‡è¿›è¡Œè¿æ¥å’Œé€šä¿¡çš„è§„åˆ™è¢«ç§°ä¸º<strong>ç½‘ç»œé€šä¿¡åè®®</strong>ã€‚é€š ä¿¡åè®®ï¼Œå¯¹ä¿©å°è®¡ç®—æœºä¹‹é—´æ‰€ä¼ è¾“æ•°æ®çš„ä¼ è¾“æ ¼å¼ã€ä¼ è¾“æ­¥éª¤ç­‰åšäº†ç»Ÿä¸€ è§„å®šè¦æ±‚ï¼Œé€šä¿¡åŒæ–¹å¿…é¡»åŒæ—¶éµå®ˆæ‰èƒ½å®Œæˆæ•°æ®äº¤æ¢ã€‚</p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821162346024.png" alt="image-20230821162346024"></p><p><strong>OSIï¼ˆOpen System Interconnectï¼‰</strong>ï¼Œå³å¼€æ”¾å¼ç½‘ç»œäº’è¿æ ‡å‡†ã€‚ ä¸€èˆ¬å«OSIå‚ è€ƒæ¨¡å‹ï¼Œæ˜¯<strong>ISOï¼ˆå›½é™…æ ‡å‡†åŒ–ç»„ç»‡ï¼‰</strong>åœ¨1985å¹´ç ”ç©¶çš„ç½‘ç»œäº’è¿æ¨¡å‹ï¼Œå®ƒå…±åŒ… å«ä¸ƒå±‚(why?)ï¼Œå…·ä½“å¯å‚è€ƒä¸‹å›¾ã€‚</p><p>TCP&#x2F;IPç½‘ç»œæ¨¡å‹ï¼Œæ˜¯äº‹å®ä¸Šçš„å›½é™…æ ‡å‡†ï¼Œå®ƒè¢«ç®€åŒ–ä¸ºäº†å››ä¸ªå±‚ï¼Œä»ä¸‹åˆ°ä¸Šåˆ† åˆ«ä¾æ¬¡æ˜¯<strong>åº”ç”¨å±‚ã€ä¼ è¾“å±‚ã€ç½‘ç»œå±‚ã€ç½‘ç»œæ¥å£å±‚ã€‚</strong></p><ul><li>åº”ç”¨å±‚ï¼šä¸»è¦è´Ÿè´£åº”ç”¨ç¨‹åºçš„åè®®ï¼Œä¾‹å¦‚HTTPåè®®ã€FTPåè®®ç­‰</li><li>ä¼ è¾“å±‚ï¼šä¸»è¦ä½¿ç”¨ç½‘ç»œç¨‹åºè¿›è¡Œé€šä¿¡ï¼Œåœ¨è¿›è¡Œç½‘ç»œé€šä¿¡æ—¶ï¼Œå¯ä»¥é‡‡ç”¨TCPåè®®ï¼Œä¹Ÿå¯ä»¥é‡‡ç”¨UDPåè®®</li><li>ç½‘ç»œå±‚ï¼šç½‘ç»œå±‚æ—¶æ•´ä¸ªTCP&#x2F;IPåè®®çš„æ ¸å¿ƒï¼Œå®ƒä¸»è¦ç”¨äºå°†ä¼ è¾“çš„æ•°æ®è¿›è¡Œåˆ†ç»„ï¼Œå°†åˆ†ç»„æ•°æ®å‘é€åˆ°ç›®æ ‡è®¡ç®—æœºæˆ–è€…ç½‘ç»œã€‚</li><li>é“¾è·¯å±‚ï¼šé“¾è·¯å±‚æ˜¯ç”¨äºå®šä¹‰ç‰©ç†ä¼ è¾“é€šé“ï¼Œé€šå¸¸æ˜¯å¯¹æŸäº›ç½‘ç»œè¿æ¥è®¾å¤‡çš„é©±åŠ¨åè®®ï¼Œä¾‹å¦‚é’ˆå¯¹å…‰çº¤ã€ç½‘çº¿æä¾›çš„é©±åŠ¨ã€‚</li></ul><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821164623802.png" alt="image-20230821164623802"></p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821164728042.png" alt="image-20230821164728042"></p></blockquote><h1 id="TCPå’ŒUDP"><a href="#TCPå’ŒUDP" class="headerlink" title="TCPå’ŒUDP"></a>TCPå’ŒUDP</h1><blockquote><p>è™½ç„¶å®Œæ•´çš„é€šä¿¡è¿‡ç¨‹æ¯”è¾ƒå¤æ‚ï¼Œä½†æ˜¯JavaAPIä¸­æŠŠè¿™äº›é€šä¿¡å®ç°çš„ç»†èŠ‚è¿› è¡Œäº†å°è£…ï¼Œä½¿å¾—æˆ‘ä»¬å¯ä»¥ç›´æ¥ä½¿ç”¨ç›¸åº”çš„ç±»å’Œæ¥å£ï¼Œæ¥è¿›è¡Œç½‘ç»œç¨‹åºå¼€ å‘ï¼Œè€Œä¸ç”¨è€ƒè™‘é€šä¿¡çš„ç»†èŠ‚ã€‚</p><p>java.netåŒ…ä¸­å¯¹å¸¸è§çš„ä¸¤ç§é€šä¿¡åè®®è¿›è¡Œäº†å°è£…å’Œæ”¯æŒï¼šUDPå’ŒTCP</p><ul><li>UDPï¼šç”¨æˆ·æ•°æ®æŠ¥åè®®ï¼ˆUser Datagram Protocol) ï¼ˆäº†è§£ï¼‰</li></ul><p>UDPæ˜¯<strong>æ— è¿æ¥é€šä¿¡åè®®</strong>ï¼Œåœ¨æ•°æ®ä¼ è¾“æ—¶ï¼Œæ•°æ®çš„å‘é€ç«¯å’Œæ¥æ”¶ç«¯ä¸å»ºç«‹è¿æ¥ï¼Œä¹Ÿä¸èƒ½ä¿è¯å¯¹æ–¹èƒ½æ¥å—æˆåŠŸã€‚</p><p>ä¾‹å¦‚ï¼Œå½“ä¸€å°è®¡ç®—æœºå‘å¦å¤–ä¸€å°è®¡ç®—æœºå‘é€æ•°æ®æ—¶ï¼ˆUDPï¼‰ï¼Œ<strong>å‘é€ç«¯ä¸ä¼šç¡®è®¤æ¥æ”¶ç«¯æ˜¯å¦å­˜åœ¨ï¼Œå°±ä¼šç›´æ¥å‘å‡ºæ•°æ®ï¼ŒåŒæ ·æ¥æ”¶ç«¯åœ¨æ”¶åˆ°æ•°æ® æ—¶ï¼Œä¹Ÿä¸ä¼šå‘å‘é€ç«¯åé¦ˆæ˜¯å¦æ”¶åˆ°æ•°æ®ã€‚</strong></p><p>ç”±äºä½¿ç”¨UDPåè®®<strong>æ¶ˆè€—èµ„æºå°ï¼Œé€šä¿¡æ•ˆç‡é«˜</strong>ï¼Œæ‰€ä»¥é€šå¸¸éƒ½ä¼šç”¨äºéŸ³é¢‘ã€è§†é¢‘å’Œæ™®é€šæ•°æ®çš„ä¼ è¾“ï¼Œå› ä¸ºè¿™ç§æƒ…å†µå³ä½¿å¶å°”ä¸¢å¤±ä¸€ä¸¤ä¸ªæ•°æ®åŒ…ï¼Œä¹Ÿä¸ä¼šå¯¹æ¥æ”¶ç»“æœäº§ç”Ÿå¤ªå¤§å½±å“ã€‚</p><p>ä½†æ˜¯åœ¨ä¼ è¾“é‡è¦æ•°æ®æ—¶ï¼Œä¸å»ºè®®ä½¿ç”¨UDPåè®®ï¼Œå› ä¸º<strong>å®ƒä¸èƒ½ä¿è¯æ•°æ®ä¼ è¾“çš„å®Œæ•´æ€§</strong>ã€‚</p><ul><li>TCPï¼Œä¼ è¾“æ§åˆ¶åè®®ï¼ˆTransmission Control Protocolï¼‰ï¼ˆimportantï¼‰</li></ul><p>TCPåè®®æ˜¯<strong>é¢å‘è¿æ¥</strong>çš„é€šä¿¡åè®®ï¼Œå³ä¼ è¾“æ•°æ®ä¹‹å‰ï¼Œåœ¨å‘é€ç«¯å’Œæ¥æ”¶ç«¯å»ºç«‹è¿æ¥ï¼Œç„¶åå†ä¼ è¾“æ•°æ®ï¼Œå®ƒæä¾›äº†ä¸¤å°è®¡ç®—æœºä¹‹é—´<strong>å¯é çš„ã€æ— å·®é”™</strong>çš„ã€‚</p><p>åœ¨TCPè¿æ¥ä¸­ï¼Œå°†è®¡ç®—æœºæ˜ç¡®åˆ’åˆ†ä¸ºå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ç«¯ï¼Œå¹¶ä¸”ç”±å®¢æˆ·ç«¯ å‘æœåŠ¡ç«¯å‘å‡ºè¿æ¥è¯·æ±‚ï¼Œæ¯æ¬¡è¿æ¥çš„åˆ›å»ºéƒ½éœ€è¦ç»è¿‡â€œä¸‰æ¬¡æ¡æ‰‹â€çš„è¿‡ ç¨‹ï¼Œå››æ¬¡æŒ¥æ‰‹æ–­å¼€è¿æ¥ã€‚</p><p><strong>TCPçš„ä¸‰æ¬¡æ¡æ‰‹ï¼š ï¼ˆæ‰“ç”µè¯è¿‡ç¨‹ï¼Œå®¢æˆ·ç«¯Aï¼ŒæœåŠ¡å™¨Bï¼‰</strong></p><p>TCPåè®®ä¸­ï¼Œåœ¨å‘é€æ•°æ®çš„<strong>å‡†å¤‡é˜¶æ®µ</strong>ï¼Œå®¢æˆ·ç«¯ä¸æœåŠ¡å™¨ä¹‹é—´çš„ä¸‰æ¬¡äº¤äº’ï¼Œ ä»¥ä¿è¯è¿æ¥çš„å¯é </p><ul><li>ç¬¬ä¸€æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å‘æœåŠ¡å™¨ç«¯å‘é€è¿æ¥è¯·æ±‚ï¼Œç­‰å¾…æœåŠ¡å™¨ç¡®è®¤ï¼ˆ<strong>A æ‰“ç”µè¯ç»™Bï¼Œ å˜Ÿå˜Ÿå˜Ÿå˜Ÿç­‰å¾…ä¸­</strong>ï¼‰</li><li>ç¬¬äºŒæ¬¡æ¡æ‰‹ï¼šæœåŠ¡å™¨ç«¯å‘å®¢æˆ·ç«¯å›é€ä¸€ä¸ªå“åº”ï¼Œé€šçŸ¥å®¢æˆ·ç«¯æ”¶åˆ°äº†è¿æ¥è¯·æ±‚ï¼ˆ**Bæ¥ç”µè¯ å–‚~**ï¼‰</li><li>ç¬¬ä¸‰æ¬¡æ¡æ‰‹ï¼šå®¢æˆ·ç«¯å†æ¬¡å‘æœåŠ¡å™¨ç«¯å‘é€ç¡®è®¤ä¿¡æ¯ï¼Œç¡®è®¤è¿æ¥<strong>ï¼ˆAå¬åˆ°Bçš„å£°éŸ³åï¼Œå›åº”ï¼šå–‚~åœ¨å¹²å˜›å‘€ğŸŒ³ï¼‰</strong></li></ul><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821170814966.png" alt="image-20230821170814966"></p><p>å®Œæˆä¸Šè¿°çš„ä¸‰æ¬¡æ¡æ‰‹åï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨ç«¯çš„è¿æ¥å°±å·²ç»å»ºç«‹äº†ï¼Œåœ¨è¿™ä¸ªå®‰å…¨çš„ã€å¯é çš„è¿æ¥åŸºç¡€ä¹‹ä¸Šï¼Œå°±å¯ä»¥å¼€å§‹è¿›è¡Œæ•°æ®ä¼ è¾“äº†ã€‚ TCPåè®®åº”ç”¨çš„ååˆ†å¹¿æ³›ï¼Œä¾‹å¦‚ä¸‹è½½æ–‡ä»¶ã€æµè§ˆç½‘é¡µã€è¿œç¨‹ç™»å½•ç­‰ã€‚</p><p>TCPçš„å››æ¬¡æŒ¥æ‰‹ï¼š <strong>ï¼ˆæ‰“ç”µè¯è¿‡ç¨‹ï¼Œå®¢æˆ·ç«¯Aï¼ŒæœåŠ¡å™¨Bï¼‰</strong></p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821171357791.png" alt="image-20230821171357791"></p></blockquote><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230831102338168.png" alt="image-20230831102338168"></p><h1 id="TCPç½‘ç»œç¼–ç¨‹"><a href="#TCPç½‘ç»œç¼–ç¨‹" class="headerlink" title="TCPç½‘ç»œç¼–ç¨‹"></a>TCPç½‘ç»œç¼–ç¨‹</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>åœ¨TCPé€šä¿¡åè®®ä¸‹ï¼Œè®¡ç®—æœºç½‘ç»œä¸­ä¸åŒè®¾å¤‡ä¸Šçš„åº”ç”¨ç¨‹åºä¹‹é—´å¯ä»¥é€šä¿¡ï¼Œé€šä¿¡æ—¶éœ€<strong>ä¸¥æ ¼åŒºåˆ†å®¢æˆ·ç«¯ï¼ˆClientï¼‰ä¸æœåŠ¡å™¨ç«¯ï¼ˆServerï¼‰ã€‚</strong></p><p>åœ¨Javaä¸­ï¼Œå¯¹äºè¿™æ ·åŸºäºTCPåè®®ä¸‹è¿æ¥é€šä¿¡çš„å®¢æˆ·ç«¯å’ŒæœåŠ¡ç«¯ï¼Œåˆ†åˆ«è¿›è¡Œ äº†æŠ½è±¡ï¼š</p><ul><li>java.net.ServerSocketï¼šç±»è¡¨ç¤ºæœåŠ¡ç«¯</li><li>java.net.Socketï¼šç±»è¡¨ç¤ºå®¢æˆ·ç«¯</li></ul><p>ä½¿ç”¨Socket å’Œ ServerSocketè¿›è¡Œçš„ç¼–ç¨‹ï¼Œä¹Ÿç§°ä¸º<strong>å¥—æ¥å­—ç¼–ç¨‹</strong>ã€‚</p></blockquote><h2 id="é€šä¿¡æµç¨‹"><a href="#é€šä¿¡æµç¨‹" class="headerlink" title="é€šä¿¡æµç¨‹"></a>é€šä¿¡æµç¨‹</h2><blockquote><p>TCPå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨è¿›è¡Œé€šä¿¡ï¼Œå…¶é€šä¿¡æµç¨‹æ˜¯å›ºå®šçš„ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><p><strong>æœåŠ¡å™¨ç«¯ï¼š</strong></p><ul><li>åˆ›å»º<strong>ServerSocket</strong>ï¼ˆéœ€ç»‘å®šç«¯å£ï¼Œæ–¹ä¾¿å®¢æˆ·ç«¯è¿æ¥ï¼‰</li><li>è°ƒç”¨<strong>ServerSocket</strong>å¯¹è±¡çš„<strong>accept()<strong>æ–¹æ³•æ¥æ”¶ä¸€ä¸ªå®¢æˆ·ç«¯è¯·æ±‚ï¼Œå¾—åˆ°ä¸€ä¸ª</strong>Socket</strong></li><li>è°ƒç”¨<strong>Socket</strong>çš„<strong>getInputStream</strong>() å’Œ <strong>getOutputStream</strong>() è·å–å’Œå®¢æˆ·ç«¯ç›¸è¿çš„IOæµ<ul><li>è¾“å…¥æµå¯ä»¥è¯»å–å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ•°æ®</li><li>è¾“å‡ºæµå¯ä»¥å‘é€æ•°æ®åˆ°å®¢æˆ·ç«¯</li></ul></li><li>æ“ä½œå®Œæˆï¼Œ<strong>close</strong>()</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºç»‘å®šåˆ°æŒ‡å®šç«¯å£çš„æœåŠ¡å™¨å¥—æ¥å­— ï¼ˆå°±æ˜¯æœåŠ¡åœ¨ç›‘å¬è¿™ä¸ªç«¯å£æ¯”å¦‚port=2333ï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">ServerSocket</span><span class="params">(<span class="type">int</span> port)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="built_in">this</span>(port, <span class="number">50</span>, <span class="literal">null</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ç›‘å¬è¦è¿æ¥åˆ°æ­¤çš„å¥—æ¥å­—å¹¶æ¥å—å®ƒ (å®¢æˆ·ç«¯è¿æ¥è¿™ä¸ªç«¯å£ï¼Œå°±ä¼šè¢«æœåŠ¡å™¨ç›‘å¬åˆ°)</span></span><br><span class="line"><span class="keyword">public</span> Socket <span class="title function_">accept</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="keyword">if</span> (isClosed())</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SocketException</span>(<span class="string">&quot;Socket is closed&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (!isBound())</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SocketException</span>(<span class="string">&quot;Socket is not bound yet&quot;</span>);</span><br><span class="line">    <span class="type">Socket</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>((SocketImpl) <span class="literal">null</span>);</span><br><span class="line">    implAccept(s);</span><br><span class="line">    <span class="keyword">return</span> s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šaccept() æ–¹æ³•æ˜¯é˜»å¡çš„ï¼Œä½œç”¨æ˜¯ç­‰å¾…å®¢æˆ·ç«¯è¿æ¥ï¼Œå¦‚æœæœ‰å®¢æˆ·ç«¯è¿æ¥åˆ™ç«‹é©¬è¿”å›ï¼Œå¦‚æœæ²¡æœ‰å®¢æˆ·ç«¯è¿æ¥åˆ™ä¸€è‡´é˜»å¡ç­‰å¾…ã€‚</font></p></blockquote><blockquote><p> <strong>å®¢æˆ·ç«¯ï¼š</strong></p><ul><li>åˆ›å»º<strong>Socket</strong>è¿æ¥æœåŠ¡å™¨ï¼ˆéœ€æŒ‡å®šæœåŠ¡å™¨ipåœ°å€ã€ç«¯å£ï¼‰ï¼Œæ‰¾å¯¹åº”çš„æœåŠ¡å™¨è¿›è¡Œè¿æ¥</li><li>è°ƒç”¨<strong>Socket</strong>çš„<strong>getInputStream</strong>()å’Œ<strong>getOutputStream</strong>()æ–¹æ³•è·å–å’ŒæœåŠ¡ç«¯ç›¸è¿çš„IOæµ<ul><li>è¾“å…¥æµå¯ä»¥è¯»å–æœåŠ¡ç«¯è¾“å‡ºæµå†™å‡ºçš„æ•°æ®</li><li>è¾“å‡ºæµå¯ä»¥å†™å‡ºæ•°æ®åˆ°æœåŠ¡ç«¯çš„è¾“å…¥æµ</li></ul></li><li>æ“ä½œå®Œæ¯•ï¼Œ<strong>close</strong>()</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="comment">// åˆ›å»ºæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šIPæŒ‡å®šç«¯å£å·</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Socket</span><span class="params">(InetAddress address, <span class="type">int</span> port)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    <span class="built_in">this</span>(address != <span class="literal">null</span> ? <span class="keyword">new</span> <span class="title class_">InetSocketAddress</span>(address, port) : <span class="literal">null</span>,</span><br><span class="line">         (SocketAddress) <span class="literal">null</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// åˆ›å»ºæµå¥—æ¥å­—å¹¶å°†å…¶è¿æ¥åˆ°æŒ‡å®šä¸»æœºä¸Šçš„æŒ‡å®šç«¯å£å·</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Socket</span><span class="params">(String host, <span class="type">int</span> port)</span> <span class="keyword">throws</span> UnknownHostException, IOException</span><br><span class="line">&#123;</span><br><span class="line">    <span class="built_in">this</span>(host != <span class="literal">null</span> ? <span class="keyword">new</span> <span class="title class_">InetSocketAddress</span>(host, port) :</span><br><span class="line">         <span class="keyword">new</span> <span class="title class_">InetSocketAddress</span>(InetAddress.getByName(<span class="literal">null</span>), port),</span><br><span class="line">         (SocketAddress) <span class="literal">null</span>, <span class="literal">true</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å…¥æµ</span></span><br><span class="line"><span class="keyword">public</span> InputStream <span class="title function_">getInputStream</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;&#125;</span><br><span class="line"><span class="comment">// è¿”å›æ­¤å¥—æ¥å­—çš„è¾“å‡ºæµ</span></span><br><span class="line"><span class="keyword">public</span> OutputStream <span class="title function_">getOutputStream</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821182218102.png" alt="image-20230821182218102"></p></blockquote><h2 id="åŸºç¡€æ¡ˆä¾‹"><a href="#åŸºç¡€æ¡ˆä¾‹" class="headerlink" title="åŸºç¡€æ¡ˆä¾‹"></a>åŸºç¡€æ¡ˆä¾‹</h2><blockquote><p>æ­å»ºTCPå®¢æˆ·ç«¯ï¼Œå‘é€ä¿¡æ¯åˆ°æœåŠ¡å™¨</p><ul><li>Test01_TcpClient</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test01_TcpClient</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºSocketå¯¹è±¡ï¼Œï¼ˆæŒ‡å®šï¼‰</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">ip</span> <span class="operator">=</span> <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">23333</span>;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(ip, port);</span><br><span class="line">        System.out.println(<span class="string">&quot;success connect port 23333 server, socket: &quot;</span> + socket);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€è·å–æ•°æ®ä¼ è¾“çš„IOæµ</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€æ•°æ®ä¼ è¾“</span></span><br><span class="line">        <span class="comment">// 3.1ã€å…ˆå‘é€æ•°æ®ç»™æœåŠ¡å™¨</span></span><br><span class="line">        os.write(<span class="string">&quot;hello server I am Tcp client&quot;</span>.getBytes());</span><br><span class="line">        System.out.println(<span class="string">&quot;success send data! &quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3.2ã€æ¥æ”¶æœåŠ¡è¿”å›çš„æ¶ˆæ¯</span></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(buff);</span><br><span class="line">        System.out.println(<span class="string">&quot;read: &quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(buff, <span class="number">0</span>, len));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€å…³é—­èµ„æº</span></span><br><span class="line">        os.close();</span><br><span class="line">        is.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>Test02_TcpServer</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test02_TcpServer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€åˆ›å»ºServerSocketï¼ˆportï¼‰</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">23333</span>;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(port);</span><br><span class="line">        <span class="comment">// 2ã€è°ƒç”¨SocketServerçš„accept() æ–¹æ³•è·å¾—ä¸€ä¸ªSocket</span></span><br><span class="line">        System.out.println(<span class="string">&quot;listening for port 23333&quot;</span>);</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        <span class="comment">// 3ã€è·å–ç½‘ç»œé€šä¿¡çš„IOæµå¯¹è±¡</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        <span class="comment">// 4ã€æ•°æ®ä¼ è¾“</span></span><br><span class="line">        <span class="comment">// 4.1ã€è·å–å®¢æˆ·ç«¯ä¼ è¾“çš„æ•°æ®</span></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> is.read(buff);</span><br><span class="line">        System.out.println(<span class="string">&quot;server read succeeded!&quot;</span>);</span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(buff, <span class="number">0</span>, len));</span><br><span class="line">        <span class="comment">// 4.2ã€server å‘é€æ¶ˆæ¯ç»™ client</span></span><br><span class="line">        System.out.println(<span class="string">&quot;server send mes to client&quot;</span>);</span><br><span class="line">        os.write(<span class="string">&quot;I love you&quot;</span>.getBytes());</span><br><span class="line">        System.out.println(<span class="string">&quot;success send mes!&quot;</span>);</span><br><span class="line">        <span class="comment">// 5ã€å…³é—­èµ„æº</span></span><br><span class="line">        os.close();</span><br><span class="line">        is.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        serverSocket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="åè½¬æ¡ˆä¾‹"><a href="#åè½¬æ¡ˆä¾‹" class="headerlink" title="åè½¬æ¡ˆä¾‹"></a>åè½¬æ¡ˆä¾‹</h2><blockquote><p>æ­å»ºä¸€ä¸ªTCPå®¢æˆ·ç«¯ï¼Œä»é”®ç›˜å½•å…¥æ•´è¡Œæ•°æ®ï¼ˆé‡åˆ°quitç»“æŸå½•å…¥ï¼‰ç„¶åå‘é€ ç»™æœåŠ¡å™¨ï¼Œå†æ¥æ”¶æœåŠ¡å™¨è¿”å›çš„æ•°æ®å¹¶è¾“å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test03_ReverseClient</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;localhost&quot;</span>, <span class="number">23333</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;success connect port 23333 server, socket: &quot;</span> + socket);</span><br><span class="line"></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®šä¹‰å¢å¼ºæµ æ›´å¥½çš„å®ç°åŠŸèƒ½</span></span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(os);</span><br><span class="line">        <span class="type">Reader</span> <span class="variable">reader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is);</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(reader);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ ¸å¿ƒ</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;please input data: &quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            line = sc.nextLine();</span><br><span class="line">            ps.println(line);</span><br><span class="line">            System.out.println(<span class="string">&quot;success send data&quot;</span>);</span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;quit&quot;</span>.equals(line)) <span class="keyword">break</span>;</span><br><span class="line">            <span class="comment">// ä»æœåŠ¡å™¨æ¥æ”¶ è¿”å›çš„æ¶ˆæ¯</span></span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> br.readLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;receive msg: &quot;</span> + msg);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        System.out.println(<span class="string">&quot;client will close&quot;</span>);</span><br><span class="line">        br.close();</span><br><span class="line">        reader.close();</span><br><span class="line">        ps.close();</span><br><span class="line">        os.close();</span><br><span class="line">        is.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­å»ºä¸€ä¸ªTCPæœåŠ¡å™¨ï¼Œé€è¡Œæ¥æ”¶ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„å­—ç¬¦ä¸²ï¼ˆè¯»å–åˆ°quitå­— ç¬¦ä¸²åˆ™ç»“æŸè¯»å–ï¼‰ï¼Œç„¶åå¯¹å­—ç¬¦ä¸²è¿›è¡Œ<strong>åè½¬</strong>ï¼Œæœ€åæŠŠåè½¬çš„å­—ç¬¦ä¸²è¿”å›ç»™ å®¢æˆ·ç«¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test04_ReverseServer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">serverSocket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">23333</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;success start server port 23333&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> serverSocket.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;success connect client &quot;</span> + socket);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 3ã€è·å–IOæµå¹¶å¢å¼º</span></span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(socket.getOutputStream());</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(socket.getInputStream()));</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4.ä¸šåŠ¡æ“ä½œ</span></span><br><span class="line">        <span class="comment">// 4.1ã€é€è¡Œæ”¶å–æ•°æ®</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">StringBuffer</span> <span class="variable">sb</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">StringBuffer</span>();</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            sb.delete(<span class="number">0</span>, sb.length());</span><br><span class="line">            line = br.readLine();</span><br><span class="line">            System.out.println(<span class="string">&quot;read: &quot;</span> + line);</span><br><span class="line"></span><br><span class="line">            <span class="comment">// è¯»å–åˆ°quitï¼Œåˆ™ç»“æŸ</span></span><br><span class="line">            <span class="keyword">if</span> (<span class="string">&quot;quit&quot;</span>.equals(line)) <span class="keyword">break</span>;</span><br><span class="line"></span><br><span class="line">            <span class="comment">// 4.2 å¯¹æ•°æ® è¿›è¡Œ åè½¬</span></span><br><span class="line">            sb.append(line);</span><br><span class="line">            sb.reverse();</span><br><span class="line">            <span class="type">String</span> <span class="variable">msg</span> <span class="operator">=</span> sb.toString();</span><br><span class="line"></span><br><span class="line">            ps.println(msg);</span><br><span class="line">            System.out.println(<span class="string">&quot;server success send reverse msg&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">//5.å…³é—­èµ„æº</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å™¨å³å°†å…³é—­!&quot;</span>);</span><br><span class="line">        ps.close();</span><br><span class="line">        br.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        serverSocket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ä¼ è¾“å¯¹è±¡"><a href="#ä¼ è¾“å¯¹è±¡" class="headerlink" title="ä¼ è¾“å¯¹è±¡"></a>ä¼ è¾“å¯¹è±¡</h2><blockquote><p>å‡†å¤‡ä¸€ä¸ªstud.txtæ–‡ä»¶ï¼Œæ”¾åˆ°src&#x2F;dirç›®å½•ä¸‹ï¼Œå†…å®¹å¦‚ä¸‹ï¼š</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">010.tom.19</span><br><span class="line">001.zs.21</span><br><span class="line">003.lucy.19</span><br><span class="line">002.jack.20</span><br></pre></td></tr></table></figure><p>æ­å»ºTCPå®¢æˆ·ç«¯ï¼Œé€è¡Œè¯»å–stud.txtä¸­æ•°æ®ï¼Œç„¶å<strong>è½¬åŒ–ä¸ºStudentå¯¹è±¡</strong>ï¼Œæœ€å å°†æ‰€æœ‰å¯¹è±¡å‘é€åˆ°æœåŠ¡å™¨ç«¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* é€è¡Œè¯»å–stud.txtä¸­ æ•°æ® --&gt; Studentå¯¹è±¡</span></span><br><span class="line"><span class="comment">* å†å°†æ‰€æœ‰å¯¹è±¡ å‘é€åˆ° æœåŠ¡å™¨</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test05_</span>å¯¹è±¡å®¢æˆ·ç«¯ &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span></span><br><span class="line">        Exception &#123;</span><br><span class="line">        <span class="comment">//1.æ­å»ºå®¢æˆ·ç«¯è£…å¢å¼º</span></span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> socket.getOutputStream();</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(os);</span><br><span class="line">        <span class="comment">//3.è§£ææ–‡ä»¶ å¾—åˆ°å¯¹è±¡ å¹¶å‘é€</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src/dir/stud.txt&quot;</span>));</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        List&lt;Student&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="keyword">while</span>((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="comment">//æ‹†åˆ†æ•°æ® 001.zs.20</span></span><br><span class="line">            String[] arr = line.split(<span class="string">&quot;[.]&quot;</span>);</span><br><span class="line">            <span class="type">String</span> <span class="variable">id</span> <span class="operator">=</span> arr[<span class="number">0</span>];</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> arr[<span class="number">1</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">age</span> <span class="operator">=</span> Integer.parseInt(arr[<span class="number">2</span>]);</span><br><span class="line">            <span class="comment">//å°è£…å­¦ç”Ÿå¯¹è±¡ å¹¶æ·»åŠ åˆ° listé›†åˆ</span></span><br><span class="line">            <span class="type">Student</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(id,name,age);</span><br><span class="line">            list.add(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å‘é€é›†åˆ(å«æ‰€æœ‰å­¦ç”Ÿ)</span></span><br><span class="line">        oos.writeObject(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;å­¦ç”Ÿå‘é€æˆåŠŸï¼Œæ•°é‡: &quot;</span> + list.size());</span><br><span class="line">        <span class="comment">//4.å…³é—­èµ„æº</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯å³å°†å…³é—­&quot;</span>);</span><br><span class="line">        oos.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­å»ºTCPæœåŠ¡å™¨ï¼Œæ¥æ”¶ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ‰€æœ‰å­¦ç”Ÿï¼Œç„¶åéå†è¾“å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ­å»ºæœåŠ¡å™¨ï¼Œæ¥æ”¶ä»å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ‰€æœ‰å­¦ç”Ÿ</span></span><br><span class="line"><span class="comment">* éå†è¾“å‡º</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test06_</span>å¯¹è±¡æœåŠ¡å™¨ &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span></span><br><span class="line">        Exception &#123;</span><br><span class="line">        <span class="comment">//1.æ­å»ºæœåŠ¡å™¨ï¼ŒæŒ‡å®šç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">server</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8989</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ ç«¯å£ 8989...&quot;</span>);</span><br><span class="line">        <span class="comment">//2.æ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> server.accept();</span><br><span class="line">        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯æˆåŠŸè¿æ¥ï¼š&quot;</span> + socket);</span><br><span class="line">        <span class="comment">//3.è·å–è¾“å…¥æµ å¹¶ åŒ…è£…å¢å¼º</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> socket.getInputStream();</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(is);</span><br><span class="line">        <span class="comment">//4.æ¥æ”¶ éå†æ•°æ®</span></span><br><span class="line">        List&lt;Student&gt; list =</span><br><span class="line">            (List&lt;Student&gt;)ois.readObject();</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆåŠŸæ¥æ”¶å­¦ç”Ÿæ•°é‡: &quot;</span> +</span><br><span class="line">                           list.size());</span><br><span class="line">        <span class="keyword">for</span> (Student s : list) &#123;</span><br><span class="line">            System.out.println(s);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//5.èµ„æºå…³é—­</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å™¨å³å°†ç»ˆæ­¢&quot;</span>);</span><br><span class="line">        ois.close();</span><br><span class="line">        socket.close();</span><br><span class="line">        server.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å¤šçº¿ç¨‹æ¡ˆä¾‹"><a href="#å¤šçº¿ç¨‹æ¡ˆä¾‹" class="headerlink" title="å¤šçº¿ç¨‹æ¡ˆä¾‹"></a>å¤šçº¿ç¨‹æ¡ˆä¾‹</h2><blockquote><p>æ­å»ºä¸€ä¸ªTCPå®¢æˆ·ç«¯ï¼Œè¯»å–é”®ç›˜ä¿¡æ¯ï¼Œç„¶åå‘é€ç»™æœåŠ¡å™¨ï¼Œé‡åˆ°quité€€å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* æ¥ç›˜å½•å…¥ä¿¡æ¯ ç„¶åå‘ç»™æœåŠ¡å™¨ï¼Œé‡åˆ°quitç»“æŸ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test07_</span>èŠå¤©å®¢æˆ·ç«¯ &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span></span><br><span class="line">        Exception &#123;</span><br><span class="line">        <span class="comment">//1.æ­å»ºå®¢æˆ·ç«¯</span></span><br><span class="line">        <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Socket</span>(<span class="string">&quot;127.0.0.1&quot;</span>,<span class="number">8989</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯æˆåŠŸè¿æ¥ï¼Œsocket: &quot;</span> + socket);</span><br><span class="line">        <span class="comment">//2.å°è£…å¾—åˆ°IOæµ</span></span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(socket.getOutputStream());</span><br><span class="line">        <span class="comment">//3.è¯»å–é”®ç›˜ä¿¡æ¯ ç„¶åå‘é€ç»™æœåŠ¡å™¨</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            line = sc.nextLine();</span><br><span class="line">            <span class="keyword">if</span>(<span class="string">&quot;quit&quot;</span>.equals(line))</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            ps.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//4.å…³é—­èµ„æº</span></span><br><span class="line">        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯å³å°†å…³é—­&quot;</span>);</span><br><span class="line">        ps.close();</span><br><span class="line">        socket.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ­å»ºTCPæœåŠ¡å™¨ï¼Œåˆ†ç¦»å¤šçº¿ç¨‹æ¥æ”¶å®¢æˆ·ç«¯å‘é€è¿‡æ¥çš„æ•°æ®ï¼Œç„¶åè¿›è¡Œè¾“å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br><span class="line">74</span><br><span class="line">75</span><br><span class="line">76</span><br><span class="line">77</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test08_</span>èŠå¤©æœåŠ¡å™¨ &#123;</span><br><span class="line">    <span class="comment">//å¤šçº¿ç¨‹ æœåŠ¡å™¨</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span></span><br><span class="line">        Exception &#123;</span><br><span class="line">        <span class="comment">//1.æ­å»ºæœåŠ¡å™¨ï¼ŒæŒ‡å®šç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">server</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8989</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ ç«¯å£ 8989...&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//2.æ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> server.accept();</span><br><span class="line">            System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯æˆåŠŸè¿æ¥ï¼š&quot;</span> + socket);</span><br><span class="line">            <span class="comment">// å•ç‹¬åˆ†ç¦»å­çº¿ç¨‹ ä¸º å½“å‰å®¢æˆ·ç«¯æä¾›æœåŠ¡</span></span><br><span class="line">            <span class="type">Thread</span> <span class="variable">th</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>() &#123;</span><br><span class="line">                <span class="meta">@Override</span></span><br><span class="line">                <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                    <span class="comment">//1.è·å–IOæµ</span></span><br><span class="line">                    <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span></span><br><span class="line">                                                <span class="title class_">InputStreamReader</span>(socket.getInputStream()));</span><br><span class="line">                        <span class="comment">//2.æ•°æ®æ“ä½œ</span></span><br><span class="line">                        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">                        <span class="keyword">while</span> ((line = br.readLine()) !=</span><br><span class="line">                               <span class="literal">null</span>) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;read: &quot;</span> +</span><br><span class="line">                                               line);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">                        <span class="comment">//3.å…³é—­èµ„æº</span></span><br><span class="line">                        System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯å¯¹åº”èµ„æºå³ å°†å…³é—­!&quot;</span>);</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            <span class="keyword">if</span> (br != <span class="literal">null</span>)</span><br><span class="line">                                br.close();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            <span class="keyword">if</span> (socket != <span class="literal">null</span>)</span><br><span class="line">                                socket.close();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;;</span><br><span class="line">            th.start();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">//å®ç° å•çº¿ç¨‹æœåŠ¡å™¨ï¼Œæ¥æ”¶å¤šä¸ªå®¢æˆ·ç«¯ èŠå¤©ä¿¡æ¯</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main01</span><span class="params">(String[] args)</span> <span class="keyword">throws</span></span><br><span class="line">        Exception &#123;</span><br><span class="line">        <span class="comment">//1.æ­å»ºæœåŠ¡å™¨ï¼ŒæŒ‡å®šç«¯å£</span></span><br><span class="line">        <span class="type">ServerSocket</span> <span class="variable">server</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ServerSocket</span>(<span class="number">8989</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨æˆåŠŸ ç«¯å£ 8989...&quot;</span>);</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//2.æ¥æ”¶å®¢æˆ·ç«¯çš„è¿æ¥</span></span><br><span class="line">            <span class="type">Socket</span> <span class="variable">socket</span> <span class="operator">=</span> server.accept();</span><br><span class="line">            System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯æˆåŠŸè¿æ¥ï¼š&quot;</span> + socket);</span><br><span class="line">            <span class="comment">//3.å°è£…IOæµå¯¹è±¡ï¼Œé€è¡Œè¯»å–èŠå¤©ä¿¡æ¯å¹¶è¾“å‡º</span></span><br><span class="line">            <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span></span><br><span class="line">                <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span></span><br><span class="line">                                   <span class="title class_">InputStreamReader</span>(socket.getInputStream()));</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;read: &quot;</span> + line);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//4.å…³é—­èµ„æº</span></span><br><span class="line">            System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯å³å°†å…³é—­: &quot;</span> + socket);</span><br><span class="line">            br.close();</span><br><span class="line">            socket.close();</span><br><span class="line">            <span class="comment">//èƒ½å¦å…³é—­ server</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="UDPç½‘ç»œç¼–ç¨‹"><a href="#UDPç½‘ç»œç¼–ç¨‹" class="headerlink" title="UDPç½‘ç»œç¼–ç¨‹"></a>UDPç½‘ç»œç¼–ç¨‹</h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>åœ¨UDPé€šä¿¡åè®®ä¸‹ï¼Œä¸¤å°è®¡ç®—æœºä¹‹é—´è¿›è¡Œæ•°æ®äº¤äº’ï¼Œå¹¶ä¸éœ€è¦å…ˆå»ºç«‹è¿æ¥ï¼Œå®¢æˆ·ç«¯ç›´æ¥å¾€æŒ‡å®šçš„IPå’Œç«¯å£å·ä¸Šå‘é€æ•°æ®å³å¯ï¼Œä½†æ˜¯å®ƒå¹¶ä¸èƒ½ä¿è¯æ•°æ®ä¸€å®šèƒ½è®©å¯¹æ–¹æ”¶åˆ°ã€‚</p><p><strong>java.net.DatagramSocket</strong> å’Œ <strong>java.net.DatagramPacket</strong> æ˜¯UDPç¼–ç¨‹ä¸­ä½¿ç”¨åˆ°çš„ä¸¤ä¸ªç±»ï¼Œå®¢æˆ·ç«¯å’ŒæœåŠ¡å™¨éƒ½ä½¿ç”¨è¿™ä¸¤ä¸ªç±»</p><ul><li><strong>java.net.DatagramSocket</strong>  è´Ÿè´£æ¥æ”¶å’Œå‘é€æ•°æ®</li><li><strong>java.net.DatagramPacket</strong>  è´Ÿè´£<strong>å°è£…è¦å‘é€çš„æ•°æ®å’Œæ¥æ”¶åˆ°çš„æ•°æ®</strong></li></ul></blockquote><h2 id="æ¡ˆä¾‹"><a href="#æ¡ˆä¾‹" class="headerlink" title="æ¡ˆä¾‹"></a>æ¡ˆä¾‹</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ServerUDP</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];;</span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">9999</span>;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//åˆ›å»ºsocketï¼Œå¹¶æŒ‡å®šç›‘å¬çš„ç«¯å£å·</span></span><br><span class="line">            socket = <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>(port);</span><br><span class="line">            <span class="comment">//åˆ›å»ºpacketï¼Œç”¨äºæ¥æ”¶æ•°æ®</span></span><br><span class="line">            <span class="comment">//æŒ‡å®šbufä»ä¸‹æ ‡0å¼€å§‹ï¼Œæœ€å¤šæ¥æ”¶lengthé•¿åº¦çš„æ•°æ®</span></span><br><span class="line">            packet = <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buf,<span class="number">0</span>,buf.length);</span><br><span class="line">            System.out.println(<span class="string">&quot;æœåŠ¡å™¨å¯åŠ¨ï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥&quot;</span>);</span><br><span class="line">            <span class="comment">//receiveæ–¹æ³•ä¼šé˜»å¡ï¼Œç­‰å¾…å®¢æˆ·ç«¯å‘é€æ•°æ®è¿‡æ¥</span></span><br><span class="line">            <span class="comment">//ä½¿ç”¨packetæ¥æ”¶æ•°æ®ï¼Œæ•°æ®å­˜æ”¾åœ¨packetä¸­çš„bufæ•°ç»„ä¸­</span></span><br><span class="line">            socket.receive(packet);</span><br><span class="line">            <span class="comment">//æŠŠæ”¶çš„æ•°æ®è½¬ä¸ºå­—ç¬¦ä¸²è¾“å‡ºï¼Œæ•°æ®ä»bufçš„ä¸‹æ ‡0å¼€å§‹ï¼Œé•¿åº¦ä¸ºpacket.getLength()</span></span><br><span class="line">            System.out.println(<span class="string">&quot;æœåŠ¡å™¨æ¥æ”¶çš„æ•°æ®ä¸º:&quot;</span>+<span class="keyword">new</span></span><br><span class="line">                               <span class="title class_">String</span>(buf,<span class="number">0</span>,packet.getLength()));</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(socket!=<span class="literal">null</span>)&#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ClientUDP</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">ip</span> <span class="operator">=</span> <span class="string">&quot;127.0.0.1&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">port</span> <span class="operator">=</span> <span class="number">9999</span>;</span><br><span class="line">        <span class="type">DatagramSocket</span> <span class="variable">socket</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">DatagramPacket</span> <span class="variable">packet</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">byte</span>[] buf = <span class="string">&quot;hello world ä¸­å›½&quot;</span>.getBytes();</span><br><span class="line">            <span class="comment">//socketè´Ÿè´£å‘é€æ•°æ®</span></span><br><span class="line">            socket = <span class="keyword">new</span> <span class="title class_">DatagramSocket</span>();</span><br><span class="line">            <span class="comment">//æ‰“å¥½æ•°æ®æŠ¥,å¹¶æŒ‡å®šè¦å‘ç”Ÿåˆ°çš„ipå’Œç«¯å£å·</span></span><br><span class="line">            <span class="comment">//bufä¸­ä»0å¼€å§‹ï¼Œå…¨éƒ¨æ•°æ®éƒ½å‘é€</span></span><br><span class="line">            packet = <span class="keyword">new</span> <span class="title class_">DatagramPacket</span>(buf,</span><br><span class="line">                                        <span class="number">0</span>,buf.length,InetAddress.getByName(ip), port);</span><br><span class="line">            <span class="comment">//å‘é€æ•°æ®</span></span><br><span class="line">            socket.send(packet);</span><br><span class="line">            System.out.println(<span class="string">&quot;å®¢æˆ·ç«¯å‘é€æ•°æ®å®Œæ¯•&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;<span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span>(socket!=<span class="literal">null</span>)&#123;</span><br><span class="line">                socket.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šå³ä½¿ä¸å¯åŠ¨æœåŠ¡å™¨ï¼Œå®¢æˆ·ç«¯ä¹Ÿå¯ä»¥å‘é€æ•°æ®ï¼Œå› ä¸ºUDPä¸æå‰å»ºç«‹è¿æ¥ï¼Œä¹Ÿä¸ä¿è¯æ•°æ®ä¼šè®©å¯¹æ–¹æ”¶åˆ°</strong></p></blockquote><h1 id="URIå’ŒURL"><a href="#URIå’ŒURL" class="headerlink" title="URIå’ŒURL"></a>URIå’ŒURL</h1><blockquote><p><strong>URIï¼ˆuniform resource identifierï¼‰</strong>ï¼Œç»Ÿä¸€èµ„æº<strong>æ ‡è¯†</strong>ç¬¦ï¼Œç”¨æ¥å”¯ä¸€çš„æ ‡è¯†ä¸€ä¸ª èµ„æºã€‚ </p><p><strong>URLï¼ˆuniform resource locatorï¼‰</strong>ï¼Œç»Ÿä¸€èµ„æº<strong>å®šä½</strong>ç¬¦ï¼Œå®ƒæ˜¯ä¸€ç§å…·ä½“çš„URIï¼Œ å³URLå¯ä»¥ç”¨æ¥æ ‡è¯†ä¸€ä¸ªèµ„æºï¼Œè€Œä¸”è¿˜æŒ‡æ˜äº†å¦‚ä½•å®šä½è¿™ä¸ªèµ„æºã€‚</p><p>ä¾‹å¦‚ï¼Œ<code>http://127.0.0.1/hello</code> ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª<strong>URL</strong>ï¼Œå®ƒä¸ä»…æ ‡è¯†äº†ä¸€ä¸ªèµ„æºï¼Œ è¿˜èƒ½å®šä½è¿™ä¸ªèµ„æºã€‚ </p><p>ä¾‹å¦‚ï¼Œ&#x2F;hello ï¼Œè¿™å°±æ˜¯ä¸€ä¸ª<strong>URI</strong>ï¼Œå®ƒåªæ˜¯æ ‡è¯†äº†ä¸€ä¸ªèµ„æºã€‚</p><p><strong>java.net.URL</strong> å¯ä»¥è¡¨ç¤ºä¸€ä¸ªURLåœ°å€ï¼Œä½¿ç”¨URLå¯¹è±¡æ‰“å¼€ä¸€ä¸ªè¿æ¥åï¼Œå¯ ä»¥è·å–è¿™ä¸ªç½‘ç»œèµ„æºè¿”å›çš„å†…å®¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="type">URL</span> <span class="variable">url</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">URL</span>(<span class="string">&quot;https://www.jd.com&quot;</span>);</span><br><span class="line">        <span class="comment">//æ‰“å¼€è¿™ä¸ªURLçš„è¿æ¥ï¼Œå¼ºåˆ¶ä¸ºHttpURLçš„è¿æ¥å¯¹è±¡</span></span><br><span class="line">        <span class="type">HttpURLConnection</span> <span class="variable">httpConn</span> <span class="operator">=</span> (HttpURLConnection) url.openConnection();</span><br><span class="line">        <span class="comment">//è®¾ç½®è¯·æ±‚æ–¹å¼</span></span><br><span class="line">        httpConn.setRequestMethod(<span class="string">&quot;GET&quot;</span>); <span class="comment">// é»˜è®¤å°±æ˜¯Get</span></span><br><span class="line">        <span class="comment">//æ¨¡æ‹Ÿæµè§ˆå™¨å‘é€çš„è¯·æ±‚çš„æƒ…å†µ</span></span><br><span class="line">        httpConn.setRequestProperty(<span class="string">&quot;User-Agent&quot;</span>,</span><br><span class="line">                                    <span class="string">&quot;Mozilla/5.0 (WindowsNT 10.0; Win64; x64; rv:79.0)   Gecko/20100101Firefox/79.0&quot;</span>);</span><br><span class="line">        <span class="comment">//è·å–è¿™ä¸ªURLè¿æ¥çš„è¾“å…¥æµï¼Œå‡†å¤‡è¯»å–æ•°æ®</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> httpConn.getInputStream();</span><br><span class="line">        <span class="comment">//å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµ</span></span><br><span class="line">        <span class="type">Reader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(is);</span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = in.read(cbuf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print(<span class="keyword">new</span> <span class="title class_">String</span>(cbuf, <span class="number">0</span>, len));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>è¿™é‡Œè¯»åˆ°çš„ä¿¡æ¯ï¼Œå’Œç”¨æµè§ˆå™¨è¿™URLè·å–çš„å†…å®¹æ˜¯ä¸€æ ·çš„ï¼Œåªä¸è¿‡æµè§ˆ å™¨èƒ½è§£æè¿™äº›å†…å®¹ä»¥ç½‘é¡µçš„å½¢å¼å‘ˆç°</p><p>æ³¨æ„ï¼Œæµè§ˆå™¨å‘é€è¯·æ±‚æ—¶ï¼Œè¯·æ±‚å¤´ä¸­éƒ½ä¼šæºå¸¦<strong>User-Agent</strong>è¿™ä¸ªå­—æ®µï¼Œä¾‹å¦‚ï¼š</p><p>Firefoxæµè§ˆå™¨ä¸­ä½¿ç”¨F12</p><p><img src="/2023/08/19/12-%E7%BD%91%E7%BB%9C%E7%BC%96%E7%A8%8B/image-20230821195308836.png" alt="image-20230821195308836"></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¸‰æ›´ç¯ç«äº”æ›´é¸¡ï¼Œæ­£æ˜¯ç”·å„¿è¯»ä¹¦æ—¶ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ideaè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</title>
      <link href="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/"/>
      <url>/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>idea yyds!!!</p></blockquote><h1 id="å¸¸ç”¨å¿«æ·é”®"><a href="#å¸¸ç”¨å¿«æ·é”®" class="headerlink" title="å¸¸ç”¨å¿«æ·é”®"></a>å¸¸ç”¨å¿«æ·é”®</h1><blockquote><p>æ¨¡å¼ ideaé»˜è®¤å¿«æ·é”®â€“&gt;è‡ªå·±ä¹ æƒ¯å¿«æ·é”®</p><ul><li><strong>å¿«é€Ÿè¡¥å……å˜é‡ï¼šctrl+shif+v â€“&gt; ctrl+\ æˆ–è€… .var</strong></li><li><strong>åˆ‡æ¢æ–‡ä»¶ï¼šctrl+tab</strong></li><li><strong>å¤šåŠŸèƒ½å¿«æ·é”®ï¼šAlt + Enter ï¼ˆç‰›çš„ï¼‰</strong></li><li><strong>å®šä½æ–¹æ³•orå±æ€§ï¼šctrl + F12</strong></li><li><strong>æŸ¥çœ‹æ¥å£ä¸­æœ‰å“ªäº›å®ç°ç±»ï¼šé€‰ä¸­è¦æŸ¥çœ‹çš„æ¥å£ ctrl+alt+å·¦é”®</strong></li><li><strong>å¿«é€Ÿæ‰“å¼€å®ç°æ–¹æ³•ï¼šctrl+o</strong></li><li><strong>ä¿å­˜+æ ¼å¼åŒ–ï¼šCtrl + Alt + L</strong></li><li><strong>å¿«é€Ÿè¿è¡Œï¼šCtrl + Shift + F10  â€“&gt; Ctrl + F11</strong></li><li><strong>å•è¡Œä¸Šä¸‹ç§»åŠ¨ï¼šShift + Alt + å‘ä¸‹ç®­å¤´&#x2F;å‘ä¸Šç®­å¤´ â€“&gt; Alt + å‘ä¸‹ç®­å¤´&#x2F;å‘ä¸Šç®­å¤´</strong></li><li><strong>ä¸‹ä¸€è¡Œï¼šShift + Enter</strong></li><li><strong>åæ’¤å›ï¼šctrl + shift + z â€“&gt; ctrl + y</strong></li><li><strong>æœç´¢ç±»ï¼šCtrl + N</strong></li><li><strong>æ‰¹é‡ä¿®æ”¹å˜é‡åï¼šShift+F6 -&gt; shift + 6</strong> </li><li>å¤šè¡Œç¼–è¾‘ï¼šctrl+shift+alt+å·¦é”®</li><li>æ”¶ç¼©ä»£ç  å’Œ å±•å¼€ä»£ç ï¼šCtrl -  å’Œ Ctrl +</li><li>å½“å‰ç±»å¿«é€Ÿåˆ›å»ºç±»ï¼šctrl+alt+insert ï¼ˆé¸¡è‚‹ï¼‰</li><li>å¿«é€ŸæŠ½å–å°è£…æˆæ–¹æ³•ï¼šctrl+alt+m</li><li>æŸ¥çœ‹æ–¹æ³•æ‰€éœ€è¦çš„å‚æ•°ç±»å‹ï¼šctrl+q</li><li>å¿«é€Ÿæ‰“å¼€é¡¹ç›®ç»“æ„ï¼šåŒæ—¶å·¦+å³é”®</li><li>è¿›è¡Œå¤§å°å†™çš„åˆ‡æ¢ï¼šctrl+shift+u</li><li>æŸ¥çœ‹å‚æ•°ï¼šctrl + p</li><li>ç¼–è¾‘æºï¼šctrl + h</li><li>æ‰“å¼€ç»“æ„ï¼šalt + 7</li><li>å°†å±€éƒ¨å˜é‡å˜æˆå…¨å±€å˜é‡ï¼šctrl+alt+f</li><li>å°†å±€éƒ¨å˜é‡å˜æˆæ–¹æ³•å½¢å‚ï¼šctrl+alt+p</li><li>æ‰“å¼€ç±»çš„ç»§æ‰¿å’Œå®ç°å›¾ï¼šCtrl + alt + u   æˆ–è€… Ctrl+Shift+Alt+u</li><li>æŸ¥çœ‹æ–¹æ³•ä¿¡æ¯(å‰ææ˜¯å¾—å…ˆé€‰ä¸­æ–¹æ³•)ï¼šCtrl+Q</li><li>å¿«é€Ÿæ‰¾åˆ°å¯¹åº”æ–‡ä»¶çš„ç£ç›˜ä½ç½®ï¼šCtrl + å·¦é”® + æ–‡ä»¶</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231029211614899.png" alt="image-20231029211614899"></p><ul><li>å¿«é€Ÿé‡å†™æ–¹æ³•ï¼šctrl + O</li></ul></blockquote><h2 id="è‡ªå·±å–œå¥½çš„å¿«æ·é”®"><a href="#è‡ªå·±å–œå¥½çš„å¿«æ·é”®" class="headerlink" title="è‡ªå·±å–œå¥½çš„å¿«æ·é”®"></a>è‡ªå·±å–œå¥½çš„å¿«æ·é”®</h2><blockquote><p>è¶…çˆ±çš„å¥½å§~~</p><ul><li>å¿«é€Ÿè¡¥å……å˜é‡ï¼š Ctrl+\</li><li>å¿«é€Ÿè¿è¡Œï¼šCtrl + F11</li><li>å•è¡Œä¸Šä¸‹ç§»åŠ¨ï¼šAlt + å‘ä¸‹ç®­å¤´&#x2F;å‘ä¸Šç®­å¤´</li><li>åæ’¤å›ï¼šctrl + y</li><li>æ‰¹é‡ä¿®æ”¹å˜é‡åï¼šShift+F6 -&gt; shift + 6</li><li>æŸ¥çœ‹æ–¹æ³•çš„å®ç°ç±»ï¼šctrl + Alt + å·¦é”®</li></ul></blockquote><h1 id="åŸºæœ¬é…ç½®"><a href="#åŸºæœ¬é…ç½®" class="headerlink" title="åŸºæœ¬é…ç½®"></a>åŸºæœ¬é…ç½®</h1><h2 id="è®¾ç½®æ”¾å¤§å’Œç¼©å°ä»£ç "><a href="#è®¾ç½®æ”¾å¤§å’Œç¼©å°ä»£ç " class="headerlink" title="è®¾ç½®æ”¾å¤§å’Œç¼©å°ä»£ç "></a>è®¾ç½®æ”¾å¤§å’Œç¼©å°ä»£ç </h2><blockquote><ul><li>increase: Ctrl+é¼ æ ‡å‘ä¸Šæ»‘åŠ¨</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230819153326209.png" alt="image-20230819153326209"></p><ul><li>decreaseï¼šCtrl+é¼ æ ‡å‘ä¸‹æ»‘åŠ¨</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230819153126484.png" alt="image-20230819153126484"></p><p>å…¶ä»–å¿«æ·é”®åŒç†å“ˆ~~</p></blockquote><h2 id="è®¾ç½®é»˜è®¤å¤§å°"><a href="#è®¾ç½®é»˜è®¤å¤§å°" class="headerlink" title="è®¾ç½®é»˜è®¤å¤§å°"></a>è®¾ç½®é»˜è®¤å¤§å°</h2><blockquote><p>18 size</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820165152465.png" alt="image-20230820165152465"></p></blockquote><h2 id="æ³¨é‡Šè®¾ç½®"><a href="#æ³¨é‡Šè®¾ç½®" class="headerlink" title="æ³¨é‡Šè®¾ç½®"></a>æ³¨é‡Šè®¾ç½®</h2><blockquote><ul><li>é¢œè‰² #0A860E</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820152229255.png" alt="image-20230820152229255"></p><ul><li>å…¨éƒ¨å±•å¼€</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820152350530.png" alt="image-20230820152350530"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230821144329654.png" alt="image-20230821144329654"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230821144411807.png" alt="image-20230821144411807"></p><ul><li>æ•ˆæœ</li></ul><p>è¦çš„å°±æ˜¯è¿™ç§æ•ˆæœå•¦~</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820152738917.png" alt="image-20230820152738917"></p></blockquote><h2 id="æ·»åŠ æ–‡ä»¶å¤´éƒ¨ä¿¡æ¯"><a href="#æ·»åŠ æ–‡ä»¶å¤´éƒ¨ä¿¡æ¯" class="headerlink" title="æ·»åŠ æ–‡ä»¶å¤´éƒ¨ä¿¡æ¯"></a>æ·»åŠ æ–‡ä»¶å¤´éƒ¨ä¿¡æ¯</h2><blockquote><p>æ¯å½“æˆ‘ä»¬åˆ›å»ºæ–‡ä»¶çš„æ—¶å€™åº”å½“æŒ‡æ˜åˆ›å»ºäººã€åˆ›å»ºæ—¶é—´ã€ç‰ˆæœ¬ã€æè¿°ç­‰åŸºæœ¬ä¿¡æ¯</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820153318067.png" alt="image-20230820153318067"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@ClassName</span> $&#123;NAME&#125; </span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Author</span> ä½ çš„åå­—</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Date</span> $&#123;DATE&#125; $&#123;TIME&#125;</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Version</span> 1.0</span></span><br><span class="line"><span class="comment">   * <span class="doctag">@Description</span> </span></span><br><span class="line"><span class="comment">   */</span> </span><br></pre></td></tr></table></figure></blockquote><h2 id="è‡ªå®šä¹‰æ–‡ä»¶æ¨¡æ¿"><a href="#è‡ªå®šä¹‰æ–‡ä»¶æ¨¡æ¿" class="headerlink" title="è‡ªå®šä¹‰æ–‡ä»¶æ¨¡æ¿"></a>è‡ªå®šä¹‰æ–‡ä»¶æ¨¡æ¿</h2><blockquote><p>æ¯”å¦‚mybatis-mapper.xmlæ–‡ä»¶ å¯ä»¥è‡ªå®šä¹‰ä¸€ä¸ªæ–‡ä»¶æ¨¡æ¿ï¼Œæ–¹ä¾¿ä½¿ç”¨</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231024203015332.png" alt="image-20231024203015332"></p><h2 id="è‡ªåŠ¨å¯¼åŒ…-åˆ åŒ…"><a href="#è‡ªåŠ¨å¯¼åŒ…-åˆ åŒ…" class="headerlink" title="è‡ªåŠ¨å¯¼åŒ…&#x2F;åˆ åŒ…"></a>è‡ªåŠ¨å¯¼åŒ…&#x2F;åˆ åŒ…</h2><blockquote><p>å½“æœ‰å¤šä¸ªåŒ…çš„æ–‡ä»¶åç›¸åŒçš„çš„æ—¶å€™ä»ç„¶æ˜¯éœ€è¦æˆ‘ä»¬è‡ªå·±æ‰‹åŠ¨å¯¼åŒ…æ»´ï¼</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820163416493.png" alt="image-20230820163416493"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820163529160.png" alt="image-20230820163529160"></p></blockquote><h2 id="è‡ªåŠ¨æ ¼å¼åŒ–"><a href="#è‡ªåŠ¨æ ¼å¼åŒ–" class="headerlink" title="è‡ªåŠ¨æ ¼å¼åŒ–"></a>è‡ªåŠ¨æ ¼å¼åŒ–</h2><blockquote><p>æ¥šé—¨æš‚æ—¶ä¸æƒ³ç”¨ ğŸ‘» </p><p>ä½†æ˜¯å¯ä»¥å‘Šè¯‰ä½ å¿«æ·é”®å“¦ï¼šctrl+alt+L (ä½†æ˜¯è¿™ä¸ªå¿«æ·é”®ä¼šä¸QQçš„å¿«æ·é”®å‘ç”Ÿå†²çªï¼Œæˆ‘çš„è§£å†³æ–¹æ¡ˆæ˜¯å°†QQçš„åˆ æ‰)</p></blockquote><h2 id="sqlè¯­å¥è‡ªåŠ¨æç¤º"><a href="#sqlè¯­å¥è‡ªåŠ¨æç¤º" class="headerlink" title="sqlè¯­å¥è‡ªåŠ¨æç¤º"></a>sqlè¯­å¥è‡ªåŠ¨æç¤º</h2><blockquote><p>å“”å“©å“”å“©å¤§å­¦ï¼š<a href="https://www.bilibili.com/video/BV1m84y1w7Tb/?p=118&vd_source=37d0a4e2d39fe02cac0e2a4c23fe8ec3">Day08-15. Mybatis-å…¥é—¨-é…ç½®SQLæç¤º</a></p></blockquote><h2 id="æ³¨é‡Šåœ¨å¼€å¤´"><a href="#æ³¨é‡Šåœ¨å¼€å¤´" class="headerlink" title="æ³¨é‡Šåœ¨å¼€å¤´"></a>æ³¨é‡Šåœ¨å¼€å¤´</h2><blockquote><p>ä¸è¦é—®ï¼Œå¼ºè¿«ç—‡ï¼ğŸŒŸ</p><ul><li>Java</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820164641560.png" alt="image-20230820164641560"></p><ul><li>xml</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820164718680.png" alt="image-20230820164718680"></p></blockquote><h2 id="è®¾ç½®serialVersionUID"><a href="#è®¾ç½®serialVersionUID" class="headerlink" title="è®¾ç½®serialVersionUID"></a>è®¾ç½®serialVersionUID</h2><blockquote><p>alt+enter è®¾ç½®å¯é€‰ç”Ÿæˆ serialVersionUIDé€‰é¡¹ã€‚</p><p>å‰ææ˜¯å®ç°äº† <strong>Serializable</strong> è¿™ä¸ªæ¥å£å–”~<br><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230824100018906.png" alt="image-20230824100018906"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230824100123377.png" alt="image-20230824100123377"></p><p>å‡ºæ¥å•¦å•¦å•¦ğŸ˜ğŸ˜</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230824100149552.png" alt="image-20230824100149552"></p></blockquote><h2 id="æœç´¢å…¨éƒ¨ç±»"><a href="#æœç´¢å…¨éƒ¨ç±»" class="headerlink" title="æœç´¢å…¨éƒ¨ç±»"></a>æœç´¢å…¨éƒ¨ç±»</h2><blockquote><p>idea ï¼šCtrl + N é»˜è®¤æœç´¢çš„æ˜¯å½“å‰é¡¹ç›®ä¸‹çš„ç±»ï¼Œ æˆ‘ä»¬è¦è®¾ç½®æˆå¯ä»¥æœç´¢å…¨éƒ¨é¡¹ç›®ä¸‹çš„ç±»ï¼ï¼</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230825111737694.png" alt="image-20230825111737694"></p></blockquote><h2 id="å®æ–½æ¨¡æ¿ï¼ˆLive-Templates"><a href="#å®æ–½æ¨¡æ¿ï¼ˆLive-Templates" class="headerlink" title="å®æ–½æ¨¡æ¿ï¼ˆLive Templates)"></a>å®æ–½æ¨¡æ¿ï¼ˆLive Templates)</h2><blockquote><p>è®¾ç½®ä¸€äº›å¸¸ç”¨çš„ä»£ç æ¨¡æ¿</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230827212202532.png" alt="image-20230827212202532"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230827212607625.png" alt="image-20230827212607625"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230827212947341.png" alt="image-20230827212947341"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230827213030870.png" alt="image-20230827213030870"></p><p>è¿™æ ·å°±æœ‰å±äºè‡ªå·±çš„å¿«æ·é”®å•¦~~</p></blockquote><h2 id="debugä¸­çš„force-step-into-å»ºè®®ä¸è¦é…ç½®"><a href="#debugä¸­çš„force-step-into-å»ºè®®ä¸è¦é…ç½®" class="headerlink" title="debugä¸­çš„force step into (å»ºè®®ä¸è¦é…ç½®)"></a>debugä¸­çš„force step into (å»ºè®®ä¸è¦é…ç½®)</h2><blockquote><p>å› ä¸ºä¸åŒç‰ˆæœ¬çš„ideaä¼šæœ‰æ‰€åŒºåˆ«ï¼Œæˆ‘çš„idea2021.1.3æ²¡æœ‰å‡ºæ¥è¿™ä¸ªforce step into</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230908101454964.png" alt="image-20230908101454964"></p><blockquote><p>ä½†æ˜¯æˆ‘æƒ³æŠŠå®ƒå¼„å‡ºæ¥å“ˆï¼å¤ªéš¾äº†å‘œå‘œ</p><p>æœ‰ä¸¤ç§è§£å†³æ–¹æ¡ˆï¼š</p><ul><li><a href="https://blog.csdn.net/weixin_44050791/article/details/128803608">idea debug æŒ‰é’®ä¸å…¨ ( Force Step Into æŒ‰é’®æ²¡äº† )</a></li><li><a href="https://www.cnblogs.com/miao123-blog/p/17134033.html">idea debug æ²¡æœ‰ force step into æŒ‰é’®</a></li></ul></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230908103829089.png" alt="image-20230908103829089"></p><h1 id="å¿«æ·æç¤º"><a href="#å¿«æ·æç¤º" class="headerlink" title="å¿«æ·æç¤º"></a>å¿«æ·æç¤º</h1><blockquote><ul><li>iter: Iterate Iterable or array</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820205238068.png" alt="image-20230820205238068"></p><ul><li>itar: Iterate elements of array &#x3D; &#x3D; listFiles.for</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820205301287.png" alt="image-20230820205301287"></p><ul><li>cast æˆ–è€… castvar</li><li>soutc  æˆ–è€…  seerc</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230913183418618.png" alt="image-20230913183418618"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230913183439665.png" alt="image-20230913183439665"></p><ul><li>jaxrs</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230906212539275.png" alt="image-20230906212539275"></p><ul><li>psfs &#x3D; public static final String</li><li>psfi &#x3D; public static final int </li><li>psf &#x3D; public static final</li><li>foriã€forr(é€†åº)</li></ul></blockquote><h1 id="æ’ä»¶å®‰è£…"><a href="#æ’ä»¶å®‰è£…" class="headerlink" title="æ’ä»¶å®‰è£…"></a>æ’ä»¶å®‰è£…</h1><h2 id="Chinese-ä¸­æ–‡è¯­è¨€åŒ…"><a href="#Chinese-ä¸­æ–‡è¯­è¨€åŒ…" class="headerlink" title="Chinese ä¸­æ–‡è¯­è¨€åŒ…"></a>Chinese ä¸­æ–‡è¯­è¨€åŒ…</h2><blockquote><p>æ¥šé—¨å·²ç»ä¹ æƒ¯çœ‹è‹±æ–‡å•¦ ğŸ </p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820164034633.png" alt="image-20230820164034633"></p></blockquote><h2 id="Translation"><a href="#Translation" class="headerlink" title="Translation"></a>Translation</h2><blockquote><p>çœ‹æºç çš„å¿…å¤‡ç¥å™¨âœŒ</p></blockquote><h2 id="Atom-Material-Icons"><a href="#Atom-Material-Icons" class="headerlink" title="Atom Material Icons"></a>Atom Material Icons</h2><blockquote><p>è¶…çº§å¥½çœ‹çš„å›¾æ ‡å¥½å§ğŸ˜€</p></blockquote><h2 id="One-Dark-theme"><a href="#One-Dark-theme" class="headerlink" title="One Dark theme"></a>One Dark theme</h2><blockquote><p>æš—é»‘ä¸»é¢˜çˆ±å¥½è€… is meğŸ’œ</p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230820153858487.png" alt="image-20230820153858487"></p></blockquote><h2 id="Key-Promoter-X"><a href="#Key-Promoter-X" class="headerlink" title="Key Promoter X"></a>Key Promoter X</h2><blockquote><p>å¯¹äºè®°ä¸ä½å¿«æ·é”®çš„å°çŒ¿æ¥è¯´å°±æ˜¯ç¦éŸ³ï¼ğŸ…</p></blockquote><h2 id="LeetCode-Editor"><a href="#LeetCode-Editor" class="headerlink" title="LeetCode Editor"></a>LeetCode Editor</h2><blockquote><p>ç¨‹åºå‘˜çš„å†ç»ƒåœ°ï¼</p><p>æœ‰ä¸¤ç§ç™»å½•æ–¹å¼ï¼š</p><ul><li><p>ç”¨æˆ·å(ä¸€èˆ¬æ˜¯æ‰‹æœºå·)+å¯†ç </p></li><li><p>ç”¨æˆ·åï¼ˆLeetCodeç”¨æˆ·åï¼‰+ Cookie</p></li></ul><p>å…·ä½“å¯ä»¥çœ‹è¿™ä¸ªupä¸»å“ˆï¼š<a href="https://www.bilibili.com/video/BV1ru4y1v7xv/?spm_id_from=333.788&vd_source=37d0a4e2d39fe02cac0e2a4c23fe8ec3">labuladong-Jetbrains IDE ç®—æ³•åˆ·é¢˜æ’ä»¶</a></p><ul><li>ä¸‹é¢æ˜¯ç”¨åˆ°çš„é…ç½®</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">LC_$!&#123;question.frontendQuestionId&#125;_$!velocityTool.camelCaseName(<span class="variable">$&#123;question.titleSlug&#125;</span>)</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line">package leetcode.editor.cn; // è¿™é‡Œçš„åŒ…åå¾—çœ‹ä½ è‡ªå·±çš„</span><br><span class="line"></span><br><span class="line">/**</span><br><span class="line"> * @ClassName <span class="variable">$&#123;question.title&#125;</span></span><br><span class="line"> * @Author luozongwei</span><br><span class="line"> * @Date $!velocityTool.<span class="built_in">date</span>()</span><br><span class="line"> * @Version 1.0</span><br><span class="line"> * @Description </span><br><span class="line"> */</span><br><span class="line"></span><br><span class="line">class LC_<span class="variable">$&#123;question.frontendQuestionId&#125;</span>_$!velocityTool.camelCaseName(<span class="variable">$&#123;question.titleSlug&#125;</span>)&#123;</span><br><span class="line"> public static void main(String[] args) &#123;</span><br><span class="line">  Solution solution = new LC_$!&#123;question.frontendQuestionId&#125;_$!velocityTool.camelCaseName(<span class="variable">$&#123;question.titleSlug&#125;</span>)().new Solution();</span><br><span class="line"></span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line">//åŠ›æ‰£ä»£ç </span><br><span class="line"><span class="variable">$&#123;question.code&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="MybatisX"><a href="#MybatisX" class="headerlink" title="MybatisX"></a>MybatisX</h2><blockquote><p>è§£æ”¾åŒæ‰‹</p><p>æœ€å¥½æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªç©ºçš„mavenæ¨¡å—ï¼šgenerator_code</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231008185252910.png" alt="image-20231008185252910"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231008185601189.png" alt="image-20231008185601189"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231031141752364.png" alt="image-20231031141752364"></p><blockquote><p>æ³¨æ„ç‚¹ï¼ŒåŸºæœ¬ä¸Šæ‰€æœ‰çš„generationå¯¹äºæ•°æ®åº“ä¸­çš„æ—¶é—´ç±»å‹ï¼Œéƒ½æ˜¯é»˜è®¤åœ¨Javaå®ä½“ç±»ä¸­ <code>Date</code></p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231008185844209.png" alt="image-20231008185844209"></p><h2 id="Free-MyBatis-Tool"><a href="#Free-MyBatis-Tool" class="headerlink" title="Free MyBatis Tool"></a>Free MyBatis Tool</h2><blockquote><p>æä¾›äº†Mybatis-Generatorä»£ç ç”Ÿæˆå™¨  åˆ«é—®ï¼Ÿè¯´å¤šäº†éƒ½æ˜¯æ³ª</p><p>æœ€å¥½æ˜¯è‡ªå®šä¹‰ä¸€ä¸ªç©ºçš„mavenæ¨¡å—ï¼šgenerator_code</p><p>æ³¨æ„ï¼šä¸‹é¢çš„pojo å’Œ mapperè¦çœ‹ä½ è‡ªå·±çš„é¡¹ç›®ä¸­ä½¿ç”¨çš„æ˜¯ä¸æ˜¯è¿™ä¸¤ä¸ªåŒ…åï¼Œæœ‰å¯èƒ½æ˜¯bean å’Œ dao!!</p><p>å…³äºå…·ä½“Exampleä½¿ç”¨å¯ä»¥çœ‹è¿™ç¯‡åšå®¢ï¼š<a href="https://blog.csdn.net/qq_43318965/article/details/106665863#:~:text=Mybatis-generator%E7%94%9F%E6%88%90Example%E7%9A%84%E4%BD%BF%E7%94%A8%E6%96%B9%E6%B3%951.Generator%E6%8F%92%E4%BB%B6%E7%94%9F%E6%88%90Mapper%E5%92%8CExample%E6%96%87%E4%BB%B6%E4%BB%8B%E7%BB%8D1-1.Mapper%E6%96%87%E4%BB%B6%E4%B8%8A%E7%AF%87%E4%BB%8B%E7%BB%8D%E4%BA%86SpringBoot%E6%95%B4%E5%90%88generator%E6%8F%92%E4%BB%B6%E7%9A%84%E8%BF%87%E7%A8%8B%E4%BB%A5%E5%8F%8A%E4%B8%80%E4%BA%9B%E5%9D%91%E3%80%82,%E6%89%80%E4%BB%A5%E6%9C%AC%E7%AF%87%E6%96%87%E7%AB%A0%E4%B8%BB%E8%A6%81%E4%BB%8B%E7%BB%8D%E7%94%9F%E6%88%90%E5%87%BA%E6%9D%A5%E7%9A%84%E5%AE%9E%E4%BD%93%E7%B1%BB%E3%80%81Example%E3%80%81mapper%E5%A6%82%E4%BD%95%E8%BF%9B%E8%A1%8C%E4%BD%BF%E7%94%A8%EF%BC%8C%E4%BB%A5%E5%8F%8A%E5%B0%8F%E9%BA%BB%E8%A2%8B%E5%9C%A8%E4%BD%BF%E7%94%A8%E8%BF%87%E7%A8%8B%E4%B8%AD%E9%81%87%E5%88%B0%E7%9A%84%E4%B8%80%E4%BA%9B%E9%97%AE%E9%A2%98%E3%80%82">ã€ç²¾é€‰ã€‘Mybatis-generatorç”ŸæˆExampleä½¿ç”¨å¿ƒå¾—-CSDNåšå®¢</a></p></blockquote><ul><li>é€‰æ‹©ä¸€ä¸ªtable</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231101153758339.png" alt="image-20231101153758339"></p><ul><li>é€‰æ‹©å¤šä¸ªtable</li></ul><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231101153545529.png" alt="image-20231101153545529"></p><blockquote><p>å…·ä½“ä½¿ç”¨ï¼š</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231101102553302.png" alt="image-20231101102553302"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231101154911831.png" alt="image-20231101154911831"></p><h2 id="Vue-js"><a href="#Vue-js" class="headerlink" title="Vue.js"></a>Vue.js</h2><blockquote><p>ä¸»è¦è®©idea ä¸­çš„ vueä»£ç é«˜äº®</p><p>å…·ä½“é…ç½®ï¼š<a href="https://blog.csdn.net/weixin_39680839/article/details/81871810">IDEA ç¼–è¾‘å™¨é…ç½®vueé«˜äº®æ˜¾ç¤º</a></p></blockquote><h1 id="è¿›é˜¶æ“ä½œ"><a href="#è¿›é˜¶æ“ä½œ" class="headerlink" title="è¿›é˜¶æ“ä½œ"></a>è¿›é˜¶æ“ä½œ</h1><h2 id="æ–­ç‚¹è°ƒè¯•"><a href="#æ–­ç‚¹è°ƒè¯•" class="headerlink" title="æ–­ç‚¹è°ƒè¯•"></a>æ–­ç‚¹è°ƒè¯•</h2><h3 id="è®¾ç½®æ¡ä»¶æ–­ç‚¹"><a href="#è®¾ç½®æ¡ä»¶æ–­ç‚¹" class="headerlink" title="è®¾ç½®æ¡ä»¶æ–­ç‚¹"></a>è®¾ç½®æ¡ä»¶æ–­ç‚¹</h3><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919214404614.png" alt="image-20230919214404614"></p><h3 id="æ–­ç‚¹å›é€€-å›åˆ°è¿‡å»"><a href="#æ–­ç‚¹å›é€€-å›åˆ°è¿‡å»" class="headerlink" title="æ–­ç‚¹å›é€€ (å›åˆ°è¿‡å»~)"></a>æ–­ç‚¹å›é€€ (å›åˆ°è¿‡å»~)</h3><blockquote><p>ä¸»è¦æ˜¯å½“æˆ‘ä»¬ç‚¹çš„å¤ªå¿«äº†ï¼Œæƒ³è¦å›åˆ°ä¸Šä¸€æ­¥çœ‹çœ‹å‚æ•°çš„æ—¶å€™ï¼Œå¯ä»¥è¯•è¯•</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919215129274.png" alt="image-20230919215129274"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230919215512407.png" alt="image-20230919215512407"></p><h3 id="æ‰§è¡Œè¡¨è¾¾å¼"><a href="#æ‰§è¡Œè¡¨è¾¾å¼" class="headerlink" title="æ‰§è¡Œè¡¨è¾¾å¼"></a>æ‰§è¡Œè¡¨è¾¾å¼</h3><blockquote><p>ä¸»è¦å°±æ˜¯å¯ä»¥åœ¨ç¨‹åºdebugçš„è¿‡ç¨‹ä¸­ï¼Œæ·»åŠ æ•°æ®æˆ–è€…æ‰§è¡Œæ¡ä»¶</p><p>alt+F8ï¼šæ‰“å¼€Evaluate è¡¨è¾¾å¼</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230920212705189.png" alt="image-20230920212705189"></p><blockquote><p>å¯ä»¥é€šè¿‡Trace Current Stream Chain åŠ¨æ€è§‚å¯Ÿæµçš„ç»“æœ</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230920213045131.png" alt="image-20230920213045131"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230920213505113.png" alt="image-20230920213505113"></p><h3 id="è®¾ç½®å¼‚å¸¸æ–­ç‚¹"><a href="#è®¾ç½®å¼‚å¸¸æ–­ç‚¹" class="headerlink" title="è®¾ç½®å¼‚å¸¸æ–­ç‚¹"></a>è®¾ç½®å¼‚å¸¸æ–­ç‚¹</h3><blockquote><p>æ¯”å¦‚å½“æˆ‘ä»¬éœ€è¦è°ƒè¯•ç¨‹åºæ˜¯å¦å‡ºç°ç©ºæŒ‡é’ˆå¼‚å¸¸çš„æ—¶å€™ï¼Œä¸€èˆ¬æ˜¯å…ˆè¿è¡Œä¸€éç¨‹åºï¼Œç„¶åå†å®šä½ï¼Œå†æ‰“æ–­ç‚¹å†æŒ‡å®šä½ç½®ï¼ŒçœŸçš„å¤ªéº»çƒ¦äº†ã€‚</p><p>ç°åœ¨æ•™ä¸€ä¸ªä¸éœ€è¦æ‰‹åŠ¨æ‰“æ–­ç‚¹ï¼Œåªè¦ç›´æ¥Debugè¿è¡Œå°±å³å¯</p><p>æœ¬æ–‡ä»¥ç©ºæŒ‡é’ˆå¼‚å¸¸NullPointerExceptionä¸ºä¾‹å­ï¼Œå…¶ä»–åŒç†</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230829135957770.png" alt="image-20230829135957770"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230829140104836.png" alt="image-20230829140104836"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230829140209233.png" alt="image-20230829140209233"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230829140245771.png" alt="image-20230829140245771"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230829140516156.png" alt="image-20230829140516156"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230829140706535.png" alt="image-20230829140706535"></p><h2 id="å¿«é€ŸæŸ¥æ‰¾"><a href="#å¿«é€ŸæŸ¥æ‰¾" class="headerlink" title="å¿«é€ŸæŸ¥æ‰¾"></a>å¿«é€ŸæŸ¥æ‰¾</h2><blockquote><p>æ¯”å¦‚æˆ‘ä»¬æƒ³åœ¨é¡¹ç›®ä¸­å¿«é€ŸæŸ¥æ‰¾ æ–‡å­—æˆ–å•è¯ captchaImage,æ²¡é”™å°±æ˜¯è‹¥ä¾å“ˆå“ˆï¼</p><p>å½“ç„¶ä¹Ÿå¯ä»¥ä½¿ç”¨å¿«æ·é”®Ctrl+Shift+F</p><p>å¦‚æœæŸ¥è¯¢çš„æ˜¯è·¯å¾„çš„è¯ï¼Œæœ€åæ˜¯  &#x2F;captchaImage</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231017200223719.png" alt="image-20231017200223719"></p><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231017200322037.png" alt="image-20231017200322037"></p><h2 id="æŸ¥çœ‹springBoot-iocä¸­çš„bean"><a href="#æŸ¥çœ‹springBoot-iocä¸­çš„bean" class="headerlink" title="æŸ¥çœ‹springBoot iocä¸­çš„bean"></a>æŸ¥çœ‹springBoot iocä¸­çš„bean</h2><h2 id><a href="#" class="headerlink" title></a><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20231109164421021.png" alt="image-20231109164421021"></h2><h1 id="ideaé—®é¢˜"><a href="#ideaé—®é¢˜" class="headerlink" title="ideaé—®é¢˜"></a>ideaé—®é¢˜</h1><h2 id="è·¯å¾„é—®é¢˜"><a href="#è·¯å¾„é—®é¢˜" class="headerlink" title="è·¯å¾„é—®é¢˜"></a>è·¯å¾„é—®é¢˜</h2><blockquote><p>ideaä¸­çš„è·¯å¾„é—®é¢˜å¯è°“æ˜¯æ¶å¿ƒè‡³æï¼åœ¨æ·±æ¶ç—›ç»åï¼Œåˆ†æè®©å¦‚ä¸‹ï¼š</p><p>ä¸»è¦æ˜¯åœ¨å¤šæ¨¡å—çš„æƒ…å†µä¸‹å‡ºç°è·¯å¾„é—®é¢˜ï¼š</p></blockquote><h3 id="é€šè¿‡åå°„è·å–æ–‡ä»¶"><a href="#é€šè¿‡åå°„è·å–æ–‡ä»¶" class="headerlink" title="é€šè¿‡åå°„è·å–æ–‡ä»¶"></a>é€šè¿‡åå°„è·å–æ–‡ä»¶</h3><blockquote><p> XXX.class.getClassLoader().getResourceAsStream(â€œæ–‡ä»¶åâ€);</p><p>é€šè¿‡è¿™ç§æ–¹æ³•è·å¾—çš„æ˜¯resourcesç›®å½•ä¸‹çš„æ–‡ä»¶,ç›´æ¥å†™æ–‡ä»¶åå³å¯</p></blockquote><p><img src="/2023/08/13/idea%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230928192308129.png" alt="image-20230928192308129"></p><h3 id="mainæ–¹æ³•ä¸­"><a href="#mainæ–¹æ³•ä¸­" class="headerlink" title="mainæ–¹æ³•ä¸­"></a>mainæ–¹æ³•ä¸­</h3><blockquote><p>è¿™ç§æƒ…å†µä¸‹éœ€è¦åŠ ä¸Šæ¨¡å—å</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">RandomAccessFile</span> <span class="variable">raf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(<span class="string">&quot;client/src/main/resources/data-file-simple&quot;</span>, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;client/src/main/resources/gather-backup&quot;</span>);</span><br></pre></td></tr></table></figure><h3 id="Junit-Testä¸­"><a href="#Junit-Testä¸­" class="headerlink" title="Junit Testä¸­"></a>Junit Testä¸­</h3><blockquote><p>ä¸éœ€è¦åŠ æ¨¡å—å</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">RandomAccessFile</span> <span class="variable">raf</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(<span class="string">&quot;src/main/resources/data-file-simple&quot;</span>, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/main/resources/gather-backup&quot;</span>);</span><br></pre></td></tr></table></figure><h1 id="ç•ªå¤–ç¯‡Typoraï¼ˆè¿˜æ²¡å¼€å§‹å“ˆï¼‰"><a href="#ç•ªå¤–ç¯‡Typoraï¼ˆè¿˜æ²¡å¼€å§‹å“ˆï¼‰" class="headerlink" title="ç•ªå¤–ç¯‡Typoraï¼ˆè¿˜æ²¡å¼€å§‹å“ˆï¼‰"></a>ç•ªå¤–ç¯‡Typoraï¼ˆè¿˜æ²¡å¼€å§‹å“ˆï¼‰</h1><blockquote><p>typoraå¯ä»¥è¯´æ˜¯æ¯ä¸€ä¸ªç¨‹åºå‘˜å¿…å¤‡çš„æ–‡æ¡£å·¥å…·äº†</p></blockquote></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>11-File-IOæµ</title>
      <link href="/2023/08/13/11-File-IO%E6%B5%81/"/>
      <url>/2023/08/13/11-File-IO%E6%B5%81/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaé«˜çº§ç¼–ç¨‹ï¼Œçµæ´»è¿ç”¨åå°„ï¼Œçº¿ç¨‹ï¼ŒIOå’Œç½‘ç»œç­‰è¿›è¡Œç¼–ç¨‹</p></blockquote><h1 id="Fileç±»"><a href="#Fileç±»" class="headerlink" title="Fileç±»"></a>Fileç±»</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>java.io.file ç±»æ˜¯æ–‡ä»¶å’Œç›®å½•è·¯å¾„åçš„æŠ½è±¡è¡¨ç¤ºï¼Œä¸»è¦ç”¨äºæ–‡ä»¶å’Œç›®å½•çš„åˆ›å»ºã€æŸ¥æ‰¾å’Œåˆ é™¤ç­‰æ“ä½œã€‚</p><ul><li>æ„é€ æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">File</span></span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Serializable</span>, Comparable&lt;File&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//é€šè¿‡å°†ç»™å®šè·¯å¾„åå­—ç¬¦ä¸²æ¥åˆ›å»ºæ–°çš„ Fileå®ä¾‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">File</span><span class="params">(String pathname)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (pathname == <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">NullPointerException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="built_in">this</span>.path = fs.normalize(pathname);</span><br><span class="line">        <span class="built_in">this</span>.prefixLength = fs.prefixLength(<span class="built_in">this</span>.path);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä»**çˆ¶æŠ½è±¡è·¯å¾„åå’Œå­è·¯å¾„åå­—ç¬¦ä¸²**åˆ›å»ºæ–°çš„ Fileå®ä¾‹</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">File</span><span class="params">(String parent, String child)</span> &#123;</span><br><span class="line">        <span class="comment">//çœç•¥...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">File</span><span class="params">(File parent, String child)</span> &#123;</span><br><span class="line">        <span class="comment">//çœç•¥...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å®ä¾‹å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test011_File</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ–‡ä»¶è·¯å¾„å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">pathname</span> <span class="operator">=</span> <span class="string">&quot;D:\\aaa.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(pathname);</span><br><span class="line">        <span class="comment">// æ–‡ä»¶è·¯å¾„å</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">pathname2</span> <span class="operator">=</span> <span class="string">&quot;D:\\aaa\\bbb.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(pathname2);</span><br><span class="line">        <span class="comment">// é€šè¿‡çˆ¶è·¯å¾„å’Œå­è·¯å¾„å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">parent</span> <span class="operator">=</span> <span class="string">&quot;D:\\aaa&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">child1</span> <span class="operator">=</span> <span class="string">&quot;bbb.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(parent, child1);</span><br><span class="line">        <span class="comment">// é€šè¿‡çˆ¶çº§Fileå¯¹è±¡å’Œå­è·¯å¾„å­—ç¬¦ä¸²</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">parentDir</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\aaa&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">child2</span> <span class="operator">=</span> <span class="string">&quot;bbb.txt&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(parentDir, child2);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸€ä¸ªFileå¯¹è±¡ä»£è¡¨ç¡¬ç›˜ä¸­å®é™…å­˜åœ¨çš„ä¸€ä¸ªæ–‡ä»¶æˆ–è€…ç›®å½•</li><li>æ— è®ºè¯¥è·¯å¾„ä¸‹æ˜¯å¦å­˜åœ¨æ–‡ä»¶æˆ–è€…ç›®å½•ï¼Œéƒ½ä¸å½±å“Fileå¯¹è±¡çš„åˆ›å»º</li></ul></blockquote><h2 id="ä½¿ç”¨"><a href="#ä½¿ç”¨" class="headerlink" title="ä½¿ç”¨"></a>ä½¿ç”¨</h2><blockquote><ul><li>è·¯å¾„è·å–</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Fileç»å¯¹è·¯å¾„åå­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getAbsolutePath</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//Fileæ–‡ä»¶æ„é€ è·¯å¾„</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getPath</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//Fileæ–‡ä»¶æˆ–ç›®å½•çš„åç§°</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//Fileæ–‡ä»¶æˆ–ç›®å½•çš„é•¿åº¦</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">long</span> <span class="title function_">length</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test012_File</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;C:\\Users\\luozongwei\\Desktop\\aaa.txt&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶çš„ç»å¯¹è·¯å¾„: &quot;</span> + file.getAbsolutePath());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶çš„æ„é€ è·¯å¾„: &quot;</span> + file.getPath());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶æˆ–ç›®å½•çš„åç§°ï¼š&quot;</span> + file.getName());</span><br><span class="line">        System.out.println(<span class="string">&quot;æ–‡ä»¶æˆ–ç›®å½•çš„é•¿åº¦: &quot;</span> + file.length());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–‡ä»¶çš„ç»å¯¹è·¯å¾„: C:\Users\luozongwei\Desktop\aaa.txt</span></span><br><span class="line"><span class="comment">// æ–‡ä»¶çš„æ„é€ è·¯å¾„: C:\Users\luozongwei\Desktop\aaa.txt</span></span><br><span class="line"><span class="comment">// æ–‡ä»¶æˆ–ç›®å½•çš„åç§°ï¼šaaa.txt</span></span><br><span class="line"><span class="comment">// æ–‡ä»¶æˆ–ç›®å½•çš„é•¿åº¦: 19</span></span><br></pre></td></tr></table></figure><p>APIä¸­è¯´æ˜ï¼šlength(),è¡¨ç¤ºæ–‡ä»¶çš„é•¿åº¦ã€‚ä½†æ˜¯Fileå¯¹è±¡è¡¨ç¤ºç›®å½•ï¼Œåˆ™è¿”å›å€¼æœªæŒ‡å®šã€‚</p><ul><li>è·¯å¾„æ“ä½œ<ul><li>ç»å¯¹è·¯å¾„ï¼šä»ç›˜ç¬¦å¼€å§‹çš„è·¯å¾„ï¼Œè¿™æ˜¯ä¸€ä¸ªå®Œæ•´çš„è·¯å¾„</li><li>ç›¸å¯¹è·¯å¾„ï¼šç›¸å¯¹äºé¡¹ç›®ç›®å½•çš„è·¯å¾„ï¼Œè¿™æ˜¯ä¸€ä¸ªä¾¿æ·çš„è·¯å¾„ï¼Œå¼€å‘ä¸­ç»å¸¸ä½¿ç”¨</li></ul></li></ul><p>æ¡ˆä¾‹æè¿°ï¼š<strong>è¾“å…¥å…·ä½“æ–‡ä»¶è·¯å¾„ï¼Œä»¥åŠåªè¾“å…¥æ–‡ä»¶åå­—</strong>ï¼Œé€šè¿‡Fileçš„ç»å¯¹è·¯å¾„æ–¹æ³•ï¼Œ éªŒè¯ç»“æœ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test013_File</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// Dç›˜ä¸‹çš„Test1101_File.javaæ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;D:\\Test1101_File.java&quot;</span>);</span><br><span class="line">        System.out.println(f.getAbsolutePath());</span><br><span class="line">        <span class="comment">// é¡¹ç›®ä¸‹çš„Test1101_File.javaæ–‡ä»¶ï¼ˆä¸åŒ…å«åŒ…åï¼‰  å½“å‰é¡¹ç›®å°±è¿‘åŸåˆ™</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;Test1101_File.java&quot;</span>);</span><br><span class="line">        System.out.println(f2.getAbsolutePath());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºç»“æœï¼š</span></span><br><span class="line"><span class="comment">// D:\Test1101_File.java</span></span><br><span class="line"><span class="comment">// E:\work\2023-CoreJava\Test1101_File.java</span></span><br></pre></td></tr></table></figure><ul><li>åˆ¤æ–­æ“ä½œ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ¤æ–­æ–‡ä»¶æˆ–ç›®å½•æ˜¯å¦å­˜åœ¨</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">exists</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isFile</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//åˆ¤æ–­æ˜¯å¦æ˜¯ç›®å½•</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">isDirectory</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºåˆ é™¤æ“ä½œ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å½“ä¸”ä»…å½“å…·æœ‰è¯¥åç§°çš„æ–‡ä»¶å°šä¸å­˜åœ¨æ—¶ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„ç©ºæ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">createNewFile</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºç›®å½•</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">mkdir</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//åˆ›å»ºå¤šçº§ç›®å½•</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">mkdirs</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">//æ–‡ä»¶æˆ–ç›®å½•çš„åˆ é™¤</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">delete</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p><strong>APIä¸­è¯´æ˜ï¼šdeleteæ–¹æ³•ï¼Œå¦‚æœæ­¤Fileè¡¨ç¤ºç›®å½•ï¼Œåˆ™ç›®å½•å¿…é¡»ä¸ºç©ºæ‰èƒ½åˆ é™¤ã€‚</strong></p><ul><li>ç›®å½•éå†æ“ä½œ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">File</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>, Comparable&lt;File&gt;</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//ç›®å½•æ–‡ä»¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè·å–ç›®å½•ä¸­æ‰€æœ‰å­æ–‡ä»¶åï¼Œè¿”å›Stringæ•°ç»„</span></span><br><span class="line">    <span class="comment">//å…¶ä»–æ–‡ä»¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¿”å›null</span></span><br><span class="line">    <span class="keyword">public</span> String[] list();</span><br><span class="line">    <span class="comment">//ç›®å½•æ–‡ä»¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè·å–ç›®å½•ä¸­æ‰€æœ‰å­æ–‡ä»¶ï¼Œè¿”å›Fileæ•°ç»„</span></span><br><span class="line">    <span class="comment">//å…¶ä»–æ–‡ä»¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¿”å›null</span></span><br><span class="line">    <span class="keyword">public</span> File[] listFiles();</span><br><span class="line">    <span class="comment">//ç›®å½•æ–‡ä»¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè·å–ç›®å½•ä¸­ç¬¦åˆç­›é€‰æ¡ä»¶çš„å­æ–‡ä»¶ï¼Œè¿”å›Fileæ•°ç»„</span></span><br><span class="line">    <span class="comment">//å…¶ä»–æ–‡ä»¶è°ƒç”¨è¯¥æ–¹æ³•ï¼Œè¿”å›null</span></span><br><span class="line">    <span class="keyword">public</span> File[] listFiles(FileFilter filter);</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125; </span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test016_File</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">dirPath</span> <span class="operator">=</span> <span class="string">&quot;D:\\&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">dirFile</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(dirPath);</span><br><span class="line"></span><br><span class="line">        String[] list = dirFile.list();</span><br><span class="line">        <span class="keyword">for</span> (String str : list) &#123;</span><br><span class="line">            System.out.println(str);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;------------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 3ã€å‡†å¤‡æ™®é€šæ–‡ä»¶</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">fileName</span> <span class="operator">=</span> <span class="string">&quot;readme.pdf&quot;</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(dirFile, fileName);</span><br><span class="line">        <span class="comment">// 4ã€æ™®é€šæ–‡ä»¶è°ƒç”¨listè¿”å›null</span></span><br><span class="line">        String[] list2 = file.list();</span><br><span class="line">        System.out.println(list2); <span class="comment">// null</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// 5ã€è·å–ç›®å½•ä¸­æ‰€æœ‰å­æ–‡ä»¶å¯¹è±¡ï¼Œå¹¶éå†è¾“å‡º</span></span><br><span class="line">        File[] listFiles = dirFile.listFiles();</span><br><span class="line">        <span class="keyword">for</span> (File f : listFiles) &#123;</span><br><span class="line">            System.out.println(f);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 6ã€ä½¿ç”¨æ–‡ä»¶è¿‡æ»¤å™¨ï¼Œè·å–ç›®å½•ä¸‹æ‰€æœ‰æ™®é€šæ–‡ä»¶ï¼Œå¹¶éå†è¾“å‡º</span></span><br><span class="line">        File[] listFiles2 = dirFile.listFiles(<span class="keyword">new</span> <span class="title class_">FileFilter</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">accept</span><span class="params">(File pathname)</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (pathname.isFile()) &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (File file1 : listFiles2) &#123;</span><br><span class="line">            System.out.println(file1.getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="IOæµ"><a href="#IOæµ" class="headerlink" title="IOæµ"></a>IOæµ</h1><h2 id="æµçš„æ¦‚å¿µ"><a href="#æµçš„æ¦‚å¿µ" class="headerlink" title="æµçš„æ¦‚å¿µ"></a>æµçš„æ¦‚å¿µ</h2><blockquote><p>åœ¨è®¡ç®—æœºä¸­ï¼Œæµæ˜¯ä¸€ä¸ªæŠ½è±¡çš„æ¦‚å¿µï¼Œæ˜¯å¯¹è¾“å…¥è¾“å‡ºè®¾å¤‡çš„æŠ½è±¡ã€‚åœ¨Javaç¨‹åºä¸­ï¼Œå¯¹äºæ•°æ®çš„è¾“å…¥&#x2F;è¾“å‡ºæ“ä½œï¼Œéƒ½æ˜¯ä»¥â€œæµâ€çš„æ–¹å¼è¿›è¡Œ</p><p>æ•°æ®ä»¥äºŒè¿›åˆ¶çš„å½¢å¼åœ¨<strong>ç¨‹åºä¸è®¾å¤‡</strong>ä¹‹é—´æµåŠ¨ä¼ è¾“ï¼Œå°±åƒæ°´åœ¨ç®¡é“é‡ŒæµåŠ¨ä¸€æ ·ï¼Œæ‰€ä»¥å°±æŠŠè¿™ç§æ•°æ®ä¼ è¾“çš„é˜²æš‘ç§°ä¸ºè¾“å…¥æµã€è¾“å‡ºæµã€‚è¿™é‡Œæè¿°çš„è®¾å¤‡ï¼Œå¯ä»¥æ˜¯<strong>æ–‡ä»¶ã€ç½‘ç»œã€å†…å­˜</strong>ç­‰</p><p>æµå…·æœ‰æ–¹å‘æ€§ï¼Œå¯ä»¥åˆ†ä¸ºè¾“å…¥å’Œè¾“å‡ºæµ</p><p>ä»¥javaç¨‹åºæœ¬èº«ä½œä¸ºå‚ç…§ç‚¹ï¼š</p><ul><li>å¦‚æœæ•°æ®æ˜¯ä»ç¨‹åºâ€œæµå‘â€æ–‡ä»¶ï¼Œé‚£ä¹ˆè¿™ä¸ªæµå°±æ˜¯è¾“å‡ºæµ</li><li>å¦‚æœæ•°æ®æ˜¯ä»æ–‡ä»¶â€œæµå‘â€ç¨‹åºï¼Œé‚£ä¹ˆè¿™ä¸ªæµå°±æ˜¯è¾“å…¥æµ</li></ul><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820212646132.png" alt="image-20230820212646132"></p></blockquote><h2 id="æµçš„åˆ†ç±»"><a href="#æµçš„åˆ†ç±»" class="headerlink" title="æµçš„åˆ†ç±»"></a>æµçš„åˆ†ç±»</h2><blockquote><p>Javaä¸­çš„IOæµå¯ä»¥æ ¹æ®å¾ˆå¤šä¸åŒçš„è§’åº¦è¿›è¡Œåˆ’åˆ†ï¼Œæœ€å¸¸è§çš„æ˜¯ä»¥<strong>æ•°æ®çš„æµå‘å’Œæ•°æ®çš„ç±»å‹</strong>æ¥åˆ’åˆ†</p><ul><li>æ•°æ®æµå‘<ul><li>è¾“å…¥æµï¼šæŠŠæ•°æ®ä»å…¶ä»–è®¾å¤‡ä¸Šè¯»å–åˆ°ç¨‹åºä¸­çš„æµ</li><li>è¾“å‡ºæµï¼šæŠŠæ•°æ®ä»ç¨‹åºä¸­å†™å‡ºåˆ°å…¶ä»–è®¾å¤‡ä¸Šçš„æµ</li></ul></li><li>æ•°æ®ç±»å‹<ul><li>å­—èŠ‚æµï¼šä»¥å­—èŠ‚ä¸ºå•ä½(byte)ï¼Œè¯»å†™æ•°æ®çš„æµ</li><li>å­—ç¬¦æµï¼šä»¥å­—ç¬¦ä¸ºå•ä½(char)ï¼Œè¯»å†™æ•°æ®çš„æµ</li></ul></li></ul><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820212929702.png" alt="image-20230820212929702"></p></blockquote><h2 id="æµçš„ç»“æ„"><a href="#æµçš„ç»“æ„" class="headerlink" title="æµçš„ç»“æ„"></a>æµçš„ç»“æ„</h2><blockquote><p>åœ¨Javaä¸­ï¼Œå’ŒIOæµç›¸å…³çš„ç±»ï¼Œä¸»è¦æ˜¯åœ¨java.ioåŒ…ä¸­å®šä¹‰</p><p>å‡ ä¹æ‰€æœ‰çš„æµï¼Œéƒ½æ˜¯æ´¾ç”Ÿè‡ªå››ä¸ªæŠ½è±¡çš„çˆ¶ç±»å‹ï¼š</p><ul><li>InputStreamï¼Œå­—èŠ‚è¾“å…¥æµ</li><li>OutputStreamï¼Œå­—èŠ‚è¾“å‡ºæµ</li><li>Readerï¼Œå­—ç¬¦è¾“å…¥æµ</li><li>Writerï¼Œå­—ç¬¦è¾“å‡ºæµ</li></ul><p>Javaä¸­å¸¸ç”¨çš„æµåŠå…¶ç»§æ‰¿ç»“æ„ï¼š</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820215500815.png" alt="image-20230820215500815"></p><p>æµä¼šå…·å¤‡èµ·ç çš„ä¸‰ä¸ªç‰¹ç‚¹ï¼š</p><ul><li>æ˜¯è¾“å…¥è¿˜æ˜¯è¾“å‡º</li><li>æ˜¯å­—èŠ‚è¿˜æ˜¯å­—ç¬¦</li><li>æµçš„ç›®çš„åœ°<ul><li>å¦‚æœæ˜¯è¾“å…¥æµï¼Œå°±è¡¨ç¤ºè¿™ä¸ªæµä»ä»€ä¹ˆåœ°æ–¹è¯»æ•°æ®</li><li>å¦‚æœæ˜¯è¾“å‡ºæµï¼Œå°±è¡¨ç¤ºè¿™ä¸ªæµæŠŠæ•°æ®å†™åˆ°ä»€ä¹ˆåœ°æ–¹</li></ul></li></ul></blockquote><h2 id="å­—èŠ‚æµ"><a href="#å­—èŠ‚æµ" class="headerlink" title="å­—èŠ‚æµ"></a>å­—èŠ‚æµ</h2><blockquote><p>ä¸€åˆ‡æ–‡ä»¶æ•°æ®ï¼ˆæ–‡æœ¬ã€å›¾ç‰‡ã€è§†é¢‘ç­‰ï¼‰åœ¨å­˜å‚¨æ—¶ï¼Œéƒ½æ˜¯ä»¥äºŒè¿›åˆ¶æ•°å­—çš„å½¢å¼ä¿å­˜ï¼Œéƒ½ä¸€ä¸ªä¸€ä¸ªçš„å­—èŠ‚ï¼Œé‚£ä¹ˆä¼ è¾“æ—¶ä¸€æ ·å¦‚æ­¤ã€‚æ‰€ä»¥ï¼Œå­—èŠ‚æµå¯ä»¥ä¼ è¾“ä»»æ„æ–‡ä»¶æ•°æ®ã€‚åœ¨æ“ä½œæµçš„æ—¶å€™ï¼Œæˆ‘ä»¬è¦æ—¶åˆ»æ˜ç¡®ï¼Œæ— è®ºä½¿ç”¨ä»€ä¹ˆæ¨çš„æµå¯¹è±¡ï¼Œ<strong>åº•å±‚ä¼ è¾“çš„å§‹ç»ˆä¸ºäºŒè¿›åˆ¶æ•°æ®ã€‚</strong></p><p>java.io.InputStream æ˜¯æ‰€æœ‰<strong>å­—èŠ‚è¾“å…¥æµçš„æŠ½è±¡çˆ¶ç±»å‹</strong>ï¼š</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820220204926.png" alt="image-20230820220204926"></p><p>java.io.OutputStream æ˜¯æ‰€æœ‰<strong>å­—èŠ‚è¾“å‡ºæµçš„æŠ½è±¡çˆ¶ç±»å‹</strong>ï¼š</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820220246589.png" alt="image-20230820220246589"></p><p>ä¸€èˆ¬æƒ…å†µï¼Œæ˜¯ä»¥å“¦é‚£ä¸ªå­—èŠ‚æµæ¥æ“ä½œæ•°æ®çš„æ—¶å€™ï¼Œå¾€å¾€æ—¶ä½¿ç”¨ä¸€å¯¹ï¼Œä¸€ä¸ªå­—èŠ‚è¾“å…¥æµï¼Œè´Ÿè´£è¯»å–æ•°æ®ï¼Œä¸€ä¸ªå­—èŠ‚è¾“å‡ºæµï¼Œè´Ÿè´£å°†æ•°æ®å†™å‡ºå»ï¼Œè€Œè¿™äº›æµéƒ½å°†InputStreamå’ŒOutputStreamçš„å­ç±»å‹ã€‚</p><p><strong>ä½¿ç”¨æµçš„åŸºæœ¬æ­¥éª¤</strong>ï¼š</p><ul><li>é€‰æ‹©æµ</li><li>å£°æ˜æµ</li><li>åˆ›å»ºæµ</li><li>ä½¿ç”¨æµ</li><li>å…³é—­æµ</li></ul></blockquote><h3 id="æ–‡ä»¶è¾“å…¥æµ"><a href="#æ–‡ä»¶è¾“å…¥æµ" class="headerlink" title="æ–‡ä»¶è¾“å…¥æµ"></a>æ–‡ä»¶è¾“å…¥æµ</h3><blockquote><p>æ–‡ä»¶å­—èŠ‚è¾“å…¥æµ <strong>FileInputStream</strong> ï¼Œç”¨äºä»æ–‡ä»¶ä¸­è¯»å–å­—èŠ‚æ•°æ®ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileInputStream</span> <span class="keyword">extends</span> <span class="title class_">InputStream</span></span><br><span class="line"><span class="comment">//çœç•¥...</span></span><br><span class="line"><span class="comment">//é€šè¿‡Fileå¯¹è±¡æ¥åˆ›å»ºä¸€ä¸ª FileInputStream</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileInputStream</span><span class="params">(File file)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line"><span class="comment">//é€šè¿‡æ–‡ä»¶è·¯å¾„å(å­—ç¬¦ä¸²)å®ä¾‹åŒ–FileInputStreamå¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileInputStream</span><span class="params">(String name)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line"><span class="comment">//é€ä¸ªå­—èŠ‚è¯»å–,è¿”å›å€¼ä¸ºè¯»å–çš„å•ä¸ªå­—èŠ‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">()</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="comment">//å°æ•°ç»„è¯»å–,å°†ç»“æœå­˜å…¥æ•°ç»„,è¿”å›å€¼ä¸ºè¯»å–çš„å­—èŠ‚ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span> b[])</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="comment">//å°æ•°ç»„è¯»å–,å­˜å…¥æ•°ç»„æŒ‡å®šä½ç½®,è¿”å›å€¼ä¸ºè¯»å–çš„å­—èŠ‚ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">int</span> <span class="title function_">read</span><span class="params">(<span class="type">byte</span> b[], <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820220737004.png" alt="image-20230820220737004"></p><p>æ³¨æ„äº‹é¡¹ï¼š <strong>åˆ›å»ºFileInputStreamå¯¹è±¡æ—¶ï¼Œå¿…é¡»ä¼ å…¥ä¸€ä¸ªæœ‰æ•ˆæ–‡ä»¶è·¯å¾„ï¼Œå¦åˆ™æŠ›å‡º FileNotFoundException ï¼</strong></p></blockquote><h3 id="æ–‡ä»¶è¾“å‡ºæµ"><a href="#æ–‡ä»¶è¾“å‡ºæµ" class="headerlink" title="æ–‡ä»¶è¾“å‡ºæµ"></a>æ–‡ä»¶è¾“å‡ºæµ</h3><blockquote><p>æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµï¼Œ <strong>FileOutputStream</strong> ï¼Œç”¨äºå†™å…¥å­—èŠ‚æ•°æ®åˆ°æ–‡ä»¶ä¸­ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">FileOutputStream</span> <span class="keyword">extends</span> <span class="title class_">OutputStream</span></span><br><span class="line"><span class="comment">//åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥å†™å…¥ç”±æŒ‡å®šçš„ Fileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileOutputStream</span><span class="params">(File file)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line"><span class="comment">//åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥æŒ‡å®šçš„åç§°å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileOutputStream</span><span class="params">(String name)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileOutputStream</span><span class="params">(File file, <span class="type">boolean</span> append)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> b)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span> b[])</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">byte</span> b[], <span class="type">int</span> off, <span class="type">int</span> len)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line"><span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªè¾“å‡ºæµå¯¹è±¡æ—¶ä¼ å…¥çš„æ–‡ä»¶è·¯å¾„å¯ä»¥ä¸å­˜åœ¨ï¼Œä¸ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œç³»ç»Ÿä¼šèµ°åŠ¨åˆ›å»ºè¯¥æ–‡ä»¶</li><li>å¦‚æœæœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œç³»ç»Ÿé»˜è®¤ä¼šæ¸…ç©ºè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®</li></ul><p>æ³¨æ„ï¼šä¸åŒæ“ä½œç³»ç»Ÿä¸­å›è½¦ã€æ¢è¡Œç¬¦æ—¶ä¸åŒçš„</p><ul><li>å›è½¦ç¬¦ \r å’Œ æ¢è¡Œç¬¦ \n<ul><li>å›è½¦ç¬¦ï¼šå›åˆ°ä¸€è¡Œçš„å¼€å¤´ï¼ˆreturnï¼‰</li><li>æ¢è¡Œç¬¦ï¼šä¸‹ä¸€è¡Œï¼ˆnewlineï¼‰</li></ul></li><li>ç³»ç»Ÿä¸­çš„æ¢è¡Œï¼š<ul><li>Windowsç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ—¶ å›è½¦+æ¢è¡Œï¼Œå³ \r\n</li><li>Unixç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾åªæœ‰ æ¢è¡Œï¼Œå³\n</li><li>Macç³»ç»Ÿé‡Œï¼Œæ¯è¡Œç»“å°¾æ—¶ å›è½¦ï¼Œå³\rã€‚ä» Mac OS Xå¼€å§‹ä¸Linuxç»Ÿä¸€</li></ul></li></ul><p>ç»¼åˆæ¡ˆä¾‹ï¼š æ‹·è´ <strong>src&#x2F;dir&#x2F;a.txt</strong> å†…å®¹åˆ° <strong>src&#x2F;dir&#x2F;b.txt</strong> ä¸­ï¼Œa.txtæ–‡ä»¶å†…å®¹å¦‚ä¸‹ã€‚</p><figure class="highlight txt"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">hello world</span><br><span class="line">1ã€ç¡®è®¤è¿‡çœ¼ç¥ï¼Œæˆ‘é‡ä¸Šçš„äººã€‚æˆ‘ç­–é©¬å‡ºå¾ï¼Œé©¬è¹„å£°å¦‚æ³ªå¥”ã€‚é’çŸ³æ¿ä¸Šçš„æœˆå…‰ç…§è¿›è¿™</span><br><span class="line">å±±åŸã€‚</span><br><span class="line">æˆ‘ä¸€è·¯çš„è·Ÿï¼Œä½ è½®å›å£°ï¼Œæˆ‘å¯¹ä½ ç”¨æƒ…ææ·±ã€‚ --æ–¹æ–‡å±± ã€Šé†‰èµ¤å£ã€‹</span><br><span class="line">2ã€æ— å…³é£æœˆ æˆ‘é¢˜åºç­‰ä½ å› æ‚¬ç¬”ä¸€ç» é‚£å²¸è¾¹æµªåƒå  --æ–¹æ–‡å±± ã€Šå…°äº­åºã€‹</span><br><span class="line">3ã€é‚£ç”»é¢å¤ªç¾ï¼Œæˆ‘ä¸æ•¢çœ‹ --æ–¹æ–‡å±± ã€Šå¸ƒæ‹‰æ ¼å¹¿åœºã€‹</span><br><span class="line">4ã€ä½ è¯´ æƒ³å“­å°±å¼¹ç´ æƒ³èµ·ä½ å°±å†™ä¿¡æƒ…ç»ªæ¥äº†å°±ä¸ç”¨å¤ªå®‰é™ --æ–¹æ–‡å±± ã€Šæƒ³ä½ å°±å†™</span><br><span class="line">ä¿¡ã€‹</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230820221841699.png" alt="image-20230820221841699"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test024_Copy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            is = <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(CommonPath.DESKTOP, <span class="string">&quot;aaa.txt&quot;</span>));</span><br><span class="line">            os = <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(CommonPath.CHAP_11, <span class="string">&quot;bbb.txt&quot;</span>));</span><br><span class="line">            <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="keyword">while</span> ((len = is.read(buff)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                os.write(buff, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (os != <span class="literal">null</span>) &#123;</span><br><span class="line">                    os.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (is != <span class="literal">null</span>) &#123;</span><br><span class="line">                    is.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;copy finish&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>é€ä¸ªå­—èŠ‚æ‹·è´æ•ˆç‡å¤ªä½ï¼Œæ¨èä½¿ç”¨å°æ•°ç»„æ‹·è´</li><li>å…³é—­èµ„æºçš„é¡ºåºåº”è¯¥å’Œæ‰“å¼€èµ„æºé¡ºåºç›¸åï¼š<strong>å…ˆæ‰“å¼€çš„åå…³é—­ï¼Œåæ‰“å¼€çš„å…ˆå…³é—­</strong></li></ul></blockquote><h3 id="æ–‡ä»¶è¿½åŠ "><a href="#æ–‡ä»¶è¿½åŠ " class="headerlink" title="æ–‡ä»¶è¿½åŠ "></a>æ–‡ä»¶è¿½åŠ </h3><blockquote><p>å›é¡¾ä¹‹å‰æ¡ˆä¾‹ï¼Œæˆ‘ä»¬å‘ç°æ¯æ¬¡åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµå¯¹è±¡ï¼Œåœ¨æ“ä½œæ—¶éƒ½ä¼šæ¸…ç©ºç›®æ ‡æ–‡ä»¶ ä¸­çš„æ•°æ®ã€‚</p><p>æ€è€ƒï¼šå¦‚<strong>ä½•ä¿ç•™ç›®æ ‡æ–‡ä»¶ä¸­æ•°æ®ï¼Œåœ¨åŸæœ‰æ–‡ä»¶å†…å®¹çš„åé¢æ·»åŠ æ–°æ•°æ®å‘¢ï¼Ÿ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥å†™å…¥ç”±æŒ‡å®šçš„ Fileå¯¹è±¡è¡¨ç¤ºçš„æ–‡ä»¶ã€‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileOutputStream</span><span class="params">(File file, <span class="type">boolean</span> append)</span>; </span><br><span class="line"><span class="comment">// åˆ›å»ºæ–‡ä»¶è¾“å‡ºæµä»¥æŒ‡å®šçš„åç§°ï¼ˆå†…å®¹ï¼‰å†™å…¥æ–‡ä»¶</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">FileOutputStream</span><span class="params">(String name, <span class="type">boolean</span> append)</span>;</span><br></pre></td></tr></table></figure><ul><li>boolean append<ul><li>trueï¼šè¡¨ç¤ºè¿½åŠ æ•°æ®</li><li>falseï¼šè¡¨ç¤ºæ¸…ç©ºåŸæœ‰æ•°æ®</li></ul></li></ul></blockquote><h3 id="å†…å­˜è¾“å‡ºæµ"><a href="#å†…å­˜è¾“å‡ºæµ" class="headerlink" title="å†…å­˜è¾“å‡ºæµ"></a>å†…å­˜è¾“å‡ºæµ</h3><blockquote><p>ä½¿ç”¨æ–‡ä»¶æµï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œæ–‡ä»¶ä¸­çš„æ•°æ®</p><p><strong>ä½¿ç”¨å†…å­˜æµï¼Œæˆ‘ä»¬å¯ä»¥æ“ä½œå†…å­˜ä¸­å­—èŠ‚æ•°ç»„ä¸­çš„æ•°æ®</strong></p><p>å†…å­˜å­—å­—èŠ‚æµï¼Œä¹Ÿç§°ä¸º<strong>å­—èŠ‚æ•°ç»„æµ</strong>ï¼Œä¸»è¦æœ‰ä¸‹é¢ä¸¤ç§ï¼š</p><ul><li>java.io.ByteArrayOutputStream<ul><li>å†…å­˜è¾“å‡ºæµï¼Œè´Ÿè´£æŠŠæ•°æ®å†™å…¥åˆ°å†…å­˜ä¸­çš„å­—èŠ‚æ•°ç»„ä¸­</li></ul></li><li>java.io.ByteArrayInputStream<ul><li>å†…å­˜è¾“å…¥æµï¼Œè´Ÿè´£ä»å†…å­˜ä¸­çš„å­—èŠ‚æ•°ç»„ä¸­è¯»å–æ•°æ®</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ByteArrayOutputStream</span> <span class="keyword">extends</span> <span class="title class_">OutputStream</span> &#123;</span><br><span class="line">    <span class="comment">//å­˜å‚¨æ•°æ®çš„æ•°ç»„</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">byte</span> buf[];</span><br><span class="line">    <span class="comment">//å­˜å…¥å­—èŠ‚æ•°ç»„çš„å…ƒç´ (å­—èŠ‚)ä¸ªæ•°</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="type">int</span> count;</span><br><span class="line">    <span class="comment">//æ— å‚æ„é€ å™¨åˆ›å»ºçš„å­—èŠ‚æ•°ç»„è¾“å‡ºæµï¼Œæ•°ç»„å¤§å°ä¸º32ä¸ªå­—èŠ‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ByteArrayOutputStream</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>(<span class="number">32</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å…³é”®æ–¹æ³•ï¼šè·å–å†…å­˜è¾“å‡ºæµä¸­å­˜å‚¨çš„æ•°æ®ï¼Œè¿”å›å­—èŠ‚æ•°ç»„</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="type">byte</span> <span class="title function_">toByteArray</span><span class="params">()</span>[] &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.copyOf(buf, count);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹å±•ç¤ºï¼š å°æ•°ç»„æ–¹å¼è¯»å– src&#x2F;dir&#x2F;a.txt æ–‡ä»¶ä¸­çš„æ‰€æœ‰å†…å®¹ï¼Œå†™å…¥åˆ°å­—èŠ‚æ•°ç»„è¾“å‡ºæµ ä¸­ï¼Œç„¶åä»å­—èŠ‚è¾“å‡ºæµä¸­è·å–æ‰€æœ‰æ•°æ®ï¼Œæœ€åè½¬æ¢æˆStringå­—ç¬¦ä¸²è¾“å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test024_ByteArrayOutput</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€å…³è”æµå¯¹è±¡å’Œæ–‡ä»¶</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºå†…å­˜è¾“å‡ºæµå¯¹è±¡[new byte[32]]</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(CommonPath.CHAP_11, <span class="string">&quot;bbb.txt&quot;</span>));</span><br><span class="line">        <span class="type">ByteArrayOutputStream</span> <span class="variable">baos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayOutputStream</span>();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€è¯»å–æ–‡ä»¶å†…å®¹ ç„¶åå†™å…¥åˆ° å†…å­˜è¾“å‡ºæµä¸­</span></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">8</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = is.read(buff)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            baos.write(buff, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;copy finish&quot;</span>);</span><br><span class="line">        <span class="comment">// 3ã€å…³é”®æ–¹æ³•ï¼šè·å–å†…å­˜è¾“å‡ºæµä¸­çš„æ•°æ®</span></span><br><span class="line">        <span class="type">byte</span>[] byteArray = baos.toByteArray();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 4ã€å°†byte[] --&gt; String å¹¶è¾“å‡º</span></span><br><span class="line">        System.out.println(<span class="keyword">new</span> <span class="title class_">String</span>(byteArray));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šå†…å­˜æµä½¿ç”¨å®Œä¸éœ€è¦close()å»é‡Šæ”¾èµ„æºï¼</font></p><p>å› ä¸ºå†…å­˜æµçš„åº•å±‚æ•°æ®æºæ—¶å†…å­˜ä¸­çš„å­—èŠ‚æ•°ç»„ï¼Œä¸éœ€è¦è¿›è¡Œèµ„æºé‡Šæ”¾æˆ–å…³é—­æ“ä½œã€‚å½“ä½¿ç”¨å®Œ<strong>ByteArrayXxxStream</strong>åï¼Œå¯ä»¥é€‰æ‹©ä¸è¿›è¡Œä»»ä½•æ“ä½œï¼Œå®ƒä¼šè‡ªåŠ¨è¢«åƒåœ¾å›æ”¶æœºåˆ¶å›æ”¶</p></blockquote><h3 id="å†…å­˜è¾“å…¥æµ"><a href="#å†…å­˜è¾“å…¥æµ" class="headerlink" title="å†…å­˜è¾“å…¥æµ"></a>å†…å­˜è¾“å…¥æµ</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ByteArrayInputStream</span> <span class="keyword">extends</span> <span class="title class_">InputStream</span> &#123;</span><br><span class="line"> <span class="keyword">protected</span> <span class="type">byte</span> buf[];</span><br><span class="line"> <span class="keyword">protected</span> <span class="type">int</span> pos;</span><br><span class="line"> <span class="keyword">protected</span> <span class="type">int</span> count;</span><br><span class="line"> <span class="comment">//å…³é”®æ„é€ å™¨</span></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">ByteArrayInputStream</span><span class="params">(<span class="type">byte</span> buf[])</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.buf = buf;</span><br><span class="line">     <span class="built_in">this</span>.pos = <span class="number">0</span>;</span><br><span class="line">     <span class="built_in">this</span>.count = buf.length;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821090215911.png" alt="image-20230821090215911"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test024_ByteArrayInput</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1ã€å®ä¾‹åŒ–scå¯¹è±¡ï¼Œè¾“å…¥ä¸€è¡Œ</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);</span><br><span class="line">        System.out.println(<span class="string">&quot;input line:&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> sc.nextLine();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 2ã€åˆ›å»ºå†…å­˜è¾“å…¥æµå¯¹è±¡ ByteArrayInputStream</span></span><br><span class="line">        <span class="type">byte</span>[] bytes = line.getBytes();</span><br><span class="line">        <span class="type">ByteArrayInputStream</span> <span class="variable">bais</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ByteArrayInputStream</span>(bytes);</span><br><span class="line">        <span class="type">FileOutputStream</span> <span class="variable">fos</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="keyword">new</span> <span class="title class_">File</span>(CommonPath.DESKTOP, <span class="string">&quot;aaa.txt&quot;</span>));</span><br><span class="line"></span><br><span class="line">        <span class="type">byte</span>[] buff = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">5</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span>((len = bais.read(buff)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fos.write(buff, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;success write to file&quot;</span>);</span><br><span class="line"></span><br><span class="line">        fos.close();</span><br><span class="line">        bais.close();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†…å­˜æµæ€»ç»“ï¼š</p><ul><li>å¦‚æœè¦æ“ä½œæ–‡ä»¶ï¼Œåˆ™éœ€è¦ä½¿ç”¨æ–‡ä»¶æµ</li><li>å¦‚æœè¦æ“ä½œå†…å­˜ä¸­çš„æ•°æ®ï¼Œåˆ™å¯ä»¥é€‰æ‹©å†…å­˜æµ</li></ul><p>å†…å­˜å­—èŠ‚æµæä¾›äº†ä¸€ç§åœ¨å†…å­˜ä¸­è¿›è¡Œæ•°æ®è¯»å–å’Œå†™å…¥çš„ä¾¿æ·æ–¹å¼ã€‚å†…å­˜æµåœ¨å®é™… å¼€å‘ä¸­æœ‰ä¸“é—¨çš„åº”ç”¨åœºæ™¯ï¼Œäº†è§£å³å¯ã€‚</p><p>ä»¥ä¸‹æ˜¯ä¸€äº›å¸¸è§çš„åº”ç”¨åœºæ™¯ï¼š</p><ul><li>æ•°æ®çš„ä¸´æ—¶å­˜å‚¨ï¼šå†…å­˜å­—èŠ‚æµå¯ä»¥å°†æ•°æ®æš‚æ—¶å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å­—èŠ‚æ•°ç»„ ä¸­ï¼Œè€Œä¸éœ€è¦å†™å…¥åˆ°ç£ç›˜æˆ–ç½‘ç»œä¸­ã€‚è¿™åœ¨ä¸€äº›ä¸´æ—¶æ€§çš„æ•°æ®å¤„ç†åœºæ™¯ä¸­é å¸¸æœ‰ç”¨ï¼Œä¾‹å¦‚åœ¨å†…å­˜ä¸­å¯¹æ•°æ®è¿›è¡ŒåŠ å¯†ã€è§£å¯†ã€å‹ç¼©ã€è§£å‹ç¼©ç­‰æ“ä½œã€‚</li><li>æ•°æ®çš„è½¬æ¢ï¼šå†…å­˜å­—èŠ‚æµå¯ä»¥ç”¨äºå°†æ•°æ®ä»ä¸€ç§æ ¼å¼è½¬æ¢ä¸ºå¦ä¸€ç§æ ¼å¼ã€‚ ä¾‹å¦‚ï¼Œå¯ä»¥å°†ä¸€ä¸ªå¯¹è±¡åºåˆ—åŒ–ä¸ºå­—èŠ‚æ•°ç»„ï¼Œç„¶åå†å°†å­—èŠ‚æ•°ç»„ååºåˆ—åŒ–ä¸º å¯¹è±¡ã€‚è¿™åœ¨ä¸€äº›éœ€è¦å°†æ•°æ®åœ¨å†…å­˜ä¸­è¿›è¡Œæ ¼å¼è½¬æ¢çš„åœºæ™¯ä¸­éå¸¸æœ‰ç”¨ã€‚</li><li>æµ‹è¯•å’Œè°ƒè¯•ï¼šå†…å­˜å­—èŠ‚æµå¯ä»¥ç”¨äºæµ‹è¯•å’Œè°ƒè¯•ç›®çš„ï¼Œä¾‹å¦‚æ¨¡æ‹Ÿè¾“å…¥æµæˆ–è¾“ å‡ºæµçš„è¡Œä¸ºã€‚é€šè¿‡å°†æ•°æ®å†™å…¥å†…å­˜å­—èŠ‚æµï¼Œå¯ä»¥æ–¹ä¾¿åœ°æ£€æŸ¥æ•°æ®çš„å†…å®¹å’Œ æ ¼å¼ï¼Œè€Œæ— éœ€ä¾èµ–å¤–éƒ¨èµ„æºã€‚</li><li>å•å…ƒæµ‹è¯•ï¼šå†…å­˜å­—èŠ‚æµåœ¨å•å…ƒæµ‹è¯•ä¸­ä¹Ÿéå¸¸æœ‰ç”¨ã€‚å¯ä»¥ä½¿ç”¨å†…å­˜å­—èŠ‚æµæ¨¡ æ‹Ÿè¾“å…¥å’Œè¾“å‡ºæµï¼Œä»¥ä¾¿åœ¨æµ‹è¯•ä¸­éªŒè¯ä»£ç çš„æ­£ç¡®æ€§å’Œå¯é æ€§ï¼Œè€Œæ— éœ€ä¾èµ– å¤–éƒ¨æ–‡ä»¶æˆ–ç½‘ç»œè¿æ¥ã€‚</li></ul><p>éœ€è¦æ³¨æ„çš„æ˜¯ï¼Œç”±äºå†…å­˜å­—èŠ‚æµå°†æ•°æ®å­˜å‚¨åœ¨å†…å­˜ä¸­çš„å­—èŠ‚æ•°ç»„ä¸­ï¼Œå› æ­¤åœ¨å¤„ç† å¤§é‡æ•°æ®æ—¶å¯èƒ½ä¼šå ç”¨è¾ƒå¤šçš„å†…å­˜ã€‚åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œéœ€è¦è°¨æ…ä½¿ç”¨å†…å­˜å­—èŠ‚æµï¼Œ ä»¥é¿å…å†…å­˜æº¢å‡ºçš„é—®é¢˜ã€‚</p></blockquote><h2 id="å­—ç¬¦æµ"><a href="#å­—ç¬¦æµ" class="headerlink" title="å­—ç¬¦æµ"></a>å­—ç¬¦æµ</h2><blockquote><p><strong>java.io.Reader</strong> æ˜¯æ‰€æœ‰<strong>å­—ç¬¦è¾“å…¥æµ</strong>çš„æŠ½è±¡çˆ¶ç±»å‹ï¼š</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821202648318.png" alt="image-20230821202648318"></p><p>java.io.Writer æŠ½çº¿ç±»æ˜¯è¡¨ç¤ºç”¨äºå†™å‡ºå­—ç¬¦æµçš„æ‰€æœ‰ç±»çš„è¶…ç±»ï¼Œå°†æŒ‡å®šçš„å­—ç¬¦ä¿¡æ¯å†™å‡ºåˆ°ç›®çš„åœ°ã€‚å®ƒå®šä¹‰äº†å­—èŠ‚è¾“å‡ºæµçš„åŸºæœ¬å…±æ€§åŠŸèƒ½æ–¹æ³•ã€‚</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821202843724.png" alt="image-20230821202843724"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å†™å…¥å•ä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">int</span> c)</span>; </span><br><span class="line"><span class="comment">// å†™å…¥å­—ç¬¦æ•°ç»„</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] cbuf)</span>;</span><br><span class="line"><span class="comment">// å†™å…¥å­—ç¬¦æ•°ç»„çš„æŸä¸€éƒ¨åˆ†ï¼Œoffæ•°ç»„çš„å¼€å§‹ç´¢å¼•ï¼Œlenå†™çš„å­—ç¬¦ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(<span class="type">char</span>[] cbuf, <span class="type">int</span> off, <span class="type">int</span> len)</span>; </span><br><span class="line"><span class="comment">// å†™å…¥å­—ç¬¦ä¸²</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str)</span>;</span><br><span class="line"><span class="comment">// å†™å…¥å­—ç¬¦ä¸²çš„æŸä¸€éƒ¨åˆ†ï¼Œoffå­—ç¬¦ä¸²çš„å¼€å§‹ç´¢å¼•ï¼Œlenå†™çš„å­—ç¬¦ä¸ªæ•°</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String str, <span class="type">int</span> off, <span class="type">int</span> len)</span>;</span><br><span class="line"><span class="comment">// åˆ·æ–°è¯¥æµçš„ç¼“å†²</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">flush</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// å…³é—­æ­¤æµï¼Œä½†è¦å…ˆåˆ·æ–°å®ƒ</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">close</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><p>è¿™äº›å­—ç¬¦æµä¸­çš„è¯»å’Œå†™çš„æ–¹æ³•ï¼Œä¸å­—èŠ‚æµä¸­çš„è¯»å’Œå†™æ–¹æ³•ç±»ä¼¼ï¼ŒæŒæ¡äº†å­—èŠ‚ æµçš„ä½¿ç”¨ï¼Œè¿™äº›å¾ˆå®¹æ˜“ç†è§£</p></blockquote><h3 id="æ–‡ä»¶å­—ç¬¦æµ"><a href="#æ–‡ä»¶å­—ç¬¦æµ" class="headerlink" title="æ–‡ä»¶å­—ç¬¦æµ"></a>æ–‡ä»¶å­—ç¬¦æµ</h3><blockquote><p><strong>java.io.FileReader</strong> ç±»æ˜¯è¯»å–<strong>å­—ç¬¦æ–‡ä»¶ï¼ˆçº¯æ–‡æœ¬æ–‡ä»¶ï¼‰</strong>çš„ä¾¿åˆ©ç±»ã€‚æ„é€ æ—¶ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„å­—ç¬¦ç¼–ç å’Œé»˜è®¤å­—èŠ‚ç¼“å†²åŒº</p><p>java.io.FileWriter ç±»æ˜¯å†™å‡ºå­—ç¬¦åˆ°æ–‡ä»¶çš„ä¾¿åˆ©ç±»ã€‚æ„é€ æ—¶ä½¿ç”¨ç³»ç»Ÿé»˜è®¤çš„ å­—ç¬¦ç¼–ç å’Œé»˜è®¤å­—èŠ‚ç¼“å†²åŒºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileReader</span> <span class="keyword">extends</span> <span class="title class_">InputStreamReader</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileReader</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileReader</span><span class="params">(File file)</span> <span class="keyword">throws</span> FileNotFoundException;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">FileWriter</span> <span class="keyword">extends</span> <span class="title class_">OutputStreamWriter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(String fileName)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(String fileName, <span class="type">boolean</span> append)</span> <span class="keyword">throws</span></span><br><span class="line">        IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(File file)</span> <span class="keyword">throws</span> IOException;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">FileWriter</span><span class="params">(File file, <span class="type">boolean</span> append)</span> <span class="keyword">throws</span></span><br><span class="line">        IOException;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><p>åˆ›å»ºä¸€<strong>è¾“å…¥æµå¯¹è±¡</strong>æ—¶ï¼Œå¿…é¡»ä¼ å…¥ä¸€ä¸ªæœ‰æ•ˆæ–‡ä»¶è·¯å¾„ï¼Œå¦åˆ™ä¼šæŠ›å‡º <code>FileNotFoundException</code></p><p>åˆ›å»ºä¸€ä¸ª<strong>è¾“å‡ºæµå¯¹è±¡</strong>æ—¶ï¼Œä¼ å…¥çš„æ–‡ä»¶è·¯å¾„å¯ä»¥ä¸å­˜åœ¨ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨åˆ›å»ºè¯¥æ–‡ä»¶ã€‚å¦‚æœæœ‰è¿™ä¸ªæ–‡ä»¶ï¼Œé»˜è®¤ä¼šæ¸…ç©ºè¿™ä¸ªæ–‡ä»¶çš„æ•°æ®</p><p>æ¡ˆä¾‹æè¿°ï¼šä½¿ç”¨æ–‡ä»¶å­—ç¬¦æµæ‹·è´a.txtæ–‡ä»¶å†…å®¹åˆ°b.txtæ–‡ä»¶æœ«å°¾</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test025_FileReaderWriter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1.å®ä¾‹åŒ–æµå¯¹è±¡</span></span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="keyword">new</span> <span class="title class_">File</span>(CommonPath.DESKTOP, <span class="string">&quot;aaa.txt&quot;</span>));</span><br><span class="line">        <span class="comment">// è®¾ç½®æ–‡ä»¶è¿½åŠ </span></span><br><span class="line">        <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="keyword">new</span> <span class="title class_">File</span>(CommonPath.DESKTOP, <span class="string">&quot;bbb.txt&quot;</span>), <span class="literal">true</span>);</span><br><span class="line">        <span class="comment">// 2.ä½¿ç”¨æµè¿›è¡Œæ–‡ä»¶æ‹·è´</span></span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">8</span>];</span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">while</span> ((len = fr.read(cbuf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">            fw.write(cbuf, <span class="number">0</span>, len);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//åˆ·æ–°æµ</span></span><br><span class="line">        fw.flush();</span><br><span class="line">        <span class="comment">// 3.å…³é—­æµ</span></span><br><span class="line">        fw.close();</span><br><span class="line">        fr.close(); </span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="æ“ä½œå­—èŠ‚æ–‡ä»¶"><a href="#æ“ä½œå­—èŠ‚æ–‡ä»¶" class="headerlink" title="æ“ä½œå­—èŠ‚æ–‡ä»¶"></a>æ“ä½œå­—èŠ‚æ–‡ä»¶</h3><blockquote><p>æ¡ˆä¾‹æè¿°ï¼šä½¿ç”¨æ–‡ä»¶å­—ç¬¦æµå®Œæˆå›¾ç‰‡çš„æ‹·è´ï¼Œçœ‹ç»“æœå‘ç°é—®é¢˜</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821215247430.png" alt="image-20230821215247430"></p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821215326945.png" alt="image-20230821215326945"></p><p>ä¿®æ”¹ä¸Šé¢ Test025_FileReaderWriter æ¡ˆä¾‹ï¼š </p><p>â€‹1.å°†æ“ä½œçš„æ–‡ä»¶æ¢æˆ src&#x2F;dir&#x2F;001.jpgå’Œsrc&#x2F;dir&#x2F;002.jpg </p><p>â€‹2.å»é™¤è¾“å‡ºæµè¿½åŠ æ ‡å¿—</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821215434306.png" alt="image-20230821215434306"></p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821215528916.png" alt="image-20230821215528916"></p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230821215543925.png" alt="image-20230821215543925"></p><p><font color="#d12920">ç»“è®ºï¼šå­—ç¬¦æµï¼Œåªèƒ½æ“ä½œæ–‡æœ¬æ–‡ä»¶ï¼Œä¸èƒ½æ“ä½œå›¾ç‰‡ï¼Œè§†é¢‘ç­‰éæ–‡æœ¬æ–‡ä»¶</font></p><p>å½“æˆ‘ä»¬å•çº¯è¯»æˆ–å†™å­˜æ–‡æœ¬æ–‡ä»¶æ—¶ï¼Œä½¿ç”¨å­—ç¬¦æµ</p><p>å…¶ä»–æƒ…å†µï¼ˆå›¾ç‰‡ã€éŸ³é¢‘ã€docã€xlsã€pptç­‰ç­‰ï¼‰ï¼Œä½¿ç”¨å­—èŠ‚æµ</p></blockquote><h3 id="å¼‚å¸¸å¤„ç†"><a href="#å¼‚å¸¸å¤„ç†" class="headerlink" title="å¼‚å¸¸å¤„ç†"></a>å¼‚å¸¸å¤„ç†</h3><blockquote><p>ä¹‹å‰æˆ‘ä»¬å¯¹å¼‚å¸¸çš„å¤„ç†ï¼Œéƒ½æ˜¯ç›´æ¥throwsæŠ›å‡ºï¼Œå®é™…å¼€å‘ä¸­å¹¶ä¸èƒ½è¿™æ ·å¤„ç†ï¼Œå»º è®®ä½¿ç”¨ <strong>tryâ€¦catchâ€¦finally</strong> ä»£ç å—å¤„ç†å¼‚å¸¸éƒ¨åˆ†ä»£ç ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test026_Catch</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Reader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Writer</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// 1ã€å®ä¾‹åŒ–æµå¯¹è±¡</span></span><br><span class="line">            in = <span class="keyword">new</span> <span class="title class_">FileReader</span>(CommonPath.DESKTOP + <span class="string">&quot;aaa.txt&quot;</span>);</span><br><span class="line">            <span class="comment">// è®¾ç½®æ–‡ä»¶è¿½åŠ </span></span><br><span class="line">            out = <span class="keyword">new</span> <span class="title class_">FileWriter</span>(CommonPath.DESKTOP+<span class="string">&quot;bbb.txt&quot;</span>, <span class="literal">true</span>);</span><br><span class="line">            <span class="comment">// 2ã€ä½¿ç”¨æµè¿›è¡Œæ–‡ä»¶æ‹·è´</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">8</span>];</span><br><span class="line">            <span class="keyword">while</span> ((len = in.read(cbuf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                out.write(cbuf, <span class="number">0</span>, len);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// åˆ·æ–°æµ</span></span><br><span class="line">            out.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (out != <span class="literal">null</span>) &#123;</span><br><span class="line">                    out.close();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">if</span> (in != <span class="literal">null</span>) &#123;</span><br><span class="line">                    in.close();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰©å±•çŸ¥è¯†ï¼šJDK7æ–°å¢å¼‚å¸¸å¤„ç†æ–¹å¼ï¼ˆäº†è§£å³å¯ï¼‰</p><p>JDK7ä¼˜åŒ–åçš„ <strong>try-with-resource</strong> è¯­å¥ï¼Œè¯¥è¯­å¥ç¡®ä¿äº†æ¯ä¸ªèµ„æºåœ¨è¯­å¥ç»“æŸ æ—¶å…³é—­ã€‚</p><p>æ‰€è°“çš„èµ„æºï¼ˆresourceï¼‰æ˜¯æŒ‡åœ¨ç¨‹åºå®Œæˆåï¼Œå¿…é¡»å…³é—­çš„å¯¹è±¡ã€‚</p><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span> (åˆ›å»ºæµå¯¹è±¡è¯­å¥,å¦‚æœå­˜åœ¨å¤šä¸ª,ä½¿ç”¨<span class="string">&#x27;;&#x27;</span>éš”å¼€) &#123;</span><br><span class="line">    <span class="comment">// è¯»å†™æ•°æ®</span></span><br><span class="line">&#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">    e.printStackTrace();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test027_Catch</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å®ä¾‹åŒ–æµå¯¹è±¡ï¼Œè¿™ç§æ ¼å¼ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨é‡Šæ”¾èµ„æº</span></span><br><span class="line">        <span class="keyword">try</span> (<span class="type">FileReader</span> <span class="variable">fr</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src/dir/a.txt&quot;</span>);</span><br><span class="line">            <span class="type">FileWriter</span> <span class="variable">fw</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileWriter</span>(<span class="string">&quot;src/dir/b.txt&quot;</span>, <span class="literal">true</span>))&#123;</span><br><span class="line">            <span class="comment">// 2. ä½¿ç”¨æµè¿›è¡Œæ–‡ä»¶æ‹·è´</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">8</span>];</span><br><span class="line">            <span class="keyword">while</span> ((len = fr.read(cbuf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                fw.write(cbuf, <span class="number">0</span> ,len);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">// åˆ·æ–°æµ</span></span><br><span class="line">            fw.flush();</span><br><span class="line">            System.out.println(<span class="string">&quot;copy finish&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ ‡å‡†æµ"><a href="#æ ‡å‡†æµ" class="headerlink" title="æ ‡å‡†æµ"></a>æ ‡å‡†æµ</h2><blockquote><ul><li>System.in æ ‡å‡†è¾“å…¥æµï¼Œæ˜¯ç±»<strong>InputStream</strong>çš„å¯¹è±¡é»˜è®¤å¯ä»¥ä»é”®ç›˜è¾“å…¥è¯»å–å­—èŠ‚æ•°æ®</li><li>System.out æ ‡å‡†è¾“å‡ºæµï¼Œæ˜¯ç±»<strong>PrintStream</strong>çš„å¯¹è±¡é»˜è®¤å¯ä»¥æ§åˆ¶å°ä¸­è¾“å‡ºå­—ç¬¦å’Œå­—èŠ‚æ•°æ®</li><li>éæ ‡å‡†æµå¯ä»¥æ”¹å˜æ‰“å°æµæ–¹å‘</li></ul><p>æ¡ˆä¾‹æè¿°ï¼šå…ˆæŒ‰ç…§æ ‡å‡†è¾“å‡ºæµè¾“å‡ºå†…å®¹ï¼Œç„¶åæ”¹å˜è¾“å‡ºæ–¹å‘ï¼Œè¿›è¡Œæµ‹è¯•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test028_PrintStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException</span><br><span class="line">    &#123;</span><br><span class="line">        <span class="comment">// è°ƒç”¨ç³»ç»Ÿçš„æ‰“å°æµ,æ§åˆ¶å°ç›´æ¥è¾“å‡º97</span></span><br><span class="line">        System.out.println(<span class="number">97</span>);</span><br><span class="line">        <span class="comment">// åˆ›å»ºæ‰“å°æµ,æŒ‡å®šæ–‡ä»¶çš„åç§°</span></span><br><span class="line">        <span class="type">PrintStream</span> <span class="variable">ps</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PrintStream</span>(<span class="string">&quot;src/ps.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// è®¾ç½®ç³»ç»Ÿçš„æ‰“å°æµæµå‘,è¾“å‡ºåˆ°ps.txt</span></span><br><span class="line">        System.setOut(ps);</span><br><span class="line">        <span class="comment">// è°ƒç”¨ç³»ç»Ÿçš„æ‰“å°æµ,ps.txtä¸­è¾“å‡º97</span></span><br><span class="line">        System.out.println(<span class="number">97</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç¼“å†²æµï¼ˆæœ‰cpï¼‰"><a href="#ç¼“å†²æµï¼ˆæœ‰cpï¼‰" class="headerlink" title="ç¼“å†²æµï¼ˆæœ‰cpï¼‰"></a>ç¼“å†²æµï¼ˆæœ‰cpï¼‰</h2><blockquote><p>ç¼“å†²æ€æƒ³ï¼š</p><p>åœ¨Javaçš„I&#x2F;Oæµä¸­ï¼Œç¼“å†²æ€æƒ³æ˜¯ä¸€ç§å¸¸è§çš„ä¼˜åŒ–æŠ€æœ¯ï¼Œ<strong>ç”¨äºæé«˜è¯»å–å’Œå†™å…¥æ•°æ®çš„æ•ˆç‡</strong>ã€‚å®ƒé€šè¿‡åœ¨å†…å­˜ä¸­å¼•å…¥ç¼“å†²åŒºï¼ˆBufferï¼‰æ¥å‡å°‘å®é™…çš„I&#x2F;Oçš„æ“ä½œæ¬¡æ•°ï¼Œä»è€Œæé«˜æ•°æ®ä¼ è¾“çš„æ•ˆç‡ã€‚</p><p>ç¼“å†²æ€æƒ³çš„åŸºæœ¬åŸç†æ˜¯å°†æ•°æ®æš‚æ—¶å­˜å‚¨åœ¨å†…å­˜ä¸­çš„ç¼“å†²åŒºä¸­ï¼Œç„¶åæŒ‰ç…§ä¸€å®šçš„å—å¤§å°è¿›è¡Œè¯»å–æˆ–å†™å…¥æ“ä½œã€‚ç›¸æ¯”äºç›´æ¥å¯¹ç£ç›˜æˆ–ç½‘ç»œè¿›è¡Œè¯»å†™æ“ä½œï¼Œä½¿ç”¨ç¼“å†²åŒºå¯ä»¥å‡å°‘é¢‘ç¹çš„I&#x2F;Oæ“ä½œï¼Œä»è€Œæé«˜æ•ˆç‡ã€‚</p><p>ç¼“å†²æµä¹Ÿå«é«˜æ•ˆæµ</p><ul><li>ç¼“å†²å­—èŠ‚æµ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å…¥æµ</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">BufferedInputStream</span><span class="params">(InputStream in)</span>;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµ</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">BufferedOutputStream</span><span class="params">(OutputStream out)</span></span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedInputStream</span> <span class="keyword">extends</span> <span class="title class_">FilterInputStream</span> &#123;</span><br><span class="line"> <span class="comment">//ç¼“å†²è¾“å…¥æµï¼Œåˆç§°ä¸ºåŒ…è£…æµï¼Œä½¿ç”¨æ—¶éœ€è¦ä¼ å…¥åŸºæœ¬è¾“å…¥å­—èŠ‚æµå¯¹è±¡</span></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">BufferedInputStream</span><span class="params">(InputStream in)</span>;</span><br><span class="line"> <span class="comment">//sizeï¼Œä»£è¡¨è®¾ç½®è¯»å–ç¼“å†²å¤§å°</span></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">BufferedInputStream</span><span class="params">(InputStream in, <span class="type">int</span> size)</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedOutputStream</span> <span class="keyword">extends</span> <span class="title class_">FilterOutputStream</span> &#123;</span><br><span class="line"> <span class="comment">//ç¼“å†²è¾“å‡ºæµï¼Œåˆç§°ä¸ºåŒ…è£…æµï¼Œä½¿ç”¨æ—¶éœ€è¦ä¼ å…¥åŸºæœ¬è¾“å‡ºå­—èŠ‚æµå¯¹è±¡</span></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">BufferedOutputStream</span><span class="params">(OutputStream out)</span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="comment">//sizeï¼Œä»£è¡¨è®¾ç½®å†™å…¥ç¼“å†²å¤§å°</span></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">BufferedOutputStream</span><span class="params">(OutputStream out, <span class="type">int</span> size)</span> &#123;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230822183405353.png" alt="image-20230822183405353"></p><p>å¯ä»¥çœ‹å‡ºï¼Œå­—èŠ‚ç¼“å†²æµçš„æ„é€ å™¨ï¼Œè¦æ±‚ä¸€å®šè¦ä¼ å…¥ä¸€ä¸ªå­—èŠ‚æµå¯¹è±¡ï¼Œç„¶åç¼“å†²æµå°±å¯ä»¥å¯¹è¿™ä¸ªå­—èŠ‚æµçš„åŠŸèƒ½è¿›è¡Œå¢å¼ºï¼Œæä¾›ç¼“å†²æ•°æ®çš„åŠŸèƒ½ï¼Œä»è€Œæé«˜è¯»å†™çš„æ•ˆç‡ã€‚</p><p>å¦‚ä½•éªŒè¯ä½¿ç”¨ç¼“å†²æµæ¥å¢å¼ºæ–‡ä»¶å­—èŠ‚æµçš„åŠŸèƒ½ï¼Œæé«˜è¯»å†™æ•ˆç‡ï¼Ÿ</p><p>æ¡ˆä¾‹æè¿°ï¼š å®ŒæˆèƒŒå½±.txtæ–‡ä»¶çš„å¤åˆ¶ç²˜è´´ï¼Œå¹¶ç»“åˆæ—¶é—´æˆ³å®Œæˆæ•ˆç‡çš„éªŒè¯</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test03_BufferedStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1ã€å£°æ˜æµ</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">is</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">OutputStream</span> <span class="variable">os</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">file1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/èƒŒå½±.txt&quot;</span>);</span><br><span class="line">            <span class="type">File</span> <span class="variable">file2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/èƒŒå½±copy.txt&quot;</span>);</span><br><span class="line">            <span class="comment">// is = new FileInputStream(file1);</span></span><br><span class="line">            <span class="comment">// os = new FileOutputStream(file2);</span></span><br><span class="line">            is = <span class="keyword">new</span> <span class="title class_">BufferedInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file1));</span><br><span class="line">            os = <span class="keyword">new</span> <span class="title class_">BufferedOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file2));</span><br><span class="line"></span><br><span class="line">            <span class="type">int</span> <span class="variable">data</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">            <span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">8</span>];</span><br><span class="line">            <span class="type">long</span> <span class="variable">startTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">            <span class="keyword">while</span> ((data = is.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line">                os.write(buf, <span class="number">0</span>, data);</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">long</span> <span class="variable">endTime</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">            System.out.println(<span class="string">&quot;-----costTime: &quot;</span> + (endTime - startTime) + <span class="string">&quot;ms&quot;</span>);</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (os != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    os.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">if</span> (is != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    is.close();</span><br><span class="line">                &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// -----costTime: 368ms</span></span><br><span class="line"><span class="comment">// -----costTime: 39ms + byte[]</span></span><br><span class="line"><span class="comment">// -----costTime: 4ms Buffered</span></span><br><span class="line"><span class="comment">// -----costTime: 2ms Buffered + byte[]</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><ul><li>ç¼“å†²å­—ç¬¦æµ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å…¥æµ</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">BufferedReader</span><span class="params">(Reader in)</span>;</span><br><span class="line"><span class="comment">// åˆ›å»ºä¸€ä¸ªæ–°çš„ç¼“å†²è¾“å‡ºæµ</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">BufferedWriter</span><span class="params">(Writer out)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReader</span> <span class="keyword">extends</span> <span class="title class_">Reader</span> &#123;</span><br><span class="line">    <span class="comment">//ç¼“å†²è¾“å…¥æµï¼Œåˆç§°ä¸ºåŒ…è£…æµï¼Œä½¿ç”¨æ—¶éœ€è¦ä¼ å…¥åŸºæœ¬è¾“å…¥å­—ç¬¦æµå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BufferedReader</span><span class="params">(Reader in)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//sizeï¼Œä»£è¡¨è®¾ç½®è¯»å–ç¼“å†²å¤§å°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BufferedReader</span><span class="params">(Reader in, <span class="type">int</span> size)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedWriter</span> <span class="keyword">extends</span> <span class="title class_">Writer</span> &#123;</span><br><span class="line">    <span class="comment">//ç¼“å†²è¾“å‡ºæµï¼Œåˆç§°ä¸ºåŒ…è£…æµï¼Œä½¿ç”¨æ—¶éœ€è¦ä¼ å…¥åŸºæœ¬è¾“å‡ºå­—ç¬¦æµå¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BufferedWriter</span><span class="params">(Writer out)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//sizeï¼Œä»£è¡¨è®¾ç½®å†™å…¥ç¼“å†²å¤§å°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">BufferedWriter</span><span class="params">(Writer out, <span class="type">int</span> size)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è·Ÿç¼“å†²å­—èŠ‚æµå·®ä¸å¤šæ»´ï¼Œæ­¤å¤„çœç•¥å•¦~</p><p><strong>ç¼“å†²å­—ç¬¦æµç‰¹æ®Šä½¿ç”¨</strong></p><p>é’ˆå¯¹æ–‡æœ¬</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedReader</span> <span class="keyword">extends</span> <span class="title class_">Reader</span> &#123;</span><br><span class="line">    <span class="comment">//ä¸€æ¬¡è¯»å–ä¸€è¡Œå­—ç¬¦ä¸²ï¼Œé‡åˆ°æ¢è¡Œç¬¦ä¸ºæ­¢ï¼Œç®—æ˜¯ä¸€è¡Œ</span></span><br><span class="line">    <span class="comment">//è¯¥æ–¹æ³•çš„è¿”å›å€¼ï¼Œã€ä¸ä¼šã€‘åŒ…å«å›è½¦æ¢è¡Œï¼ˆ\r\nï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">readLine</span><span class="params">()</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BufferedWriter</span> <span class="keyword">extends</span> <span class="title class_">Writer</span> &#123;</span><br><span class="line">    <span class="comment">//å†™å…¥ä¸€è¡Œ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">write</span><span class="params">(String line)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¦‚æœä¸‹ä¸€è¡Œæ˜¯ç©ºè¡Œï¼Œ<strong>readLine</strong>æ–¹æ³•è¿”å›ç©ºå­—ç¬¦ä¸²ï¼Œä¹Ÿå°±æ˜¯<strong>String line &#x3D; â€œâ€</strong></li><li>å¦‚æœæ²¡æœ‰ä¸‹ä¸€è¡Œæ•°æ®äº†ï¼Œ<strong>readLine</strong>æ–¹æ³•è¿”å›<strong>null</strong></li></ul><p>æ¡ˆä¾‹æè¿°ï¼šç»“åˆå­—ç¬¦ç¼“å­˜æµè¯»ä¸€è¡Œç‰¹æ€§ï¼Œå®Œæˆæ–‡ä»¶çš„æ‹·è´</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test025_BufferedCopy</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">BufferedWriter</span> <span class="variable">bw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/èƒŒå½±.txt&quot;</span>);</span><br><span class="line">            <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/èƒŒå½±Copy.txt&quot;</span>);</span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(f1));</span><br><span class="line">            bw = <span class="keyword">new</span> <span class="title class_">BufferedWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(f2));</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// bw.write(line);</span></span><br><span class="line">                <span class="comment">// bw.write(line + &quot;\n&quot;); // ä¸åŒçš„æ“ä½œç³»ç»Ÿæ¢è¡Œå¯èƒ½ä¸ä¸€æ ·</span></span><br><span class="line">                bw.write(line);</span><br><span class="line">                bw.newLine(); <span class="comment">// æ’å…¥æ¢è¡Œç¬¦ï¼Œä¼šæ ¹æ®ç³»ç»Ÿè‡ªåŠ¨åˆ¤å®š</span></span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            bw.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (bw != <span class="literal">null</span>) &#123;</span><br><span class="line">                bw.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (br != <span class="literal">null</span>) &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;success copy!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸€èˆ¬BufferedReaderå’ŒPrintWriterè¿ç”¨ï¼ŒåŸå› <strong>PrintWriterè‡ªå¸¦æ¢è¡ŒåŠŸèƒ½</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">PrintWriter</span> <span class="keyword">extends</span> <span class="title class_">Writer</span> &#123;</span><br><span class="line">    <span class="comment">/*printlnæ–¹æ³•é‡è½½*/</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">println</span><span class="params">()</span> &#123;</span><br><span class="line">        newLine();<span class="comment">//æ¢è¡ŒåŠŸèƒ½</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">println</span><span class="params">(<span class="type">boolean</span> x)</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">            print(x);</span><br><span class="line">            println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">println</span><span class="params">(String x)</span> &#123;</span><br><span class="line">        <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">            print(x);</span><br><span class="line">            println();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test0205_PrintWriter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">br</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">pw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="type">File</span> <span class="variable">f1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/èƒŒå½±.txt&quot;</span>);</span><br><span class="line">            <span class="type">File</span> <span class="variable">f2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/èƒŒå½±Copy.txt&quot;</span>);</span><br><span class="line">            br = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(<span class="keyword">new</span> <span class="title class_">FileReader</span>(f1));</span><br><span class="line">            pw = <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(<span class="keyword">new</span> <span class="title class_">FileWriter</span>(f2));</span><br><span class="line">            <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">            <span class="keyword">while</span> ((line = br.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">                <span class="comment">// pw.write(line);</span></span><br><span class="line">                pw.println(line);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            pw.flush();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (FileNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            <span class="keyword">if</span> (pw != <span class="literal">null</span>) &#123;</span><br><span class="line">                pw.close();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">if</span> (br != <span class="literal">null</span>) &#123;</span><br><span class="line">                br.close();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;success copy!&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p><strong>å­—ç¬¦æ•°ç»„æµï¼š</strong></p><p>ä½¿ç”¨å­—ç¬¦æµï¼Œä»<strong>å­—ç¬¦æ•°ç»„</strong>ä¸­è¯»å–æ•°æ®ï¼Œä»¥åŠå‘<strong>å­—ç¬¦æ•°ç»„</strong>ä¸­å†™æ•°æ®ã€‚</p><ul><li>java.io.<strong>CharArrayReader</strong> è´Ÿè´£ä»å­—ç¬¦æ•°ç»„ä¸­è¯»å–æ•°æ®</li><li>java.io.<strong>CharArrayWriter</strong> è´Ÿè´£æŠŠæ•°æ®å†™å…¥åˆ°å­—ç¬¦æ•°ç»„ä¸­</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test029_CharArray</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Reader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Writer</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">char</span>[] arr = <span class="string">&quot;hello China I love you&quot;</span>.toCharArray();</span><br><span class="line">        in = <span class="keyword">new</span> <span class="title class_">CharArrayReader</span>(arr);</span><br><span class="line">        out = <span class="keyword">new</span> <span class="title class_">CharArrayWriter</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">        <span class="type">char</span>[] cbuf = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">1024</span>];</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">// è¿”å›æœ¬æ¬¡ä¸€å…±è¯»äº†å¤šå°‘ä¸ªå­—èŠ‚</span></span><br><span class="line">            in.read(cbuf);</span><br><span class="line">            <span class="comment">// å°†æ•°æ®å†™å…¥åˆ°äº† outå¯¹è±¡ä¸­çš„å±æ€§é‡Œé¢ï¼Œè¯¥å±æ€§æ˜¯ä¸€ä¸ªå­—ç¬¦æ•°ç»„</span></span><br><span class="line">            out.write(cbuf, <span class="number">0</span>, len);</span><br><span class="line">            out.flush();</span><br><span class="line"></span><br><span class="line">            <span class="comment">// CharArrayWriterä¸­çš„toCharArrayæ–¹æ³•ï¼Œå¯ä»¥å°†å†™å…¥åˆ°outå¯¹è±¡ä¸­çš„æ•°æ®è¿”å›</span></span><br><span class="line">            <span class="type">char</span>[] chars = ((CharArrayWriter) out).toCharArray();</span><br><span class="line">            System.out.println(Arrays.toString(chars));</span><br><span class="line"></span><br><span class="line">        &#125; <span class="keyword">catch</span> (IOException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">finally</span> &#123;</span><br><span class="line">            out.close();</span><br><span class="line">            in.close();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§‚å¯Ÿ <strong>CharArrayWriter</strong> æºç ï¼ŒæŸ¥çœ‹ <strong>toCharArray</strong> æ–¹æ³•æ˜¯å¦‚ä½•å®ç°çš„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * Returns a copy of the input data.</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> an array of chars copied from the input data.</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">char</span> <span class="title function_">toCharArray</span><span class="params">()</span>[] &#123; </span><br><span class="line">    <span class="keyword">synchronized</span> (lock) &#123;</span><br><span class="line">        <span class="keyword">return</span> Arrays.copyOf(buf, count); <span class="comment">// ç›´æ¥æ˜¯å¤åˆ¶ä¸€ä»½å‡ºæ¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="è½¬æ¢æµ"><a href="#è½¬æ¢æµ" class="headerlink" title="è½¬æ¢æµ"></a>è½¬æ¢æµ</h2><blockquote><p><strong>1ï¼‰å­—ç¬¦ç¼–ç å’Œå­—ç¬¦é›†</strong></p><p>è®¡ç®—æœºä¸­å‚¨å­˜çš„ä¿¡æ¯éƒ½æ˜¯ç”¨äºŒè¿›åˆ¶æ•°è¡¨ç¤ºçš„ï¼Œè€Œæˆ‘ä»¬åœ¨å±å¹•ä¸Šçœ‹åˆ°çš„æ•°å­—ã€è‹± æ–‡ã€æ ‡ç‚¹ç¬¦å·ã€æ±‰å­—ç­‰å­—ç¬¦æ˜¯äºŒè¿›åˆ¶æ•°è½¬æ¢ä¹‹åçš„ç»“æœã€‚æŒ‰ç…§æŸç§è§„åˆ™ï¼Œå°†å­—ç¬¦ å­˜å‚¨åˆ°è®¡ç®—æœºä¸­ï¼Œç§°ä¸º<strong>ç¼–ç </strong> ã€‚åä¹‹ï¼Œå°†å­˜å‚¨åœ¨è®¡ç®—æœºä¸­çš„äºŒè¿›åˆ¶æ•°æŒ‰ç…§æŸç§è§„ åˆ™è§£ææ˜¾ç¤ºå‡ºæ¥ï¼Œç§°ä¸º<strong>è§£ç </strong> ã€‚æ¯”å¦‚è¯´ï¼ŒæŒ‰ç…§Aè§„åˆ™å­˜å‚¨ï¼ŒåŒæ ·æŒ‰ç…§Aè§„åˆ™è§£æï¼Œé‚£ä¹ˆå°±èƒ½æ˜¾ç¤ºæ­£ç¡®çš„æ–‡æœ¬ç¬¦å·ã€‚åä¹‹ï¼ŒæŒ‰ç…§Aè§„åˆ™å­˜å‚¨ï¼Œå†æŒ‰ç…§Bè§„åˆ™è§£æï¼Œå°± ä¼šå¯¼è‡´ä¹±ç ç°è±¡ã€‚</p><p>ç¼–ç :å­—ç¬¦(èƒ½çœ‹æ‡‚çš„)â€“å­—èŠ‚(çœ‹ä¸æ‡‚çš„)</p><p>è§£ç :å­—èŠ‚(çœ‹ä¸æ‡‚çš„)â€“&gt;å­—ç¬¦(èƒ½çœ‹æ‡‚çš„)</p><ul><li>å­—ç¬¦ç¼–ç  <strong>Character Encoding</strong> : å°±æ˜¯ä¸€å¥—è‡ªç„¶è¯­è¨€çš„å­—ç¬¦ä¸äºŒè¿›åˆ¶æ•°ä¹‹é—´çš„å¯¹åº”è§„åˆ™ã€‚</li><li>å­—ç¬¦é›† <strong>Charset</strong> ï¼šä¹Ÿå«<strong>ç¼–ç è¡¨</strong>ã€‚æ˜¯ä¸€ä¸ªç³»ç»Ÿæ”¯æŒçš„æ‰€æœ‰å­—ç¬¦çš„é›†åˆï¼ŒåŒ…æ‹¬ å„å›½å®¶æ–‡å­—ã€æ ‡ç‚¹ç¬¦å·ã€å›¾å½¢ç¬¦å·ã€æ•°å­—ç­‰ã€‚<ul><li>ç¼–ç è¡¨:ç”Ÿæ´»ä¸­æ–‡å­—å’Œè®¡ç®—æœºä¸­äºŒè¿›åˆ¶çš„å¯¹åº”è§„åˆ™</li></ul></li></ul><p>è®¡ç®—æœºè¦å‡†ç¡®çš„å­˜å‚¨å’Œè¯†åˆ«å„ç§å­—ç¬¦é›†ç¬¦å·ï¼Œéœ€è¦è¿›è¡Œå­—ç¬¦ç¼–ç ï¼Œä¸€å¥—å­—ç¬¦é›†å¿… ç„¶è‡³å°‘æœ‰ä¸€å¥—å­—ç¬¦ç¼–ç ã€‚å¸¸è§å­—ç¬¦é›†æœ‰<strong>ASCIIå­—ç¬¦é›†ã€GBKå­—ç¬¦é›†ã€Unicodeå­—ç¬¦ é›†</strong>ç­‰ã€‚</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230823091329197.png" alt="image-20230823091329197"></p><p>å¯è§ï¼Œå½“æŒ‡å®šäº†<strong>ç¼–ç </strong>ï¼Œå®ƒæ‰€å¯¹åº”çš„<strong>å­—ç¬¦é›†</strong>è‡ªç„¶å°±æŒ‡å®šäº†ï¼Œæ‰€ä»¥<strong>ç¼–ç </strong>æ‰æ˜¯æˆ‘ä»¬æœ€ç»ˆè¦å…³å¿ƒçš„ã€‚</p><ul><li>ASCIIå­—ç¬¦é›† ï¼š<ul><li>ASCIIï¼ˆAmerican Standard Code for Information Interchangeï¼Œç¾å›½ä¿¡æ¯äº¤ æ¢æ ‡å‡†ä»£ç ï¼‰æ˜¯åŸºäºæ‹‰ä¸å­—æ¯çš„ä¸€å¥—ç”µè„‘ç¼–ç ç³»ç»Ÿï¼Œç”¨äºæ˜¾ç¤ºç°ä»£è‹± è¯­ï¼Œä¸»è¦åŒ…æ‹¬æ§åˆ¶å­—ç¬¦ï¼ˆå›è½¦é”®ã€é€€æ ¼ã€æ¢è¡Œé”®ç­‰ï¼‰å’Œå¯æ˜¾ç¤ºå­—ç¬¦ï¼ˆè‹± æ–‡å¤§å°å†™å­—ç¬¦ã€é˜¿æ‹‰ä¼¯æ•°å­—å’Œè¥¿æ–‡ç¬¦å·ï¼‰ã€‚</li><li>åŸºæœ¬çš„ASCIIå­—ç¬¦é›†ï¼Œä½¿ç”¨7ä½ï¼ˆbitsï¼‰è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…±128å­—ç¬¦ã€‚ASCII çš„æ‰©å±•å­—ç¬¦é›†ä½¿ç”¨8ä½ï¼ˆbitsï¼‰è¡¨ç¤ºä¸€ä¸ªå­—ç¬¦ï¼Œå…±256å­—ç¬¦ï¼Œæ–¹ä¾¿æ”¯æŒæ¬§æ´² å¸¸ç”¨å­—ç¬¦ã€‚</li></ul></li><li>ISO-8859-1å­—ç¬¦é›†ï¼š<ul><li>æ‹‰ä¸ç è¡¨ï¼Œåˆ«åLatin-1ï¼Œç”¨äºæ˜¾ç¤ºæ¬§æ´²ä½¿ç”¨çš„è¯­è¨€ï¼ŒåŒ…æ‹¬è·å…°ã€ä¸¹éº¦ã€ å¾·è¯­ã€æ„å¤§åˆ©è¯­ã€è¥¿ç­ç‰™è¯­ç­‰ã€‚</li><li>ISO-8859-1ä½¿ç”¨å•å­—èŠ‚ç¼–ç ï¼Œå…¼å®¹ASCIIç¼–ç ã€‚</li></ul></li><li>GBxxxå­—ç¬¦é›†ï¼š<ul><li>GBå°±æ˜¯å›½æ ‡çš„æ„æ€ï¼Œæ˜¯ä¸ºäº†æ˜¾ç¤ºä¸­æ–‡è€Œè®¾è®¡çš„ä¸€å¥—å­—ç¬¦é›†ã€‚</li><li>GB2312ï¼šç®€ä½“ä¸­æ–‡ç è¡¨ã€‚ä¸€ä¸ªå°äº127çš„å­—ç¬¦çš„æ„ä¹‰ä¸åŸæ¥ç›¸åŒã€‚ä½†ä¸¤ ä¸ªå¤§äº127çš„å­—ç¬¦è¿åœ¨ä¸€èµ·æ—¶ï¼Œå°±è¡¨ç¤ºä¸€ä¸ªæ±‰å­—ï¼Œè¿™æ ·å¤§çº¦å¯ä»¥ç»„åˆäº†åŒ… å«7000å¤šä¸ªç®€ä½“æ±‰å­—ï¼Œæ­¤å¤–æ•°å­¦ç¬¦å·ã€ç½—é©¬å¸Œè…Šçš„å­—æ¯ã€æ—¥æ–‡çš„å‡åä»¬ éƒ½ç¼–è¿›å»äº†ï¼Œè¿åœ¨ASCIIé‡Œæœ¬æ¥å°±æœ‰çš„æ•°å­—ã€æ ‡ç‚¹ã€å­—æ¯éƒ½ç»Ÿç»Ÿé‡æ–°ç¼–äº† ä¸¤ä¸ªå­—èŠ‚é•¿çš„ç¼–ç ï¼Œè¿™å°±æ˜¯å¸¸è¯´çš„â€<strong>å…¨è§’</strong>â€œå­—ç¬¦ï¼Œè€ŒåŸæ¥åœ¨127å·ä»¥ä¸‹çš„é‚£ äº›å°±å«â€<strong>åŠè§’</strong>â€œå­—ç¬¦äº†ã€‚</li><li>GBKï¼šæœ€å¸¸ç”¨çš„ä¸­æ–‡ç è¡¨ã€‚æ˜¯åœ¨GB2312æ ‡å‡†åŸºç¡€ä¸Šçš„æ‰©å±•è§„èŒƒï¼Œä½¿ç”¨äº† åŒå­—èŠ‚ç¼–ç æ–¹æ¡ˆï¼Œå…±æ”¶å½•äº†21003ä¸ªæ±‰å­—ï¼Œå®Œå…¨å…¼å®¹GB2312æ ‡å‡†ï¼ŒåŒæ—¶æ”¯ æŒç¹ä½“æ±‰å­—ä»¥åŠæ—¥éŸ©æ±‰å­—ç­‰ã€‚</li><li>GB18030ï¼šæœ€æ–°çš„ä¸­æ–‡ç è¡¨ã€‚æ”¶å½•æ±‰å­—70244ä¸ªï¼Œé‡‡ç”¨å¤šå­—èŠ‚ç¼–ç ï¼Œæ¯ä¸ª å­—å¯ä»¥ç”±1ä¸ªã€2ä¸ªæˆ–4ä¸ªå­—èŠ‚ç»„æˆã€‚æ”¯æŒä¸­å›½å›½å†…å°‘æ•°æ°‘æ—çš„æ–‡å­—ï¼ŒåŒæ—¶ æ”¯æŒç¹ä½“æ±‰å­—ä»¥åŠæ—¥éŸ©æ±‰å­—ç­‰ã€‚</li></ul></li><li>Unicodeå­—ç¬¦é›† ï¼š<ul><li>Unicodeç¼–ç ç³»ç»Ÿä¸ºè¡¨è¾¾ä»»æ„è¯­è¨€çš„ä»»æ„å­—ç¬¦è€Œè®¾è®¡ï¼Œæ˜¯ä¸šç•Œçš„ä¸€ç§æ ‡ å‡†ï¼Œä¹Ÿç§°ä¸ºç»Ÿä¸€ç ã€æ ‡å‡†ä¸‡å›½ç ã€‚</li><li>å®ƒæœ€å¤šä½¿ç”¨4ä¸ªå­—èŠ‚çš„æ•°å­—æ¥è¡¨è¾¾æ¯ä¸ªå­—æ¯ã€ç¬¦å·ï¼Œæˆ–è€…æ–‡å­—ã€‚æœ‰ä¸‰ç§ç¼– ç æ–¹æ¡ˆï¼ŒUTF-8ã€UTF-16å’ŒUTF-32ã€‚æœ€ä¸ºå¸¸ç”¨çš„UTF-8ç¼–ç ã€‚</li><li>UTF-8ç¼–ç ï¼Œå¯ä»¥ç”¨æ¥è¡¨ç¤ºUnicodeæ ‡å‡†ä¸­ä»»ä½•å­—ç¬¦ï¼Œå®ƒæ˜¯ç”µå­é‚®ä»¶ã€ç½‘ é¡µåŠå…¶ä»–å­˜å‚¨æˆ–ä¼ é€æ–‡å­—çš„åº”ç”¨ä¸­ï¼Œä¼˜å…ˆé‡‡ç”¨çš„ç¼–ç ã€‚äº’è”ç½‘å·¥ç¨‹å·¥ä½œ å°ç»„ï¼ˆIETFï¼‰è¦æ±‚æ‰€æœ‰äº’è”ç½‘åè®®éƒ½å¿…é¡»æ”¯æŒUTF-8ç¼–ç ã€‚æ‰€ä»¥ï¼Œæˆ‘ä»¬å¼€ å‘Webåº”ç”¨ï¼Œä¹Ÿè¦ä½¿ç”¨UTF-8ç¼–ç ã€‚å®ƒä½¿ç”¨ä¸€è‡³å››ä¸ªå­—èŠ‚ä¸ºæ¯ä¸ªå­—ç¬¦ç¼– ç ï¼Œç¼–ç è§„åˆ™ï¼š<ul><li>128ä¸ªUS-ASCIIå­—ç¬¦ï¼Œåªéœ€ä¸€ä¸ªå­—èŠ‚ç¼–ç ã€‚</li><li>æ‹‰ä¸æ–‡ç­‰å­—ç¬¦ï¼Œéœ€è¦äºŒä¸ªå­—èŠ‚ç¼–ç ã€‚</li><li>å¤§éƒ¨åˆ†å¸¸ç”¨å­—ï¼ˆå«ä¸­æ–‡ï¼‰ï¼Œä½¿ç”¨ä¸‰ä¸ªå­—èŠ‚ç¼–ç ã€‚</li><li>å…¶ä»–æå°‘ä½¿ç”¨çš„Unicodeè¾…åŠ©å­—ç¬¦ï¼Œä½¿ç”¨å››å­—èŠ‚ç¼–ç ã€‚</li></ul></li></ul></li></ul></blockquote><blockquote><p><strong>2ï¼‰ç¼–ç å¼•å‡ºçš„é—®é¢˜</strong></p><p>ä½¿ç”¨ <strong>FileReader</strong> è¯»å–é¡¹ç›®ä¸­çš„æ–‡æœ¬æ–‡ä»¶ã€‚ç”±äºè½¯ä»¶çš„è®¾ç½®ï¼Œéƒ½æ˜¯é»˜è®¤çš„ <strong>UTF-8</strong> ç¼–ç ï¼Œæ‰€ä»¥æ²¡æœ‰ä»»ä½•é—®é¢˜ã€‚ä½†æ˜¯ï¼Œå½“è¯»å–Windowsç³»ç»Ÿä¸­åˆ›å»ºçš„æ–‡æœ¬æ–‡ä»¶ æ—¶ï¼Œç”±äºWindowsç³»ç»Ÿçš„é»˜è®¤æ˜¯GBKç¼–ç ï¼Œå°±ä¼šå‡ºç°ä¹±ç ã€‚</p><p>ä¸ºæ–¹ä¾¿æµ‹è¯•ï¼Œé¦–å…ˆå°†æ–‡ä»¶å¦å­˜ä¸ºæ—¶é€‰æ‹©ç¼–ç ä¸ºgbkç¼–ç ï¼Œç„¶åä»£ç é»˜è®¤å»è¯»å–</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test027_GbkToUtf8</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">FileReader</span> <span class="variable">fileReader</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileReader</span>(<span class="string">&quot;src/dir/a.txt&quot;</span>);</span><br><span class="line">        <span class="type">int</span> read;</span><br><span class="line">        <span class="keyword">while</span> ((read = fileReader.read()) != -<span class="number">1</span>) &#123;</span><br><span class="line">            System.out.print((<span class="type">char</span>) read);</span><br><span class="line">        &#125;</span><br><span class="line">        fileReader.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//       ï¿½   @%       a helloï¼Œä¸­å›½</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><p><strong>å­—èŠ‚å­—ç¬¦è½¬æ¢</strong></p><ul><li><strong>java.io.OutputStreamWriter</strong>, å¯ä»¥å°†<strong>å­—èŠ‚è¾“å‡ºæµâ€”&gt;ä¸ºå­—ç¬¦è¾“å‡ºæµ</strong>ï¼Œå¹¶æŒ‡å®šç¼–ç </li><li><strong>java.io.InputStreamReader</strong>, å¯ä»¥å°†<strong>å­—èŠ‚è¾“å…¥æµâ€”-&gt;ä¸ºå­—ç¬¦è¾“å…¥æµ</strong>ï¼Œå¹¶æŒ‡å®šç¼–ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">InputStreamReader</span> <span class="keyword">extends</span> <span class="title class_">Reader</span> &#123;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨é»˜è®¤ç¼–ç è½¬æ¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in)</span> &#123;</span><br><span class="line">        <span class="comment">//ç•¥...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨æŒ‡å®šç¼–ç è½¬æ¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">InputStreamReader</span><span class="params">(InputStream in, String charsetName)</span>&#123;</span><br><span class="line">        <span class="comment">//ç•¥...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OutputStreamWriter</span> <span class="keyword">extends</span> <span class="title class_">Writer</span> &#123;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨é»˜è®¤ç¼–ç è½¬æ¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OutputStreamWriter</span><span class="params">(OutputStream in)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä½¿ç”¨æŒ‡å®šç¼–ç è½¬æ¢</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">OutputStreamWriter</span><span class="params">(OutputStream in, String charsetName)</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå®ƒçš„æ„é€ å™¨å‚æ•°ï¼Œè¦æ±‚ä¼ å…¥ä¸€ä¸ªéœ€è¦è½¬æ¢çš„å­—èŠ‚è¾“å‡ºæµï¼Œå’Œä¸€ æŒ‡å®šçš„å­—ç¬¦ç¼–ç </p><p>æŒ‡å®šç¼–ç è¯»å–æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test027_InputStreamReader</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="comment">// 1.å£°æ˜æµ</span></span><br><span class="line">        <span class="type">BufferedReader</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// è½¬æ¢æµï¼ŒåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦æµ</span></span><br><span class="line">        <span class="type">InputStreamReader</span>  <span class="variable">isr</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// 2.åˆ›å»ºæµ</span></span><br><span class="line">        <span class="comment">// åˆ›å»ºæ–‡ä»¶å¯¹è±¡</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span>  <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/File_GBK.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// å°†å­—èŠ‚æµè½¬æ¢ä¸ºå­—ç¬¦æµï¼ˆç¼–ç é€‰æ‹©GBKæˆ–è€…UTF-8è¯•è¯•ï¼‰</span></span><br><span class="line">        <span class="comment">//æ³¨æ„ï¼šè½¬æ¢çš„è¦å’Œæ–‡ä»¶æœ¬èº«ç¼–ç ä¸€è‡´</span></span><br><span class="line">        isr = <span class="keyword">new</span> <span class="title class_">InputStreamReader</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        <span class="comment">// â€œåŒ…è£¹â€è½¬æ¢æµï¼Œå¢å¼ºè¿™ä¸ªå­—ç¬¦æµçš„åŠŸèƒ½ï¼Œå¯ä»¥ä¸€æ¬¡è¯»å‡ºä¸€è¡Œå­—</span></span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼Œè½¬æ¢æµåŒæ—¶ä¹Ÿæ˜¯ä¸€ä¸ªå­—ç¬¦æµ</span></span><br><span class="line">        in = <span class="keyword">new</span> <span class="title class_">BufferedReader</span>(isr);</span><br><span class="line">        <span class="type">String</span> <span class="variable">line</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="keyword">while</span> ((line = in.readLine()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            System.out.println(line);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å…³é—­æµ</span></span><br><span class="line">        isr.close();</span><br><span class="line">        in.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä½ å¥½ï¼Œä¸­å›½</span></span><br></pre></td></tr></table></figure><p>æŒ‡å®šç¼–ç å†™å…¥æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test027_OutputStreamWriter</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">PrintWriter</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">OutputStreamWriter</span> <span class="variable">osw</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/File_GBK.txt&quot;</span>);</span><br><span class="line">        osw =  <span class="keyword">new</span> <span class="title class_">OutputStreamWriter</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file), <span class="string">&quot;UTF-8&quot;</span>);</span><br><span class="line">        out = <span class="keyword">new</span> <span class="title class_">PrintWriter</span>(osw);</span><br><span class="line">        out.println(<span class="string">&quot;ä½ å¥½ï¼Œç¨‹åºå‘˜ï¼&quot;</span>);</span><br><span class="line">        out.flush();</span><br><span class="line">        osw.close();</span><br><span class="line">        out.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥æŠŠç¼–ç æ”¹ä¸ºGBKï¼Œè¿è¡ŒæŸ¥çœ‹æ–‡ä»¶çš„å†…å®¹ï¼Œè§‚å¯Ÿæœ‰ä»€ä¹ˆä¸ä¸€æ ·çš„åœ°æ–¹</p></blockquote><h2 id="æ•°æ®æµ"><a href="#æ•°æ®æµ" class="headerlink" title="æ•°æ®æµ"></a>æ•°æ®æµ</h2><blockquote><p><strong>DataOutputStream</strong> è´Ÿè´£æŠŠæŒ‡å®šç±»å‹æ•°æ®ï¼Œè½¬åŒ–ä¸ºå­—èŠ‚å¹¶å†™å‡ºå»</p><p><strong>DataInputStream</strong> è´Ÿè´£æŠŠè¯»å–åˆ°çš„è‹¥å¹²ä¸ªå­—èŠ‚ï¼Œè½¬åŒ–ä¸ºæŒ‡å®šç±»å‹çš„æ•°æ®</p><p>æ¡ˆä¾‹æè¿°ï¼š</p><p>å®Œæˆå¯¹åº”åŸºæœ¬æ•°æ®ç±»å‹çš„æ–‡ä»¶å­˜å‚¨ï¼Œç„¶åæŒ‰ç…§å¯¹åº”åŸºæœ¬æ•°æ®ç±»å‹è¯»å–æ–‡ä»¶ï¼Œéœ€è¦è§‚ å¯Ÿæ–‡ä»¶å†…å®¹æ ¼å¼æ˜¯å¦å’Œå¹³å¸¸æ–‡æœ¬ç›´æ¥å­˜å…¥æ•°æ®æ˜¯å¦æ•ˆæœä¸€è‡´ï¼ŒåŸå› ä¸ºä½•ï¼Ÿ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test028_DataStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">DataInputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">DataOutputStream</span> <span class="variable">out</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="comment">// åŸºæœ¬æ•°æ®ä»¥åŠå­—ç¬¦ä¸²å†™å…¥æ–‡ä»¶</span></span><br><span class="line">        <span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/a.txt&quot;</span>);</span><br><span class="line">        <span class="comment">// &quot;åŒ…è£¹&quot;æ–‡ä»¶å­—èŠ‚è¾“å‡ºæµï¼Œå¢å¼ºæ•°æ®å†™å‡ºå…±å—¯</span></span><br><span class="line">        out = <span class="keyword">new</span> <span class="title class_">DataOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(file));</span><br><span class="line">        out.writeLong(<span class="number">1000L</span>);</span><br><span class="line">        out.writeInt(<span class="number">5</span>);</span><br><span class="line">        out.writeDouble(<span class="number">10.5D</span>);</span><br><span class="line">        out.writeChar(<span class="string">&#x27;a&#x27;</span>);</span><br><span class="line">        out.writeUTF(<span class="string">&quot;helloï¼Œä¸­å›½&quot;</span>);</span><br><span class="line">        out.flush();</span><br><span class="line">        <span class="comment">// åŸºæœ¬æ•°æ®ä»¥åŠå­—ç¬¦ä¸²è¯»å–æ–‡ä»¶</span></span><br><span class="line">        <span class="comment">// â€œåŒ…è£¹â€æ–‡ä»¶å­—èŠ‚è¾“å…¥æµï¼Œå¢å¼ºè¯»å–æ•°æ®åŠŸèƒ½</span></span><br><span class="line">        in = <span class="keyword">new</span> <span class="title class_">DataInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(file));</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼Œæ•°æ®è¯»å‡ºæ¥çš„é¡ºåºè¦ï¼Œå’Œä¹‹å‰å†™è¿›å»çš„é¡ºåºä¸€è‡´</span></span><br><span class="line">        System.out.println(in.readLong());</span><br><span class="line">        System.out.println(in.readInt());</span><br><span class="line">        System.out.println(in.readDouble());</span><br><span class="line">        System.out.println(in.readChar());</span><br><span class="line">        System.out.println(in.readUTF());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å¯¹è±¡æµ"><a href="#å¯¹è±¡æµ" class="headerlink" title="å¯¹è±¡æµ"></a>å¯¹è±¡æµ</h2><blockquote><p>java.io.<strong>ObjectOutputStream</strong>, å°†Javaå¯¹è±¡è½¬æ¢ä¸ºå­—èŠ‚åºåˆ—ï¼Œå¹¶è¾“å‡ºåˆ°å†…å­˜ã€æ–‡ä»¶ã€ç½‘ç»œç­‰åœ°æ–¹ï¼ˆåºåˆ—åŒ–ï¼‰</p><p>java.io.<strong>ObjectInputStream</strong>ï¼Œä»æŸä¸ªåœ°æ–¹è¯»å–å‡ºå¯¹è±¡çš„å­—èŠ‚åºåˆ—ï¼Œå¹¶ç”Ÿæˆå¯¹åº”çš„å¯¹è±¡ã€‚(ååºåˆ—åŒ–)</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectOutputStream</span> <span class="keyword">extends</span> <span class="title class_">OutputStream</span> <span class="keyword">implements</span> <span class="title class_">ObjectOutput</span>,</span><br><span class="line">ObjectStreamConstants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ObjectOutputStream</span><span class="params">(OutputStream out)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//åºåˆ—åŒ–æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">writeObject</span><span class="params">(Object obj)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ObjectInputStream</span> <span class="keyword">extends</span> <span class="title class_">InputStream</span> <span class="keyword">implements</span> <span class="title class_">ObjectInput</span>,</span><br><span class="line">ObjectStreamConstants</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ObjectInputStream</span><span class="params">(InputStream in)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ååºåˆ—åŒ–æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> Object <span class="title function_">readObject</span><span class="params">()</span><span class="keyword">throws</span> IOException, ClassNotFoundException&#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p><strong>åºåˆ—åŒ–æœºåˆ¶</strong></p><blockquote><p>Java æä¾›äº†ä¸€ç§å¯¹è±¡åºåˆ—åŒ–çš„æœºåˆ¶ï¼Œå¯ä»¥å°†å¯¹è±¡å’Œå­—èŠ‚åºåˆ—ä¹‹é—´è¿›è¡Œè½¬æ¢ï¼š</p><ul><li>åºåˆ—åŒ–</li></ul><p>ç¨‹åºä¸­ï¼Œå¯ä»¥ç”¨ä¸€ä¸ªå­—èŠ‚åºåˆ—æ¥è¡¨ç¤ºä¸€ä¸ªå¯¹è±¡ï¼Œè¯¥å­—èŠ‚åºåˆ—åŒ…å«äº†å¯¹è±¡çš„ç±»å‹ã€å¯¹è±¡ä¸­çš„æ•°æ®ç­‰ã€‚å¦‚æœè¿™ä¸ªå­—èŠ‚åºåˆ—å†™å‡ºåˆ°æ–‡ä»¶ä¸­ï¼Œå°±ç›¸å½“äºåœ¨æ–‡ä»¶ä¸­ä¿å­˜äº†è¿™ä¸ªå¯¹è±¡çš„ä¿¡æ¯ã€‚</p><ul><li>ååºåˆ—åŒ–</li></ul><p>ç›¸åçš„è¿‡ç¨‹ï¼Œä»æ–‡ä»¶ä¸­å°†è¿™ä¸ªå­—èŠ‚åºåˆ—è¯»å–å›æ¥ï¼Œåœ¨å†…å­˜ä¸­é‡æ–°ç”Ÿæˆè¿™ä¸ªå¯¹è±¡ï¼Œå¯¹è±¡çš„ç±»å‹ã€å¯¹è±¡ä¸­çš„æ•°æ®ç­‰ï¼Œéƒ½å’Œä¹‹å‰çš„é‚£ä¸ªå¯¹è±¡ä¿æŒä¸€è‡´ã€‚ï¼ˆ<strong>æ³¨æ„ï¼Œè¿™æ—¶å€™çš„å¯¹è±¡å’Œä¹‹å‰çš„å¯¹è±¡ï¼Œå†…å­˜åœ°å€å¯èƒ½æ˜¯ä¸åŒçš„</strong>ï¼‰</p><p><img src="/2023/08/13/11-File-IO%E6%B5%81/image-20230822200953812.png" alt="image-20230822200953812"></p><p>å®Œæˆå¯¹è±¡çš„åºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œå°±éœ€è¦ç”¨åˆ°å¯¹è±¡æµäº†</p></blockquote><p><strong>åºåˆ—åŒ–è¦æ±‚</strong></p><blockquote><p>åœ¨javaä¸­ï¼Œå¹¶éæ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥è¿›è¡Œåºåˆ—åŒ–å’Œååºåˆ—åŒ–ï¼Œè€Œæ˜¯åªæœ‰å®ç°äº†æŒ‡å®šæ¥å£çš„å¯¹è±¡æ‰å¯ä»¥è¿›è¡Œ</p><p><strong>java.io.Serializable</strong> æ¥å£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¥å£ä¸­æ²¡æœ‰æŠ½è±¡æ–¹æ³•ï¼Œè¿™åªæ˜¯ä¸€ä¸ªâ€œ<strong>æ ‡è¯†</strong>â€æ¥å£ï¼Œå®ç°å®ƒçš„çš„å¯¹è±¡æ‰å¯ä»¥è¿›è¡Œ åºåˆ—åŒ–å’Œååºåˆ—åŒ–æ“ä½œ</p><p>æ¡ˆä¾‹æè¿°ï¼šå°†å­¦ç”Ÿå¯¹è±¡ä¿å­˜åœ¨æ–‡ä»¶ä¸­ï¼Œå¹¶è¯»å–å‡ºæ¥</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test026_ObjectStream</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException, ClassNotFoundException &#123;</span><br><span class="line">        <span class="type">ObjectInputStream</span> <span class="variable">ois</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        <span class="type">ObjectOutputStream</span> <span class="variable">oos</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line">        oos = <span class="keyword">new</span> <span class="title class_">ObjectOutputStream</span>(<span class="keyword">new</span> <span class="title class_">FileOutputStream</span>(<span class="string">&quot;src/dir/stu.txt&quot;</span>));</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;tom&quot;</span>, <span class="string">&quot;123&quot;</span>);</span><br><span class="line">        oos.writeObject(stu);</span><br><span class="line">        <span class="comment">// è¯»å–æ–‡ä»¶ä¸­å¯¹è±¡</span></span><br><span class="line">        ois = <span class="keyword">new</span> <span class="title class_">ObjectInputStream</span>(<span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;src/dir/stu.txt&quot;</span>));</span><br><span class="line">        <span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> ois.readObject();</span><br><span class="line">        <span class="keyword">if</span> (o <span class="keyword">instanceof</span> Student) &#123;</span><br><span class="line">            <span class="type">Student</span> <span class="variable">stu1</span> <span class="operator">=</span> (Student) o;</span><br><span class="line">            System.out.println(stu1);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        oos.close();</span><br><span class="line">        ois.close();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨æ„ï¼Œå¿…é¡»åºåˆ—åŒ–</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line"><span class="comment">// ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼Œå¦‚æœä¸å®ç°è¿™ä¸ªæ¥å£çš„ï¼Œå°†æ¥åºåˆ—åŒ–æ“ä½œä¼šæŠ¥é”™</strong></p></blockquote><p><strong>transientå…³é”®å­—</strong></p><blockquote><p>javaä¸­çš„å…³é”®å­— <strong>transient</strong> ï¼Œå¯ä»¥ä¿®é¥°ç±»ä¸­çš„å±æ€§ï¼Œå®ƒæ˜¯è®©å¯¹è±¡åœ¨è¿›è¡Œ<strong>åºåˆ—åŒ–</strong> çš„æ—¶å€™ï¼Œå¿½ç•¥æ‰æŒ‡å®šçš„<strong>å±æ€§å€¼</strong>ã€‚</p><p>transient çš„å•è¯å«ä¹‰å°±æ˜¯çŸ­æš‚çš„ã€è½¬ç¬å³é€ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="type">int</span> age; <span class="comment">// ç”¨åœ¨åºåˆ—åŒ–çš„æ—¶å€™ åºåˆ—åŒ–å age = 0 ç›¸å½“äºå€¼è¢«æ¶ˆæ‰äº†</span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="éšæœºè®¿é—®æµ"><a href="#éšæœºè®¿é—®æµ" class="headerlink" title="éšæœºè®¿é—®æµ"></a>éšæœºè®¿é—®æµ</h2><blockquote><p><strong>java.io.RandomAccessFile</strong> æ˜¯JavaAPIä¸­é€šæä¾›çš„å¯¹æ–‡ä»¶è¿›è¡Œéšæœºè®¿é—®çš„æµ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.io;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">RandomAccessFile</span> <span class="keyword">implements</span> <span class="title class_">DataOutput</span>,</span><br><span class="line">DataInput, Closeable &#123;</span><br><span class="line">    <span class="comment">//ä¼ å…¥æ–‡ä»¶ä»¥åŠè¯»å†™æ–¹å¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">RandomAccessFile</span><span class="params">(File file, String mode)</span> <span class="keyword">throws</span></span><br><span class="line">        FileNotFoundException&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·³è¿‡poså­—èŠ‚</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">seek</span><span class="params">(<span class="type">long</span> pos)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå®ƒå¹¶<strong>æ²¡æœ‰ç»§æ‰¿</strong>ä¹‹å‰ä»‹ç»åˆ°çš„é‚£å››ä¸ªæŠ½è±¡çˆ¶ç±»å‹</p><p>ä¹‹å‰ä½¿ç”¨çš„æ¯ä¸€ä¸ªæµï¼Œè¦ä¹ˆæ˜¯è¯»æ•°æ®çš„ï¼Œè¦ä¹ˆæ˜¯å†™æ•°æ®çš„ï¼Œè€Œè¿™ä¸ªéšæœºè®¿é—®æµï¼Œå®ƒçš„å¯¹è±¡å³å¯è¯»æ–‡ä»¶ï¼Œåˆå¯å†™æ–‡ä»¶ï¼ŒåŒæ—¶å®ƒè¿˜å¯ä»¥ä»»æ„å®šä½åˆ°æ–‡ä»¶çš„æŸä¸€ä¸ªä½ç½®è¿›è¡Œè¯»æˆ–è€…å†™æ“ä½œ</p><ul><li>å¯¹è±¡å³å¯è¯»ä¹Ÿå¯ä»¥å†™</li><li>éšæœºå®šä½æ–‡ä»¶ä¸­çš„ä»»æ„å­—èŠ‚ä½ç½®è¿›è¡Œè¯»æˆ–å†™ï¼Œå¹¶ä¸”å¯ä»¥å‰ååå¤å®šä½</li></ul><p>åˆ›å»ºè¯¥ç±»çš„å¯¹è±¡æ—¶ï¼Œéœ€è¦æŒ‡å®šè¦æ“ä½œçš„æ–‡ä»¶å’Œæ“ä½œçš„æ¨¡å¼ï¼š</p><ul><li>â€œrâ€ æ¨¡å¼ï¼Œä»¥åªè¯»æ–¹å¼æ¥æ‰“å¼€æŒ‡å®šæ–‡ä»¶å¤¹ã€‚å¦‚æœè¯•å›¾å¯¹è¯¥RandomAccessFileæ‰§ è¡Œå†™å…¥æ–¹æ³•ï¼Œéƒ½å°†æŠ›å‡ºIOExceptionå¼‚å¸¸ã€‚</li><li>â€œrwâ€ æ¨¡å¼ï¼Œä»¥è¯»å†™æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ã€‚å¦‚æœè¯¥æ–‡ä»¶å°šä¸å­˜åœ¨ï¼Œåˆ™è¯•å›¾åˆ›å»ºè¯¥ æ–‡ä»¶ã€‚</li><li>â€œrwsâ€ æ¨¡å¼ï¼Œä»¥è¯»å†™æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ã€‚ç›¸å¯¹äºâ€rwâ€ æ¨¡å¼ï¼Œè¿˜è¦æ±‚å¯¹æ–‡ä»¶å†… å®¹æˆ–å…ƒæ•°æ®çš„æ¯ä¸ªæ›´æ–°éƒ½åŒæ­¥å†™å…¥åˆ°åº•å±‚è®¾å¤‡ã€‚</li><li>â€œrwdâ€ é»˜è®¤ï¼Œä»¥è¯»å†™æ–¹å¼æ‰“å¼€æŒ‡å®šæ–‡ä»¶ã€‚ç›¸å¯¹äºâ€rwâ€ æ¨¡å¼ï¼Œè¿˜è¦æ±‚å¯¹æ–‡ä»¶å†… å®¹æ¯ä¸ªæ›´æ–°éƒ½åŒæ­¥å†™å…¥åˆ°åº•å±‚è®¾å¤‡ã€‚</li></ul><p>æ¡ˆä¾‹æè¿°ï¼š å°†a.txtæ–‡ä»¶å†…å®¹ï¼šhello peter hahaï¼Œä½¿ç”¨éšæœºè®¿é—®æµè¿›è¡Œå†…å®¹æ›¿æ¢ï¼Œå®Œæˆåæ–‡ä»¶ å†…å®¹ï¼šhello parke23</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test028_RandomAccessFile</span> &#123;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line"><span class="type">RandomAccessFile</span> <span class="variable">ras</span> <span class="operator">=</span> <span class="literal">null</span>;</span><br><span class="line"><span class="type">File</span> <span class="variable">file</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">File</span>(<span class="string">&quot;src/dir/a.txt&quot;</span>);</span><br><span class="line"><span class="comment">// æ–‡ä»¶ä¸­è¦æ›¿æ¢æ•°æ®çš„ä½ç½®</span></span><br><span class="line"><span class="type">int</span> <span class="variable">replacePos</span> <span class="operator">=</span> <span class="number">6</span>;</span><br><span class="line"><span class="comment">// æ–‡ä»¶ä¸­è¦æ’å…¥çš„å†…å®¹</span></span><br><span class="line"><span class="type">String</span> <span class="variable">replaceContent</span> <span class="operator">=</span> <span class="string">&quot;parker&quot;</span>;</span><br><span class="line"><span class="comment">// è®¾ç½®randomAccessFileä¸ºè¯»å†™æ¨¡å¼</span></span><br><span class="line">ras = <span class="keyword">new</span> <span class="title class_">RandomAccessFile</span>(file, <span class="string">&quot;rw&quot;</span>);</span><br><span class="line"><span class="type">byte</span>[] buf = <span class="keyword">new</span> <span class="title class_">byte</span>[<span class="number">1024</span>];</span><br><span class="line"><span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line"><span class="comment">// randomAccessFileå®šä½åˆ°è¦æ›¿æ¢æ•°æ®çš„ä½ç½®ï¼Œå‡†å¤‡å»å†™è¦æ›¿æ¢çš„å†…å®¹</span></span><br><span class="line">ras.seek(replacePos);</span><br><span class="line"><span class="comment">// åœ¨æŒ‡å®šä½ç½®ï¼Œå†™å…¥éœ€è¦æ›¿æ¢çš„å†…å®¹ï¼Œè¦†ç›–åŸæ¥æ­¤ä½ç½®ä¸Šçš„å†…å®¹</span></span><br><span class="line">ras.write(replaceContent.getBytes());</span><br><span class="line"><span class="comment">// å›åˆ°å¼€å¤´ï¼Œè¿›è¡Œè¯»æ•°æ®</span></span><br><span class="line">ras.seek(<span class="number">0</span>);</span><br><span class="line"><span class="keyword">while</span>((len = ras.read(buf)) != -<span class="number">1</span>) &#123;</span><br><span class="line"><span class="comment">// System.out.println(new String(buf, 0, len));</span></span><br><span class="line">System.out.write(buf, <span class="number">0</span> ,len);</span><br><span class="line">&#125;</span><br><span class="line">System.out.flush();</span><br><span class="line"><span class="comment">// å…³é—­èµ„æº</span></span><br><span class="line">ras.close();</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// hello parker23</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="Propertiesç±»"><a href="#Propertiesç±»" class="headerlink" title="Propertiesç±»"></a>Propertiesç±»</h2><blockquote><p><strong>è¿™ä¸ªç±»ä¸å±äºæµï¼Œæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªé”®å€¼å¯¹é›†åˆ</strong>ï¼ŒHashtableçš„å­ç±»ï¼Œåœ¨å®é™…å¼€å‘ä¸­æˆ‘ä»¬ç”¨æ¥å¤„ç†é…ç½®æ–‡ä»¶</p><p>å¯ä»¥ç»“åˆå›ºå®šæ–‡æœ¬ç»“æ„è·å–æ•°æ® åˆ›å»ºæ–‡ä»¶db.propertiesæ–‡ä»¶ï¼Œå†…å®¹å¦‚ä¸‹</p><figure class="highlight properties"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="attr">driver</span>=<span class="string">com.mysql.cj.jdbc.Driver</span></span><br><span class="line"><span class="attr">url</span>=<span class="string">127.0.0.1</span></span><br><span class="line"><span class="attr">username</span>=<span class="string">lwsj</span></span><br><span class="line"><span class="attr">password</span>=<span class="string">lwsj</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹æè¿°ï¼šé€šè¿‡Propertiesç±»åŠ è½½db.propertiesæ–‡ä»¶ï¼Œè·å–æ–‡ä»¶å†…å®¹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test028_Properties</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> IOException &#123;</span><br><span class="line">        <span class="type">Properties</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Properties</span>();</span><br><span class="line">        <span class="comment">// æµåŠ è½½æ–‡ä»¶</span></span><br><span class="line">        <span class="type">InputStream</span> <span class="variable">in</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">FileInputStream</span>(<span class="string">&quot;src/dir/db.properties&quot;</span>);</span><br><span class="line">        <span class="comment">// è·å–æµå¯¹è±¡</span></span><br><span class="line">        p.load(in);</span><br><span class="line">        <span class="type">String</span> <span class="variable">driver</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;driver&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">url</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;url&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">username</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;username&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">password</span> <span class="operator">=</span> p.getProperty(<span class="string">&quot;password&quot;</span>);</span><br><span class="line">        System.out.println(driver + <span class="string">&quot;--&quot;</span> + url + <span class="string">&quot;--&quot;</span> + username + <span class="string">&quot;--&quot;</span> + password);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// com.mysql.cj.jdbc.Driver--127.0.0.1:8080--lwsj--lwsj</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>æ¬²ç©·åƒé‡Œç›®ï¼Œæ›´ä¸Šä¸€å±‚æ¥¼ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>10-å¤šçº¿ç¨‹</title>
      <link href="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/"/>
      <url>/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaé«˜çº§ç¼–ç¨‹ï¼Œçµæ´»è¿ç”¨åå°„ï¼Œçº¿ç¨‹ï¼ŒIOå’Œç½‘ç»œç­‰è¿›è¡Œç¼–ç¨‹</p></blockquote><h1 id="è¿›ç¨‹çº¿ç¨‹"><a href="#è¿›ç¨‹çº¿ç¨‹" class="headerlink" title="è¿›ç¨‹çº¿ç¨‹"></a>è¿›ç¨‹çº¿ç¨‹</h1><blockquote><ul><li>è¿›ç¨‹</li></ul><p>è¿›ç¨‹æ˜¯æŒ‡ä¸€ä¸ªå†…å­˜ä¸­è¿è¡Œçš„åº”ç”¨ç¨‹åºï¼Œ<strong>å®ƒæ˜¯èµ„æºåˆ†é…çš„æœ€å°å•ä½</strong></p><p>ä¸€ä¸ªç¨‹åºä»åˆ›å»ºã€è¿è¡Œåˆ°æ¶ˆäº¡ï¼Œè¿™æ ·æ•´ä¸ªè¿‡ç¨‹å°±æ˜¯ä¸€ä¸ªè¿›ç¨‹</p><p>ä¸€ä¸ªæ“ä½œç³»ç»Ÿä¸­å¯ä»¥åŒæ—¶è¿è¡Œ<strong>å¤šä¸ªè¿›ç¨‹</strong>ï¼Œæ¯ä¸ªè¿›ç¨‹è¿è¡Œæ—¶ï¼Œç³»ç»Ÿéƒ½ä¼šä¸ºå…¶<strong>åˆ†é…ç‹¬ç«‹çš„å†…å­˜ç©ºé—´</strong>ã€‚</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815160146487.png" alt="image-20230815160146487"></p><p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå¯åŠ¨ä¸€ä¸ªåº”ç”¨ç¨‹åºçš„æ—¶å€™ï¼Œä¼šæœ‰ä¸€ä¸ªæˆ–å¤šä¸ªè¿›ç¨‹åŒæ—¶è¢«åˆ› å»ºï¼Œè¿™äº›è¿›ç¨‹å…¶å®å°±è¡¨ç¤ºäº†å½“å‰è¿™ä¸ªåº”ç”¨ç¨‹åºï¼Œåœ¨ç³»ç»Ÿä¸­çš„èµ„æºä½¿ç”¨æƒ…å†µ ä»¥åŠç¨‹åºè¿è¡Œçš„æƒ…å†µã€‚å¦‚æœå…³é—­è¿™ä¸ªè¿›ç¨‹ï¼Œé‚£ä¹ˆå¯¹åº”çš„åº”ç”¨ç¨‹åºä¹Ÿå°±å…³é—­ äº†ã€‚</p><ul><li>çº¿ç¨‹</li></ul><p>çº¿ç¨‹æ˜¯è¿›ç¨‹ä¸­çš„ä¸€ä¸ªæ‰§è¡Œå•å…ƒï¼Œè´Ÿè´£å½“å‰è¿›ç¨‹ä¸­ç¨‹åºçš„æ‰§è¡Œï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­è‡³å°‘æœ‰ä¸€ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­ä¹Ÿå¯ä»¥æœ‰å¤šä¸ªçº¿ç¨‹ï¼Œæ­¤æ—¶è¿™ä¸ªåº”ç”¨ç¨‹åºå°±å¯ä»¥ç§°ä¹‹ä¸º<strong>å¤šçº¿ç¨‹ç¨‹åº</strong>ï¼Œ<strong>å®ƒæ˜¯CPUè°ƒåº¦çš„æœ€å°å•ä½</strong>ã€‚</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815181524122.png" alt="image-20230815181524122"></p><p><font color="#d12920">ç»“è®ºï¼šä¸€ä¸ªç¨‹åºè¿è¡Œåè‡³å°‘æœ‰ä¸€ä¸ªè¿›ç¨‹ï¼Œä¸€ä¸ªè¿›ç¨‹ä¸­å¯ä»¥åŒ…å«ä¸€ä¸ªï¼ˆmainçº¿ç¨‹ï¼‰æˆ–å¤šä¸ªçº¿ç¨‹ï¼</font></p></blockquote><blockquote><p>å½“ä¸€ä¸ªè¿›ç¨‹ä¸­å¯åŠ¨äº†å¤šä¸ªçº¿ç¨‹å»åˆ†åˆ«æ‰§è¡Œä»£ç ï¼ˆåŒæ—¶å®Œæˆå¤šä¸ªåŠŸèƒ½ï¼‰çš„æ—¶ å€™ï¼Œè¿™ä¸ªç¨‹åºå°±æ˜¯<strong>å¤šçº¿ç¨‹ç¨‹åº</strong>ï¼Œå†…å­˜ç­‰èµ„æºä½¿ç”¨æƒ…å†µå¦‚ä¸‹ï¼š</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815182509460.png" alt="image-20230815182509460"></p><p><strong>æ€è€ƒï¼šJVMæ˜¯å¤šçº¿ç¨‹å—ï¼Ÿ</strong></p><p>æ˜¯ï¼ŒJVMå¯ä»¥åœ¨è¿è¡Œè¿›ç¨‹çš„åŒæ—¶ï¼Œè¿›è¡ŒGCåƒåœ¾å›æ”¶ï¼Œ<strong>åŒä¸€æ—¶åˆ»åšä¸åŒäº‹æƒ…</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test01_JVM</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; <span class="number">1000000</span>; i++) &#123;</span><br><span class="line">            <span class="keyword">new</span> <span class="title class_">Test01</span>(i);</span><br><span class="line">        &#125;</span><br><span class="line">        Thread.sleep(<span class="number">3000</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;main end ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Test01</span> &#123;</span><br><span class="line">    <span class="type">int</span> n;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Test01</span><span class="params">(<span class="type">int</span> n)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.n = n;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å½“GCè¿›è¡Œåƒåœ¾å›æ”¶æŒ‡å®šå¯¹è±¡çš„æ—¶å€™å¯¹è±¡çš„finalizeæ–¹æ³•ä¼šè¢«è‡ªåŠ¨è°ƒç”¨</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">protected</span> <span class="keyword">void</span> <span class="title function_">finalize</span><span class="params">()</span> <span class="keyword">throws</span> Throwable &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Testè¢«é”€æ¯ï¼Œ n: &quot;</span> + n);</span><br><span class="line">        <span class="built_in">super</span>.finalize();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815183522489.png" alt="image-20230815183522489"></p></blockquote><h1 id="å¹¶å‘å¹¶è¡Œ"><a href="#å¹¶å‘å¹¶è¡Œ" class="headerlink" title="å¹¶å‘å¹¶è¡Œ"></a>å¹¶å‘å¹¶è¡Œ</h1><blockquote><ul><li><strong>å¹¶å‘</strong>ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨<strong>åŒä¸€æ—¶é—´æ®µå†…</strong>å‘ç”Ÿ</li></ul><p>çº¿ç¨‹çš„å¹¶å‘æ‰§è¡Œï¼Œæ˜¯æŒ‡åœ¨ä¸€ä¸ªæ—¶é—´æ®µå†…ï¼ˆå¾®è§‚ï¼‰ï¼Œä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œ<strong>ä½¿ç”¨åŒä¸€ä¸ªCPUäº¤æ›¿è¿è¡Œã€‚</strong></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815183841996.png" alt="image-20230815183841996"></p><ul><li><strong>å¹¶è¡Œ</strong>ï¼šæŒ‡ä¸¤ä¸ªæˆ–å¤šä¸ªäº‹ä»¶åœ¨<strong>åŒä¸€æ—¶åˆ»</strong>å‘ç”Ÿï¼ˆ<strong>åŒæ—¶å‘ç”Ÿ</strong>ï¼‰</li></ul><p>çº¿ç¨‹çš„å¹¶è¡Œæ‰§è¡Œï¼Œæ˜¯æŒ‡åœ¨åŒä¸€æ—¶åˆ»ï¼Œä¸¤ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ï¼Œ<strong>å„è‡ªä½¿ç”¨ä¸€ä¸ªCPUåŒæ—¶è¿è¡Œ</strong></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815184129214.png" alt="image-20230815184129214"></p><p>å¦‚æœè®¡ç®—æœºæ˜¯<strong>å•æ ¸CPU</strong>çš„è¯ï¼Œé‚£ä¹ˆåŒä¸€æ—¶åˆ»<strong>åªèƒ½</strong>æœ‰ä¸€ä¸ªçº¿ç¨‹ä½¿ç”¨CPUæ¥ æ‰§è¡Œä»£ç  </p><p>å¦‚æœè®¡ç®—æœºæ˜¯<strong>å¤šæ ¸CPU</strong>çš„è¯ï¼Œé‚£ä¹ˆåŒä¸€æ—¶åˆ»<strong>æœ‰å¯èƒ½</strong>æ˜¯ä¿©ä¸ªçº¿ç¨‹åŒæ—¶ä½¿ç”¨ ä¸åŒçš„CPUæ‰§è¡Œä»£ç </p><p>è¡¥å……å†…å®¹ï¼š</p><p>å¦‚æœæˆ‘ä»¬çš„è®¡ç®—æœºæ˜¯å¤šæ ¸çš„ï¼Œåœ¨ç¨‹åºä¸­ç¼–å†™äº†ä¿©ä¸ªçº¿ç¨‹ï¼Œç„¶åå¯åŠ¨å¹¶ è¿è¡Œå®ƒä»¬ï¼Œè®¡ç®—æœºä¼šç”¨ä¸€ä¸ªCPUè¿è¡Œè¿˜æ˜¯ä¸¤ä¸ªCPUå»è¿è¡Œï¼Œæˆ‘ä»¬æ— æ³•çŸ¥ é“ä¹Ÿæ— æ³•æ§åˆ¶ï¼Œå› ä¸ºè®¡ç®—æœºå†…æ ¸ä¸­æœ‰ä¸“é—¨çš„èµ„æºè°ƒåº¦ç®—æ³•è´Ÿè´£èµ„æºçš„åˆ† é…ï¼Œæˆ‘ä»¬ä»åº”ç”¨ç¨‹åºçš„å±‚é¢æ— æ³•å¹²æ¶‰ã€‚</p></blockquote><h1 id="çº¿ç¨‹è°ƒåº¦"><a href="#çº¿ç¨‹è°ƒåº¦" class="headerlink" title="çº¿ç¨‹è°ƒåº¦"></a><strong>çº¿ç¨‹è°ƒåº¦</strong></h1><blockquote><ul><li>æ—¶é—´ç‰‡</li></ul><p>å¹¶å‘å¤šçº¿ç¨‹åªæœ‰ä¸€ä¸ªCPUï¼ŒæŸä¸ªå¾®è§‚æ—¶åˆ»ï¼Œå½“æŒ‡å®šçº¿ç¨‹æ‹¥æœ‰CPUçš„ä½¿ç”¨æƒï¼Œåˆ™è¯¥çº¿ç¨‹ä»£ç å°±å¯ä»¥æ‰§è¡Œï¼Œè€Œå…¶ä»–çº¿ç¨‹é˜»å¡ç­‰å¾…ã€‚</p><p>ä¸€ä¸ªçº¿ç¨‹ä¸å¯èƒ½ä¸€ç›´æ‹¥æœ‰CPUçš„ä½¿ç”¨æƒï¼Œä¸å¯èƒ½ä¸€ç›´æ‰§è¡Œä¸‹å»ï¼Œå®ƒæ‹¥æœ‰CPUæ‰§è¡Œçš„æ—¶é—´æ˜¯å¾ˆçŸ­çš„ï¼Œå¾®ç§’çº³ç§’çº§åˆ«ï¼Œè¿™ä¸ªæ—¶é—´æ®µæˆ‘ä»¬å°±ç§°ä¹‹ä¸ºCPUæ—¶é—´ç‰‡ã€‚</p><p>çº¿ç¨‹æ‰§è¡Œæ—¶å¦‚æœä¸€ä¸ªæ—¶é—´ç‰‡ç»“æŸäº†ï¼Œåˆ™è¯¥çº¿ç¨‹å°±ä¼šåœæ­¢è¿è¡Œï¼Œå¹¶äº¤å‡ºCPUçš„ä½¿ç”¨æƒï¼Œç„¶åç­‰å¾…ä¸‹ä¸€ä¸ªCPUçš„æ—¶é—´ç‰‡çš„åˆ†é…ã€‚</p><p>åœ¨å®è§‚ä¸Šï¼Œä¸€æ®µæ—¶é—´å†…ï¼Œæˆ‘ä»¬æ„Ÿè§‰ä¿©ä¸ªçº¿ç¨‹åœ¨åŒæ—¶è¿è¡Œä»£ç ï¼Œå…¶å®åœ¨å¾®è§‚ä¸­ï¼Œè¿™ä¸¤ä¸ªçº¿ç¨‹åœ¨ä½¿ç”¨ä¸€ä¸ªCPUçš„æ—¶å€™ï¼Œå®ƒä»¬æ˜¯<strong>äº¤æ›¿ç€è¿è¡Œ</strong>çš„ï¼Œæ¯ä¸ªçº¿ç¨‹æ¯æ¬¡éƒ½æ˜¯è¿è¡Œä¸€ä¸ªå¾ˆå°çš„æ—¶é—´ç‰‡ï¼Œç„¶åå°±äº¤å‡ºCPUä½¿ç”¨æƒï¼Œåªæ˜¯å®ƒä»¬ä¿©ä¸ªäº¤æ›¿è¿è¡Œçš„é€Ÿåº¦å¤ªå¿«äº†ï¼Œç»™æˆ‘ä»¬çš„æ„Ÿè§‰ï¼Œå¥½åƒæ˜¯å®ƒä»¬ä¿©ä¸ªçº¿ç¨‹åœ¨åŒæ—¶è¿è¡Œã€‚</p><ul><li>è°ƒåº¦æ–¹å¼<ul><li>æ—¶é—´ç‰‡è½®è½¬<ul><li>æ‰€æœ‰çº¿ç¨‹è½®æµä½¿ç”¨CPUçš„ä½¿ç”¨æƒï¼Œå¹³å‡åˆ†é…æ¯ä¸ªçº¿ç¨‹å ç”¨CPUçš„æ—¶é—´</li></ul></li><li>æŠ¢å å¼è°ƒåº¦<ul><li>ç³»ç»Ÿä¼šè®©ä¼˜å…ˆçº§é«˜çš„çº¿ç¨‹ä¼˜å…ˆä½¿ç”¨CPUï¼ˆæé«˜æŠ¢å åˆ°çš„æ¦‚ç‡ï¼‰ï¼Œä½†æ˜¯å¦‚æœçº¿ç¨‹çš„ä¼˜å…ˆçº§ç›¸åŒï¼Œé‚£ä¹ˆä¼šéšæœºé€‰æ‹©ä¸€ä¸ªçº¿ç¨‹è·å–å½“å‰CPUçš„æ—¶é—´ç‰‡</li></ul></li></ul></li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815185836288.png" alt="image-20230815185836288"></p><p><font color="#d12920">JVMä¸­çš„çº¿ç¨‹ï¼Œä½¿ç”¨çš„ä¸ºæŠ¢å å¼è°ƒåº¦ã€‚</font></p></blockquote><h1 id="çº¿ç¨‹çš„åˆ›å»º"><a href="#çº¿ç¨‹çš„åˆ›å»º" class="headerlink" title="çº¿ç¨‹çš„åˆ›å»º"></a>çº¿ç¨‹çš„åˆ›å»º</h1><blockquote><p><strong>java.lang.Thread</strong> æ˜¯javaä¸­çš„çº¿ç¨‹ç±»ï¼Œæ‰€æœ‰çº¿ç¨‹å¯¹è±¡éƒ½å¿…é¡»æ˜¯Thread ç±»æˆ–å…¶å­ç±»çš„å®ä¾‹ã€‚ æ¯ä¸ªçº¿ç¨‹çš„ä½œç”¨ï¼Œå°±æ˜¯å®Œæˆæˆ‘ä»¬ç»™å®ƒæŒ‡å®šçš„ä»»åŠ¡ï¼Œå®é™…ä¸Šå°±æ˜¯æ‰§è¡Œä¸€æ®µæˆ‘ ä»¬æŒ‡å®šçš„ä»£ç ã€‚æˆ‘ä»¬åªéœ€è¦åœ¨ <strong>Thread ç±»çš„å­ç±»ä¸­é‡å†™ run æ–¹æ³•</strong>ï¼Œå®Œæˆç›¸åº” çš„åŠŸèƒ½ã€‚</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815190131636.png" alt="image-20230815190131636"></p><p>Javaä¸­é€šè¿‡ç»§æ‰¿Threadç±»æ¥<strong>åˆ›å»ºå¹¶å¯åŠ¨</strong>ä¸€ä¸ªæ–°çš„çº¿ç¨‹çš„æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>å®šä¹‰ Thread ç±»çš„å­ç±»ï¼Œé‡å†™ run()æ–¹æ³•ï¼Œrun() æ–¹æ³•ä¸­çš„ä»£ç å°±æ˜¯çº¿ç¨‹çš„æ‰§è¡Œä»»åŠ¡</li><li>åˆ›å»ºThreadå­ç±»å¯¹è±¡ï¼ˆ<strong>å¯ä»¥æ˜¯åŒ¿åå†…éƒ¨ç±»å¯¹è±¡</strong>ï¼‰ï¼Œè¿™ä¸ªå¯¹è±¡å°±ä»£è¡¨ä¸€ä¸ªè¦ç‹¬ç«‹è¿è¡Œçš„æ–°çº¿ç¨‹</li><li>è°ƒç”¨çº¿ç¨‹å¯¹è±¡çš„**start()**æ–¹æ³•æ¥å¯åŠ¨è¯¥çº¿ç¨‹ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test04_Thread</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException &#123;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread2</span>();</span><br><span class="line">        t.start();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">50</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;in main, hello&quot;</span>);</span><br><span class="line">            <span class="comment">// å½“å‰æ‰§è¡Œä»£ç çš„çº¿ç¨‹ç¡çœ 500æ¯«ç§’</span></span><br><span class="line">            Thread.sleep(<span class="number">500</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyThread2</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;in run hello method&quot;</span>);</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">1000</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815190812146.png" alt="image-20230815190812146"></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815191015988.png" alt="image-20230815191015988"></p><p>å¯ä»¥çœ‹å‡ºï¼Œmainçº¿ç¨‹åœ¨æ‰§è¡Œmainæ–¹æ³•çš„è¿‡ç¨‹ä¸­ï¼Œåˆ›å»ºå¹¶å¯åŠ¨äº†tçº¿ç¨‹ï¼Œ å¹¶ä¸”tçº¿ç¨‹å¯åŠ¨åï¼Œå’Œmainçº¿ç¨‹å°±æ²¡æœ‰å…³ç³»äº†ï¼Œè¿™æ—¶å€™mainçº¿ç¨‹å’Œtçº¿ç¨‹ <strong>éƒ½æ˜¯è‡ªå·±ç‹¬ç«‹çš„è¿è¡Œï¼Œå¹¶ä¸”ä»–ä»¬ä¿©ä¸ªæ˜¯è¦äº‰å¤ºCUPçš„æ—¶é—´ç‰‡ï¼ˆä½¿ç”¨æƒï¼‰ çš„</strong></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815191237243.png" alt="image-20230815191237243"></p><p>attention1: æ ˆåŒºï¼Œåˆè¢«ç§°ä¸ºæ–¹æ³•è°ƒç”¨æ ˆï¼Œæ˜¯çº¿ç¨‹ä¸“é—¨æ‰§è¡Œæ–¹æ³•ä¸­ä»£ç çš„åœ°æ–¹ï¼Œå¹¶ä¸”æ¯ä¸€ä¸ªçº¿ç¨‹ï¼Œéƒ½æœ‰è‡ªå·±éƒ½çµçš„æ ˆç©ºé—´ï¼Œå’Œåˆ«çš„çº¿ç¨‹äº’ä¸å½±å“ã€‚</p><p>attention2: æœ€å…ˆå¯åŠ¨çš„çº¿ç¨‹æ˜¯ä¸»çº¿ç¨‹ï¼ˆmainçº¿ç¨‹ï¼‰ï¼Œå› ä¸ºå®ƒè¦æ‰§è¡Œç¨‹åºçš„å…¥å£mainæ–¹æ³•ï¼Œåœ¨ä¸»çº¿ç¨‹ä¸­ï¼Œåˆ›å»ºå¹¶ä¸”å¯åŠ¨äº†tçº¿ç¨‹ï¼Œå¯åŠ¨ä¹‹åmainçº¿ç¨‹å’Œtçº¿ç¨‹å„ç‹¬ç«‹è¿è¡Œï¼Œå¹¶ä¸”äº‰å¤ºCPUçš„æ—¶é—´ç‰‡</p><p>attention3ï¼šçº¿ç¨‹å¯åŠ¨ä¹‹åï¼ˆè°ƒç”¨startæ–¹æ³•ï¼‰ï¼Œä¼šå¼€å§‹äº‰å¤ºCPUçš„æ—¶é—´ç‰‡ï¼Œç„¶å<strong>è‡ªåŠ¨æ‰§è¡Œrun</strong>å¦‚æœå­ç±»é‡å†™äº†ï¼Œé‚£ä¹ˆå°±è°ƒç”¨åˆ°é‡å†™åçš„runæ–¹æ³•ã€‚</p><p>attention4ï¼š<strong>å †åŒºæ˜¯å¯¹æ‰€æœ‰çº¿ç¨‹çš„å…±äº«çš„ï¼Œæ¯ä¸ªçº¿ç¨‹ä¸­å¦‚æœåˆ›å»ºäº†å¯¹è±¡ï¼Œé‚£ä¹ˆå¯¹è±¡å°±ä¼šå­˜æ”¾åˆ°å †åŒºä¸­</strong></p><p>attention5ï¼šçº¿ç¨‹å¯¹è±¡tè¢«åˆ›å»ºå‡ºæ¥çš„æ—¶å€™ï¼Œå®ƒè¿˜åªæ˜¯ä¸€ä¸ªæ™®é€šçš„å¯¹è±¡ï¼Œä½†æ˜¯å½“è°ƒç”¨é¥¿äº†t.start()æ–¹æ³•ä¹‹åï¼Œçº¿ç¨‹å¯¹è±¡tå¯ä»¥è¯´æ‰çœŸæ­£çš„â€œ<strong>ç°å‡ºåŸå½¢</strong>â€:å¼€è¾Ÿäº†å•ç‹¬çš„æ ˆç©ºé—´ï¼Œä¾›çº¿ç¨‹tè°ƒç”¨æ–¹æ³•ä½¿ç”¨</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815192226866.png" alt="image-20230815192226866"></p><ul><li><strong>æé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡</strong>ï¼šå¤šçº¿ç¨‹å¯ä»¥è®©ç¨‹åºåŒæ—¶å¤„ç†å¤šä¸ªä»»åŠ¡ï¼Œä»è€Œæé«˜ç¨‹åºçš„æ‰§è¡Œæ•ˆç‡ã€‚å°¤å…¶æ˜¯åœ¨æ¶‰åŠåˆ°å¤§é‡æ•°æ®å¤„ç†æˆ–è€—æ—¶çš„æ“ä½œæ—¶ï¼Œå¤šçº¿ç¨‹å¯ä»¥æå¤§åœ°ç¼©çŸ­ç¨‹åºçš„æ‰§è¡Œæ—¶é—´ã€‚</li><li><strong>æé«˜ç³»ç»Ÿèµ„æºåˆ©ç”¨ç‡</strong>ï¼šå¤šçº¿ç¨‹å¯ä»¥å……åˆ†åˆ©ç”¨è®¡ç®—æœºçš„å¤šæ ¸å¤„ç†å™¨ï¼ŒåŒæ—¶åˆ©ç”¨è®¡ç®—æœºçš„å†…å­˜ã€ç½‘ ç»œã€ç£ç›˜ç­‰èµ„æºï¼Œä»è€Œæé«˜ç³»ç»Ÿèµ„æºçš„åˆ©ç”¨ç‡ã€‚</li><li><strong>æé«˜ç¨‹åºçš„å“åº”é€Ÿåº¦</strong>ï¼šå¤šçº¿ç¨‹å¯ä»¥ä½¿ç¨‹åºåœ¨å¤„ç†ä»»åŠ¡æ—¶ä¸ä¼šè¢«é˜»å¡ï¼Œä»è€Œæé«˜ç¨‹åºçš„å“åº”é€Ÿåº¦ï¼Œ ä¿è¯ç¨‹åºçš„å®æ—¶æ€§ã€‚</li><li><strong>å®ç°å¤æ‚çš„äº¤äº’æ“ä½œ</strong>ï¼šå¤šçº¿ç¨‹å¯ä»¥åœ¨ç¨‹åºä¸­å®ç°å¤æ‚çš„äº¤äº’æ“ä½œï¼Œä¾‹å¦‚åŒæ—¶å“åº”å¤šä¸ªç”¨æˆ·çš„è¯· æ±‚ï¼ŒåŒæ—¶æ‰§è¡Œå¤šä¸ªä»»åŠ¡ç­‰ã€‚</li></ul></blockquote><h1 id="åŒ¿åå†…éƒ¨ç±»"><a href="#åŒ¿åå†…éƒ¨ç±»" class="headerlink" title="åŒ¿åå†…éƒ¨ç±»"></a>åŒ¿åå†…éƒ¨ç±»</h1><blockquote><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815193302936.png" alt="image-20230815193302936"></p><p>å®é™…å¼€å‘ä¸­ï¼Œè¿™æ ·çš„æ–¹å¼æ›´å¸¸è§ï¼Œä¹¦å†™ç®€æ´ï¼Œ<strong>æ¨èä½¿ç”¨</strong>ã€‚</p></blockquote><h1 id="çº¿ç¨‹åç§°"><a href="#çº¿ç¨‹åç§°" class="headerlink" title="çº¿ç¨‹åç§°"></a>çº¿ç¨‹åç§°</h1><blockquote><ul><li>é»˜è®¤çº¿ç¨‹åï¼š</li></ul><p>ä¸ç®¡æ˜¯ä¸»çº¿ç¨‹ï¼Œè¿˜æ˜¯æˆ‘ä»¬åˆ›å»ºçš„å­çº¿ç¨‹ï¼Œéƒ½æ˜¯æœ‰åå­—çš„ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œ<strong>ä¸»çº¿ç¨‹çš„åå­—ä¸ºmain</strong>ï¼Œmainçº¿ç¨‹ä¸­åˆ›å»ºå‡ºçš„å­çº¿ç¨‹ï¼Œå®ƒä»¬åå­—å‘½åè§„åˆ™å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaAPI-Threadæ„é€ å™¨æºç </span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Thread</span><span class="params">()</span> &#123;</span><br><span class="line">    init(<span class="literal">null</span>, <span class="literal">null</span>, <span class="string">&quot;Thread-&quot;</span> + nextThreadNum(), <span class="number">0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä¸­ï¼Œ <strong>â€œThread-â€œ + nextThreadNum()</strong> å°±æ˜¯åœ¨æ‹¼æ¥å‡ºè¿™ä¸ªçº¿ç¨‹é»˜è®¤çš„å å­—ï¼Œæ¯”å¦‚ç¬¬ä¸€ä¸ªå­çº¿ç¨‹<strong>Thread-0</strong>ï¼Œç¬¬äºŒä¸ªä¸º<strong>Thread-1</strong>ï¼Œç¬¬ä¸‰ä¸ªä¸º<strong>Thread-2</strong>ï¼Œ ä»¥æ­¤ç±»æ¨ã€‚</p><ul><li>è·å–å½“å‰çº¿ç¨‹å¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> Thread <span class="title function_">currentThread</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// å½“å‰çº¿ç¨‹ === æ‰§è¡Œå½“å‰æ–¹æ³•çš„çº¿ç¨‹</span></span><br><span class="line"><span class="comment">// ä¹Ÿå°±æ˜¯çœ‹ç›®å‰æ˜¯å¯¹åœ¨è°ƒç”¨å½“å‰æ–¹æ³•ã€‚</span></span><br></pre></td></tr></table></figure><ul><li>è·å–çº¿ç¨‹å</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> String <span class="title function_">getName</span><span class="params">()</span>;</span><br></pre></td></tr></table></figure><ul><li>å¸¸è§ç”¨æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815193924619.png" alt="image-20230815193924619"></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815194453720.png" alt="image-20230815194453720"></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815194807548.png" alt="image-20230815194807548"></p><p><strong>æ³¨æ„ï¼Œä¸€å®šè¦è®°å¾—ï¼Œstartæ–¹æ³•å¯åŠ¨çº¿ç¨‹åï¼Œçº¿ç¨‹ä¼šè‡ªåŠ¨æ‰§è¡Œrunæ–¹æ³•</strong> </p><p><strong>åƒä¸‡ä¸è¦ç›´æ¥è°ƒç”¨runæ–¹æ³•ï¼Œè¿™æ ·å°±ä¸æ˜¯å¯åŠ¨çº¿ç¨‹æ‰§è¡Œä»»åŠ¡ï¼Œè€Œæ˜¯æ™®é€šçš„æ–¹æ³•è°ƒç”¨ï¼Œå’Œè°ƒç”¨sayHelloæ²¡åŒºåˆ«</strong></p></blockquote><blockquote><p>è®¾ç½®çº¿ç¨‹å</p><ul><li>é€šè¿‡çº¿ç¨‹å¯¹è±¡è®¾ç½®çº¿ç¨‹å</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span>;</span><br></pre></td></tr></table></figure><ul><li>åˆ›å»ºå¯¹è±¡æ—¶ï¼Œè®¾ç½®çº¿ç¨‹å</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="title function_">Thread</span><span class="params">(String name)</span>;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Thread</span><span class="params">(Runnable target, String name)</span>;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">thread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§è®¾ç½®æ–¹å¼</span></span><br><span class="line">    thread.setName(<span class="string">&quot;MAINçº¿ç¨‹&quot;</span>);</span><br><span class="line">    System.out.println(<span class="string">&quot;çº¿ç¨‹åç§°: &quot;</span> + thread.getName());</span><br><span class="line">    <span class="comment">//ç¬¬äºŒç§è®¾ç½®æ–¹å¼</span></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="string">&quot;å­çº¿ç¨‹t&quot;</span>) &#123;</span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;in run, çº¿ç¨‹åç§°ï¼š&quot;</span> + Thread.currentThread().getName());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    t.start();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="mainçº¿ç¨‹"><a href="#mainçº¿ç¨‹" class="headerlink" title="mainçº¿ç¨‹"></a>mainçº¿ç¨‹</h1><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//è·å–æ‰§è¡Œå½“å‰æ–¹æ³•çš„çº¿ç¨‹å¯¹è±¡</span></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">currentThread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">    System.out.println(<span class="string">&quot;æ‰§è¡Œå½“å‰æ–¹æ³•çš„çº¿ç¨‹åå­—ä¸ºï¼š&quot;</span>+currentThread.getName());</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">//æ‰§è¡Œå½“å‰æ–¹æ³•çš„çº¿ç¨‹åå­—ä¸ºï¼šmain</span></span><br></pre></td></tr></table></figure><p>ä¸Šé¢ä»£ç ä½¿ç”¨javaå‘½ä»¤è¿è¡Œçš„è¿‡ç¨‹æ˜¯ï¼š</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815195526815.png" alt="image-20230815195526815"></p><ul><li>ä½¿ç”¨javaå‘½ä»¤è¿è¡ŒTestç±»ï¼Œä¼šå…ˆå¯åŠ¨JVM</li><li>åº”ç”¨ç±»åŠ è½½å™¨é€šè¿‡CLASSPATHç¯å¢ƒéå†é…ç½®çš„è·¯å¾„ï¼Œæ‰¾åˆ°Test.classæ–‡ä»¶ï¼Œå¹¶åŠ è½½åˆ°æ–¹æ³•åŒº<ul><li>æ³¨æ„ï¼šè¿™é‡Œä¼šåŒæ—¶äº§ç”Ÿä¸€ä¸ª<strong>Classç±»å‹å¯¹è±¡</strong>ï¼Œæ¥ä»£è¡¨è¿™ä¸ªTestç±»å‹ï¼Œå¹¶ä¸”ä¼šä¼˜å…ˆå¤„ç†ç±»ä¸­çš„é™æ€ä»£ç ï¼ˆ<strong>é™æ€å±æ€§ã€é™æ€æ–¹æ³•ã€é™æ€ä»£ç å—</strong>ï¼‰</li></ul></li><li>JVMåˆ›å»ºå¹¶å¯åŠ¨ä¸€ä¸ªåå­—å«åšmainçš„çº¿ç¨‹</li><li>mainçº¿ç¨‹å°†Testä¸­çš„mainæ–¹æ³•åŠ è½½åˆ°æ ˆåŒºä¸­</li><li>åœ¨æ ˆé‡Œé¢ï¼Œmainçº¿ç¨‹å°±å¯ä»¥ä¸€è¡Œè¡Œçš„æ‰§è¡Œæ–¹æ³•ä¸­çš„ä»£ç äº†</li><li>å¦‚æœåœ¨æ‰§è¡Œä»£ç ä¸­ï¼Œé‡åˆ°äº†æ–¹æ³•è°ƒç”¨ï¼Œé‚£ä¹ˆçº¿ç¨‹ä¼šç»§ç»­æŠŠè¢«è°ƒç”¨çš„æ–¹æ³•ï¼ŒåŠ è½½åˆ°æ ˆä¸­ï¼ˆå‹æ ˆæ“ä½œï¼‰ï¼Œç„¶åæ‰§è¡Œ<strong>æ ˆé¡¶</strong>è¿™ä¸ªæœ€æ–°æ·»åŠ è¿›æ¥çš„æ–¹æ³•ï¼Œæ ˆé¡¶æ–¹æ³•æ‰§è¡Œå®Œï¼Œå°±é‡Šæ”¾ï¼ˆå‡ºæ ˆæ“ä½œï¼‰ï¼Œç„¶ååœ¨æ‰§è¡Œå½“å‰æœ€æ–°çš„æ ˆé¡¶æ–¹æ³•</li><li>ä»£ç æ‰§è¡Œè¿‡ç¨‹è¾“å‡ºæ‰§è¡Œç»“æœ</li><li>å½“å‰æ˜¯å•çº¿ç¨‹ç¨‹åºï¼Œmainçº¿ç¨‹ç»“æŸäº†ï¼ŒJVMå°±åœæ­¢äº†</li><li>å¦‚æœæ˜¯å¤šçº¿ç¨‹ç¨‹åºï¼Œé‚£ä¹ˆJVMè¦ç­‰äºæ‰€æœ‰çº¿ç¨‹éƒ½ç»“æŸäº†æ‰ä¼šåœæ­¢</li></ul></blockquote><h1 id="Runnable"><a href="#Runnable" class="headerlink" title="Runnable"></a>Runnable</h1><blockquote><p>å‰é¢çš„è¯¾ç¨‹ä¸­ï¼Œæˆ‘ä»¬é€šè¿‡Threadçš„å­ç±»åˆ›å»ºçº¿ç¨‹ã€‚ </p><p>ç°åœ¨æˆ‘ä»¬å­¦ä¹ ç¬¬äºŒç§åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ–¹å¼ï¼š<strong>å€ŸåŠ©Runnableæ¥å£çš„å®ç°ç±»å®Œ æˆ</strong></p><p><strong>java.lang.Runnable</strong> ï¼Œè¯¥æ¥å£ä¸­åªæœ‰ä¸€ä¸ªæŠ½è±¡æ–¹æ³• run</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815200945017.png" alt="image-20230815200945017"></p><p>å…¶å® <strong>Thread</strong> ç±»ä¹Ÿæ˜¯ <strong>Runnable</strong> æ¥å£çš„å®ç°ç±»ï¼Œå…¶ä»£ç ç»“æ„å¤§è‡´ä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaAPI-Threadç±»æºç åˆ†æ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">/* What will be run. */</span></span><br><span class="line">    <span class="keyword">private</span> Runnable target;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Thread</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Thread</span><span class="params">(Runnable target)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.target = target;</span><br><span class="line">        <span class="comment">//..</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (target != <span class="literal">null</span>) &#123;</span><br><span class="line">            target.run();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œå­ç±»é‡å†™Threadä¸­çš„runæ–¹æ³•ï¼Œè¿™ä¸ªrunæ–¹æ³•å…¶å®ä¹Ÿæ¥è‡ªäº Runnableæ¥å£</p><p>é€šè¿‡ä»¥ä¸Šçš„ä»£ç ç»“æ„å¯çŸ¥ï¼Œæˆ‘ä»¬å¯ä»¥å€ŸåŠ©æ„é€ å™¨ <strong>public Thread(Runnable target)</strong> ç›´æ¥åˆ›å»ºçº¿ç¨‹å¯¹è±¡ï¼Œè¯¥æ„é€ å™¨éœ€è¦ä¼ ä¸€ä¸ª Runnable æ¥å£çš„å®ç°ç±»å¯¹è±¡ã€‚</p><p>å½“çº¿ç¨‹å¯¹è±¡åˆ›å»ºæˆåŠŸåï¼Œè°ƒç”¨çº¿ç¨‹å¯¹è±¡ run æ–¹æ³•ï¼Œé»˜è®¤ä¼šè°ƒç”¨Runnableå® ç°ç±»é‡å†™çš„runæ–¹æ³•ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test08_Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 3.å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyRunnable2</span>();</span><br><span class="line">        <span class="comment">// r.run();</span></span><br><span class="line">        <span class="comment">// 4.åˆ›å»ºThreadå¯¹è±¡</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(r);</span><br><span class="line">        th.setName(<span class="string">&quot;child-thread1&quot;</span>);</span><br><span class="line">        <span class="comment">// 5.å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">        th.start();</span><br><span class="line">        <span class="comment">// åŒ¿åå†…éƒ¨ç±»æ–¹å¼ è·å–Runnableå®ç°ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">Runnable</span> <span class="variable">r2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">80</span>; i &gt;= <span class="number">30</span>; i--)</span><br><span class="line">                    System.out.println(<span class="string">&quot;in thread: &quot;</span> + name + <span class="string">&quot; i: &quot;</span> + i);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(r2, <span class="string">&quot;å­çº¿ç¨‹2&quot;</span>);</span><br><span class="line">        th2.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//1.åˆ›å»ºRunnableå®ç°ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyRunnable2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//2.é‡å†™runæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">20</span>; i &lt;= <span class="number">70</span>; i++)</span><br><span class="line">            System.out.println(<span class="string">&quot;in thread: &quot;</span> + name + <span class="string">&quot; i:&quot;</span> + i);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230815201656256.png" alt="image-20230815201656256"></p><p>ä¸¤ç§çº¿ç¨‹å®ç°æ–¹å¼å¯¹æ¯”ï¼š</p><ul><li>ç»§æ‰¿Threadç±»<ul><li>å¥½å¤„ï¼šç¼–ç¨‹æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Threadç±»ä¸­çš„æ–¹æ³•</li><li>ç¼ºç‚¹ï¼šå¯ä»¥æ‰©å±•æ€§è¾ƒå·®ï¼Œä¸èƒ½å†ç»§æ‰¿å…¶ä»–çš„ç±»</li></ul></li><li>å®ç°Runnableæ¥å£<ul><li>å¥½å¤„ï¼šæ‰©å±•æ€§å¼ºï¼Œå®ç°è¯¥æ¥å£çš„åŒæ—¶è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–çš„ç±»</li><li>ç¼ºç‚¹ï¼šç¼–ç¨‹ç›¸å¯¹å¤æ‚ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨Treadç±»ä¸­çš„æ–¹æ³•</li></ul></li></ul></blockquote><h1 id="å®ˆæŠ¤çº¿ç¨‹"><a href="#å®ˆæŠ¤çº¿ç¨‹" class="headerlink" title="å®ˆæŠ¤çº¿ç¨‹"></a>å®ˆæŠ¤çº¿ç¨‹</h1><blockquote><p>Javaä¸­ï¼Œçº¿ç¨‹å¯ä»¥åˆ†ä¸ºä¸¤ç±»ï¼š</p><ul><li>å‰å°çº¿ç¨‹ &#x3D; æ‰§è¡Œçº¿ç¨‹ &#x3D; ç”¨æˆ·çº¿ç¨‹</li></ul><p><strong>è¿™ç§çº¿ç¨‹ä¸“é—¨ç”¨æ¥æ‰§è¡Œç”¨æˆ·ç¼–å†™çš„ä»£ç ï¼Œåœ°ä½è¾ƒé«˜ï¼ŒJVMæ˜¯å¦ä¼šåœæ­¢è¿è¡Œï¼Œå°±æ˜¯è¦çœ‹å½“å‰æ˜¯å¦è¿˜æœ‰å‰å°çº¿ç¨‹æ²¡æœ‰æ‰§è¡Œå®Œï¼Œå¦‚æœè¿˜å‰©ä¸‹ä»»æ„ä¸€ä¸ªå‰å°çº¿ç¨‹æ²¡æœ‰â€œæ­»äº¡â€ï¼Œé‚£ä¹ˆJVMå°±ä¸èƒ½åœæ­¢ï¼</strong>ï¼ˆç»“æŸç«‹å³åœæ­¢ï¼‰</p><p>ä¾‹å¦‚ï¼Œæ‰§è¡Œç¨‹åºå…¥å£çš„ä¸»çº¿ç¨‹ï¼ˆmainï¼‰ï¼Œå°±æ˜¯ä¸€ä¸ªå‰å°çº¿ç¨‹ï¼Œåœ¨å•çº¿ç¨‹ç¨‹ åºä¸­ï¼Œmainæ–¹æ³•æ‰§è¡Œå®Œï¼Œå°±ä»£è¡¨mainçº¿ç¨‹æ‰§è¡Œå®Œäº†ï¼Œè¿™æ—¶å€™JVMå°±åœæ­¢äº†</p><p><font color="#d12920">æ³¨æ„ï¼šæˆ‘ä»¬åœ¨ä¸»çº¿ç¨‹åˆ›å»ºå¹¶å¯åŠ¨çš„æ–°çº¿ç¨‹ï¼Œé»˜è®¤æƒ…å†µä¸‹å°±æ˜¯ä¸€ä¸ªå‰å°çº¿ç¨‹</font></p><ul><li>åå°çº¿ç¨‹ &#x3D; å®ˆæŠ¤çº¿ç¨‹ &#x3D; ç²¾çµçº¿ç¨‹</li></ul><p><strong>è¿™ç§çº¿ç¨‹æ˜¯ç”¨æ¥ç»™å‰å°çº¿ç¨‹æœåŠ¡çš„ï¼Œç»™å‰å°çº¿ç¨‹æä¾›ä¸€ä¸ªè‰¯å¥½çš„è¿è¡Œç¯å¢ƒï¼Œåœ°ä½æ¯”è¾ƒä½ï¼ŒJVMæ˜¯å¦åœæ­¢è¿è¡Œï¼Œæ ¹æœ¬ä¸å…³å¿ƒåå°çº¿ç¨‹çš„è¿è¡Œæƒ…å†µå’ŒçŠ¶æ€ã€‚</strong>ï¼ˆä¸å…³å¿ƒï¼‰</p><p>ä¾‹å¦‚ï¼Œåƒåœ¾å›æ”¶å™¨ï¼Œå…¶å®å°±ä¸€ä¸ªåå°çº¿ç¨‹ï¼Œå®ƒä¸€ç›´åœ¨èƒŒåé»˜é»˜çš„æ‰§è¡Œç€è´Ÿ è´£åƒåœ¾å›æ”¶çš„ä»£ç ï¼Œä¸ºæˆ‘ä»¬å‰å°çº¿ç¨‹åœ¨æ‰§è¡Œç”¨æˆ·ä»£ç çš„æ—¶å€™ï¼Œæä¾›ä¸€ä¸ªè‰¯ å¥½çš„å†…å­˜ç¯å¢ƒã€‚</p><p>è®¾ç½®åå°ï¼ˆå®ˆæŠ¤ï¼‰çº¿ç¨‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaAPI-Threadç±»å®ˆæŠ¤çº¿ç¨‹è®¾ç½®æºç åˆ†æ</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//...çœç•¥</span></span><br><span class="line">    <span class="comment">/* Whether or not the thread is a daemon thread. */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">boolean</span> <span class="variable">daemon</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="comment">//...çœç•¥</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">setDaemon</span><span class="params">(<span class="type">boolean</span> on)</span> &#123;</span><br><span class="line">        checkAccess();</span><br><span class="line">        <span class="keyword">if</span> (isAlive()) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalThreadStateException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        daemon = on;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="ä¼˜å…ˆçº§"><a href="#ä¼˜å…ˆçº§" class="headerlink" title="ä¼˜å…ˆçº§"></a>ä¼˜å…ˆçº§</h1><blockquote><p>çº¿ç¨‹ç±»Threadä¸­ï¼Œæœ‰ä¸€ä¸ªå±æ€§è¡¨ç¤ºçº¿ç¨‹çš„ä¼˜å…ˆçº§ï¼Œå–å€¼1-10ï¼Œé»˜è®¤ä¸º5ã€‚çº¿ç¨‹çš„ä¼˜å…ˆçº§è¶Šé«˜ï¼Œè¶Šå®¹æ˜“è·å¾—CPUæ—¶é—´ç‰‡è€Œæ‰§è¡Œ</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230817191959260.png" alt="image-20230817191959260"></p><p>æºç åˆ†æï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaAPI-Threadç±»çº¿ç¨‹ä¼˜å…ˆçº§è®¾ç½®æºç </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> priority;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * The minimum priority that a thread can have.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">MIN_PRIORITY</span> <span class="operator">=</span> <span class="number">1</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * The default priority that is assigned to a thread.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">NORM_PRIORITY</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * The maximum priority that a thread can have.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">MAX_PRIORITY</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">getPriority</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> priority;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">setPriority</span><span class="params">(<span class="type">int</span> newPriority)</span> &#123;</span><br><span class="line">        ThreadGroup g;</span><br><span class="line">        checkAccess();</span><br><span class="line">        <span class="keyword">if</span> (newPriority &gt; MAX_PRIORITY || newPriority &lt;</span><br><span class="line">            MIN_PRIORITY) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">IllegalArgumentException</span>();</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span>((g = getThreadGroup()) != <span class="literal">null</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (newPriority &gt; g.getMaxPriority()) &#123;</span><br><span class="line">                newPriority = g.getMaxPriority();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="comment">//æ ¸å¿ƒä»£ç ï¼Œåº•å±‚å€ŸåŠ©è¯¥æ–¹æ³•å®ç°</span></span><br><span class="line">            setPriority0(priority = newPriority);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">setPriority0</span><span class="params">(<span class="type">int</span> newPriority)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>â€‹å¯ä»¥çœ‹å‡ºï¼Œæœ€ç»ˆè®¾ç½®çº¿ç¨‹ä¼˜å…ˆçº§çš„æ–¹æ³•ï¼Œæ˜¯ä¸€ä¸ªnativeæ–¹æ³•ï¼Œå¹¶ä¸æ˜¯Javaè¯­è¨€å®ç°çš„</p><p>å¤šä¸ªçº¿ç¨‹äº‰å¤ºCPUæ—¶é—´ç‰‡ï¼š</p><ul><li>ä¼˜å…ˆçº§ç›¸åŒï¼Œè·å¾—CPUä½¿ç”¨æƒçš„æ¦‚ç‡ç›¸åŒ</li><li>ä¼˜å…ˆçº§ä¸åŒï¼Œé‚£ä¹ˆé«˜ä¼˜å…ˆçº§çš„çº¿ç¨‹æœ‰æ›´é«˜çš„æ¦‚ç‡è·å–åˆ°CPUçš„ä½¿ç”¨æƒ</li></ul><p><font color="#d12920">ä¼˜å…ˆçº§æ˜¯å»ºè®®æ€§çš„ï¼Œè€Œéå¼ºåˆ¶ï¼Œå¯èƒ½æœ‰æ•ˆï¼Œä¹Ÿå¯èƒ½æ— æ•ˆ</font></p></blockquote><h1 id="çº¿ç¨‹ç»„"><a href="#çº¿ç¨‹ç»„" class="headerlink" title="çº¿ç¨‹ç»„"></a>çº¿ç¨‹ç»„</h1><blockquote><p>Javaä¸­ä½¿ç”¨ java.lang.ThreadGroupç±»æ¥è¡¨ç¤ºçº¿ç¨‹ç»„ï¼Œå®ƒå¯ä»¥å¯¹ä¸€æ‰¹çº¿ç¨‹è¿›è¡Œç®¡ç†ï¼Œå¯¹çº¿ç¨‹ç»„è¿›è¡Œæ“ä½œï¼ŒåŒæ—¶ä¹Ÿä¼šå¯¹çº¿ç¨‹ç»„é‡Œé¢çš„è¿™ä¸€æ‰¹çº¿ç¨‹æ“ä½œã€‚</p><p>java.lang.ThreadGroup ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ThreadGroup</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadGroup</span><span class="params">(String name)</span>&#123;</span><br><span class="line">        <span class="comment">//..</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ThreadGroup</span><span class="params">(ThreadGroup parent, String name)</span>&#123;</span><br><span class="line">        <span class="comment">//..</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>åˆ›å»ºçº¿ç¨‹ç»„çš„æ—¶å€™ï¼Œéœ€è¦æŒ‡å®šè¯¥çº¿ç¨‹ç»„çš„åå­—ã€‚</strong></p><p><strong>ä¹Ÿå¯ä»¥æŒ‡å®šå…¶çˆ¶çº¿ç¨‹ç»„ï¼Œå¦‚æœæ²¡æœ‰æŒ‡å®šï¼Œé‚£ä¹ˆè¿™ä¸ªæ–°åˆ›å»ºçš„çº¿ç¨‹ç»„çš„çˆ¶çº¿ç¨‹ç»„å°±æ˜¯å½“å‰çº¿ç¨‹ç»„ã€‚</strong></p><p>æ¡ˆä¾‹1ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test11_ThreadGroup</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// è·å–å½“å‰çº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">currentThread</span> <span class="operator">=</span> Thread.currentThread();</span><br><span class="line">        <span class="comment">// è·å–å½“å‰çº¿ç¨‹çš„çº¿ç¨‹ç»„ main çº¿ç¨‹ç»„å°±æ˜¯å®ƒè‡ªèº«</span></span><br><span class="line">        <span class="type">ThreadGroup</span> <span class="variable">currenThreadGroup</span> <span class="operator">=</span> currentThread.getThreadGroup();</span><br><span class="line">        System.out.println(currenThreadGroup);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// java.lang.ThreadGroup[name=main,maxpri=10]</span></span><br><span class="line"><span class="comment">// å¯ä»¥çœ‹å‡ºï¼Œå½“å‰çº¿ç¨‹ç»„çš„åå­—ä¸ºmainï¼Œå¹¶ä¸”çº¿ç¨‹ç»„ä¸­çš„çº¿ç¨‹æœ€å¤§ä¼˜å…ˆçº§å¯ä»¥è®¾ç½®ä¸º10</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹2ï¼š ç”¨æˆ·åœ¨ä¸»çº¿ç¨‹ä¸­åˆ›å»ºçš„çº¿ç¨‹ï¼Œ<strong>å±äºé»˜è®¤çº¿ç¨‹ç»„ï¼ˆåå­—å«â€mainâ€çš„çº¿ç¨‹ç»„ï¼‰</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>();</span><br><span class="line">    <span class="type">ThreadGroup</span> <span class="variable">threadGroup</span> <span class="operator">=</span> t.getThreadGroup();</span><br><span class="line">    System.out.println(threadGroup);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// java.lang.ThreadGroup[name=main,maxpri=10]</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹3ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">ThreadGroup</span> <span class="variable">group</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ThreadGroup</span>(<span class="string">&quot;æˆ‘çš„çº¿ç¨‹ç»„&quot;</span>);</span><br><span class="line">    <span class="comment">//æŒ‡å®šçº¿ç¨‹æ‰€å±çš„çº¿ç¨‹ç»„</span></span><br><span class="line">    <span class="type">Thread</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(group,<span class="string">&quot;tçº¿ç¨‹&quot;</span>);</span><br><span class="line">    <span class="type">ThreadGroup</span> <span class="variable">threadGroup</span> <span class="operator">=</span> t.getThreadGroup();</span><br><span class="line">    System.out.println(threadGroup);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¿è¡Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// java.lang.ThreadGroup[name=æˆ‘çš„çº¿ç¨‹ç»„,maxpri=10]</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹4ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ³¨æ„ï¼Œå¯åŠ¨åï¼Œä¸‰ä¸ªçº¿ç¨‹éƒ½ä¼šè¿›è¡Œä¼‘çœ ï¼Œç­‰runæ–¹æ³•è¿è¡Œå®Œå°±â€œæ­»äº¡â€äº†</span></span><br><span class="line">t1.start();</span><br><span class="line">t2.start();</span><br><span class="line">t3.start();</span><br><span class="line"><span class="comment">//è¿”å›å½“å‰çº¿ç¨‹ç»„ä¸­è¿˜æ²¡æœ‰â€œæ­»äº¡â€çš„çº¿ç¨‹ä¸ªæ•°</span></span><br><span class="line">System.out.println(<span class="string">&quot;çº¿ç¨‹ç»„ä¸­è¿˜åœ¨å­˜æ´»çš„çº¿ç¨‹ä¸ªæ•°</span></span><br><span class="line"><span class="string">ä¸ºï¼š&quot;</span>+group.activeCount());</span><br><span class="line"><span class="comment">//å‡†å¤‡å¥½æ•°ç»„ï¼Œä¿å­˜çº¿ç¨‹ç»„ä¸­è¿˜å­˜æ´»çš„çº¿ç¨‹</span></span><br><span class="line">Thread[] arr = <span class="keyword">new</span> <span class="title class_">Thread</span>[group.activeCount()];</span><br><span class="line"><span class="comment">//å°†å­˜æ´»çš„çº¿ç¨‹é›†ä¸­å­˜æ”¾åˆ°æŒ‡å®šæ•°ç»„ä¸­ï¼Œå¹¶è¿”å›æœ¬æ¬¡å­˜æ”¾åˆ°æ•°ç»„çš„å­˜æ´»</span></span><br><span class="line">çº¿ç¨‹ä¸ªæ•°</span><br><span class="line">System.out.println(<span class="string">&quot;arræ•°ç»„ä¸­å­˜æ”¾çš„çº¿ç¨‹ä¸ªæ•°</span></span><br><span class="line"><span class="string">ä¸ºï¼š&quot;</span>+group.enumerate(arr));</span><br><span class="line"><span class="comment">//è¾“å‡ºæ•°ç»„ä¸­çš„å†…å®¹</span></span><br><span class="line">System.out.println(<span class="string">&quot;arræ•°ç»„ä¸­çš„å†…å®¹ä¸ºï¼š&quot;</span>+Arrays.toString(arr));</span><br></pre></td></tr></table></figure><p><font color="skyblue">æ³¨æ„ï¼šåªæœ‰åœ¨åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ—¶å€™ï¼Œæ‰èƒ½æŒ‡å®šå…¶æ‰€åœ¨çš„çº¿ç¨‹ç»„ï¼Œçº¿ç¨‹è¿è¡Œä¸­é€”ä¸èƒ½æ”¹å˜å®ƒæ‰€å±çš„çº¿ç¨‹ç»„</font></p></blockquote><h1 id="çº¿ç¨‹çŠ¶æ€"><a href="#çº¿ç¨‹çŠ¶æ€" class="headerlink" title="çº¿ç¨‹çŠ¶æ€"></a>çº¿ç¨‹çŠ¶æ€</h1><blockquote><p><strong>java.lang.Thread.State</strong> æšä¸¾ç±»å‹ä¸­ï¼ˆå†…éƒ¨ç±»å½¢å¼ï¼‰ï¼Œå®šä¹‰äº†çº¿ç¨‹çš„å‡ ç§çŠ¶æ€ï¼Œå…¶ä»£ç ç»“æœä¸ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span>&#123;</span><br><span class="line">    <span class="comment">/* Java thread status for tools,</span></span><br><span class="line"><span class="comment">    * initialized to indicate thread &#x27;not yet started&#x27;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> <span class="variable">threadStatus</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">State</span> &#123;</span><br><span class="line">        NEW,</span><br><span class="line">        RUNNABLE,</span><br><span class="line">        BLOCKED,</span><br><span class="line">        WAITING,</span><br><span class="line">        TIMED_WAITING,</span><br><span class="line">        TERMINATED;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è¿”å›çº¿ç¨‹å½“å‰æ‰€å¤„çš„çŠ¶æ€</span></span><br><span class="line">    <span class="keyword">public</span> State <span class="title function_">getState</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// get current thread state</span></span><br><span class="line">        <span class="keyword">return</span> sun.misc.VM.toThreadState(threadStatus);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>çŠ¶æ€è§£é‡Šï¼š</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230817200006595.png" alt="image-20230817200006595"></p><p>çº¿ç¨‹çŠ¶æ€å˜åŒ–çš„æƒ…å†µå¦‚ä¸‹ï¼š</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230817200420764.png" alt="image-20230817200420764"></p><p>ä¸€ä¸ªçº¿ç¨‹ä»åˆ›å»ºåˆ°å¯åŠ¨ã€åˆ°è¿è¡Œã€åˆ°æ­»äº¡ï¼Œä»¥åŠæœŸé—´å¯èƒ½å‡ºç°çš„æƒ…å†µã€‚</p><p>åˆ†æï¼š</p><ul><li><p>åˆšåˆ›å»ºå¥½çš„çº¿ç¨‹å¯¹è±¡ï¼Œå°±æ˜¯å‡ºäº NEWçš„çŠ¶æ€</p></li><li><p>çº¿ç¨‹å¯åŠ¨åï¼Œä¼šå¤„äºRUNNABLEçŠ¶æ€ï¼Œå…¶ä¸­åŒ…å«ä¿©ç§æƒ…å†µ</p><ul><li><strong>å°±ç»ªçŠ¶æ€</strong>ï¼Œæ­¤æ—¶è¿™ä¸ªçº¿ç¨‹æ²¡æœ‰è¿è¡Œï¼Œå› ä¸ºæ²¡æœ‰æŠ¢åˆ°CPUçš„æ‰§è¡Œæƒ</li><li><strong>è¿è¡ŒçŠ¶æ€</strong>ï¼Œæ­¤æ—¶è¿™ä¸ªçº¿ç¨‹æ­£åœ¨è¿è¡Œä¸­ï¼Œå› ä¸ºæŠ¢åˆ°CPUçš„æ‰§è¡Œæƒ</li><li>JavaAPIä¸­æ²¡æœ‰å®šä¹‰å°±ç»ªçŠ¶æ€å’Œè¿è¡ŒçŠ¶æ€ï¼Œè€Œæ˜¯ç»Ÿä¸€å«åš<strong>RUNNABLEï¼ˆå¯è¿è¡ŒçŠ¶æ€ï¼‰</strong></li><li>çº¿ç¨‹å¤šæ¬¡æŠ¢åˆ°CPUæ‰§è¡Œæƒï¼Œâ€œæ–­æ–­ç»­ç»­â€æŠŠ run æ–¹æ³•æ‰§è¡Œå®Œä¹‹åï¼Œå°±å˜æˆäº†<strong>TERMINATEDçŠ¶æ€ï¼ˆæ­»äº¡ï¼‰</strong></li></ul><p>ä¹‹æ‰€ä»¥â€œæ–­æ–­ç»­ç»­â€çš„è¿è¡Œï¼Œæ˜¯å› ä¸ºæ¯æ¬¡æŠ¢åˆ°CPUæ‰§è¡Œæƒçš„æ—¶å€™ï¼Œåªæ˜¯è¿è¡Œå¾ˆå°çš„ä¸€ä¸ªæ—¶é—´ç‰‡ï¼Œå®Œäº†ä¹‹åè¿˜è¦é‡æ–°æŠ¢å¤ºä¸‹ä¸€ä¸ªæ—¶é—´ç‰‡å¹¶ä¸”ä¸­é—´è¿˜æœ‰å¯èƒ½æŠ¢ä¸åˆ°çš„æƒ…å†µã€‚</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230817202259463.png" alt="image-20230817202259463"></p></li></ul></blockquote><h1 id="sleepæ–¹æ³•"><a href="#sleepæ–¹æ³•" class="headerlink" title="sleepæ–¹æ³•"></a>sleepæ–¹æ³•</h1><blockquote><p>çº¿ç¨‹ç±»Threadä¸­çš„sleepæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaAPI-Threadæºç </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">// è¯¥é™æ€æ–¹æ³•å¯ä»¥è®©å½“å‰æ‰§è¡Œçš„çº¿ç¨‹æš‚æ—¶ä¼‘çœ åˆ¶å®šçš„æ¯«ç§’æ•°</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">(<span class="type">long</span> millis)</span> <span class="keyword">throws</span></span><br><span class="line">        InterruptedException;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><strong>çº¿ç¨‹æ‰§è¡Œäº†sleepæ–¹æ³•åï¼Œä¼šä»RUNNABLEçŠ¶æ€è¿›å…¥åˆ°TIMED_WAITINGçŠ¶æ€</strong></li><li><strong>TIMED_WAITINGé˜»å¡ç»“æŸåï¼Œçº¿ç¨‹ä¼šè‡ªåŠ¨å›åˆ°RUNNABLEçŠ¶æ€</strong></li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230817202909993.png" alt="image-20230817202909993"></p></blockquote><h1 id="joinæ–¹æ³•"><a href="#joinæ–¹æ³•" class="headerlink" title="joinæ–¹æ³•"></a>joinæ–¹æ³•</h1><blockquote><p>Threadç±»ä¸­ join æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//JavaAPI-Threadæºç </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Thread</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">(<span class="type">long</span> millis)</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">        <span class="comment">//... çœç•¥</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">join</span><span class="params">()</span> <span class="keyword">throws</span> InterruptedException&#123;</span><br><span class="line">        <span class="comment">//... çœç•¥</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½œç”¨ï¼š</p><p>joinæ–¹æ³•ï¼Œå¯ä»¥è®©<strong>å½“å‰çº¿ç¨‹é˜»å¡</strong>ï¼Œç­‰å¦ä¸€ä¸ªæŒ‡å®šçº¿ç¨‹è¿è¡Œç»“æŸåï¼Œå½“å‰çº¿ç¨‹æ‰å¯ä»¥ç»§ç»­è¿è¡Œã€‚</p><ul><li>join() ä¸€ç›´ç­‰å¾…åˆ°çº¿ç¨‹ç»“æŸï¼Œæ­»ç­‰</li><li>join(long millis) åªç­‰å¾…å‚æ•°æ¯«ç§’ï¼Œæ—¶é—´åˆ°äº†åï¼Œç»§ç»­è¿è¡Œ</li></ul><p>çŠ¶æ€è½¬æ¢ï¼š</p><p>çº¿ç¨‹æ‰§è¡Œäº†join()æ–¹æ³•åï¼Œä¼šä»<strong>RUNNABLEçŠ¶æ€è¿›å…¥åˆ°WAITINGï¼ˆæ— é™æœŸç­‰å¾…ï¼‰</strong>çŠ¶æ€</p><p>çº¿ç¨‹æ‰§è¡Œäº†<strong>join(long million)æ–¹æ³•åï¼Œä¼šä»RUNNABLEè¿›å…¥åˆ°TIMED_WAITINGï¼ˆæœ‰é™æœŸç­‰å¾…ï¼‰çŠ¶æ€</strong></p><p>joinæ–¹æ³•çŠ¶æ€å›¾ï¼š</p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818161433956.png" alt="image-20230818161433956"></p></blockquote><h1 id="çº¿ç¨‹å®‰å…¨"><a href="#çº¿ç¨‹å®‰å…¨" class="headerlink" title="çº¿ç¨‹å®‰å…¨"></a>çº¿ç¨‹å®‰å…¨</h1><blockquote><p>å¦‚æœæœ‰å¤šä¸ªçº¿ç¨‹ï¼Œå®ƒä»¬åœ¨ä¸€æ®µæ—¶é—´å†…ï¼Œå¹¶å‘è®¿é—®å †åŒºä¸­çš„åŒä¸€ä¸ªå˜é‡ï¼ˆ<strong>å«å†™å…¥æ“ä½œ</strong>ï¼‰ï¼Œé‚£ä¹ˆæœ€ç»ˆå¯èƒ½ä¼šå‡ºç°æ•°æ®å’Œé¢„æœŸçš„ç»“æœä¸ç¬¦çš„æƒ…å†µï¼Œè¿™ç§æƒ…å†µå°±æ˜¯çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚</p><p>æ¡ˆä¾‹æ¼”ç¤ºï¼š æ¨¡æ‹Ÿç”µå½±é™¢å”®ç¥¨ä¸šåŠ¡ï¼Œå‡†å¤‡50å¼ ç”µå½±ç¥¨ï¼Œè®©å¤šä¸ªçª—å£ä¸€èµ·å”®å–ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test15_ThreadSafe</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//TicketRunnable r = new TicketRunnable();</span></span><br><span class="line">        <span class="type">TicketRunnable2</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">TicketRunnable2</span>();</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(r, <span class="string">&quot;1å·çª—å£&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(r, <span class="string">&quot;2å·çª—å£&quot;</span>);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(r, <span class="string">&quot;3å·çª—å£&quot;</span>);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">        t3.start();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">TicketRunnable</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span> (<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (num &lt;= <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="keyword">break</span>;</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">try</span> &#123;</span><br><span class="line">                Thread.sleep(<span class="number">50</span>);</span><br><span class="line">            &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                e.printStackTrace();</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span> Thread.currentThread().getName();</span><br><span class="line">            System.out.println(name + <span class="string">&quot; æ­£åœ¨å–ç¥¨ï¼Œç¼–å·ï¼š&quot;</span> + num);</span><br><span class="line">            num--;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818162322461.png" alt="image-20230818162322461"></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818162608662.png" alt="image-20230818162608662"></p><p>çº¿ç¨‹å®‰å…¨é—®é¢˜éƒ½æ˜¯ç”±<strong>å…¨å±€å˜é‡åŠé™æ€å˜é‡</strong>å¼•èµ·çš„</p><p>è‹¥æ¯ä¸ªçº¿ç¨‹ä¸­é˜Ÿå…¨å±€ã€é™æ€å˜é‡åªæœ‰è¯»æ“ä½œï¼Œ<strong>è€Œæ— å†™æ“ä½œ</strong>ï¼Œä¸€èˆ¬æ¥è¯´ï¼Œçº¿ç¨‹æ˜¯å®‰å…¨</p><p>è‹¥å¤šä¸ªçº¿ç¨‹åŒæ—¶æ‰§è¡Œå†™æ“ä½œï¼Œå°±å¾ˆå¯èƒ½å‡ºç°çº¿ç¨‹å®‰å…¨é—®é¢˜ï¼Œæ­¤æ—¶éœ€è¦<strong>è€ƒè™‘çº¿ç¨‹åŒæ­¥æŠ€æœ¯</strong></p></blockquote><h1 id="çº¿ç¨‹åŒæ­¥"><a href="#çº¿ç¨‹åŒæ­¥" class="headerlink" title="çº¿ç¨‹åŒæ­¥"></a>çº¿ç¨‹åŒæ­¥</h1><blockquote><p>Javaä¸­æä¾›äº†çº¿ç¨‹åŒæ­¥çš„æœºåˆ¶ï¼Œæ¥è§£å†³ä¸Šè¿°çš„çº¿ç¨‹å®‰å…¨é—®é¢˜ã€‚ </p><p>Javaä¸­å®ç°çº¿ç¨‹åŒæ­¥ï¼Œä¸»è¦å€ŸåŠ© <strong>synchronized</strong> å…³é”®å­—å®ç°ã€‚</p></blockquote><h2 id="åŒæ­¥ä»£ç å—"><a href="#åŒæ­¥ä»£ç å—" class="headerlink" title="åŒæ­¥ä»£ç å—"></a>åŒæ­¥ä»£ç å—</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Objectç±»åŠå…¶å­ç±»å¯¹è±¡éƒ½å¯ä»¥ä½œä¸º çº¿ç¨‹åŒæ­¥é”å¯¹è±¡</span></span><br><span class="line"><span class="keyword">synchronized</span>(mutexé”å¯¹è±¡) &#123;</span><br><span class="line">    <span class="comment">//éœ€è¦åŒæ­¥æ“ä½œçš„ä»£ç </span></span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è§£å†³ä¹°ç”µå½±ç¥¨å‡ºç°çš„é—®é¢˜ï¼ˆ<strong>åŠ é”</strong>ï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">TicketRunnable2</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line">    <span class="comment">//å¾…å”®ç¥¨æ•°é‡</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">    <span class="comment">//å‡†å¤‡é”å¯¹è±¡ã€å¤šä¸ªçº¿ç¨‹å¿…é¡»ä½¿ç”¨ç›¸åŒé”å¯¹è±¡ã€‘</span></span><br><span class="line">    <span class="type">Object</span> <span class="variable">mutex</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">while</span>(<span class="literal">true</span>) &#123;</span><br><span class="line">            <span class="comment">//åŒæ­¥ä»£ç å—ï¼šå›ºå®šä¹¦å†™æ ¼å¼ï¼Œéœ€è¦ä½¿ç”¨åŒä¸€æŠŠé”</span></span><br><span class="line">            <span class="comment">//çº¿ç¨‹æ‰§è¡Œæµç¨‹ï¼š</span></span><br><span class="line">            <span class="comment">// 1.çº¿ç¨‹æˆåŠŸæŠ¢å åˆ°å…±äº«èµ„æºmutex(ä¸Šé”æˆåŠŸ)ï¼Œæ‰èƒ½è¿›å…¥ä»£ç å—æ‰§è¡Œ</span></span><br><span class="line">            <span class="comment">// å…¶ä»–æŠ¢å èµ„æºå¤±è´¥çš„çº¿ç¨‹ï¼Œåˆ™è¿›å…¥é˜»å¡çŠ¶æ€</span></span><br><span class="line">            <span class="comment">// 2.åŒæ­¥ä»£ç æ‰§è¡Œå®Œæˆï¼Œè¯¥çº¿ç¨‹è‡ªåŠ¨é‡Šæ”¾å…±äº«èµ„æº(è§£é”)</span></span><br><span class="line">            <span class="comment">// å…¶ä»–çº¿ç¨‹ç”±é˜»å¡è½¬å…¥å°±ç»ªçŠ¶æ€ï¼Œé‡æ–°æŠ¢å èµ„æº(ä¸Šé”)</span></span><br><span class="line">            <span class="keyword">synchronized</span> (mutex) &#123;</span><br><span class="line">                <span class="comment">//å¦‚æœå¾…å”®æ•°é‡ å°äº0ï¼Œè·³å‡ºå¾ªç¯ï¼Œçº¿ç¨‹ç»“æŸ</span></span><br><span class="line">                <span class="keyword">if</span>(num &lt;= <span class="number">0</span>)</span><br><span class="line">                    <span class="keyword">break</span>;</span><br><span class="line">                <span class="comment">//æ¯éš”50ms é”€å”® ä¸€å¼ ç¥¨</span></span><br><span class="line">                <span class="keyword">try</span> &#123;</span><br><span class="line">                    Thread.sleep(<span class="number">50</span>);</span><br><span class="line">                &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                    e.printStackTrace();</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="comment">//è¾“å‡ºä¿¡æ¯ï¼šæ¨¡æ‹Ÿå–ç¥¨</span></span><br><span class="line">                <span class="type">String</span> <span class="variable">name</span> <span class="operator">=</span></span><br><span class="line">                    Thread.currentThread().getName();</span><br><span class="line">                System.out.println(name + <span class="string">&quot; æ­£åœ¨å–ç¥¨ï¼Œç¼–å·ï¼š&quot;</span> + num);</span><br><span class="line">                <span class="comment">//ç¼–å·è‡ªå‡</span></span><br><span class="line">                num--;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼Œè¦å®ç°çº¿ç¨‹åŒæ­¥ï¼Œå¿…é¡»æ»¡è¶³ä¸‹é¢ä¸¤ä¸ªæ¡ä»¶ï¼š</font></p><ul><li>æ‰€æœ‰çº¿ç¨‹éƒ½éœ€è¦å‚ä¸çº¿ç¨‹åŒæ­¥</li><li>æ‰€æœ‰çº¿ç¨‹å¿…é¡»ä½¿ç”¨åŒä¸€ä¸ªé”å¯¹è±¡</li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818163811352.png" alt="image-20230818163811352"></p><p>çº¿ç¨‹åŒæ­¥ç†è§£ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çº¿ç¨‹åªæœ‰ç«äº‰åˆ°é”ï¼Œæ‰èƒ½æ‰§è¡ŒåŒæ­¥ä»£ç å—ä¸­ä»£ç (ä¸Šé”)</span></span><br><span class="line"><span class="keyword">synchronized</span>(mutexé”å¯¹è±¡) &#123;</span><br><span class="line">    <span class="comment">// éœ€è¦åŒæ­¥æ“ä½œçš„ä»£ç </span></span><br><span class="line">   <span class="comment">// ç¨‹åºæ‰§è¡Œæµç¨‹ç¦»å¼€è¯¥ä»£ç å—ï¼Œåˆ™è‡ªåŠ¨é‡Šæ”¾é”ï¼ˆè§£é”ï¼‰</span></span><br><span class="line">    <span class="comment">// ç¦»å¼€å«å¤šç§æƒ…å†µï¼Œæ­£å¸¸å‡ºå³å¤§æ‹¬å·ã€breakã€returnæˆ–é‡åˆ°å¼‚å¸¸è·³å‡º</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">çº¿ç¨‹åŒæ­¥å¯ç†è§£æˆä¸€ä¸ªè§„åˆ™ï¼ˆè¿›å«ç”Ÿé—´å¿…é¡»ç«äº‰åˆ°é’¥åŒ™å¼€é—¨ï¼Œç¦»å¼€å«ç”Ÿé—´å¿…é¡»é”é—¨äº¤å‡ºé’¥åŒ™ï¼‰</font></p><ul><li>æ‰€æœ‰çš„çº¿ç¨‹éƒ½éµå¾ªè¿™ç§è§„åˆ™ï¼Œæ‰èƒ½åŒæ­¥æˆåŠŸ</li><li>å¦‚æœä¸ªåˆ«çº¿ç¨‹ä¸éµå¾ªè§„åˆ™ï¼ˆä¸ç”¨é’¥åŒ™ï¼Œç ´é—¨è€Œå…¥ï¼‰ï¼Œåˆ™æ— æ³•å®ç°åŒæ­¥</li></ul><p><font color="#d12920">é”å¯¹è±¡å¯ä»¥ç†è§£æˆä¿è¯çº¿ç¨‹åŒæ­¥çš„é‡è¦å› ç´ (æ‰“å¼€å«ç”Ÿé—´çš„å”¯ä¸€é’¥åŒ™)</font></p><ul><li>å¤šä¸ªçº¿ç¨‹ä½¿ç”¨åŒä¸€æŠŠé”ï¼ˆç”¨å”¯ä¸€çš„é’¥åŒ™å¼€é—¨ï¼‰ï¼Œæ‰èƒ½ä¿è¯çº¿ç¨‹åŒæ­¥</li><li>å¦‚æœä½¿ç”¨ä¸åŒçš„é”ï¼ˆä¸åŒçš„äººç”¨ä¸åŒçš„é’¥åŒ™å»å¼€é—¨ï¼‰ï¼Œåˆ™ä¹Ÿæ— æ³•å®ç°çº¿ç¨‹åŒæ­¥æ•ˆæœ</li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818165030648.png" alt="image-20230818165030648"></p></blockquote><h2 id="åŒæ­¥æ–¹æ³•"><a href="#åŒæ­¥æ–¹æ³•" class="headerlink" title="åŒæ­¥æ–¹æ³•"></a>åŒæ­¥æ–¹æ³•</h2><blockquote><p>ä½¿ç”¨synchronizedä¿®é¥°çš„æ–¹æ³•ï¼Œå°±å«åšåŒæ­¥æ–¹æ³•ï¼Œå›ºå®šæ ¼å¼å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> [<span class="keyword">static</span>] <span class="keyword">synchronized</span> è¿”å›å€¼ç±»å‹ åŒæ­¥æ–¹æ³•() &#123;</span><br><span class="line">    å¯èƒ½ä¼šäº§ç”Ÿçº¿ç¨‹å®‰å…¨é—®é¢˜çš„ä»£ç </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>åŒæ­¥æ–¹æ³•å¯ä»¥æ˜¯ä¸åŒæˆå‘˜æ–¹æ³•ï¼Œä¹Ÿå¯ä»¥æ˜¯staticé™æ€æ–¹æ³•</li><li>æ™®é€šæˆå‘˜åŒæ­¥æ–¹æ³•ï¼Œé»˜è®¤é”å¯¹è±¡ä¸º<strong>this</strong>ï¼Œå³å½“å‰æ–¹æ³•çš„è°ƒç”¨å¯¹è±¡</li><li>staticé™æ€åŒæ­¥æ–¹æ³•ï¼Œé»˜è®¤é”å¯¹è±¡æ˜¯<strong>å½“å‰ç±»çš„å­—èŠ‚ç å¯¹è±¡ï¼ˆä¸€ä¸ªç±»å³ä¸”åªæœ‰ä¸€ä¸ª</strong>ï¼‰</li></ul><p><strong>ç±»çš„å­—èŠ‚ç å¯¹è±¡ï¼šç±»å.classï¼Œå›ºå®šç”¨æ³•</strong></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818165827925.png" alt="image-20230818165827925"></p><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230818165943437.png" alt="image-20230818165943437"></p></blockquote><h1 id="çº¿ç¨‹é€šä¿¡"><a href="#çº¿ç¨‹é€šä¿¡" class="headerlink" title="çº¿ç¨‹é€šä¿¡"></a>çº¿ç¨‹é€šä¿¡</h1><h2 id="æ¦‚å¿µç†è§£"><a href="#æ¦‚å¿µç†è§£" class="headerlink" title="æ¦‚å¿µç†è§£"></a>æ¦‚å¿µç†è§£</h2><blockquote><ul><li>çº¿ç¨‹é—´é€šä¿¡</li></ul><p>å¤šä¸ªçº¿ç¨‹å¹¶å‘æ‰§è¡Œæ—¶ï¼Œåœ¨é»˜è®¤æƒ…å†µä¸‹CPUæ˜¯<strong>éšæœºåˆ‡æ¢çº¿ç¨‹</strong>çš„ï¼Œå½“æˆ‘ä»¬éœ€è¦å¤šä¸ªçº¿ç¨‹æ¥å…±åŒå®Œæˆä¸€ä»¶ä»»åŠ¡ï¼Œå¹¶ä¸”æˆ‘ä»¬å¸Œæœ›ä»–ä»¬<strong>æœ‰è§„å¾‹çš„æ‰§è¡Œ</strong>ï¼Œé‚£ä¹ˆå¤šçº¿ç¨‹ä¹‹é—´éœ€è¦ä¸€äº›åè°ƒé€šä¿¡ï¼Œä»¥æ­¤æ¥å¸®æˆ‘ä»¬è¾¾åˆ°å¤šçº¿ç¨‹å…±åŒæ“ä½œä¸€ä»½æ•°æ®ã€‚</p><ul><li>ç­‰å¾…å”¤é†’æœºåˆ¶</li></ul><p>å¤šä¸ªçº¿ç¨‹åœ¨å¤„ç†åŒä¸€ä¸ªèµ„æºï¼Œå¹¶ä¸”ä»»åŠ¡ä¸åŒæ—¶ï¼Œéœ€è¦çº¿ç¨‹é€šä¿¡æ¥å¸®åŠ©è§£å†³çº¿ç¨‹ä¹‹é—´å¯¹<strong>åŒä¸€ä¸ªå˜é‡çš„ä½¿ç”¨æˆ–æ“ä½œ</strong>ã€‚å°±æ˜¯å¤šä¸ªçº¿ç¨‹åœ¨æ“ä½œåŒä¸€ä»½æ•°æ®æ—¶ï¼Œé¿å…å¯¹åŒä¸€å…±äº«å˜é‡çš„äº‰å¤ºã€‚ä¹Ÿå°±æ˜¯æˆ‘ä»¬éœ€è¦é€šè¿‡ä¸€å®šçš„æ‰‹æ®µä½¿å„ä¸ªä¸‹æ¬¡ä½ èƒ½æœ‰æ•ˆçš„åˆ©ç”¨èµ„æºã€‚</p></blockquote><h2 id="waitå’Œnotify"><a href="#waitå’Œnotify" class="headerlink" title="waitå’Œnotify"></a>waitå’Œnotify</h2><blockquote><p>Objectç±»ä¸­æœ‰ä¸‰ä¸ªæ–¹æ³•ï¼šwait()ã€notify()ã€notifyAll</p><p>å½“ä¸€ä¸ªå¯¹è±¡ï¼Œåœ¨çº¿ç¨‹åŒæ­¥çš„ä»£ç ä¸­ï¼Œå……å½“é”å¯¹è±¡çš„æ—¶å€™ï¼Œåœ¨synchronizedåŒæ­¥çš„ä»£ç å—ä¸­ï¼Œå°±å¯ä»¥è°ƒç”¨è¿™ä¸ªé”å¯¹è±¡çš„è¿™ä¸‰ä¸ªæ–¹æ³•äº†ã€‚</p><p>ä¸‰ä¸ªæ ¸å¿ƒç‚¹ï¼š</p><ul><li>ä»»ä½•å¯¹è±¡ä¸­éƒ½ä¸€å®šæœ‰è¿™ä¸‰ä¸ªæ–¹æ³•</li><li>åªæœ‰å¯¹è±¡ä½œä¸º<strong>é”å¯¹è±¡</strong>çš„æ—¶å€™ï¼Œæ‰å¯ä»¥è°ƒç”¨ã€‚</li><li>åªæœ‰åœ¨<strong>åŒæ­¥çš„ä»£ç å—</strong>ä¸­ï¼Œæ‰å¯ä»¥è°ƒç”¨</li></ul><p>å…¶ä»–æƒ…å†µä¸‹ï¼Œè°ƒç”¨ä¸€ä¸ªå¯¹è±¡çš„è¿™ä¸‰ä¸ªæ–¹æ³•ï¼Œéƒ½ä¼šæŠ¥é”™ï¼</p><ul><li>ç­‰å¾…å”¤é†’æœºåˆ¶ï¼š</li></ul><p>è¿™æ˜¯å¤šä¸ªçº¿ç¨‹é—´çš„ä¸€ç§<strong>åä½œæœºåˆ¶</strong>ã€‚è°ˆåˆ°çº¿ç¨‹æˆ‘ä»¬ç»å¸¸æƒ³åˆ°çš„æ˜¯çº¿ç¨‹é—´çš„<strong>ç«äº‰ï¼ˆraceï¼‰</strong>ï¼Œæ¯”å¦‚å»äº‰å¤ºé”ï¼Œä½†è¿™å¹¶ä¸æ˜¯æ•…äº‹çš„å…¨éƒ¨ï¼Œçº¿ç¨‹é—´ä¹Ÿä¼šæœ‰åä½œæœºåˆ¶ã€‚</p><p>å°±æ˜¯åœ¨ä¸€ä¸ªçº¿ç¨‹è¿›è¡Œäº†è§„å®šæ“ä½œåï¼Œå°±è¿›å…¥ç­‰å¾…çŠ¶æ€ï¼ˆwait()ï¼‰ï¼Œç­‰å¾…å…¶ä»–çº¿ç¨‹æ‰§è¡Œå®Œå®ƒä»¬çš„æŒ‡å®šä»£ç è¿‡ååœ¨å°†å…¶å”¤é†’ï¼ˆnotify()ï¼‰ï¼›åœ¨æœ‰å¤šä¸ªä¸‹æ¬¡ä½ è¿›è¡Œç­‰å¾…æ—¶ï¼Œå¦‚æœéœ€è¦ï¼Œå¯ä»¥ä½¿ç”¨notifyAll()æ¥å”¤é†’æ‰€æœ‰çš„ç­‰å¾…çº¿ç¨‹ã€‚</p><p>wait&#x2F;notifyå°±æ˜¯çº¿ç¨‹é—´çš„ä¸€ç§åä½œæœºåˆ¶ã€‚</p><ul><li>æ–¹æ³•è¯¦è§£ï¼š</li></ul><p>ç­‰å¾…å”¤é†’æœºåˆ¶å°±æ˜¯ç”¨äºè§£å†³çº¿ç¨‹é—´é€šä¿¡çš„é—®é¢˜çš„ï¼Œä½¿ç”¨åˆ°çš„3ä¸ªæ–¹æ³•çš„å«ä¹‰ å¦‚ä¸‹ï¼š</p><ul><li>waitï¼šçº¿ç¨‹ä¸å†æ´»åŠ¨ï¼Œä¸å†å‚ä¸è°ƒåº¦ï¼Œè¿›å…¥ wait set ä¸­ï¼Œå› æ­¤ä¸ä¼šæµªè´¹ CPU èµ„æºï¼Œä¹Ÿä¸ä¼šå»ç«äº‰é”äº†ï¼Œè¿™æ—¶çš„çº¿ç¨‹çŠ¶æ€å³æ˜¯ <strong>WAITING</strong>ã€‚å®ƒè¿˜ è¦ç­‰ç€åˆ«çš„çº¿ç¨‹æ‰§è¡Œä¸€ä¸ª<strong>ç‰¹åˆ«çš„åŠ¨ä½œï¼Œä¹Ÿå³æ˜¯â€œé€šçŸ¥ï¼ˆnotifyï¼‰</strong>â€åœ¨è¿™ä¸ª å¯¹è±¡ä¸Šç­‰å¾…çš„çº¿ç¨‹ä»wait set ä¸­é‡Šæ”¾å‡ºæ¥ï¼Œé‡æ–°è¿›å…¥åˆ°<strong>è°ƒåº¦é˜Ÿåˆ— ï¼ˆready queueï¼‰</strong>ä¸­</li><li>notifyï¼šåˆ™é€‰å–æ‰€é€šçŸ¥å¯¹è±¡çš„ wait set ä¸­çš„ä¸€ä¸ªçº¿ç¨‹é‡Šæ”¾ï¼›ä¾‹å¦‚ï¼Œé¤é¦† æœ‰ç©ºä½ç½®åï¼Œç­‰å€™å°±é¤æœ€ä¹…çš„é¡¾å®¢æœ€å…ˆå…¥åº§ã€‚</li><li>notifyAllï¼šåˆ™é‡Šæ”¾æ‰€é€šçŸ¥å¯¹è±¡çš„ wait set ä¸Šçš„å…¨éƒ¨çº¿ç¨‹ã€‚</li></ul><p>æ³¨æ„ï¼š</p><p>å“ªæ€•åªé€šçŸ¥äº†ä¸€ä¸ªç­‰å¾…çš„çº¿ç¨‹ï¼Œè¢«é€šçŸ¥çº¿ç¨‹ä¹Ÿä¸èƒ½ç«‹å³æ¢å¤æ‰§è¡Œï¼Œå› ä¸ºå®ƒå½“åˆç»ˆç«¯çš„åœ°æ–¹æ˜¯åœ¨åŒæ­¥å—å†…ï¼Œè€Œæ­¤åˆ»å®ƒå·²ç»ä¸æŒæœ‰é”ï¼Œæ‰€ä»¥å¥¹éœ€è¦å†æ¬¡å°è¯•å»è·å–é”ï¼ˆå¾ˆå¯èƒ½é¢ä¸´å…¶å®ƒçº¿ç¨‹çš„ç«äº‰ï¼‰ï¼ŒæˆåŠŸåæ‰èƒ½åœ¨å½“åˆè°ƒç”¨waitæ–¹æ³•ä¹‹åçš„åœ°æ–¹æ¢å¤æ‰§è¡Œã€‚</p><p>æ€»ç»“å¦‚ä¸‹ï¼š</p><ul><li>å¦‚æœèƒ½è·å–é”ï¼Œçº¿ç¨‹å°±ä»WAITINGçŠ¶æ€â€“&gt;RUNNABLEçŠ¶æ€</li><li>å¦åˆ™ï¼Œä»wait setå¤„ç†ï¼Œåˆè¿›å…¥entry setï¼Œçº¿ç¨‹å°±ä»WAITING â€“&gt; BLOCKED</li></ul><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>waitæ–¹æ³•ä¸notifyæ–¹æ³•å¿…é¡»è¦ç”±åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨ã€‚å› ä¸ºï¼š<strong>å¯¹åº”çš„é”å¯¹è±¡å¯ä»¥é€šè¿‡notifyå”¤é†’ä½¿ç”¨åŒä¸€ä¸ªé”å¯¹è±¡è°ƒç”¨waitæ–¹æ³•åçš„çº¿ç¨‹ã€‚</strong></li><li>waitæ–¹æ³•ä¸notifyæ–¹æ³•æ˜¯å±äºObjectç±»çš„æ–¹æ³•ã€‚å› ä¸ºï¼š<strong>é”å¯¹è±¡å¯ä»¥æ˜¯ä»»æ„å¯¹è±¡ï¼Œè€Œä»»æ„å¯¹è±¡çš„æ‰€å±ç±»éƒ½æ˜¯ç»§æ‰¿äº†Objectç±»çš„</strong></li><li>waitæ–¹æ³•ä¸notifyæ–¹æ³•å¿…é¡»è¦åœ¨åŒæ­¥ä»£ç å—æˆ–è€…æ˜¯åŒæ­¥å‡½æ•°ä¸­ä½¿ç”¨ã€‚å›  ä¸ºï¼š<strong>å¿…é¡»è¦é€šè¿‡é”å¯¹è±¡è°ƒç”¨è¿™2ä¸ªæ–¹æ³•ã€‚</strong></li></ul></blockquote><h2 id="ä¸¤çº¿ç¨‹é€šä¿¡"><a href="#ä¸¤çº¿ç¨‹é€šä¿¡" class="headerlink" title="ä¸¤çº¿ç¨‹é€šä¿¡"></a>ä¸¤çº¿ç¨‹é€šä¿¡</h2><blockquote><p>åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªæ˜¯ç”Ÿäº§è€…çº¿ç¨‹ï¼Œè’¸åŒ…å­ï¼Œå¦ä¸€ä¸ªæ˜¯æ¶ˆè´¹è€…çº¿ç¨‹ï¼ŒåƒåŒ… å­ï¼Œè¦æ±‚ä¸¤ä¸ªçº¿ç¨‹è½®æµæ‰§è¡Œï¼ˆå…ˆç”Ÿäº§å†æ¶ˆè´¹ï¼‰ã€‚</p><p>æ¡ˆä¾‹å®ç°ï¼š </p><ul><li>ç”Ÿäº§è€…çº¿ç¨‹ç±»ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒ…å­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bum</span> &#123;</span><br><span class="line">    <span class="comment">//åŒ…å­æ•°é‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">//åŒ…å­å­˜åœ¨æ ‡è¯†</span></span><br><span class="line">    <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="literal">false</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”Ÿäº§è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Bum bum;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer</span><span class="params">(String name, Bum bum)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.bum = bum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//åŒæ­¥</span></span><br><span class="line">            <span class="keyword">synchronized</span> (bum)&#123;</span><br><span class="line">                <span class="comment">//æ ¹æ®flagåˆ¤æ–­åŒ…å­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™ çº¿ç¨‹è¿›è¡Œ</span></span><br><span class="line">                ç­‰å¾…</span><br><span class="line">                    <span class="keyword">if</span>(bum.flag)&#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            bum.wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="comment">//ç”Ÿäº§åŒ…å­</span></span><br><span class="line">                System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;æ¬¡ï¼Œ&quot;</span> + <span class="built_in">this</span>.getName() + <span class="string">&quot;: å¼€å§‹ç”Ÿäº§åŒ…å­...&quot;</span>);</span><br><span class="line">                bum.num++;</span><br><span class="line">                System.out.println(<span class="string">&quot;ç”Ÿäº§å®Œæˆï¼ŒåŒ…å­æ•°é‡: &quot;</span> + bum.num + <span class="string">&quot;ï¼Œå¿«æ¥åƒ!&quot;</span>);</span><br><span class="line">                <span class="comment">//ç”Ÿäº§å®Œæˆï¼Œä¿®æ”¹flagå­˜åœ¨æ ‡è¯†ä¸ºtrue</span></span><br><span class="line">                bum.flag = <span class="literal">true</span>;</span><br><span class="line">                <span class="comment">//é€šçŸ¥ æ¶ˆè´¹è€…çº¿ç¨‹åƒåŒ…å­</span></span><br><span class="line">                bum.notify();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ¶ˆè´¹è€…çº¿ç¨‹ç±»ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Customer</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Bum bum;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer</span><span class="params">(String name, Bum bum)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.bum = bum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">//åŒæ­¥</span></span><br><span class="line">            <span class="keyword">synchronized</span> (bum)&#123;</span><br><span class="line">                <span class="comment">//æ ¹æ®flagåˆ¤æ–­åŒ…å­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™çº¿ç¨‹ç­‰å¾…</span></span><br><span class="line">                <span class="keyword">if</span>(bum.flag == <span class="literal">false</span>)&#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        bum.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;æ¬¡ï¼Œ&quot;</span> + <span class="built_in">this</span>.getName() + <span class="string">&quot; å¼€å§‹åƒåŒ…å­...&quot;</span>);</span><br><span class="line">                bum.num--;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ¶ˆè´¹å®Œæˆï¼ŒåŒ…å­æ•°é‡: &quot;</span> + bum.num + <span class="string">&quot;ï¼Œå¿«ç”Ÿäº§å§!&quot;</span>);</span><br><span class="line">                <span class="comment">//æ¶ˆè´¹å®Œæˆï¼Œä¿®æ”¹flagå­˜åœ¨æ ‡è¯†ä¸ºfalse</span></span><br><span class="line">                bum.flag = <span class="literal">false</span>;</span><br><span class="line">                <span class="comment">//é€šçŸ¥ æ¶ˆè´¹è€…çº¿ç¨‹åƒåŒ…å­</span></span><br><span class="line">                bum.notify();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æµ‹è¯•ç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åˆ›å»ºä¸¤ä¸ªçº¿ç¨‹ï¼Œä¸€ä¸ªç”Ÿäº§åŒ…å­ï¼Œå¦ä¸€ä¸ªæ¶ˆè´¹åŒ…å­ï¼Œè¦æ±‚çº¿ç¨‹æŒ‰ç…§</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test17_TwoCommunication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//å‡†å¤‡å…±äº«å¯¹è±¡</span></span><br><span class="line">        <span class="type">Bum</span> <span class="variable">bum</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bum</span>();</span><br><span class="line">        <span class="comment">//ç”Ÿäº§è€…çº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer</span>(<span class="string">&quot;æ‰“å·¥äºº&quot;</span>,bum);</span><br><span class="line">        <span class="comment">//æ¶ˆè´¹è€…çº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer</span>(<span class="string">&quot;åƒè´§&quot;</span>,bum);</span><br><span class="line">        <span class="comment">//å¯åŠ¨çº¿ç¨‹</span></span><br><span class="line">        th1.start();</span><br><span class="line">        th2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>2ä¸ªçº¿ç¨‹é€šä¿¡ä¸»è¦å€ŸåŠ©wait()ã€notify()å’Œflagæ ‡å€¼å®Œæˆ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>(flagåˆ¤æ–­)&#123;</span><br><span class="line">    æ‰§è¡Œwait()ç­‰å¾…;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>wait()å¯ä»¥è®©çº¿ç¨‹è¿›å…¥ç­‰å¾…çŠ¶ä½“</li><li>notify()å¯ä»¥é€šçŸ¥ç­‰å¾…çš„æŸä¸ªçº¿ç¨‹ï¼Œè®©å…¶è½¬å…¥å°±ç»ªçŠ¶æ€</li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230819104832846.png" alt="image-20230819104832846"></p></blockquote><h2 id="å¤šçº¿ç¨‹åŒé€šä¿¡"><a href="#å¤šçº¿ç¨‹åŒé€šä¿¡" class="headerlink" title="å¤šçº¿ç¨‹åŒé€šä¿¡"></a>å¤šçº¿ç¨‹åŒé€šä¿¡</h2><blockquote><p>åˆ›å»º3ä¸ªçº¿ç¨‹ï¼Œç¬¬1ä¸ªæ˜¯ç”Ÿäº§è€…çº¿ç¨‹ï¼Œæ¯æ¬¡è’¸2åªåŒ…å­ï¼Œç¬¬2ä¸ªæ˜¯æ¶ˆè´¹è€…çº¿ ç¨‹ï¼Œåƒ1ä¸ªåŒ…å­ï¼Œç¬¬3ä¸ªä¹Ÿæ˜¯æ¶ˆè´¹è€…çº¿ç¨‹ï¼Œåƒ1ä¸ªåŒ…å­ï¼Œè¦æ±‚3ä¸ªçº¿ç¨‹è½®æµæ‰§ è¡Œï¼ˆçº¿ç¨‹1ç”Ÿäº§ï¼Œçº¿ç¨‹2æ¶ˆè´¹ï¼Œçº¿ç¨‹3æ¶ˆè´¹ï¼‰</p><p>æ¡ˆä¾‹å®ç°ï¼š </p><ul><li>ç”Ÿäº§è€…çº¿ç¨‹ç±»ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//åŒ…å­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Bum2</span> &#123;</span><br><span class="line">    <span class="comment">// åŒ…å­æ•°é‡</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">    <span class="comment">// çº¿ç¨‹æ‰§è¡Œæ ‡è¯†: 0è¡¨ç¤ºçº¿ç¨‹1æ‰§è¡Œ 1è¡¨ç¤ºçº¿ç¨‹2æ‰§è¡Œ 2è¡¨ç¤ºçº¿ç¨‹3æ‰§è¡Œ</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">flag</span> <span class="operator">=</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç”Ÿäº§è€…</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Producer1</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Bum2 bum;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Producer1</span><span class="params">(String name, Bum2 bum)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.bum = bum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// åŒæ­¥</span></span><br><span class="line">            <span class="keyword">synchronized</span> (bum) &#123;</span><br><span class="line">                <span class="comment">// æ ¹æ®flagåˆ¤æ–­åŒ…å­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœå­˜åœ¨åˆ™ çº¿ç¨‹è¿›</span></span><br><span class="line">                è¡Œç­‰å¾…</span><br><span class="line">                    <span class="comment">// æ³¨æ„ï¼Œæ­¤å¤„å¿…é¡»æ”¹ä¸ºwhileï¼Œç”¨ifæ— æ³•å®ç°åŠŸèƒ½</span></span><br><span class="line">                    <span class="keyword">while</span> (bum.flag != <span class="number">0</span>) &#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            bum.wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                <span class="comment">// ç”Ÿäº§åŒ…å­</span></span><br><span class="line">                System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;æ¬¡ï¼Œ&quot;</span> +  <span class="built_in">this</span>.getName() + <span class="string">&quot;: å¼€å§‹ç”Ÿäº§åŒ…å­...&quot;</span>);</span><br><span class="line">                <span class="comment">// æ¯æ¬¡ç”Ÿäº§2ä¸ªåŒ…å­</span></span><br><span class="line">                bum.num += <span class="number">2</span>;</span><br><span class="line">                System.out.println(<span class="string">&quot;ç”Ÿäº§å®Œæˆï¼ŒåŒ…å­æ•°é‡: &quot;</span> + bum.num + <span class="string">&quot;ï¼Œå¿«æ¥åƒ!&quot;</span>);</span><br><span class="line">                <span class="comment">// ç”Ÿäº§å®Œæˆï¼Œä¿®æ”¹flagå­˜åœ¨æ ‡è¯†ä¸ºtrue</span></span><br><span class="line">                bum.flag = <span class="number">1</span>;</span><br><span class="line">                <span class="comment">// é€šçŸ¥ å…¶ä»–æ‰€æœ‰çº¿ç¨‹è½¬å…¥è¿è¡Œ</span></span><br><span class="line">                bum.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>2ä¸ªæ¶ˆè´¹è€…çº¿ç¨‹ç±»ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Customer2</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Bum2 bum;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer2</span><span class="params">(String name, Bum2 bum)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.bum = bum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// åŒæ­¥</span></span><br><span class="line">            <span class="keyword">synchronized</span> (bum) &#123;</span><br><span class="line">                <span class="comment">// æ ¹æ®flagåˆ¤æ–­åŒ…å­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™çº¿ç¨‹ç­‰</span></span><br><span class="line">                å¾…</span><br><span class="line">                    <span class="comment">// æ³¨æ„ï¼Œæ­¤å¤„å¿…é¡»æ”¹ä¸ºwhileï¼Œç”¨ifæ— æ³•å®ç°åŠŸèƒ½</span></span><br><span class="line">                    <span class="keyword">while</span> (bum.flag != <span class="number">1</span>) &#123;</span><br><span class="line">                        <span class="keyword">try</span> &#123;</span><br><span class="line">                            bum.wait();</span><br><span class="line">                        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                            e.printStackTrace();</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                System.out.println(<span class="built_in">this</span>.getName() + <span class="string">&quot; å¼€å§‹åƒåŒ…å­...&quot;</span>);</span><br><span class="line">                bum.num--;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ¶ˆè´¹å®Œæˆï¼ŒåŒ…å­å‰©ä½™æ•°é‡: &quot;</span></span><br><span class="line">                                   + bum.num);</span><br><span class="line">                <span class="comment">// æ¶ˆè´¹å®Œæˆï¼Œä¿®æ”¹flagå­˜åœ¨æ ‡è¯†ä¸ºfalse</span></span><br><span class="line">                bum.flag = <span class="number">2</span>;</span><br><span class="line">                <span class="comment">// é€šçŸ¥ å…¶ä»–æ‰€æœ‰çº¿ç¨‹è½¬å…¥è¿è¡Œ</span></span><br><span class="line">                bum.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Customer3</span> <span class="keyword">extends</span> <span class="title class_">Thread</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> Bum2 bum;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Customer3</span><span class="params">(String name, Bum2 bum)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.bum = bum;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++) &#123;</span><br><span class="line">            <span class="comment">// åŒæ­¥</span></span><br><span class="line">            <span class="keyword">synchronized</span> (bum) &#123;</span><br><span class="line">                <span class="comment">// æ ¹æ®flagåˆ¤æ–­åŒ…å­æ˜¯å¦å­˜åœ¨ï¼Œå¦‚æœä¸å­˜åœ¨åˆ™çº¿ç¨‹ç­‰å¾…</span></span><br><span class="line">                <span class="comment">// æ³¨æ„ï¼Œæ­¤å¤„å¿…é¡»æ”¹ä¸ºwhileï¼Œç”¨ifæ— æ³•å®ç°åŠŸèƒ½</span></span><br><span class="line">                <span class="keyword">while</span> (bum.flag != <span class="number">2</span>) &#123;</span><br><span class="line">                    <span class="keyword">try</span> &#123;</span><br><span class="line">                        bum.wait();</span><br><span class="line">                    &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">                        e.printStackTrace();</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">                System.out.println(<span class="built_in">this</span>.getName() + <span class="string">&quot; å¼€å§‹åƒåŒ…å­...&quot;</span>);</span><br><span class="line">                bum.num--;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ¶ˆè´¹å®Œæˆï¼ŒåŒ…å­å‰©ä½™æ•°é‡: &quot;</span> + bum.num);</span><br><span class="line">                <span class="comment">// æ¶ˆè´¹å®Œæˆï¼Œä¿®æ”¹flagå­˜åœ¨æ ‡è¯†ä¸ºfalse</span></span><br><span class="line">                bum.flag = <span class="number">0</span>;</span><br><span class="line">                <span class="comment">// é€šçŸ¥ å…¶ä»–æ‰€æœ‰çº¿ç¨‹è½¬å…¥è¿è¡Œ</span></span><br><span class="line">                bum.notifyAll();</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•ç±»ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test17_MoreCommunication</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Bum2</span> <span class="variable">bum</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Bum2</span>();</span><br><span class="line">        <span class="comment">// ç”Ÿäº§è€…çº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Producer1</span>(<span class="string">&quot;æ‰“å·¥äºº&quot;</span>, bum);</span><br><span class="line">        <span class="comment">// æ¶ˆè´¹è€…çº¿ç¨‹</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer2</span>(<span class="string">&quot;1å·åƒè´§&quot;</span>, bum);</span><br><span class="line">        <span class="type">Thread</span> <span class="variable">th3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Customer3</span>(<span class="string">&quot;2å·åƒè´§&quot;</span>, bum);</span><br><span class="line">        th1.start();</span><br><span class="line">        th2.start();</span><br><span class="line">        th3.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š </p><ul><li>å¤šä¸ª(3ä¸ªåŠä»¥ä¸Š)çº¿ç¨‹é€šä¿¡ä¸»è¦å€ŸåŠ©wait()ã€notifyAll()å’Œflagæ ‡è¯†å®Œæˆ </li><li>notifyAll()å¯ä»¥é€šçŸ¥æ‰€æœ‰ç­‰å¾…çš„æŸä¸ªçº¿ç¨‹ï¼Œè®©å…¶è½¬å…¥å°±ç»ªçŠ¶æ€ </li><li>flagçš„åˆ¤æ–­å¿…é¡»ä½¿ç”¨whileï¼Œå¦‚æœä½¿ç”¨ifåˆ™æ— æ³•å®ŒæˆåŠŸèƒ½</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//notifyAll()ä¼šå”¤é†’æ‰€æœ‰waitçº¿ç¨‹</span></span><br><span class="line"><span class="comment">//ä½†ç¬¬ä¸€ä¸ªé†’æ¥å¹¶ä¸Šé”æˆåŠŸçš„é‚£ä¸ªçº¿ç¨‹ï¼Œå¾ˆå¯èƒ½ä¸æ˜¯æˆ‘ä»¬æƒ³è¦çš„</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥éœ€è¦ä½¿ç”¨whileå†åšä¸€æ¬¡çŠ¶æ€åˆ¤æ–­</span></span><br><span class="line"><span class="comment">//ä»è€Œä¿è¯ï¼Œåªæœ‰æˆ‘ä»¬æœŸæœ›çš„çº¿ç¨‹ èƒ½å¤ŸæˆåŠŸé†’æ¥å¹¶ä¸Šé”æˆåŠŸï¼Œå¾€ä¸‹æ‰§è¡Œ</span></span><br><span class="line"><span class="keyword">while</span>(flagåˆ¤æ–­) &#123;</span><br><span class="line">    æ‰§è¡Œwait()ç­‰å¾…;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æˆåŠŸé†’æ¥å¹¶ä¸Šé”æˆåŠŸï¼Œå¾€ä¸‹æ‰§è¡Œä»£ç </span></span><br><span class="line">doNext...</span><br></pre></td></tr></table></figure></blockquote><h1 id="æ­»é”"><a href="#æ­»é”" class="headerlink" title="æ­»é”"></a>æ­»é”</h1><blockquote><p>ç¨‹åºä¸­è¦å°½é‡é¿å…å‡ºç°æ­»é”æƒ…å†µï¼Œä¸€æ—¦å‘ç”Ÿé‚£ä¹ˆåªèƒ½æ‰‹åŠ¨åœæ­¢JVMçš„ è¿è¡Œï¼Œç„¶åæŸ¥æ‰¾å¹¶ä¿®æ”¹äº§ç”Ÿæ­»é”çš„é—®é¢˜ä»£ç </p><p>ç®€å•çš„æè¿°æ­»é”å°±æ˜¯ï¼šä¿©ä¸ªçº¿ç¨‹t1å’Œt2ï¼Œt1æ‹¿ç€t2éœ€è¦ç­‰å¾…çš„é”ä¸é‡Šæ”¾ï¼Œè€Œ t2åˆæ‹¿ç€t1éœ€è¦ç­‰å¾…çš„é”ä¸é‡Šæ”¾ï¼Œä¿©ä¸ªçº¿ç¨‹å°±è¿™æ ·ä¸€ç›´åƒµæŒä¸‹å»ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test18_DeadLock</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">synchronized</span> (obj1) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;t1æ‹¿åˆ°å·¦è¾¹ç­·å­&quot;</span>);</span><br><span class="line">                        <span class="keyword">synchronized</span> (obj2) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;t1æ‹¿åˆ°å³è¾¹ç­·å­&quot;</span>);</span><br><span class="line">                            System.out.println(<span class="string">&quot;t1ç»ˆäºåƒåˆ°å¿ƒå¿ƒå¿µå¿µçš„èºç‹®ç²‰å•¦ï¼&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line"></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(<span class="keyword">new</span> <span class="title class_">Runnable</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">                    <span class="keyword">synchronized</span> (obj2) &#123;</span><br><span class="line">                        System.out.println(<span class="string">&quot;t2æ‹¿åˆ°å³è¾¹ç­·å­&quot;</span>);</span><br><span class="line">                        System.out.println(<span class="string">&quot;t2æ‹¿åˆ°å·¦è¾¹ç­·å­&quot;</span>);</span><br><span class="line">                        <span class="keyword">synchronized</span> (obj1) &#123;</span><br><span class="line">                            System.out.println(<span class="string">&quot;t2æ‹¿åˆ°å·¦è¾¹ç­·å­&quot;</span>);</span><br><span class="line">                            System.out.println(<span class="string">&quot;t2ç»ˆäºåƒåˆ°å¿ƒå¿ƒå¿µå¿µçš„èºç‹®ç²‰å•¦ï¼&quot;</span>);</span><br><span class="line">                        &#125;</span><br><span class="line">                    &#125;</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;);</span><br><span class="line">        t1.start();</span><br><span class="line">        t2.start();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230819111405134.png" alt="image-20230819111405134"></p></blockquote><h1 id="çº¿ç¨‹æ± "><a href="#çº¿ç¨‹æ± " class="headerlink" title="çº¿ç¨‹æ± "></a>çº¿ç¨‹æ± </h1><h2 id="é—®é¢˜å¼•å…¥"><a href="#é—®é¢˜å¼•å…¥" class="headerlink" title="é—®é¢˜å¼•å…¥"></a>é—®é¢˜å¼•å…¥</h2><blockquote><p>æˆ‘ä»¬ä½¿ç”¨çº¿ç¨‹çš„æ—¶å€™å°±å»åˆ›å»ºä¸€ä¸ªçº¿ç¨‹ï¼Œä½¿ç”¨å®Œæˆçº¿ç¨‹è‡ª åŠ¨é”€æ¯ï¼Œè¿™æ ·æ“ä½œéå¸¸ç®€ä¾¿ï¼Œä½†ä¼šäº§ç”Ÿé—®é¢˜ï¼š </p><p>å¦‚æœå¹¶å‘çš„çº¿ç¨‹æ•°é‡å¾ˆå¤šï¼Œå¹¶ä¸”æ¯ä¸ªçº¿ç¨‹éƒ½æ˜¯æ‰§è¡Œä¸€ä¸ªæ—¶é—´å¾ˆçŸ­çš„ä»»åŠ¡å°±ç»“æŸäº†ï¼Œè¿™æ ·é¢‘ç¹åˆ›å»ºçº¿ç¨‹å°±ä¼šå¤§å¤§é™ä½ç³»ç»Ÿçš„æ•ˆç‡ï¼ˆ<strong>é¢‘ç¹åˆ›å»ºçº¿ç¨‹å’Œé”€æ¯çº¿ç¨‹éœ€è¦æ—¶é—´</strong>ï¼‰ã€‚ </p><p>é‚£ä¹ˆæœ‰æ²¡æœ‰ä¸€ç§åŠæ³•ä½¿å¾—çº¿ç¨‹å¯ä»¥å¤ç”¨ï¼Ÿå³æ‰§è¡Œå®Œä¸€ä¸ªä»»åŠ¡ï¼Œå¹¶ä¸ç«‹å³é”€æ¯ï¼Œè€Œæ˜¯å¯ä»¥ç»§ç»­æ‰§è¡Œå…¶ä»–çš„ä»»åŠ¡ã€‚åœ¨Javaä¸­å¯ä»¥é€šè¿‡<strong>çº¿ç¨‹æ± </strong>æ¥è¾¾åˆ°è¿™æ ·çš„æ•ˆæœ</p></blockquote><h2 id="çº¿ç¨‹æ± æ¦‚å¿µ"><a href="#çº¿ç¨‹æ± æ¦‚å¿µ" class="headerlink" title="çº¿ç¨‹æ± æ¦‚å¿µ"></a>çº¿ç¨‹æ± æ¦‚å¿µ</h2><blockquote><p>çº¿ç¨‹æ± å…¶å®å°±æ˜¯ä¸€ä¸ªå®¹çº³å¤šä¸ªçº¿ç¨‹çš„å®¹å™¨ï¼Œå…¶ä¸­çš„çº¿ç¨‹å¯ä»¥åå¤ä½¿ç”¨ï¼Œçœå»äº†é¢‘ç¹åˆ›å»ºçº¿ç¨‹å¯¹è±¡çš„æ“ä½œï¼Œæ— éœ€åå¤åˆ›å»ºçº¿ç¨‹è€Œæ¶ˆè€—è¿‡å¤šèµ„æºã€‚</p><ul><li>çº¿ç¨‹æ± å·¥ä½œåŸç†ç†è§£ï¼š</li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230819111754386.png" alt="image-20230819111754386"></p><ul><li><p>çº¿ç¨‹æ± ä¼˜ç‚¹</p><ul><li>é™ä½èµ„æºæ¶ˆè€—</li></ul><p>å‡å°‘äº†åˆ›å»ºå’Œé”€æ¯çº¿ç¨‹çš„æ¬¡æ•°ï¼Œæ¯ä¸ªå·¥ä½œçº¿ç¨‹éƒ½å¯ä»¥è¢«é‡å¤åˆ©ç”¨ï¼Œå¯æ‰§è¡Œå¤šä¸ªä»»åŠ¡ã€‚</p><ul><li>æé«˜å“åº”é€Ÿåº¦</li></ul><p>å½“ä»»åŠ¡åˆ°è¾¾æ—¶ï¼Œä»»åŠ¡å¯ä»¥ä¸éœ€è¦çš„ç­‰åˆ°çº¿ç¨‹åˆ›å»ºå°±èƒ½ç«‹å³æ‰§è¡Œ</p><ul><li>æé«˜çº¿ç¨‹çš„å¯ç®¡ç†æ€§</li></ul><p>å¯ä»¥æ ¹æ®ç³»ç»Ÿçš„æ‰¿å—èƒ½åŠ›ï¼Œè°ƒæ•´çº¿ç¨‹æ± ä¸­å·¥ä½œçº¿ç¨‹çš„æ•°ç›®ï¼Œé˜²æ­¢å› ä¸ºæ¶ˆè€—è¿‡åº¦çš„å†…å­˜ï¼Œè€ŒæŠŠæœåŠ¡å™¨ç´¯è¶´ä¸‹ï¼ˆæ¯ä¸ªçº¿ç¨‹éœ€è¦å¤§äº1MBå†…å­˜ï¼Œçº¿ç¨‹å¼€çš„è¶Šå¤šï¼Œæ¶ˆè€—çš„å†…å­˜ä¹Ÿå°±è¶Šå¤§ï¼Œæœ€åæ­»æœºï¼‰</p></li></ul></blockquote><h2 id="çº¿ç¨‹æ± ä½¿ç”¨"><a href="#çº¿ç¨‹æ± ä½¿ç”¨" class="headerlink" title="çº¿ç¨‹æ± ä½¿ç”¨"></a>çº¿ç¨‹æ± ä½¿ç”¨</h2><blockquote><p>javaé‡Œé¢çº¿ç¨‹æ± çš„é¡¶çº§æ¥å£æ˜¯ <strong>java.util.concurrent.Executor</strong>,ä½†æ˜¯ä¸¥æ ¼æ„ä¹‰ä¸Šå°† Executor å¹¶ä¸æ˜¯ä¸€ä¸ªçº¿ç¨‹æ± ï¼Œè€Œåªæ˜¯ä¸€ä¸ªæ‰§è¡Œçº¿ç¨‹çš„å·¥å…·ç±»ã€‚çœŸæ­£çš„çº¿ç¨‹æ± æ¥å£æ˜¯ <strong>java.util.concurrent.ExecutorService</strong>.</p><p>åˆ›å»ºçº¿ç¨‹æ± çš„æ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> ExecutorService <span class="title function_">newFixedThreadPool</span><span class="params">(<span class="type">int</span> nThreads)</span>;</span><br></pre></td></tr></table></figure><ul><li>è¿”å›çº¿ç¨‹æ± å¯¹è±¡ã€‚ï¼ˆåˆ›å»ºçš„æ˜¯æœ‰ç•Œçº¿ç¨‹æ± ï¼Œä¹Ÿå°±æ˜¯æ± ä¸­çš„çº¿ç¨‹ä¸ªæ•°å¯ä»¥æŒ‡å®šæœ€å¤§æ•°é‡ï¼‰</li></ul><p>ä½¿ç”¨çº¿ç¨‹æ± å¯¹è±¡æ–¹æ³•ï¼š</p><ul><li>public Future&lt;?&gt; submit(Runnable task)</li><li>Futureæ¥å£ï¼šç”¨æ¥è®°å½•çº¿ç¨‹ä»»åŠ¡æ‰§è¡Œå®Œæ¯•åäº§ç”Ÿçš„ç»“æœ  <strong>ï¼ˆå¼‚æ­¥å¤„ç†ï¼Œä¸å¿…ç­‰å¾…ç»“æœå®Œæˆï¼Œå¯ä»¥å…ˆå»åšåˆ«çš„äº‹æƒ…ï¼Œç­‰åˆ°ç»“æœå®Œæˆä¼šè‡ªåŠ¨è¿‡æ¥å–ï¼‰</strong></li><li>è·å–çº¿ç¨‹æ± ä¸­çš„æŸä¸€ä¸ªçº¿ç¨‹å¯¹è±¡ï¼Œå¹¶æ‰§è¡Œ</li></ul><p>çº¿ç¨‹æ± æ“ä½œæ­¥éª¤ï¼š</p><ul><li>åˆ›å»ºçº¿ç¨‹æ± å¯¹è±¡ï¼ˆExecutorServiceç±»å¯¹è±¡ï¼‰</li><li>åˆ›å»ºRunnableæ¥å£å­ç±»å¯¹è±¡</li><li>æäº¤Runnableæ¥å£å­ç±»å¯¹è±¡ï¼ˆå€ŸåŠ©submitæ–¹æ³•å®ç°ï¼‰</li><li>å…³é—­çº¿ç¨‹æ± ï¼ˆä¸€èˆ¬ä¸åšï¼‰</li></ul><p>æ¡ˆä¾‹å®ç°ï¼š Runnableå®ç°ç±»ä»£ç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test19_ThreadPool</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// é€šè¿‡Executorsæ¥åˆ›å»ºçº¿ç¨‹æ± </span></span><br><span class="line">        <span class="type">ExecutorService</span> <span class="variable">service</span> <span class="operator">=</span> Executors.newFixedThreadPool(<span class="number">2</span>);</span><br><span class="line">        <span class="type">SwimmingPool</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">SwimmingPool</span>();</span><br><span class="line">        service.submit(r);</span><br><span class="line">        service.submit(r);</span><br><span class="line">        service.submit(r);</span><br><span class="line">        service.shutdown();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">SwimmingPool</span> <span class="keyword">implements</span> <span class="title class_">Runnable</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘è¦ä¸€ä¸ªæ•™ç»ƒ æ¸¸æ³³æ± å…±äº«&quot;</span>);</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            Thread.sleep(<span class="number">2000</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InterruptedException e) &#123;</span><br><span class="line">            <span class="comment">// TODO Auto-generated catch block</span></span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Thread.currentThread().getName() + <span class="string">&quot;æ•™ç»ƒæ¥å•¦&quot;</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;æœåŠ¡å®Œæ¯•ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230819121434077.png" alt="image-20230819121434077"></p></blockquote><h1 id="Callableæ¥å£"><a href="#Callableæ¥å£" class="headerlink" title="Callableæ¥å£"></a>Callableæ¥å£</h1><blockquote><p><strong>å®ç°å¤šçº¿ç¨‹çš„ç¬¬ä¸‰ç§æ–¹å¼: å®ç°Callableæ¥å£</strong>ï¼Œè¯¥æ–¹å¼ä½¿ç”¨ä¸ å¤šï¼Œå¤§å®¶äº†è§£å³å¯ã€‚</p><ul><li>ç›¸å…³æ–¹æ³•</li></ul><p><img src="/2023/08/13/10-%E5%A4%9A%E7%BA%BF%E7%A8%8B/image-20230819122214082.png" alt="image-20230819122214082"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test20_Callable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> InterruptedException, ExecutionException &#123;</span><br><span class="line">        <span class="comment">// 3ã€å®ä¾‹åŒ–Callableçš„å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">MyCallable</span> <span class="variable">mc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyCallable</span>();</span><br><span class="line">        <span class="comment">// 4ã€åˆ›å»ºFutureçš„å®ç°ç±»FutureTaskå¯¹è±¡ï¼ŒæŠŠMyCallableå¯¹è±¡ä½œä¸ºæ„é€ æ–¹æ³•çš„å‚æ•°</span></span><br><span class="line">        FutureTask&lt;String&gt; ft = <span class="keyword">new</span> <span class="title class_">FutureTask</span>&lt;&gt;(mc);</span><br><span class="line">        <span class="comment">// 5.åˆ›å»ºThreadå¯¹è±¡ï¼Œå¹¶ä¼ é€’ftå¯¹è±¡ä½œä¸ºæ„é€ å™¨å‚æ•°</span></span><br><span class="line">        <span class="type">Thread</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Thread</span>(ft);</span><br><span class="line">        <span class="comment">// 6ã€å¼€å¯çº¿ç¨‹</span></span><br><span class="line">        t1.start();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// 7ã€è·å–çº¿ç¨‹æ–¹æ³•æ‰§è¡Œåè¿”å›çš„ç»“æœ</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">s</span> <span class="operator">=</span> ft.get();</span><br><span class="line">        System.out.println(s);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// 1.åˆ›å»ºCallableçš„å®ç°ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">MyCallable</span> <span class="keyword">implements</span> <span class="title class_">Callable</span>&lt;String&gt; &#123;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2ã€é‡å†™callæ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">call</span><span class="params">()</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">100</span>; i++) &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;è·Ÿgirlå”±å‘Šç™½æ°”çƒç¬¬&quot;</span> + i + <span class="string">&quot;å¤©&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// è¿”å›å€¼å°±è¡¨ç¤ºçº¿ç¨‹è¿è¡Œå®Œæ¯•ä¹‹åçš„ç»“æœ</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;I like you&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¸‰ç§çº¿ç¨‹å®ç°æ–¹å¼å¯¹æ¯”ï¼š</p><ul><li>å®ç°Runnableã€Callableæ¥å£<ul><li>å¥½åƒï¼šæ‰©å±•æ€§å¼ºï¼Œå®ç°è¯¥æ¥å£çš„åŒæ—¶è¿˜å¯ä»¥ç»§æ‰¿å…¶ä»–çš„ç±»ã€‚Callableæ¥å£å¯ä»¥è·å–çº¿ç¨‹å¤„ç†å‡½æ•°æ‰§è¡Œçš„ç»“æœ</li><li>ç¼ºç‚¹ï¼šç¼–ç¨‹ç›¸å¯¹å¤æ‚ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨Threadç±»ä¸­çš„æ–¹æ³•</li></ul></li><li>ç»§æ‰¿Threadç±»<ul><li>å¥½å¤„ï¼šç¼–ç¨‹æ¯”è¾ƒç®€å•ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨Threadç±»ä¸­çš„æ–¹æ³•</li><li>ç¼ºç‚¹ï¼šå¯ä»¥æ‰©å±•æ€§è¾ƒå·®ï¼Œä¸èƒ½å†ç»§æ‰¿å…¶ä»–çš„ç±»</li></ul></li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ç©·åˆ™ç‹¬å–„å…¶èº«ï¼Œè¾¾åˆ™å…¼æµå¤©ä¸‹ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>09-å¼‚å¸¸</title>
      <link href="/2023/08/13/09-%E5%BC%82%E5%B8%B8/"/>
      <url>/2023/08/13/09-%E5%BC%82%E5%B8%B8/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="å¼‚å¸¸"><a href="#å¼‚å¸¸" class="headerlink" title="å¼‚å¸¸"></a>å¼‚å¸¸</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>ç¨‹åºåœ¨è¿è¡Œè¿‡ç¨‹ä¸­ï¼Œç”±äºæ„å¤–æƒ…å†µå¯¼è‡´ç¨‹åºå‘ç”Ÿå¼‚å¸¸äº‹ä»¶ï¼Œé»˜è®¤æƒ…å†µä¸‹å‘ç”Ÿçš„å¼‚å¸¸ä¼šç»ˆç«¯ç¨‹åºçš„è¿è¡Œã€‚åœ¨Javaä¸­ï¼ŒæŠŠå¸¸è§çš„å¼‚å¸¸æƒ…å†µï¼Œéƒ½<strong>æŠ½è±¡æˆäº†å¯¹åº”çš„å¼‚å¸¸ç±»å‹</strong>ï¼Œé‚£ä¹ˆæ¯ç§å¼‚å¸¸ç±»å‹éƒ½ä»£è¡¨äº†ä¸€ç§ç‰¹å®šçš„å¼‚å¸¸æƒ…å†µã€‚</p><p>å½“ç¨‹åºä¸­å‡ºç°ä¸€ç§å¼‚å¸¸æƒ…å†µæ—¶ï¼Œä¹Ÿä¼š<strong>åˆ›å»ºå¹¶æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸ç±»å‹å¯¹è±¡</strong>ï¼Œè¿™ä¸ªå¯¹è±¡å°±è¡¨ç¤ºå½“å‰ç¨‹åºæ‰€å‡ºå‘çš„é—®é¢˜ã€‚</p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814155455701.png" alt="image-20230814155455701"></p><ul><li>java.lang.<strong>ArrayIndexOutOfBoundsException</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>&#125;;</span><br><span class="line">        System.out.println(arr[<span class="number">2</span>]);</span><br><span class="line">        <span class="comment">//è¿™è¡Œä»£ç æ‰§è¡Œæ—¶ï¼Œå‡ºç°å¼‚å¸¸æƒ…å†µï¼Œå› ä¸ºä¸‹æ ‡è¶…è¿‡äº†æ•°ç»„çš„æœ€å¤§è¾¹ç•Œ</span></span><br><span class="line">        System.out.println(arr[<span class="number">4</span>]);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿è¡Œç»“æœï¼š</span></span><br><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.ArrayIndexOutOfBoundsException: <span class="number">4</span></span><br><span class="line">at com.briup.demo.Test.main(Test.java:<span class="number">7</span>)</span><br></pre></td></tr></table></figure><p>å½“å‰ç¨‹åºå‡ºç°å¼‚å¸¸æƒ…å†µæ—¶ï¼Œä¼šåˆ›å»ºå¹¶æŠ›å‡ºå’Œè¯¥å¼‚å¸¸æƒ…å†µå¯¹åº”çš„<strong>å¼‚å¸¸ç±»çš„å¯¹è±¡</strong>ï¼Œè¿™ä¸ªå¼‚å¸¸å¯¹è±¡ä¸­<strong>ä¿å­˜äº†ä¸€äº›ä¿¡æ¯</strong>ï¼Œç”¨æ¥è¡¨ç¤ºå½“å‰ç¨‹åºåˆ°åº•å‘ç”Ÿäº†ä»€ä¹ˆ<strong>å¼‚å¸¸æƒ…å†µ</strong>ã€‚</p><p>é€šè¿‡å¼‚å¸¸ä¿¡æ¯ï¼Œæˆ‘ä»¬å¯ä»¥å®šä½å¼‚å¸¸å‘ç”Ÿçš„ä½ç½®ï¼Œä»¥åŠå¼‚å¸¸å‘ç”Ÿçš„åŸå› ã€‚</p></blockquote><h2 id="å¼‚å¸¸ä½“ç³»"><a href="#å¼‚å¸¸ä½“ç³»" class="headerlink" title="å¼‚å¸¸ä½“ç³»"></a>å¼‚å¸¸ä½“ç³»</h2><blockquote><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814155856394.png" alt="image-20230814155856394"></p><ul><li><strong>Throwable</strong>ï¼šè¡¨ç¤ºå¯ä»¥è¢«æŠ›å‡ºçš„</li><li><strong>Error</strong>ï¼šè¡¨ç¤ºé”™è¯¯æƒ…å†µï¼Œä¸€èˆ¬æ˜¯ç¨‹åºä¸­å‡ºç°äº†æ¯”è¾ƒä¸¥é‡çš„é—®é¢˜ï¼Œå¹¶ä¸”ç¨‹åºè‡ªèº«å¹¶æ— æ³•è¿›è¡Œå¤„ç†ã€‚</li><li><strong>Exception</strong>ï¼šè¡¨ç¤ºå¼‚å¸¸æƒ…å†µï¼Œç¨‹åºä¸­å‡ºäº†è¿™ç§å¼‚å¸¸ï¼Œå¤§å¤šæ˜¯å¯ä»¥é€šè¿‡ç‰¹å®šçš„æ–¹å¼è¿›è¡Œå¤„ç†å’Œçº æ­£çš„ï¼Œå¹¶ä¸”å¤„ç†å®Œäº†ä¹‹åï¼Œç¨‹åºè¿˜å¯ä»¥ç»§ç»­å¾€ä¸‹æ­£å¸¸è¿è¡Œã€‚</li></ul><p><font color="skyblue">æ³¨æ„ï¼Œæˆ‘ä»¬ä¸€èˆ¬è¯´çš„å¼‚å¸¸ï¼Œéƒ½æ˜¯æŒ‡çš„Exception</font></p><p>Exceptionä¸­å¹¶æ²¡æœ‰å®šä¹‰æ–¹æ³•ï¼Œå®ƒçš„æ–¹æ³•éƒ½æ˜¯ä»Throwableä¸­ç»§æ‰¿è¿‡æ¥çš„ï¼Œå…¶ä¸­å¸¸ç”¨çš„æ–¹å¼æœ‰ï¼š</p><ul><li><strong>printStackTrace(), æ‰“å°è¾“å‡ºå½“å‰å‘é€å¼‚å¸¸çš„è¯¦ç»†ä¿¡æ¯</strong></li><li><strong>getMessage()ï¼Œè¿”å›å¼‚å¸¸å¯¹è±¡è¢«æŠ›å‡ºçš„æ—¶å€™ï¼Œæ‰€æºå¸¦çš„ä¿¡æ¯ï¼Œä¸€èˆ¬æ˜¯å¼‚å¸¸çš„å‘ç”ŸåŸå› </strong></li><li>printStackTrace(<strong>PrintWriter s</strong>) ï¼Œæ–¹æ³•é‡è½½ï¼Œå¯ä»¥æŒ‡å®š<strong>å­—ç¬¦è¾“å‡ºæµ</strong>ï¼Œå¯¹å¼‚å¸¸ä¿¡æ¯è¿›è¡Œè¾“å‡º</li><li>printStackTrace(<strong>PrintStream s)</strong> ï¼Œæ–¹æ³•é‡è½½ï¼Œå¯ä»¥æŒ‡å®š<strong>å­—èŠ‚è¾“å‡ºæµ</strong>ï¼Œå¯¹å¼‚å¸¸ä¿¡æ¯è¿›è¡Œè¾“å‡º</li></ul></blockquote><h2 id="å¼‚å¸¸ç§ç±»"><a href="#å¼‚å¸¸ç§ç±»" class="headerlink" title="å¼‚å¸¸ç§ç±»"></a>å¼‚å¸¸ç§ç±»</h2><blockquote><ul><li>ç¼–è¯‘æ—¶å¼‚å¸¸</li></ul><p>ç¼–è¯‘æ—¶å¼‚å¸¸ï¼Œç»§æ‰¿è‡ª<strong>Exceptionç±»</strong>ï¼Œä¹Ÿç§°ä¸º<strong>checked exception</strong>ï¼Œç¼–è¯‘å™¨åœ¨<strong>ç¼–è¯‘æœŸé—´ï¼Œä¼šä¸»åŠ¨æ£€æŸ¥è¿™ç§å¼‚å¸¸ï¼Œå‘ç°åä¼šæŠ¥é”™</strong>ï¼Œå¹¶æç¤ºæˆ‘ä»¬è¦å¯¹è¿™ç§å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</p><ul><li>è¿è¡Œæ—¶å¼‚å¸¸</li></ul><p>è¿è¡Œæ—¶å¼‚å¸¸ï¼Œç»§æ‰¿è‡ª<strong>RuntimeExceptionç±»</strong>ï¼Œä¹Ÿç§°ä¸º unchecked exceptionï¼Œ ç¼–è¯‘å™¨åœ¨<strong>ç¼–è¯‘æœŸé—´ï¼Œä¸ä¼šæ£€æŸ¥è¿™ç§å¼‚å¸¸ï¼Œä¹Ÿä¸è¦æ±‚æˆ‘ä»¬å»å¤„ç†</strong>ï¼Œä½†æ˜¯åœ¨è¿è¡ŒæœŸé—´ï¼Œä»£ç ä¸­å¯èƒ½ä¼šæŠ›å‡ºè¿™ç§ç±»å‹çš„å¼‚å¸¸ã€‚</p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814161617015.png" alt="image-20230814161617015"></p></blockquote><blockquote><ul><li>Error<ul><li><strong>StackOverflowError</strong> - æ ˆæº¢å‡ºé”™è¯¯ï¼šé€’å½’è°ƒç”¨å¯¼è‡´æ ˆç©ºé—´è€—å°½ã€‚</li><li><strong>OutOfMemoryError</strong> - å†…å­˜æº¢å‡ºé”™è¯¯ï¼šå†…å­˜ä¸è¶³ä»¥å®¹çº³åº”ç”¨ç¨‹åºæ‰€éœ€çš„å¯¹è±¡ã€‚</li><li><strong>NoClassDefFoundError</strong> (ç±»æœªå®šä¹‰é”™è¯¯) - åœ¨è¿è¡Œæ—¶æ‰¾ä¸åˆ°æŸä¸ªç±»çš„å®šä¹‰ã€‚</li><li><strong>UnsatisfiedLinkError</strong> (é“¾æ¥åº“æœªæ»¡è¶³é”™è¯¯) - æœ¬åœ°æ–¹æ³•æ— æ³•æ‰¾åˆ°å¯¹åº”çš„æœ¬åœ°åº“å®ç°ã€‚</li><li><strong>InternalError</strong> (å†…éƒ¨é”™è¯¯) - Javaè™šæ‹Ÿæœºé‡åˆ°å†…éƒ¨é”™è¯¯ã€‚</li><li><strong>VirtualMachineError</strong> (è™šæ‹Ÿæœºé”™è¯¯) - é€šç”¨çš„è™šæ‹Ÿæœºé”™è¯¯ç±»ã€‚</li><li><strong>AssertionError</strong> (æ–­è¨€é”™è¯¯) - æ–­è¨€å¤±è´¥æ—¶æŠ›å‡ºï¼Œé€šå¸¸ç”¨äºè°ƒè¯•å’Œæµ‹è¯•ã€‚</li><li><strong>UnknownError</strong> (æœªçŸ¥é”™è¯¯) - æœªçŸ¥çš„é”™è¯¯ç±»å‹ã€‚</li></ul></li><li>Exception<ul><li><strong>IOException</strong> (è¾“å…¥&#x2F;è¾“å‡ºå¼‚å¸¸) - åœ¨I&#x2F;Oæ“ä½œæœŸé—´å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ã€‚</li><li><strong>ClassNotFoundException</strong> (ç±»æœªæ‰¾åˆ°å¼‚å¸¸) - å°è¯•åŠ è½½ä¸å­˜åœ¨çš„ç±»æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>SQLException</strong> (SQLå¼‚å¸¸) - åœ¨æ‰§è¡ŒSQLæŸ¥è¯¢æ—¶å¯èƒ½å‘ç”Ÿçš„å¼‚å¸¸ã€‚</li><li><strong>FileNotFoundException</strong> (æ–‡ä»¶æœªæ‰¾åˆ°å¼‚å¸¸) - å°è¯•è®¿é—®ä¸å­˜åœ¨çš„æ–‡ä»¶æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>InstantiationException</strong> (å®ä¾‹åŒ–å¼‚å¸¸) - åœ¨åˆ›å»ºç±»çš„å®ä¾‹æ—¶é‡åˆ°é—®é¢˜æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>IllegalAccessException</strong> (éæ³•è®¿é—®å¼‚å¸¸) - åœ¨è®¿é—®ç±»çš„æˆå‘˜æ—¶æƒé™ä¸è¶³æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>InterruptedException</strong> (ä¸­æ–­å¼‚å¸¸) - çº¿ç¨‹åœ¨ç­‰å¾…æˆ–ä¼‘çœ æœŸé—´è¢«ä¸­æ–­æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>NoSuchMethodException</strong> (æ–¹æ³•æœªæ‰¾åˆ°å¼‚å¸¸) - å°è¯•è°ƒç”¨ä¸å­˜åœ¨çš„æ–¹æ³•æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>NoSuchFieldException</strong> (å­—æ®µæœªæ‰¾åˆ°å¼‚å¸¸) - å°è¯•è®¿é—®ä¸å­˜åœ¨çš„å­—æ®µæ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>CloneNotSupportedException</strong> (å…‹éš†ä¸æ”¯æŒå¼‚å¸¸) - å°è¯•å…‹éš†ä¸æ”¯æŒå…‹éš†çš„å¯¹è±¡æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li></ul></li><li>RuntimeException (<strong>è®°å¾—æ—¶Exceptionçš„å­ç±»å“ˆ~</strong>)<ul><li><strong>NullPointerException</strong> (ç©ºæŒ‡é’ˆå¼‚å¸¸) - å°è¯•åœ¨å¼•ç”¨ä¸ºç©ºçš„å¯¹è±¡ä¸Šè°ƒç”¨æ–¹æ³•æˆ–è®¿é—®å±æ€§æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>ArrayIndexOutOfBoundsException</strong> (æ•°ç»„ç´¢å¼•è¶Šç•Œå¼‚å¸¸) - å°è¯•è®¿é—®æ•°ç»„ä¸­ä¸å­˜åœ¨çš„ç´¢å¼•æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>IllegalArgumentException</strong> (éæ³•å‚æ•°å¼‚å¸¸) - ä¼ é€’ç»™æ–¹æ³•çš„å‚æ•°ä¸åˆæ³•æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>ArithmeticException</strong> (ç®—æœ¯å¼‚å¸¸) - å‘ç”Ÿç®—æœ¯é”™è¯¯æ—¶æŠ›å‡ºçš„å¼‚å¸¸ï¼Œå¦‚é™¤ä»¥é›¶ã€‚</li><li><strong>ClassCastException</strong> (ç±»å‹è½¬æ¢å¼‚å¸¸) - å°è¯•å°†å¯¹è±¡å¼ºåˆ¶è½¬æ¢ä¸ºä¸å…¼å®¹çš„ç±»å‹æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>NumberFormatException</strong> (æ•°å­—æ ¼å¼å¼‚å¸¸) - å°†å­—ç¬¦ä¸²è½¬æ¢ä¸ºæ•°å­—æ—¶ï¼Œå­—ç¬¦ä¸²æ ¼å¼ä¸æ­£ç¡®æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>UnsupportedOperationException</strong> (ä¸æ”¯æŒæ“ä½œå¼‚å¸¸) - å°è¯•è°ƒç”¨ä¸æ”¯æŒçš„æ–¹æ³•æ—¶æŠ›å‡ºçš„å¼‚å¸¸ã€‚</li><li><strong>ConcurrentModificationException</strong> (å¹¶å‘ä¿®æ”¹å¼‚å¸¸) - åœ¨ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆæ—¶ï¼Œå¦ä¸€ä¸ªçº¿ç¨‹ä¿®æ”¹äº†é›†åˆã€‚</li></ul></li></ul></blockquote><h2 id="å¼‚å¸¸ä¼ æ’­"><a href="#å¼‚å¸¸ä¼ æ’­" class="headerlink" title="å¼‚å¸¸ä¼ æ’­"></a>å¼‚å¸¸ä¼ æ’­</h2><blockquote><p>å¦‚æœä¸€ä¸ªæ–¹æ³•ä¸­æŠ›å‡ºäº†å¼‚å¸¸ï¼Œå¹¶ä¸”ä¸€ç›´æ²¡æœ‰è¿›è¡Œå¤„ç†ï¼Œé‚£ä¹ˆè¿™ä¸ªå¼‚å¸¸å°†ä¼šæŠ›ç»™å½“å‰æ–¹æ³•çš„è°ƒç”¨è€…ï¼Œå¹¶<strong>ä¸€ç›´å‘ä¸ŠæŠ›å‡º</strong>ï¼Œ<strong>ç›´åˆ°æŠ›ç»™JVM</strong>ï¼Œæœ€åJVMå°†è¿™ä¸ªå¼‚å¸¸ä¿¡æ¯æ‰“å°è¾“å‡ºï¼ŒåŒæ—¶ç¨‹åºè¿è¡Œçš„åœæ­¢ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;start&quot;</span>);</span><br><span class="line">        test1();</span><br><span class="line">        System.out.println(<span class="string">&quot;end&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">()</span> &#123;</span><br><span class="line">        test2();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">()</span> &#123;</span><br><span class="line">        test3();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">1</span> / <span class="number">0</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814165732639.png" alt="image-20230814165732639"></p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814165829761.png" alt="image-20230814165829761"></p><p>å¯ä»¥çœ‹å‡ºï¼Œå¼‚å¸¸ä¿¡æ¯æ‰“å°è¾“å‡ºçš„å†…å®¹ï¼Œå°±æ˜¯å‘ç”Ÿå¼‚å¸¸çš„æ—¶å€™ï¼Œæ ˆåŒºä¸­æ–¹æ³•è°ƒç”¨çš„æƒ…å†µï¼</p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814165932030.png" alt="image-20230814165932030"></p><p><font color="skyblue">å¦‚æœï¼Œåœ¨å¼‚å¸¸ä¼ æ’­çš„è¿‡ç¨‹ä¸­ï¼Œä»»ä½•ä¸€ä¸ªåœ°æ–¹å¯¹å¼‚å¸¸è¿›è¡Œäº†å¤„ç†ï¼Œé‚£ä¹ˆJVMä¸ä¼šåœæ­¢ï¼Œç¨‹åºè¿˜ä¼šæ­£å¸¸å¾€ä¸‹è¿è¡Œï¼</font></p></blockquote><h1 id="å¼‚å¸¸æŠ›å‡º"><a href="#å¼‚å¸¸æŠ›å‡º" class="headerlink" title="å¼‚å¸¸æŠ›å‡º"></a>å¼‚å¸¸æŠ›å‡º</h1><h2 id="è‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸"><a href="#è‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="è‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸"></a>è‡ªåŠ¨æŠ›å‡ºå¼‚å¸¸</h2><blockquote><p>å½“å‰javaä»£ç ä¸­ï¼Œå‡ºç°äº†æå‰æŒ‡å®šå¥½çš„å¼‚å¸¸æƒ…å†µçš„æ—¶å€™ï¼Œ<strong>ä»£ç ä¼šè‡ªåŠ¨åˆ›å»ºå¼‚å¸¸å¯¹è±¡ï¼Œå¹¶ä¸”å°†è¯¥å¼‚å¸¸å¯¹è±¡æŠ›å‡ºã€‚</strong></p><p>ä¾‹å¦‚ï¼Œå½“ä»£ç ä¸­æ‰§è¡Œ int a &#x3D; 1&#x2F;0; çš„æ—¶å€™ï¼Œä»£ç <strong>ä¼šè‡ªåŠ¨åˆ›å»ºå¹¶æŠ›å‡º</strong> ArithmeticException ç±»å‹çš„ å¼‚å¸¸å¯¹è±¡ï¼Œæ¥è¡¨ç¤ºå½“å‰çš„è¿™ç§å¼‚å¸¸æƒ…å†µã€‚ï¼ˆç®—æœ¯å¼‚å¸¸ï¼‰</p><p>ä¾‹å¦‚ï¼Œå½“å‰ä»£ç ä¸­æ‰§è¡Œ String str &#x3D; null; str.toString(); çš„æ—¶å€™ï¼Œä»£ç <strong>ä¼šè‡ªåŠ¨åˆ›å»ºå¹¶æŠ›å‡º</strong> NullPointerException ç±»å‹çš„å¼‚å¸¸å¯¹è±¡ï¼Œæ¥è¡¨ç¤ºå½“å‰è¿™ç§å¼‚å¸¸æƒ…å†µã€‚ï¼ˆç©ºæŒ‡é’ˆå¼‚å¸¸ï¼‰</p></blockquote><h2 id="æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸"><a href="#æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸" class="headerlink" title="æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸"></a>æ‰‹åŠ¨æŠ›å‡ºå¼‚å¸¸</h2><blockquote><p>ä»¥ä¸Šæè¿°çš„å¼‚å¸¸æƒ…å†µï¼Œéƒ½æ˜¯JVMä¸­æå‰è§„å®šå¥½çš„ï¼Œæˆ‘ä»¬ä¸éœ€è¦å¹²é¢„ï¼ŒJVMå†…éƒ¨è‡ªå·±å°±ä¼šåˆ›å»ºå¹¶çˆ†å‡ºå¼‚å¸¸å¯¹è±¡ã€‚</p><p>æˆ‘ä»¬å¯æ‰‹åŠ¨åˆ›å»ºå¹¶æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ï¼Œå…¶æ•ˆæœä¹Ÿæ˜¯ä¸€æ ·çš„ã€‚</p><ul><li>RuntimeException</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String name)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="string">&quot;lwsj&quot;</span>.equals(name)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">RuntimeException</span>(<span class="string">&quot;ç”¨æˆ·åä¸åŒ¹é…ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="skyblue">æ³¨æ„ï¼Œå› ä¸ºæ–¹æ³•ä¸­æŠ›å‡ºçš„æ˜¯ä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ï¼Œç¼–è¯‘å™¨ä¸ä¼šåšå‡ºæ£€æŸ¥ï¼Œæ‰€ä»¥ä»£ç å¯ä»¥æ­£å¸¸çš„ç¼–è¯‘è¿ è¡Œï¼Œä½†æ˜¯è¿è¡Œçš„æ—¶å€™ï¼Œnameçš„å€¼ä¸æ˜¯tomçš„æ—¶å€™ï¼Œä»£ç ä¼šæŠ¥é”™ï¼Œè¿™ä¸ªé”™è¯¯ä¿¡æ¯æ˜¯æˆ‘ä»¬è‡ªå·±æŠ›å‡ºçš„</font></p><ul><li>Exception</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String name)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">    <span class="keyword">if</span> (!<span class="string">&quot;lwsj&quot;</span>.equals(name)) &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;ç”¨æˆ·åä¸åŒ¹é…ï¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">ä½¿ç”¨throwså…³é”®å­—ï¼Œå£°æ˜æ–¹æ³•æ‰€æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹å³å¯ </font></p><p>è¿™ä¸ªå£°æ˜çš„ç›®çš„ï¼Œå°±æ˜¯å‘Šè¯‰testæ–¹æ³•çš„<strong>è°ƒç”¨è€…</strong>ï¼Œä½ è°ƒç”¨æˆ‘çš„è¿™ä¸ªtestæ–¹æ³•çš„æ—¶å€™è¦å°å¿ƒå•¦ï¼Œæ–¹æ³•åœ¨è¿è¡Œçš„æ—¶å€™<strong>å¯èƒ½</strong>ä¼šæŠ›å‡ºExceptionç±»å‹çš„å¼‚å¸¸ </p><p>è¿™é‡Œæè¿°ä¸º<strong>å¯èƒ½</strong>ä¼šæŠ›å‡ºå¼‚å¸¸çš„åŸå› æ˜¯ï¼Œåªæœ‰nameçš„å€¼ä¸æ˜¯tomçš„æ—¶å€™æ‰ä¼šæŠ›å‡ºå¼‚å¸¸ï¼Œå…¶ä»–æƒ…å†µæ²¡ æœ‰å¼‚å¸¸ï¼</p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814171517943.png" alt="image-20230814171517943"></p><p>å¯ä»¥çœ‹å‡ºï¼Œ <strong>forName</strong> å°±å£°æ˜äº†ï¼Œæ–¹æ³•åœ¨æ‰§è¡Œè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæŠ›å‡º <strong>ClassNotFoundException</strong> ç±»å‹ çš„å¼‚å¸¸ </p><p>åŒæ—¶ï¼Œ <strong>ClassNotFoundException</strong> å±äºç¼–è¯‘å¼‚å¸¸ï¼Œæ‰€ä»¥æˆ‘ä»¬è°ƒç”¨ <strong>forName</strong> æ–¹æ³•æ—¶å€™å°±è¦å¤„ç†è¿™ ä¸ªå¼‚å¸¸ï¼Œæˆ–è€…å°†å¼‚å¸¸ç»§ç»­æŠ›å‡ºï¼</p><p><font color="#d12920">æ€è€ƒï¼Œä¸ºä»€ä¹ˆæ–¹æ³•å†…æŠ›å‡ºå¼‚å¸¸å¯¹è±¡ä½¿ç”¨å…³é”®å­—throwï¼Œæ–¹æ³•ä¸Šå£°æ˜å¼‚å¸¸ä½¿ç”¨çš„æ˜¯throwsï¼Ÿ</font></p><ul><li>å£°æ˜ä½ç½®<ul><li>throw æ–¹æ³•å†…éƒ¨å£°æ˜</li><li>throws æ–¹æ³•iä¸Šå£°æ˜</li></ul></li><li>æŠ›å‡ºå¼‚å¸¸çš„ä¸ªæ•°<ul><li>throw æ¯ä¸€ä¸ªåªèƒ½æŠ›å‡ºä¸€ä¸ªå¼‚å¸¸å¯¹è±¡</li><li>throws å¯ä»¥æŠ›å‡ºå¤šä¸ªå¼‚å¸¸ç±»çš„å£°æ˜</li></ul></li><li>å…³é”®å­—çš„ä½œç”¨<ul><li>throw æŠ›å‡ºæ–¹æ³•æˆ–ä»£ç å¿«ä¸­çš„å¼‚å¸¸ï¼Œç¼–è¯‘æ—¶å¼‚å¸¸å’Œè¿è¡Œæ—¶å¼‚å¸¸éƒ½å¯ä»¥è¢«æŠ›å‡º</li><li>throws æ ‡è¯†è¯¥æ–¹æ³•å¯èƒ½æŠ›å‡ºçš„å¼‚å¸¸åˆ—è¡¨ï¼Œ<strong>è°ƒç”¨è€…éœ€è¦å°†å¼‚å¸¸èŒƒå›´ä»å°åˆ°å¤§è¿›è¡Œcatch</strong></li></ul></li></ul></blockquote><h1 id="å¼‚å¸¸æ•è·"><a href="#å¼‚å¸¸æ•è·" class="headerlink" title="å¼‚å¸¸æ•è·"></a>å¼‚å¸¸æ•è·</h1><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><ul><li>æŠŠè¿™ä¸ªå¼‚å¸¸åœ¨<strong>æ–¹æ³•ä¸Šè¿›è¡Œå£°æ˜æŠ›å‡º</strong></li><li>æŠŠè¿™ä¸ªå¼‚å¸¸åœ¨<strong>æ–¹æ³•å†…è¿›è¡Œæ•è·å¤„ç†</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å£°æ˜æŠ›å‡º</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String className)</span><span class="keyword">throws</span> ClassNotFoundException&#123;</span><br><span class="line">    Class.forName(className);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œè¿™é‡Œæˆ‘ä»¬å¹¶æ²¡æœ‰å¤„ç†forNameæ–¹æ³•æŠ›å‡ºçš„å¼‚å¸¸ï¼Œè€Œæ˜¯å°†è¿™ä¸ªå¼‚å¸¸ç»§ç»­å£°æ˜æŠ›å‡ºï¼Œ<strong>é‚£ä¹ˆå°†æ¥è°è°ƒç”¨æˆ‘ä»¬çš„testæ–¹æ³•ï¼Œè°å°±è¦å¤„ç†è¿™ä¸ªå¼‚å¸¸æƒ…å†µ</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•è·å¼‚å¸¸</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String className)</span> &#123;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        Class.forName(className);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œä½¿ç”¨äº†try-catchè¯­å¥å—ï¼Œå¯¹<strong>å¯èƒ½</strong>æŠ›å‡ºå¼‚å¸¸çš„ä»£ç è¿›è¡Œå¼‚å¸¸æ•è·å¤„ç†</p></blockquote><h2 id="try-catch"><a href="#try-catch" class="headerlink" title="try-catch"></a>try-catch</h2><blockquote><p>try-catchè¯­å¥å—ï¼Œå°±æ˜¯ç”¨æ¥å¯¹æŒ‡å®šä»£ç ï¼Œè¿›è¡Œå¼‚å¸¸è¡¥è´§å¤„ç†ï¼Œå¹¶ä¸”å¤„ç†å®Œæˆåï¼ŒJVMä¸ä¼šåœæ­¢è¿è¡Œï¼Œä»£ç ä»ç„¶å¯ä»¥æ­£å¸¸çš„å¾€ä¸‹è¿è¡Œï¼</p><p>æ•è·å¼‚å¸¸è¯­æ³•å¦‚ä¸‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">try</span>&#123;</span><br><span class="line">    <span class="comment">// ç¼–å†™å¯èƒ½ä¼šå‡ºç°å¼‚å¸¸çš„ä»£ç </span></span><br><span class="line">&#125; <span class="keyword">catch</span>(å¼‚å¸¸ç±»å‹ e) &#123;</span><br><span class="line">   <span class="comment">// å¤„ç†å¼‚å¸¸çš„ä»£ç ï¼Œå¯ä»¥æ˜¯ç®€å•çš„è¾“å‡ºå¼‚å¸¸ä¿¡æ¯ï¼Œä¹Ÿå¯ä»¥ä½¿ç”¨æ—¥å¿—è¿›è¡Œäº†è®°å½•ï¼Œå¯ä»¥å¯¹æ•°æ®è¿›è¡Œä¿®æ”¹çº æ­£ç­‰æ“ä½œ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>tryï¼šè¯¥ä»£ç å—ä¸­ç¼–å†™å¯èƒ½äº§ç”Ÿå¼‚å¸¸çš„ä»£ç ã€‚</p><p>catchï¼šç”¨æ¥è¿›è¡ŒæŸç§å¼‚å¸¸çš„æ•è·ï¼Œå¹¶å¯¹æ•è·åˆ°çš„å¼‚å¸¸è¿›è¡Œå¤„ç†ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap09.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;peter&quot;</span>);</span><br><span class="line">        <span class="type">Test</span> <span class="variable">test</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            test.test(<span class="string">&quot;haha&quot;</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">            System.out.println(e.getMessage());</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;parker&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(String name)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="keyword">if</span> (!<span class="string">&quot;lwsj&quot;</span>.equals(name)) &#123;</span><br><span class="line">            <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">Exception</span>(<span class="string">&quot;ç”¨æˆ·åä¸åŒ¹é…&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814184604195.png" alt="image-20230814184604195"></p></blockquote><h2 id="æ•è·å¤šç§å¼‚å¸¸"><a href="#æ•è·å¤šç§å¼‚å¸¸" class="headerlink" title="æ•è·å¤šç§å¼‚å¸¸"></a>æ•è·å¤šç§å¼‚å¸¸</h2><blockquote><ul><li>ç¬¬ä¸€ç§</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> <span class="string">&quot;com.briup.demo.Student&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> <span class="string">&quot;sayHello&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//forNameå£°æ˜æŠ›å‡ºClassNotFoundException</span></span><br><span class="line">            <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(className);</span><br><span class="line">            <span class="comment">//getMethodæ–¹æ³•å£°æ˜æŠ›å‡ºNoSuchMethodException</span></span><br><span class="line">            <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> c.getMethod(methodName);</span><br><span class="line">            <span class="comment">//invokeæ–¹æ³•å£°æ˜æŠ›å‡ºIllegalAccessExceptionå’ŒInvocationTargetException</span></span><br><span class="line">            m.invoke(<span class="literal">null</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException | NoSuchMethodException |</span><br><span class="line">                 IllegalAccessException | InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œä½¿ç”¨ä¸€ä¸ªcatchè¯­å¥ï¼Œé‡Œé¢ä½¿ç”¨ | æ¥è¡¨ç¤ºæ•è·å¤šç§ä¸åŒçš„å¼‚å¸¸ç±»å‹</p><ul><li>ç¬¬äºŒç§</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> <span class="keyword">throws</span> Exception &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> <span class="string">&quot;com.briup.demo.Student&quot;</span>;</span><br><span class="line">        <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> <span class="string">&quot;sayHello&quot;</span>;</span><br><span class="line">        <span class="keyword">try</span> &#123;</span><br><span class="line">            <span class="comment">//forNameå£°æ˜æŠ›å‡ºClassNotFoundException</span></span><br><span class="line">            <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(className);</span><br><span class="line">            <span class="comment">//getMethodæ–¹æ³•å£°æ˜æŠ›å‡ºNoSuchMethodException</span></span><br><span class="line">            <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> c.getMethod(methodName);</span><br><span class="line">            <span class="comment">//invokeæ–¹æ³•å£°æ˜æŠ›å‡ºIllegalAccessExceptionå’ŒInvocationTargetException</span></span><br><span class="line">            m.invoke(<span class="literal">null</span>);</span><br><span class="line">        &#125; <span class="keyword">catch</span> (ClassNotFoundException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (NoSuchMethodException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (IllegalAccessException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125; <span class="keyword">catch</span> (InvocationTargetException e) &#123;</span><br><span class="line">            e.printStackTrace();</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œä½¿ç”¨äº†å››ä¸ªcatchè¯­å¥ï¼Œåˆ†åˆ«å¯¹å››ç§ä¸åŒçš„å¼‚å¸¸ç±»å‹è¿›è¡Œæ•è·å¤„ç†</p><p><font color="#d12920">æ³¨æ„ï¼šå­ç±»å¼‚å¸¸å…ˆcatchï¼Œçˆ¶ç±»å¼‚å¸¸åcatch</font></p><ul><li>ç¬¬ä¸‰ç§</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">className</span> <span class="operator">=</span> <span class="string">&quot;com.briup.demo.Student&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">methodName</span> <span class="operator">=</span> <span class="string">&quot;sayHello&quot;</span>;</span><br><span class="line">    <span class="keyword">try</span> &#123;</span><br><span class="line">        <span class="comment">//forNameå£°æ˜æŠ›å‡ºClassNotFoundException</span></span><br><span class="line">        <span class="type">Class</span> <span class="variable">c</span> <span class="operator">=</span> Class.forName(className);</span><br><span class="line">        <span class="comment">//getMethodæ–¹æ³•å£°æ˜æŠ›å‡ºNoSuchMethodException</span></span><br><span class="line">        <span class="type">Method</span> <span class="variable">m</span> <span class="operator">=</span> c.getMethod(methodName);</span><br><span class="line">        <span class="comment">//invokeæ–¹æ³•å£°æ˜æŠ›å‡ºIllegalAccessExceptionå’ŒInvocationTargetException</span></span><br><span class="line">        m.invoke(<span class="literal">null</span>);</span><br><span class="line">    &#125; <span class="keyword">catch</span> (Exception e) &#123;</span><br><span class="line">        e.printStackTrace();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¿™é‡Œï¼Œä½¿ç”¨äº†ä¸€ä¸ªcatchè¯­å¥ï¼Œä½†æ˜¯æ•è·çš„å¼‚å¸¸ç±»å‹æ˜¯Exceptionï¼Œå®ƒæ˜¯æœ€å¤§çš„å¼‚å¸¸ç±»å‹ï¼Œç”±äºå¤šæ€çš„ åŸå› ï¼ŒExceptionç±»å‹çš„å¼•ç”¨eï¼Œå¯ä»¥<strong>æ•è·æ¥æ”¶åˆ°ä»»æ„ç±»å‹çš„å¼‚å¸¸å¯¹è±¡</strong></p></blockquote><h2 id="finallyè¯­å¥"><a href="#finallyè¯­å¥" class="headerlink" title="finallyè¯­å¥"></a>finallyè¯­å¥</h2><blockquote><ul><li>ä¸ä½¿ç”¨finally</li></ul><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814185433020.png" alt="image-20230814185433020"></p><p><strong>å…¶å®åªè¦ä½¿ç”¨ finally å…³é”®ï¼Œå°±å¯ä»¥ä¿è¯æŒ‡å®šä»£ç ä¸€å®šä¼šæ‰§è¡Œï¼Œæ— è®ºæ˜¯å¦å‘ç”Ÿå¼‚å¸¸ï¼</strong></p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814185624627.png" alt="image-20230814185624627"></p></blockquote><h1 id="è‡ªå®šä¹‰å¼‚å¸¸"><a href="#è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸"></a>è‡ªå®šä¹‰å¼‚å¸¸</h1><h2 id="è‡ªå®šä¹‰å¼‚å¸¸çš„åŸå› "><a href="#è‡ªå®šä¹‰å¼‚å¸¸çš„åŸå› " class="headerlink" title="è‡ªå®šä¹‰å¼‚å¸¸çš„åŸå› "></a>è‡ªå®šä¹‰å¼‚å¸¸çš„åŸå› </h2><blockquote><p> <img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814185745070.png" alt="image-20230814185745070"></p></blockquote><h2 id="å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸"><a href="#å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸" class="headerlink" title="å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸"></a>å¦‚ä½•è‡ªå®šä¹‰å¼‚å¸¸</h2><blockquote><ul><li>å¦‚æœè¦è‡ªå®šä¹‰ä¸€ä¸ªç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹ï¼Œå°±è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œå¹¶ç»§æ‰¿ Exception</li><li>å¦‚æœè¦è‡ªå®šä¹‰ä¸€ä¸ªè¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼Œå°±è‡ªå®šä¹‰ä¸€ä¸ªç±»ï¼Œå¹¶ç»§æ‰¿ RuntimeException</li></ul><p>å¦‚ï¼Œè‡ªå®šä¹‰ç¼–è¯‘æ—¶å¼‚å¸¸ç±»å‹ï¼Œé€šè¿‡åå­—å¯çŸ¥ï¼Œè¿™æ˜¯åœ¨ç”¨æˆ·ç™»å½•æœŸé—´å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œåº”è¯¥åˆ›å»ºå¹¶æŠ›å‡ºçš„å¼‚ å¸¸ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LoginExceptin</span> <span class="keyword">extends</span> <span class="title class_">Exception</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LoginExceptin</span><span class="params">()</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">LoginExceptin</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä¾‹å¦‚ï¼Œè‡ªå®šä¹‰è¿è¡Œæ—¶å¼‚å¸¸ç±»å‹ï¼Œé€šè¿‡åå­—å¯çŸ¥ï¼Œè¿™æ˜¯åœ¨ä¿®æ”¹ç”¨æˆ·ä¿¡æ¯æœŸé—´å‘ç”Ÿå¼‚å¸¸æ—¶ï¼Œåº”è¯¥åˆ›å»ºå¹¶æŠ›å‡º çš„å¼‚å¸¸ç±»å‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ModifyUserInfoExceptin</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ModifyUserInfoExceptin</span><span class="params">()</span>&#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">ModifyUserInfoExceptin</span><span class="params">(String message)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(message);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å½“å‰æˆ‘ä»¬åœ¨ç³»ç»Ÿçš„æ—¥å¿—ä¿¡æ¯ä¸­çœ‹åˆ° <strong>LoginExceptin</strong> å’Œ <strong>ModifyUserInfoExceptin</strong> è¿™ä¿©ç§å¼‚å¸¸ç±»å‹çš„ ä¿¡æ¯æ—¶ï¼Œå°±çŸ¥é“æ˜¯ç”¨æˆ·åœ¨ç™»å½•å’Œä¿®æ”¹ä¿¡æ¯çš„æ—¶å€™ï¼Œå‡ºç°äº†é—®é¢˜ã€‚</p><p>ä½¿ç”¨æšä¸¾å®ç°ï¼š</p><ul><li>æšä¸¾ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap09.exception;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">StudentMessageCode</span> &#123;</span><br><span class="line"></span><br><span class="line">    STUDENT_INFO_NOT_EXIST(<span class="number">10001</span>, <span class="string">&quot;å­¦ç”Ÿä¿¡æ¯ä¸å­˜åœ¨&quot;</span>), STUDENT_INFO_EXIST(<span class="number">10002</span>, <span class="string">&quot;å­¦ç”Ÿä¿¡æ¯å·²å­˜åœ¨åœ¨&quot;</span>),</span><br><span class="line">    STUDENT_ID_NOT_UPDATE(<span class="number">10003</span>, <span class="string">&quot;å­¦ç”Ÿä¿¡æ¯ä¸­å­¦å·æ— æ³•ä¿®æ”¹&quot;</span>), TEACHER_ACCESS_DENIED(<span class="number">20001</span>, <span class="string">&quot;è€å¸ˆæƒé™ä¸è¶³&quot;</span>),</span><br><span class="line">    DATA_TYPE_MISMATCHED(<span class="number">30001</span>, <span class="string">&quot;æ•°æ®ç±»å‹ä¸åŒ¹é…&quot;</span>), USERNAME_PASSWORD_ERROR(<span class="number">40000</span>, <span class="string">&quot;è´¦å·å¯†ç é”™è¯¯&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> code;</span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">StudentMessageCode</span><span class="params">()</span> &#123;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">StudentMessageCode</span><span class="params">(<span class="type">int</span> code, String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getCode</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setCode</span><span class="params">(<span class="type">int</span> code)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.code = code;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getMsg</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setMsg</span><span class="params">(String msg)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.msg = msg;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name() + <span class="string">&quot;[code=&quot;</span> + <span class="built_in">this</span>.code + <span class="string">&quot;, msg = &quot;</span> + <span class="built_in">this</span>.msg + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¼‚å¸¸ä»£ç </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è‡ªå®šä¹‰å­¦ç”Ÿä¿¡æ¯å…³ç³»ç³»ç»Ÿçš„å¼‚å¸¸é€šç”¨åˆ— å°±ä¸ä½¿ç”¨æˆ–è€…å•å‚æ•°Stringçš„ï¼Œç›´æ¥ç»´æŠ¤çš„æ˜¯æšä¸¾</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> luozongwei</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SmException</span> <span class="keyword">extends</span> <span class="title class_">RuntimeException</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">long</span> <span class="variable">serialVersionUID</span> <span class="operator">=</span> <span class="number">6533744059542724668L</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">SmException</span><span class="params">(StudentMessageCode smec)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(smec.toString());</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4_SmTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        studentManger();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">studentManger</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">throw</span> <span class="keyword">new</span> <span class="title class_">SmException</span>(StudentMessageCode.STUDENT_ID_NOT_UPDATE);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="æ–­è¨€-assert"><a href="#æ–­è¨€-assert" class="headerlink" title="æ–­è¨€ assert"></a>æ–­è¨€ assert</h1><blockquote><p>æ–­è¨€ï¼ˆ<strong>assert</strong>ï¼‰ï¼Œæ˜¯JDK1.4çš„æ—¶å€™ï¼Œå¢åŠ çš„ä¸€ä¸ªå…³é”®å­—ã€‚ç”¨å®ƒå¯ä»¥å†ç¨‹åºä¸­ï¼Œç¡®è®¤ä¸€äº›å…³é”®æ€§æ¡ä»¶å¿…é¡»æ˜¯æˆç«‹çš„ï¼Œå¦åˆ™ä¼šæŠ›å‡º<strong>AssertionError</strong>ç±»å‹çš„é”™è¯¯ã€‚</p><p>æ³¨æ„ï¼Œæ–­è¨€ï¼ˆ<strong>assert</strong>ï¼‰å¹¶ä¸æ˜¯ç”¨æ¥ä»£æ›¿<strong>if</strong>åˆ¤æ–­çš„ï¼Œè€Œæ˜¯ç¡®è®¤ç³»ç»Ÿä¸­çš„ä¸€äº›<strong>å…³é”®æ€§æ¡ä»¶æ˜¯å¿…é¡»æˆç«‹</strong>çš„ï¼Œæ‰€ä»¥<strong>assertå’Œif</strong>å¹¶ä¸å†²çªï¼Œå¹¶ä¸”è¿˜å¯ä»¥é€šè¿‡ç»™JVMä¼ å‚æ•°ï¼Œæ¥æ§åˆ¶æ–­è¨€ï¼ˆ<strong>assert</strong>ï¼‰æ˜¯å¦ç”Ÿæ•ˆã€‚</p><p>æ–­è¨€ï¼ˆassertï¼‰çš„ä½¿ç”¨æ–¹å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">assert</span> å¸ƒå°”è¡¨è¾¾å¼;</span><br><span class="line"><span class="comment">//æˆ–è€…</span></span><br><span class="line"><span class="keyword">assert</span> å¸ƒå°”è¡¨è¾¾å¼ : <span class="string">&quot;é”™è¯¯ä¿¡æ¯&quot;</span>;</span><br></pre></td></tr></table></figure><p>å½“å¸ƒå°”è¡¨è¾¾å¼ä¸ºtrueæ˜¯ï¼Œæ–­è¨€é€šè¿‡ï¼Œå¦åˆ™æŠ›å‡º<strong>AssertionError</strong>ç±»å‹é”™è¯¯</p><p>æ‰€ä»¥ï¼Œassertåé¢çš„å¸ƒå°”è¡¨è¾¾å¼å¿…é¡»æ˜¯trueæ‰è¡Œã€‚ï¼ˆä¹Ÿå°±æ˜¯æ¡ä»¶å¿…é¡»æˆç«‹ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        test(<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a)</span> &#123;</span><br><span class="line">        <span class="keyword">assert</span> a != <span class="number">0</span> : <span class="string">&quot;å‚æ•°aä¸èƒ½ä¸º0&quot;</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> b / a;</span><br><span class="line">        System.out.println(c);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é»˜è®¤æƒ…å†µä¸‹ï¼ŒJVMæ˜¯æ²¡æœ‰å¼€å¯æ–­è¨€åŠŸèƒ½çš„ï¼Œéœ€è¦é€šè¿‡ç»™JVMä¼ å‚æ‰“å¼€æ­¤é¡¹åŠŸèƒ½</p><p>éœ€è¦ä½¿ç”¨ <strong>-enableassertions</strong> æˆ–è€… <strong>-ea</strong> JVMå‚æ•°</p><p>ä¾‹å¦‚ï¼š<strong>java -ea com.xxx.demo.Test</strong></p><ul><li>ecpliseå¼€å¯</li></ul><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814193125268.png" alt="image-20230814193125268"></p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814193320537.png" alt="image-20230814193320537"></p><ul><li>ideaå¼€å¯</li></ul><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814193546038.png" alt="image-20230814193546038"></p><p><img src="/2023/08/13/09-%E5%BC%82%E5%B8%B8/image-20230814193701969.png" alt="image-20230814193701969"></p><p>æ­¤æ—¶çš„è¿è¡Œç»“æœä¸ºï¼šå› ä¸ºæ–­è¨€è¦æ±‚å‚æ•°aä¸èƒ½ä¸º0ï¼Œä½†å®é™…å‚æ•°ä¼ çš„ä¸º0</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Exception in thread <span class="string">&quot;main&quot;</span> java.lang.AssertionError: å‚æ•°açš„å€¼ä¸èƒ½ä¸º<span class="number">0</span></span><br><span class="line">    at com.briup.demo.Test.test(Test.java:<span class="number">14</span>)</span><br><span class="line">    at com.briup.demo.Test.main(Test.java:<span class="number">8</span>)</span><br></pre></td></tr></table></figure><p><strong>å¦‚æœå»æ‰ -eaå‚æ•°çš„è¯ï¼Œé‚£ä¹ˆæ–­è¨€ï¼ˆassertï¼‰è¯­å¥ï¼Œåœ¨JVMæ‰§è¡Œä»£ç çš„æ—¶å€™ï¼Œä¼šè¢«ç›´æ¥å¿½ç•¥çš„</strong></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>å¤©ç”Ÿæˆ‘æå¿…æœ‰ç”¨ï¼Œåƒé‡‘æ•£å»è¿˜å¤æ¥ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>08-2-æ³›å‹-æ³¨è§£</title>
      <link href="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/"/>
      <url>/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="æ³›å‹"><a href="#æ³›å‹" class="headerlink" title="æ³›å‹"></a>æ³›å‹</h1><h2 id="æ³›å‹æ¦‚è¿°"><a href="#æ³›å‹æ¦‚è¿°" class="headerlink" title="æ³›å‹æ¦‚è¿°"></a>æ³›å‹æ¦‚è¿°</h2><blockquote><p><strong>æ³›å‹ï¼ˆGenericsï¼‰</strong>çš„æ¦‚å¿µæ˜¯åœ¨<strong>JDK1.5</strong>ä¸­å¼•å…¥çš„ï¼Œå®ƒçš„ä¸»è¦ç›®çš„æ˜¯ä¸ºäº†è§£å†³ç±»å‹<strong>å®‰å…¨æ€§å’Œä»£ç å¤ç”¨</strong>çš„é—®é¢˜</p><p>æ³›å‹æ˜¯ä¸€ç§å¼ºå¤§çš„ç‰¹æ€§ï¼Œå®ƒå…è®¸æˆ‘ä»¬åœ¨å®šä¹‰ç±»ã€æ¥å£å’Œæ–¹æ³•æ—¶ä½¿ç”¨<strong>å‚æ•°åŒ–ç±»å‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Tæ˜¯æ•°æ®ç±»å‹ï¼Œä½†æ˜¯ä¸æ˜¯ç¡®å®šçš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">//ç¨‹åºå‘˜åœ¨ä½¿ç”¨è¯¥ç±»çš„æ—¶å€™ï¼Œä¼ å…¥ä»€ä¹ˆå…·ä½“çš„ç±»å‹ç»™Tï¼ŒTå°±ä»£è¡¨ä»€ä¹ˆç±»å‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span>&lt;T&gt; &#123; <span class="comment">// æ³›å‹ç±»ï¼Œä½¿ç”¨ç±»å‹å‚æ•°T</span></span><br><span class="line">    <span class="keyword">private</span> T value;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setValue</span><span class="params">(T value)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.value = value;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getValue</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³›å‹èƒ½å¤Ÿä½¿æˆ‘ä»¬ç¼–å†™å‡ºæ¥é€šç”¨çš„ä»£ç ï¼Œæé«˜ä»£ç çš„å¯è¯»æ€§å’Œé‡ç”¨æ€§ã€‚é€šè¿‡ä½¿ç”¨æ³›å‹ï¼Œæˆ‘ä»¬å¯ä»¥å†ç±»ã€æ¥å£å’Œæ–¹æ³•ä¸­ä½¿ç”¨ç±»å‹å‚æ•°ï¼Œä½¿å¾—ä»£ç å¯ä»¥å¤„ç†ä¸åŒç±»å‹çš„æ•°æ®ï¼ŒåŒæ—¶ä¿æŒç±»å‹å®‰å…¨ã€‚</font></p></blockquote><h2 id="æ³›å‹åº”ç”¨"><a href="#æ³›å‹åº”ç”¨" class="headerlink" title="æ³›å‹åº”ç”¨"></a>æ³›å‹åº”ç”¨</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line">    c.add(<span class="string">&quot;hello1&quot;</span>);</span><br><span class="line">    c.add(<span class="string">&quot;hello2&quot;</span>);</span><br><span class="line">    c.add(<span class="string">&quot;hello3&quot;</span>);</span><br><span class="line">    <span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼Œadd(E e) å·²ç»å˜ä¸º add(String e)</span></span><br><span class="line">    <span class="comment">//intç±»å‹çš„æ•°æ®1ï¼Œæ˜¯æ·»åŠ ä¸åˆ°é›†åˆä¸­å»çš„</span></span><br><span class="line">    <span class="comment">//c.add(1);</span></span><br><span class="line">    <span class="keyword">for</span>(String str : c) &#123;</span><br><span class="line">        System.out.println(str);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œä¼ å…¥æ³›å‹å‚æ•°åï¼Œaddæ–¹æ³•åªèƒ½æ¥æ”¶Stringç±»å‹çš„å‚æ•°ï¼Œå…¶ä»–ç±»å‹çš„æ•°æ®æ— æ³•æ·»åŠ åˆ°é›†åˆä¸­ï¼ŒåŒæ—¶åœ¨éå†é›†åˆçš„æ—¶å€™ï¼Œä¹Ÿä¸éœ€è¦æˆ‘ä»¬åšç±»å‹è½¬æ¢äº†ï¼Œç›´æ¥ä½¿ç”¨Stringç±»å‹å˜é‡æ¥æ”¶å°±å¯ä»¥äº†ï¼Œ<strong>JVMä¼šè‡ªåŠ¨è½¬æ¢çš„</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line"><span class="comment">// å¯ä»¥ç®€å†™ä¸ºè±å½¢æ³›å‹å½¢å¼ï¼šç –çŸ³è¡¨è¾¾å¼</span></span><br><span class="line">Collection&lt;String&gt; c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure><p><strong>è±å½¢æ³›å‹ï¼ˆDiamond Operatorï¼‰æ˜¯JDK7ä¸­å¼•å…¥çš„ä¸€ç§è¯­æ³•ç³–ï¼Œç”¨äºç®€åŒ–æ³›å‹çš„ ç±»å‹æ¨æ–­è¿‡ç¨‹ã€‚</strong></p><p>Mapæ¥å£ä½¿ç”¨æ³›å‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Mapæ¥å£ä¹Ÿæ˜¯æ³›å‹æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Map</span>&lt;K,V&gt; &#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    V <span class="title function_">put</span><span class="params">(K key, V value)</span>;</span><br><span class="line">    Set&lt;Map.Entry&lt;K, V&gt;&gt; entrySet();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="è‡ªå®šä¹‰æ³›å‹"><a href="#è‡ªå®šä¹‰æ³›å‹" class="headerlink" title="è‡ªå®šä¹‰æ³›å‹"></a>è‡ªå®šä¹‰æ³›å‹</h2><blockquote><ul><li>æ³›å‹ç±»</li></ul><p>å¦‚æœæ³›å‹å‚æ•°å®šä¹‰åœ¨ç±»ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»å°±æ˜¯ä¸€ä¸ªæ³›å‹ç±»</p><p>æ³›å‹ç±»å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] class ç±»å&lt;æ³›å‹ç±»å‹å<span class="number">1</span>,æ³›å‹ç±»å‹å<span class="number">2</span>,...&gt; &#123;</span><br><span class="line">    <span class="number">0</span>ä¸ªæˆ–å¤šä¸ªæ•°æ®æˆå‘˜;</span><br><span class="line">    <span class="number">0</span>ä¸ªæˆ–å¤šä¸ªæ„é€ æ–¹æ³•;</span><br><span class="line">    <span class="number">0</span>ä¸ªæˆ–å¤šä¸ªæˆå‘˜æ–¹æ³•;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ³¨æ„ï¼šä¹‹å‰ç”¨ç¡®å®šæ•°æ®ç±»å‹çš„åœ°æ–¹ï¼Œç°åœ¨ä½¿ç”¨è‡ªå®šä¹‰æ³›å‹ç±»å‹åæ›¿ä»£</span></span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813154145407.png" alt="image-20230813154145407"></p><p>æ³›å‹ç±»å®ä¾‹åŒ–å¯¹è±¡æ ¼å¼ï¼š <strong>æ³›å‹ç±»å&lt;å…·ä½“ç±»å‹1,å…·ä½“ç±»å‹2,â€¦&gt; å¯¹è±¡å &#x3D; new æ³›å‹ç±»å&lt;&gt;(å®å‚åˆ— è¡¨);</strong></p><p><strong>æ³¨æ„ï¼šå®é™…å¼€å‘ä¸­ï¼Œæˆ‘ä»¬è‡ªå®šä¹‰æ³›å‹ç±»çš„æƒ…å†µå¹¶ä¸å¤šï¼Œå¤§å®¶æŒæ¡å®šä¹‰æ³›å‹ç±»ã€å®ä¾‹åŒ–æ³›å‹ç±»å¯¹è±¡çš„å›ºå®šæ ¼å¼å³å¯ã€‚</strong></p><ul><li>æ³›å‹æ¥å£</li></ul><p>å¦‚æœæ³›å‹å‚æ•°å®šä¹‰åœ¨æ¥å£ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ¥å£å°±æ˜¯ä¸€ä¸ªæ³›å‹æ¥å£</p><p>å®šä¹‰æ ¼å¼ï¼š <strong>[ä¿®é¥°ç¬¦] interface æ¥å£å&lt;æ³›å‹ç±»å‹å1,æ³›å‹ç±»å‹å2,â€¦&gt; { }</strong></p><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813154552166.png" alt="image-20230813154552166"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Action</span>&lt;T&gt; &#123;...&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//åˆ›å»ºåŒ¿åå†…éƒ¨ç±»</span></span><br><span class="line">    Action&lt;String&gt; a = <span class="keyword">new</span> <span class="title class_">Action</span>&lt;&gt;() &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ³›å‹æ–¹æ³•</li></ul><p>å¦‚æœæ³›å‹å‚æ•°å®šä¹‰åœ¨æ–¹æ³•ä¸Šé¢ï¼Œé‚£ä¹ˆè¿™ä¸ªæ–¹æ³•å°±æ˜¯ä¸€ä¸ªæ³›å‹æ–¹æ³•</p><p>æ³›å‹æ–¹æ³•å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] &lt;æ³›å‹ç±»å‹å&gt; è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å¼å‚æ•°åˆ—è¡¨)&#123;</span><br><span class="line">    æ–¹æ³•å…·ä½“å®ç°;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³›å‹æ–¹æ³•è°ƒç”¨æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ç±»å¯¹è±¡.æ³›å‹æ–¹æ³•ï¼ˆå®å‚åˆ—è¡¨ï¼‰;</span><br><span class="line">ç±»å.<span class="keyword">static</span> æ³›å‹æ–¹æ³•ï¼ˆå®å‚åˆ—è¡¨ï¼‰;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šæ³›å‹æ–¹æ³•è°ƒç”¨æ—¶ä¸éœ€è¦é¢å¤–æŒ‡å®šæ³›å‹ç±»å‹ï¼Œç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«æ³›å‹ç±»å‹ã€‚</font></p><p>æ¡ˆä¾‹å±•ç¤ºï¼š åœ¨ä¸Šè¿°Circleæ³›å‹ç±»ä¸­ï¼Œè¡¥å…… æ³›å‹æ–¹æ³•<strong>disp()å’Œstatic show()</strong> ï¼Œå¹¶è°ƒç”¨ï¼Œ éªŒè¯ä¸Šè¿°æ ¼å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Circle</span>&lt;T,E&gt; &#123; <span class="comment">// T,E</span></span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//æ³›å‹ç±»ä¸­å®šä¹‰ æ³›å‹æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> &lt;F&gt; <span class="keyword">void</span> <span class="title function_">disp</span><span class="params">(F f)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;in æ³›å‹æ–¹æ³•disp, f: &quot;</span> + f);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">// ä¸‹é¢å†™æ³•è™½ç„¶ä¸ä¼šæŠ¥é”™ï¼Œä¸å»ºè®®å¤§å®¶è¿™æ ·å†™</span></span><br><span class="line">    <span class="comment">// å› ä¸ºæ³›å‹æ–¹æ³•ä¸Šçš„ T ä¼šå’Œ æ³›å‹ç±»ä¸Šçš„ T äº§ç”Ÿæ­§ä¹‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">show</span><span class="params">(T t)</span> &#123; <span class="comment">// T</span></span><br><span class="line">        System.out.println(<span class="string">&quot;in æ³›å‹staticæ–¹æ³•show, t: &quot;</span> + t);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    Circle&lt;Integer,Integer&gt; c = <span class="keyword">new</span> <span class="title class_">Circle</span>&lt;&gt;();</span><br><span class="line">    <span class="comment">//public &lt;F&gt; void disp(F f);</span></span><br><span class="line">    <span class="comment">//è°ƒç”¨æ—¶ç³»ç»Ÿè‡ªåŠ¨è¯†åˆ«æ³›å‹æ–¹æ³•ç±»å‹</span></span><br><span class="line">    c.disp(<span class="number">1</span>); <span class="comment">//Integer</span></span><br><span class="line">    c.disp(<span class="number">2.3</span>); <span class="comment">//Double</span></span><br><span class="line">    c.disp(<span class="string">&quot;hello&quot;</span>);<span class="comment">//String</span></span><br><span class="line">    c.disp(<span class="string">&#x27;h&#x27;</span>); <span class="comment">//Character</span></span><br><span class="line">    System.out.println(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line">    <span class="comment">//public static &lt;T&gt; void show(T t);</span></span><br><span class="line">    <span class="comment">//é€šè¿‡ç±»åå¯ä»¥ç›´æ¥è°ƒç”¨ï¼Œä¸éœ€è¦é¢å¤–æŒ‡å®šæ³›å‹ç±»å‹</span></span><br><span class="line">    Circle.show(<span class="number">2.3</span>);</span><br><span class="line">    Circle.show(<span class="number">2</span>);</span><br><span class="line">    Circle.show(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813160317417.png" alt="image-20230813160317417"></p></blockquote><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><blockquote><p>å…ˆçœ‹ä¿©ç§é”™è¯¯çš„æƒ…å†µï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¼–è¯‘é€šè¿‡</span></span><br><span class="line"><span class="comment">//çˆ¶ç±»å‹çš„å¼•ç”¨ï¼ŒæŒ‡å‘å­ç±»å¯¹è±¡</span></span><br><span class="line"><span class="type">Object</span> <span class="variable">o</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line"><span class="comment">//ç¼–è¯‘é€šè¿‡</span></span><br><span class="line"><span class="comment">//Object[]ç±»å‹å…¼å®¹æ‰€æœ‰çš„ã€å¼•ç”¨ã€‘ç±»å‹æ•°ç»„</span></span><br><span class="line"><span class="comment">//arrå¯ä»¥æŒ‡å‘ä»»æ„ å¼•ç”¨ç±»å‹ æ•°ç»„å¯¹è±¡</span></span><br><span class="line">Object[] arr = <span class="keyword">new</span> <span class="title class_">Integer</span>[<span class="number">1</span>];</span><br><span class="line"><span class="comment">//ç¼–è¯‘å¤±è´¥</span></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œè¿™ä¸ªç¼–è¯‘æŠ¥é”™ï¼Œç±»å‹ä¸å…¼å®¹</span></span><br><span class="line"><span class="comment">//int[] æ˜¯åŸºæœ¬ç±»å‹æ•°ç»„</span></span><br><span class="line">Object[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">1</span>];</span><br><span class="line"><span class="comment">//ç¼–è¯‘å¤±è´¥</span></span><br><span class="line"><span class="comment">//é”™è¯¯ä¿¡æ¯ï¼šArrayList&lt;Integer&gt;æ— æ³•è½¬ä¸ºArrayList&lt;Object&gt;</span></span><br><span class="line"><span class="comment">//åœ¨ç¼–è¯‘æœŸé—´ï¼ŒArrayList&lt;Integer&gt;å’ŒArrayList&lt;Object&gt;æ˜¯ä¿©ä¸ªä¸åŒçš„ç±»å‹ï¼Œå¹¶ä¸”æ²¡æœ‰å­çˆ¶ç±»å‹çš„å…³ç³»</span></span><br><span class="line">ArrayList&lt;Object&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„, &#x3D;å·ä¸¤è¾¹çš„æ‰€æŒ‡å®šçš„æ³›å‹ç±»å‹ï¼Œå¿…é¡»æ˜¯è¦ä¸€æ ·çš„</font></p><p>è¿™é‡Œè¯´çš„æ³›å‹ç±»å‹ï¼ŒæŒ‡çš„æ˜¯&lt;&gt;ä¸­æ‰€æŒ‡å®šçš„ç±»å‹</p><p><strong>è™½ç„¶ Integer æ˜¯ Object çš„å­ç±»å‹</strong>ï¼Œ<strong>ä½†æ˜¯ ArrayList å’Œ ArrayList ä¹‹é—´æ²¡æœ‰å­çˆ¶ç±»å‹çš„å…³ç³»</strong>ï¼Œå®ƒä»¬å°±æ˜¯ä¿©ä¸ªä¸åŒçš„ç±»å‹æ‰€ä»¥ï¼Œ</p><p><strong>Object o &#x3D; new Integer(1);</strong> ç¼–è¯‘é€šè¿‡ </p><p><strong>ArrayList list &#x3D; new ArrayList();</strong> ç¼–è¯‘æŠ¥é”™ </p><p>ä¹Ÿå°±æ˜¯è¯´ï¼Œä¿©ä¸ªç±»å‹ï¼Œå¦‚æœæ˜¯å½“åšæ³›å‹çš„æŒ‡å®šç±»å‹çš„æ—¶å€™ï¼Œå°±æ²¡æœ‰å¤šæ€çš„ç‰¹ç‚¹äº†</p></blockquote><h2 id="é€šé…ç¬¦"><a href="#é€šé…ç¬¦" class="headerlink" title="é€šé…ç¬¦"></a>é€šé…ç¬¦</h2><blockquote><p><strong>?ï¼šå¯ä»¥é€šé…ä»»æ„ç±»å‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(Collection&lt;?&gt; c)</span> &#123;&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šè¿™ä½¿ç”¨testæ–¹æ³•ä¸­çš„å‚æ•°ç±»å‹ï¼Œä½¿ç”¨äº†æ³›å‹ï¼Œå¹¶ä¸”ä½¿ç”¨é—®å·æ¥è¡¨ç¤ºè¿™ä¸ªæ³›å‹çš„ç±»å‹ï¼Œè¿™ä¸ªé—®å·å°±æ˜¯é€šé…ç¬¦ï¼Œå¯ä»¥åŒ¹é…æ‰€æœ‰çš„æ³›å‹ç±»å‹</p><p>testæ–¹æ³•å¯ä»¥æ¥æ”¶ï¼Œ<strong>æ³›å‹æ˜¯ä»»æ„å¼•ç”¨ç±»å‹</strong>çš„ Collectioné›†åˆå¯¹è±¡ã€</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">    <span class="type">Test</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test</span>();</span><br><span class="line">    t.test(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;());</span><br><span class="line">    t.test(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;());</span><br><span class="line">    t.test(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Double&gt;());</span><br><span class="line">    t.test(<span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;ä»»æ„å¼•ç”¨ç±»å‹&gt;());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ä½¿ç”¨é€šé…ç¬¦ï¼ˆ?ï¼‰æ‰€å¸¦æ¥çš„é—®é¢˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">Collection&lt;?&gt; c;</span><br><span class="line">c = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;String&gt;();</span><br><span class="line"><span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"><span class="comment">// å› ä¸ºå˜é‡cæ‰€å£°æ˜çš„ç±»å‹æ˜¯Collectionï¼ŒåŒæ—¶æ³›å‹ç±»å‹æ˜¯é€šé…ç¬¦ï¼ˆ?ï¼‰</span></span><br><span class="line"><span class="comment">// é‚£ä¹ˆç¼–è¯‘å™¨ä¹Ÿä¸çŸ¥é“è¿™ä¸ª?å°†æ¥ä¼šæ˜¯ä»€ä¹ˆç±»å‹ï¼Œå› ä¸ºè¿™ä¸ª?åªæ˜¯ä¸€ä¸ªé€šé…ç¬¦</span></span><br><span class="line"><span class="comment">// æ‰€ä»¥ï¼Œç¼–è¯‘å™¨ä¸å…è®¸ä½¿ç”¨å˜é‡cæ¥å‘é›†åˆä¸­æ·»åŠ æ–°æ•°æ®ã€‚</span></span><br><span class="line">c.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line"><span class="comment">// ç¼–è¯‘é€šè¿‡</span></span><br><span class="line"><span class="comment">// ä½†æ˜¯æœ‰ä¸€ä¸ªå€¼æ˜¯å¯ä»¥æ·»åŠ åˆ°é›†åˆä¸­çš„ï¼Œnull</span></span><br><span class="line"><span class="comment">// é›†åˆä¸­ä¸€å®šå­˜çš„æ˜¯å¼•ç”¨ç±»å‹ï¼Œnullæ˜¯æ‰€æœ‰å¼•ç”¨ç±»å‹å…±åŒçš„ä¸€ä¸ªå€¼ï¼Œæ‰€ä»¥ä¸€å®šå¯ä»¥æ·»åŠ è¿›å»ã€‚</span></span><br><span class="line">c.add(<span class="literal">null</span>);</span><br></pre></td></tr></table></figure><p>è™½ç„¶ä½¿ç”¨é€šé…ç¬¦ï¼ˆ?ï¼‰çš„é›†åˆï¼Œä¸èƒ½å†å¾€å…¶ä¸­æ·»åŠ æ•°æ®äº†ï¼Œä½†æ˜¯å¯ä»¥éå†é›†åˆå– å‡ºæ•°æ®ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    ArrayList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">    list.add(<span class="string">&quot;hello1&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;hello2&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;hello3&quot;</span>);</span><br><span class="line">    list.add(<span class="string">&quot;hello4&quot;</span>);</span><br><span class="line">    Collection&lt;?&gt; c = list;</span><br><span class="line">    <span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//c.add(&quot;hello5&quot;);</span></span><br><span class="line">    <span class="keyword">for</span>(Object obj : c) &#123;</span><br><span class="line">        System.out.println(obj);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ³›å‹è¾¹ç•Œ"><a href="#æ³›å‹è¾¹ç•Œ" class="headerlink" title="æ³›å‹è¾¹ç•Œ"></a>æ³›å‹è¾¹ç•Œ</h2><blockquote><p>åœ¨é»˜è®¤æƒ…å†µä¸‹ï¼Œæ³›å‹çš„ç±»å‹æ˜¯å¯ä»¥ä»»æ„è®¾ç½®çš„ï¼Œåªè¦æ˜¯å¼•ç”¨ç±»å‹å°±å¯ä»¥ã€‚</p><p>å¦‚æœåœ¨æ³›å‹ä¸­ä½¿ç”¨ <strong>extends å’Œ super</strong> å…³é”®å­—ï¼Œå°±å¯ä»¥å¯¹æ³›å‹çš„ç±»å‹è¿›è¡Œé™åˆ¶ã€‚ å³ï¼šè§„å®šæ³›å‹çš„<strong>ä¸Šé™å’Œä¸‹é™ã€‚</strong></p><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813163423908.png" alt="image-20230813163423908"></p></blockquote><h3 id="æ³›å‹ä¸Šé™"><a href="#æ³›å‹ä¸Šé™" class="headerlink" title="æ³›å‹ä¸Šé™"></a>æ³›å‹ä¸Šé™</h3><blockquote><ul><li>ä¾‹å¦‚ï¼š List &lt;? extends Number&gt; list</li><li>å°†æ¥å¼•ç”¨listå°±å¯ä»¥æ¥æ”¶æ³›å‹æ˜¯<strong>Number æˆ–è€… Numberå­ç±»å‹</strong>çš„Listé›†åˆå¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    List&lt;? <span class="keyword">extends</span> <span class="title class_">Number</span>&gt; list;</span><br><span class="line">    <span class="comment">//listå¯ä»¥æŒ‡å‘æ³›å‹æ˜¯Numberæˆ–è€…Numberã€å­ã€‘ç±»å‹çš„é›†åˆå¯¹è±¡</span></span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Number&gt;();</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Double&gt;();</span><br><span class="line">    <span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼Œå› ä¸ºStringä¸æ˜¯Numberç±»å‹ï¼Œä¹Ÿä¸æ˜¯Numberçš„å­ç±»å‹</span></span><br><span class="line">    <span class="comment">//list = new ArrayList&lt;String&gt;();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>èƒ½è¡¨ç¤ºæ•°å­—çš„ç±»å‹éƒ½æ˜¯Numberç±»å‹çš„å­ç±»å‹ï¼Œä¾‹å¦‚Byte Short Integer Long ç­‰</strong></p></blockquote><h3 id="æ³›å‹ä¸‹é™"><a href="#æ³›å‹ä¸‹é™" class="headerlink" title="æ³›å‹ä¸‹é™"></a>æ³›å‹ä¸‹é™</h3><blockquote><ul><li>ä¾‹å¦‚ï¼šList &lt;? super Number&gt; list</li><li>å°†æ¥å¼•ç”¨listå°±å¯ä»¥æ¥æ”¶æ³›å‹æ˜¯Numberæˆ–è€…Numberçˆ¶ç±»å‹çš„Listé›†åˆå¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    List&lt;? <span class="built_in">super</span> Number&gt; list;</span><br><span class="line">    <span class="comment">//listå¯ä»¥æŒ‡å‘æ³›å‹æ˜¯Numberæˆ–è€…Numberã€çˆ¶ã€‘ç±»å‹çš„é›†åˆå¯¹è±¡</span></span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Number&gt;();</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Serializable&gt;();</span><br><span class="line">    list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Object&gt;();</span><br><span class="line">    <span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼Œå› ä¸ºStringä¸æ˜¯Numberç±»å‹ï¼Œä¹Ÿä¸æ˜¯Numberçš„çˆ¶ç±»å‹</span></span><br><span class="line">    <span class="comment">//list = new ArrayList&lt;String&gt;();</span></span><br><span class="line">    <span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼Œå› ä¸ºIntegerä¸æ˜¯Numberç±»å‹ï¼Œä¹Ÿä¸æ˜¯Numberçš„çˆ¶ç±»å‹</span></span><br><span class="line">    <span class="comment">//list = new ArrayList&lt;Integer&gt;();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç±»å‹æ“¦é™¤"><a href="#ç±»å‹æ“¦é™¤" class="headerlink" title="ç±»å‹æ“¦é™¤"></a>ç±»å‹æ“¦é™¤</h2><blockquote><p><strong>æ³›å‹ç±»å‹ä»…å­˜åœ¨äºç¼–è¯‘æœŸé—´ï¼Œç¼–è¯‘åçš„å­—èŠ‚ç å’Œè¿è¡Œæ—¶ä¸åŒ…å«æ³›å‹ä¿¡æ¯</strong>ï¼Œæ‰€æœ‰çš„æ³›å‹ç±»å‹æ˜ å°„åˆ°åŒä¸€ä»½å­—èŠ‚ç ã€‚</p><p>ç”±äºæ³›å‹æ˜¯JDK1.5æ‰åŠ å…¥åˆ°Javaè¯­è¨€ç‰¹æ€§çš„ï¼ŒJavaè®©ç¼–è¯‘å™¨æ“¦é™¤æ‰å…³äºæ³›å‹ç±»å‹çš„ä¿¡æ¯ï¼Œè¿™æ ·ä½¿å¾—Javaå¯ä»¥<strong>å‘åå…¼å®¹ä¹‹å‰æ²¡æœ‰ä½¿ç”¨æ³›å‹çš„ç±»åº“å’Œä»£ç </strong>ï¼Œ<strong>å› ä¸ºåœ¨å­—èŠ‚ç ï¼ˆclassï¼‰å±‚é¢æ˜¯æ²¡æœ‰æ³›å‹æ¦‚å¿µçš„</strong>ã€‚</p><ul><li>æ“¦é™¤å‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Generic</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> T obj;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Generic</span><span class="params">(T o)</span> &#123;</span><br><span class="line">        obj = o;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> T <span class="title function_">getObj</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ“¦é™¤å</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Generic</span> &#123; <span class="comment">// T --&gt; æ¶ˆå¤±äº†</span></span><br><span class="line">    <span class="keyword">private</span> Object obj;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Generic</span><span class="params">(Object o)</span> &#123; <span class="comment">// T --&gt; Object </span></span><br><span class="line">        obj = o;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> Object <span class="title function_">getObj</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„äº‹é¡¹</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">// ArrayList&lt;Integer&gt;å’Œnew ArrayList&lt;Long&gt;åœ¨ç¼–è¯‘æœŸé—´æ˜¯ä¸åŒçš„ç±»å‹</span></span><br><span class="line">    <span class="comment">//ArrayList&lt;Integer&gt; list = new ArrayList&lt;Long&gt;();</span></span><br><span class="line">    <span class="comment">// ä½†æ˜¯ç¼–è¯‘å®Œæˆåï¼Œå®ƒä»¬å¯¹åº”çš„æ˜¯åŒä¸€ä»½classæ–‡ä»¶ï¼šArrayList.class</span></span><br><span class="line">    ArrayList&lt;Integer&gt; list1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Integer&gt;();</span><br><span class="line">    ArrayList&lt;Long&gt; list2 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;Long&gt;();</span><br><span class="line">    <span class="comment">// å¤§å®¶å¤§è‡´èƒ½çœ‹æ‡‚å³å¯ï¼Œåç»­åå°„ç« èŠ‚ä¼šè¡¥å……</span></span><br><span class="line">    System.out.println(list1.getClass() == list2.getClass());</span><br><span class="line">    <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="skyblue">æ³¨æ„ï¼Œæ³›å‹ä¿¡æ¯è¢«æ“¦é™¤åï¼Œæ‰€æœ‰çš„æ³›å‹ç±»å‹éƒ½ä¼šç»Ÿä¸€å˜ä¸ºåŸå§‹ç±»å‹ï¼šObject</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"><span class="comment">//å› ä¸ºåœ¨ç¼–è¯‘åï¼Œæ³›å‹ä¿¡æ¯ä¼šè¢«æ“¦é™¤</span></span><br><span class="line"><span class="comment">//æ‰€ä»¥ä¸‹é¢ä¸¤ä¸ªrunæ–¹æ³•ä¸ä¼šæ„æˆé‡è½½ï¼Œæœ¬è´¨ä¸Šéƒ½æ˜¯ public void run(List list)</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(List&lt;String&gt; list)</span>&#123; <span class="comment">// String -&gt; Object</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">(List&lt;Integer&gt; list)</span>&#123; <span class="comment">// Integet -&gt; Object</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œ<strong>Javaçš„æ³›å‹åªå­˜åœ¨äºç¼–è¯‘æ—¶æœŸ</strong>ï¼Œæ³›å‹ä½¿ç¼–è¯‘å™¨å¯ä»¥<strong>åœ¨ç¼–è¯‘æœŸé—´å¯¹ç±»å‹è¿›è¡Œæ£€æŸ¥ä»¥æé«˜ç±»å‹å®‰å…¨ï¼Œå‡å°‘è¿è¡Œæ˜¯ç”±äºå¯¹è±¡ç±»å‹ä¸åŒ¹é…å¼•å‘çš„å¼‚å¸¸ã€‚</strong></p><p>ä½†æ˜¯åœ¨ç¼–è¯‘æˆåŠŸåï¼Œ<strong>æ‰€æœ‰æ³›å‹ä¿¡æ¯ä¼šè¢«æ“¦é™¤ï¼Œå˜ä¸ºåŸå§‹ç±»å‹Object</strong>ã€‚</p></blockquote><h2 id="æ³›å‹å°ç»“"><a href="#æ³›å‹å°ç»“" class="headerlink" title="æ³›å‹å°ç»“"></a>æ³›å‹å°ç»“</h2><blockquote><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813165150565.png" alt="image-20230813165150565"></p></blockquote><h1 id="æ³¨è§£"><a href="#æ³¨è§£" class="headerlink" title="æ³¨è§£"></a>æ³¨è§£</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p><strong>æ³¨è§£ï¼ˆAnnotationï¼‰</strong>ï¼Œæ˜¯J<strong>DK1.5</strong>å¼•å…¥çš„æŠ€æœ¯ï¼Œç”¨å®ƒå¯ä»¥å¯¹Javaä¸­çš„<strong>æŸä¸€ä¸ªæ®µç¨‹åºè¿›è¡Œè¯´æ˜æˆ–æ ‡æ³¨ï¼Œå¹¶ä¸”è¿™ä¸ªæ³¨è§£çš„ä¿¡æ¯å¯ä»¥è¢«å…¶ä»–ç¨‹åºä½¿ç”¨ç‰¹å®šçš„æ–¹å¼è¯»å–åˆ°ï¼Œ ä»è€Œå®Œæˆç›¸åº”çš„æ“ä½œã€‚</strong></p><p>ä¾‹å¦‚ï¼Œ @Override æ³¨è§£</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">super</span>.toString();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>@OverrideåŠŸèƒ½è§£æï¼š</p><p>ç¼–è¯‘å™¨åœ¨<strong>ç¼–è¯‘Personç±»</strong>çš„æ—¶å€™ï¼Œä¼šè¯»å–åˆ°<strong>toStringæ–¹æ³•ä¸Šçš„æ³¨è§£@Override</strong>ï¼Œä»è€Œå¸®æˆ‘ä»¬æ£€æŸ¥è¿™ä¸ªæ–¹æ³•æ—¶å€™æ˜¯é‡å†™çˆ¶ç±»ä¸­çš„ï¼Œå¦‚æœçˆ¶ç±»ä¸­æ²¡æœ‰è¿™ä¸ªæ–¹æ³•ï¼Œåˆ™ç¼–è¯‘æŠ¥é”™ã€‚</p><p>æ³¨è§£å’Œæ³¨é‡Šçš„åŒºåˆ«ï¼š</p><ul><li>æ³¨è§£æ˜¯ç»™å…¶ä»–ç¨‹åºçœ‹çš„ï¼Œé€šè¿‡å‚æ•°çš„è®¾ç½®ï¼Œå¯ä»¥åœ¨ç¼–è¯‘åclassæ–‡ä»¶ä¸­ã€ä¿ç•™ã€‘æ³¨è§£çš„ä¿¡æ¯ï¼Œå…¶ä»–ç¨‹åºè¯»å–åï¼Œå¯ä»¥å®Œæˆç‰¹å®šçš„æ“ä½œ</li><li>æ³¨é‡Šæ˜¯ç»™ç¨‹åºå‘˜çœ‹çš„ï¼Œæ— è®ºæ€ä¹ˆè®¾ç½®ï¼Œéå†åclassæ–‡ä»¶ä¸­éƒ½æ˜¯ã€æ²¡æœ‰ã€‘æ³¨é‡Šä¿¡æ¯ï¼Œæ–¹ä¾¿ç¨‹åºå‘˜å¿«é€Ÿäº†è§£ä»£ç çš„ä½œç”¨æˆ–ç»“æ„ã€‚</li></ul></blockquote><h2 id="æ ¼å¼"><a href="#æ ¼å¼" class="headerlink" title="æ ¼å¼"></a>æ ¼å¼</h2><blockquote><ul><li>æ²¡æœ‰å±æ€§çš„æ³¨è§£ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> æ³¨è§£åç§° &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœ‰å±æ€§ï¼Œä½†æ²¡æœ‰é»˜è®¤å€¼çš„æ³¨è§£ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> æ³¨è§£åç§° &#123;</span><br><span class="line">    <span class="keyword">public</span> å±æ€§ç±»å‹ å±æ€§å();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœ‰å±æ€§ï¼Œæœ‰é»˜è®¤å€¼çš„æ³¨è§£ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> æ³¨è§£åç§° &#123;</span><br><span class="line">    å±æ€§ç±»å‹ å±æ€§å() <span class="keyword">default</span> é»˜è®¤å€¼ ;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼Œ public å¯ä»¥çœå»ä¸å†™ï¼Œé»˜è®¤å°±æ˜¯ public</strong></p></blockquote><h2 id="èŒƒå›´"><a href="#èŒƒå›´" class="headerlink" title="èŒƒå›´"></a>èŒƒå›´</h2><blockquote><p>æ³¨è§£çš„<strong>ä½¿ç”¨èŒƒå›´</strong>ï¼Œéƒ½å®šä¹‰åœ¨äº†ä¸€ä¸ª<strong>æšä¸¾ç±»</strong>ä¸­ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.annotation;</span><br><span class="line"><span class="comment">/* @author  Joshua Bloch</span></span><br><span class="line"><span class="comment"> * @since 1.5</span></span><br><span class="line"><span class="comment"> * @jls 9.6.4.1 @Target</span></span><br><span class="line"><span class="comment"> * @jls 4.1 The Kinds of Types and Values</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">ElementType</span> &#123;</span><br><span class="line">    <span class="comment">/** Class, interface (including annotation type), or enum declaration */</span></span><br><span class="line">    TYPE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Field declaration (includes enum constants) */</span></span><br><span class="line">    FIELD,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Method declaration */</span></span><br><span class="line">    METHOD,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Formal parameter declaration */</span></span><br><span class="line">    PARAMETER,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Constructor declaration */</span></span><br><span class="line">    CONSTRUCTOR,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Local variable declaration */</span></span><br><span class="line">    LOCAL_VARIABLE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Annotation type declaration */</span></span><br><span class="line">    ANNOTATION_TYPE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/** Package declaration */</span></span><br><span class="line">    PACKAGE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Type parameter declaration</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    TYPE_PARAMETER,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Use of a type</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@since</span> 1.8</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    TYPE_USE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>TYPEï¼Œä½¿ç”¨åœ¨ç±»ã€æ¥å£ã€æ³¨è§£ã€æšä¸¾ç­‰ç±»å‹ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>FIELDï¼Œä½¿ç”¨åœ¨å±æ€§ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">private</span> String msg;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li>METHODï¼Œä½¿ç”¨åœ¨æ–¹æ³•ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>PARAMETERï¼Œä½¿ç”¨åœ¨æ–¹æ³•çš„å‚æ•°å‰é¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">(<span class="meta">@Test</span> String name)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>CONSTRUCTORï¼Œä½¿ç”¨åœ¨æ„é€ å™¨ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="meta">@Test</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Hello</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>LOCAL_VARIABLEï¼Œä½¿ç”¨åœ¨å±€éƒ¨å˜é‡ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="meta">@Test</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ANNOTATION_TYPEï¼Œä½¿ç”¨åœ¨æ³¨è§£ç±»å‹ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Hello &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>PACKAGEï¼Œä½¿ç”¨åœ¨åŒ…ä¸Šé¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span></span><br><span class="line"><span class="keyword">package</span> com.briup.test;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼šåŒ…æ³¨è§£åªèƒ½åœ¨package-info.javaæ–‡ä»¶ä¸­<strong>ï¼ˆecpliseä¸­æœ‰è¿™ä¸ªï¼Œideaä¸­ä¹Ÿæ‰¾åˆ°å•¦ï¼‰</strong></p><ul><li>ecplise</li></ul><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813170715164.png" alt="image-20230813170715164"></p><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230813175222518.png" alt="image-20230813175222518"></p><ul><li>idea</li></ul><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230815135848838.png" alt="image-20230815135848838"></p><p><img src="/2023/08/13/08-2-%E6%B3%9B%E5%9E%8B-%E6%B3%A8%E8%A7%A3/image-20230815135927578.png" alt="image-20230815135927578"></p><p>æ³¨æ„ï¼Œpackage-info.javaæ–‡ä»¶é‡Œé¢ï¼Œåªèƒ½åŒ…å«packageå£°æ˜ï¼Œå¹¶åšå‡ºæ è¿°ï¼Œä»¥ä¾¿å°†æ¥ç”Ÿæˆdocæ–‡ä»¶ï¼Œå¯ä»¥ä»APIæºç src.zipä¸­ï¼Œçœ‹åˆ°æ¯ä¸ªåŒ…ä¸‹é¢ éƒ½å¯ä»¥å¯¹åº”çš„package-info.javaæ–‡ä»¶å¯¹è¯¥åŒ…åšå‡ºæè¿°</p><ul><li>TYPE_PARAMETERï¼Œä½¿ç”¨åœ¨å£°æ˜æ³›å‹å‚æ•°å‰é¢ï¼ŒJDK8æ–°å¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> &lt;<span class="meta">@Test</span> T&gt; <span class="keyword">void</span> <span class="title function_">sendMsg</span><span class="params">(T t)</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span>&lt;<span class="meta">@Test</span> T&gt; &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>TYPE_USEï¼Œ<strong>ä½¿ç”¨åœ¨ä»£ç ä¸­ä»»ä½•ç±»å‹å‰é¢</strong>ï¼ŒJDK8æ–°å¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Hello</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">say</span><span class="params">(<span class="meta">@Test</span> String name)</span> &#123;</span><br><span class="line">        List&lt;<span class="meta">@Test</span> String&gt; list = <span class="literal">null</span>;</span><br><span class="line">        <span class="type">Object</span> <span class="variable">obj</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="meta">@Test</span> String(<span class="string">&quot;briup&quot;</span>);</span><br><span class="line">        <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> (<span class="meta">@Test</span> String) obj;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ä¿æŒ"><a href="#ä¿æŒ" class="headerlink" title="ä¿æŒ"></a>ä¿æŒ</h2><blockquote><p>ç±»ä¸­ä½¿ç”¨çš„æ³¨è§£ï¼Œæ ¹æ®é…ç½®ï¼Œå¯ä»¥ã€ä¿æŒã€‘åˆ°ä¸‰ä¸ªä¸åŒçš„é˜¶æ®µï¼š</p><ul><li>SOURCEï¼Œæ³¨è§£åªä¿ç•™åœ¨æºæ–‡ä»¶ï¼Œå½“Javaæ–‡ä»¶ç¼–è¯‘æˆclassæ–‡ä»¶çš„æ—¶å€™ï¼Œæ³¨è§£è¢«é—å¼ƒã€‚</li><li>CLASSï¼Œæ³¨è§£è¢«ä¿ç•™åˆ°classæ–‡ä»¶ï¼Œä½†jvmåŠ è½½classæ–‡ä»¶æ—¶å€™è¢«é—å¼ƒ</li><li>RUNTIMEï¼Œæ³¨è§£ä¸ä»…è¢«ä¿å­˜åˆ°classæ–‡ä»¶ä¸­ï¼ŒjvmåŠ è½½classæ–‡ä»¶ä¹‹åï¼Œä»ç„¶å­˜åœ¨</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.annotation; </span><br><span class="line"><span class="comment">/* @author  Joshua Bloch</span></span><br><span class="line"><span class="comment"> * @since 1.5</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">enum</span> <span class="title class_">RetentionPolicy</span> &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Annotations are to be discarded by the compiler.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    SOURCE,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Annotations are to be recorded in the class file by the compiler</span></span><br><span class="line"><span class="comment">     * but need not be retained by the VM at run time.  This is the default</span></span><br><span class="line"><span class="comment">     * behavior.</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    CLASS,</span><br><span class="line"></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">     * Annotations are to be recorded in the class file by the compiler and</span></span><br><span class="line"><span class="comment">     * retained by the VM at run time, so they may be read reflectively.</span></span><br><span class="line"><span class="comment">     *</span></span><br><span class="line"><span class="comment">     * <span class="doctag">@see</span> java.lang.reflect.AnnotatedElement</span></span><br><span class="line"><span class="comment">     */</span></span><br><span class="line">    RUNTIME</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼ŒRetentionæ˜¯ä¿ç•™ã€ä¿æŒçš„æ„æ€ï¼ŒPolicyæ˜¯æ”¿ç­–ã€ç­–ç•¥çš„æ„æ€</strong></p><ul><li>å¦‚æœéœ€è¦åœ¨è¿è¡Œæ—¶å»åŠ¨æ€è·å–æ³¨è§£ä¿¡æ¯ï¼Œé‚£åªèƒ½ç”¨RUNTIMEæ³¨è§£ï¼Œæ¯”å¦‚@Deprecatedä½¿ç”¨RUNTIMEæ³¨è§£</li><li>å¦‚æœè¦åœ¨ç¼–è¯‘æ—¶è¿›è¡Œä¸€äº›é¢„å¤„ç†æ“ä½œï¼Œæ¯”å¦‚ç”Ÿæˆä¸€äº›è¾…åŠ©ä»£ç ï¼Œå°±ç”¨CLASSæ³¨è§£</li><li>å¦‚æœåªæ˜¯åšä¸€äº›æ£€æŸ¥æ€§çš„æ“ä½œï¼Œæ¯”å¦‚@Overrideå’Œ@SupperessWarningsï¼Œä½¿ç”¨SOURCEæ³¨è§£</li></ul><p>æ³¨æ„ï¼šå› ä¸ºRUNTIMEçš„ç”Ÿå‘½å‘¨æœŸæœ€é•¿ï¼Œæ‰€ä»¥å…¶ä»–ä¸¤ç§æƒ…å†µèƒ½ä½œç”¨åˆ°çš„é˜¶æ®µï¼Œä½¿ç”¨RUNTIMEä¹Ÿä¸€å®šèƒ½ä½œç”¨åˆ°</p></blockquote><h2 id="å…ƒæ³¨è§£"><a href="#å…ƒæ³¨è§£" class="headerlink" title="å…ƒæ³¨è§£"></a>å…ƒæ³¨è§£</h2><blockquote><p>åœ¨æˆ‘ä»¬è¿›è¡Œè‡ªå®šä¹‰æ³¨è§£çš„æ—¶å€™ï¼Œä¸€èˆ¬ä¼šä½¿ç”¨åˆ°å…ƒæ³¨è§£ï¼Œæ¥è®¾ç½®è‡ªå®šä¹‰æ³¨è§£çš„åŸºæœ¬ ç‰¹ç‚¹ã€‚æ‰€ä»¥ï¼Œ<strong>å…ƒæ³¨è§£ä¹Ÿå°±æ˜¯å¯¹æ³¨è§£è¿›è¡ŒåŸºæœ¬ä¿¡æ¯è®¾ç½®çš„æ³¨è§£ã€‚</strong></p><p>å¸¸ç”¨çš„å…ƒæ³¨è§£ï¼š</p><ul><li>@Targetï¼šç”¨äºæè¿°æ³¨è§£çš„ä½¿ç”¨èŒƒå›´ï¼Œä¾‹å¦‚ç”¨åœ¨ç±»ä¸Šé¢è¿˜æ˜¯æ–¹æ³•ä¸Šé¢</li><li>@Retentionï¼šç”¨äºæè¿°æ³¨è§£çš„ä¿å­˜ç­–ç•¥ï¼Œæ˜¯ä¿ç•™åˆ°æºä»£ç ä¸­ã€Classæ–‡ä»¶ä¸­ã€è¿˜æ˜¯åŠ è½½åˆ°å†…å­˜ä¸­</li><li>@Documentedï¼šç”¨äºæè¿°è¯¥æ³¨è§£å°†ä¼šè¢«javadocç”Ÿäº§åˆ°APIæ–‡æ¡£ä¸­</li><li>@Inheritedï¼š<strong>ç”¨æˆ·è¡¨ç¤ºæŸä¸ªè¢«æ ‡æ³¨çš„ç±»å‹æ˜¯è¢«ç»§æ‰¿çš„</strong>ï¼Œå¦‚æœä¸€ä¸ªä½¿ç”¨äº†@Inheritedä¿®é¥°çš„annotationç±»å‹è¢«ç”¨äºä¸€ä¸ªclassï¼Œåˆ™è¿™ä¸ªannotationå°†è¢«ç”¨äºè¯¥classå­ç±»ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(ElementType.METHOD)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Override &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Documented</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.RUNTIME)</span></span><br><span class="line"><span class="meta">@Target(value = &#123; ElementType.CONSTRUCTOR, ElementType.FIELD, ElementType.LOCAL_VARIABLE, ElementType.METHOD,</span></span><br><span class="line"><span class="meta">                 ElementType.PACKAGE, ElementType.PARAMETER, ElementType.TYPE &#125;)</span></span><br><span class="line"><span class="meta">@interface</span> MyAnnoation &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;TYPE, FIELD, METHOD, PARAMETER, CONSTRUCTOR,</span></span><br><span class="line"><span class="meta">         LOCAL_VARIABLE&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RetentionPolicy.SOURCE)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> SuppressWarnings &#123;</span><br><span class="line">    String[] value(); <span class="comment">// æœ‰å±æ€§</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Target(&#123;TYPE, FIELD, METHOD&#125;)</span></span><br><span class="line"><span class="meta">@Retention(RUNTIME)</span></span><br><span class="line"><span class="keyword">public</span> <span class="meta">@interface</span> Resource &#123;</span><br><span class="line">    String <span class="title function_">name</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">lookup</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    Class&lt;?&gt; type() <span class="keyword">default</span> java.lang.Object.class;</span><br><span class="line">    <span class="keyword">enum</span> <span class="title class_">AuthenticationType</span> &#123;</span><br><span class="line">        CONTAINER,</span><br><span class="line">        APPLICATION</span><br><span class="line">    &#125;</span><br><span class="line">    AuthenticationType <span class="title function_">authenticationType</span><span class="params">()</span> <span class="keyword">default</span></span><br><span class="line">        AuthenticationType.CONTAINER;</span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">shareable</span><span class="params">()</span> <span class="keyword">default</span> <span class="literal">true</span>;</span><br><span class="line">    String <span class="title function_">mappedName</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">    String <span class="title function_">description</span><span class="params">()</span> <span class="keyword">default</span> <span class="string">&quot;&quot;</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å°ç»“"><a href="#å°ç»“" class="headerlink" title="å°ç»“"></a>å°ç»“</h2><blockquote><ul><li>å…ƒæ•°æ®ä¿¡æ¯ï¼šæ³¨è§£æœ¬èº«ä¸ä¼šç›´æ¥å½±å“ç¨‹åºçš„æ‰§è¡Œï¼Œè€Œæ˜¯æä¾›äº†ä¸€ç§ç”¨äºå­˜å‚¨å’Œä¼ é€’å…ƒæ•°æ®çš„æ–¹å¼ã€‚å…ƒæ•°æ®æ˜¯å…³äºç¨‹åºä¸­å…ƒç´ çš„æè¿°ä¿¡æ¯ï¼Œå¯ä»¥åŒ…å«<strong>åç§°ã€ç±»å‹ã€èŒƒå›´ã€çº¦æŸ</strong>ç­‰ä¿¡æ¯ï¼Œç”¨äºè¾…åŠ©ç¨‹åºçš„å¼€å‘ã€ç¼–è¯‘å’Œæ‰§è¡Œã€‚</li><li>å†…ç½®æ³¨è§£ï¼šJavaæä¾›äº†ä¸€äº›å†…ç½®çš„æ³¨è§£ï¼Œä¾‹å¦‚**@Overriedã€@Deprecatedã€@SuppressWarnings<strong>ç­‰ã€‚è¿™äº›æ³¨è§£ç”¨äºæä¾›å…³äºæ–¹</strong>æ³•è¦†ç›–ã€è¿‡æ—¶æ–¹æ³•ã€è­¦å‘ŠæŠ‘åˆ¶**ç­‰ä¿¡æ¯ï¼Œç¼–è¯‘å™¨å’Œå·¥å…·å¯ä»¥æ ¹æ®æ³¨è§£æ¥æ‰§è¡Œç›¸åº”çš„å¤„ç†ã€‚</li><li>è‡ªå®šä¹‰æ³¨è§£ï¼šJavaä¹Ÿå…è®¸å¼€å‘è€…è‡ªå®šä¹‰æ³¨è§£ï¼Œé€šè¿‡**@interfaceå…³é”®å­—**å®šä¹‰æ–°çš„æ³¨è§£ç±»å‹ã€‚è‡ªå®šä¹‰æ³¨è§£å¯ä»¥åŒ…å«å…ƒç´ ï¼ˆæˆå‘˜å˜é‡ï¼‰ï¼Œå¯ä»¥ä¸ºè¿™äº›å…ƒç´ æŒ‡å®šé»˜è®¤å€¼ï¼Œå¹¶å¯ä»¥åœ¨ç¨‹åºä¸­ä½¿ç”¨æ³¨è§£ï¼Œå¹¶æå–æ³¨è§£ä¸­çš„å…ƒç´ å€¼ã€‚</li><li>åº”ç”¨é¢†åŸŸï¼šæ³¨è§£åœ¨Javaä¸­è¢«å¹¿æ³›åº”ç”¨äºå„ä¸ªé¢†åŸŸï¼Œä¾‹å¦‚<strong>æ¡†æ¶å¼€å‘ã€æµ‹è¯•å·¥ å…·ã€æŒä¹…åŒ–æ¡†æ¶ã€Webå¼€å‘</strong>ç­‰ã€‚é€šè¿‡æ³¨è§£ï¼Œå¯ä»¥æä¾›æ›´ä¸°å¯Œçš„é…ç½®å’Œè¡Œä¸ºæ§ åˆ¶ï¼Œç®€åŒ–äº†ä»£ç çš„ç¼–å†™å’Œé…ç½®ã€‚</li><li>æœ¬ç« å¯¹äºæ³¨è§£çš„æŒæ¡ä»…é™äºå…ƒ<strong>æ•°æ®ä¿¡æ¯çš„è®¤è¯†ã€å†…ç½®æ³¨è§£çš„è®¤è¯†</strong>ç­‰ï¼Œåœ¨åæœŸå­¦ä¹ åå°„çš„æ—¶å€™ä¼šå®Œå–„è‡ªå®šä¹‰æ³¨è§£çš„å­¦ä¹ ï¼Œå¹¶ä¸”ä½¿ç”¨åå°„æœºåˆ¶è·å–æ³¨è§£ å¹¶è¿›è¡Œæ“ä½œã€‚</li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>è‡ªä¿¡äººç”ŸäºŒç™¾å¹´ï¼Œä¼šå½“æ°´å‡»ä¸‰åƒé‡Œã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>08-1-é›†åˆ</title>
      <link href="/2023/08/13/08-1-%E9%9B%86%E5%90%88/"/>
      <url>/2023/08/13/08-1-%E9%9B%86%E5%90%88/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="é›†åˆ"><a href="#é›†åˆ" class="headerlink" title="é›†åˆ"></a>é›†åˆ</h1><p>æˆ‘ä»¬ä¹‹å‰å­¦ä¹ è¿‡æ•°ç»„ï¼Œæ•°ç»„ç‰¹ç‚¹å¦‚ä¸‹ï¼š</p><blockquote><ul><li>é•¿åº¦å›ºå®šï¼šæ•°ç»„åœ¨åˆ›å»ºæ—¶éœ€è¦æŒ‡å®šé•¿åº¦ï¼Œå¹¶ä¸”é•¿åº¦åœ¨åˆ›å»ºåä¸å¯æ”¹å˜</li><li>ç›¸åŒæ•°æ®ç±»å‹ï¼šä¾‹å¦‚intæ•°ç»„åªèƒ½å­˜å‚¨intç±»å‹çš„æ•°æ®</li><li>è¿ç»­å†…å­˜åˆ†é…ï¼šå †ç©ºé—´ä¸ºæ•°ç»„å¼€è¾Ÿçš„<strong>å†…å­˜æ˜¯è¿ç»­</strong>çš„ï¼Œè¿™ä¹Ÿå¯¼è‡´åœ¨æ’å…¥å’Œåˆ é™¤å…ƒç´ æ—¶éœ€è¦å…ƒç´ <strong>æ•´ä½“ç§»åŠ¨</strong>ï¼Œæ•ˆç‡ä½ä¸‹</li><li>éšæœºè®¿é—®ï¼šç”±äºæ•°ç»„ä¸­çš„å…ƒç´ åœ¨å†…å­˜ä¸­æ˜¯è¿ç»­å­˜å‚¨çš„ï¼Œå¹¶ä¸”å¯ä»¥é€šè¿‡ç´¢å¼•æ¥è®¿é—®ï¼Œå› æ­¤å¯ä»¥é€šè¿‡ç´¢å¼•ç›´æ¥è®¿é—®æ•°ç»„ä¸­çš„ä»»æ„å…ƒç´ ï¼Œ<strong>æ—¶é—´å¤æ‚åº¦ä¸ºO(1)</strong></li></ul><p>å¦‚æœæˆ‘ä»¬è¦<strong>å­˜å‚¨çš„å¤šä¸ªå…ƒç´ å€¼æ•°æ®ç±»å‹ä¸ä¸€è‡´</strong>ï¼Œ<strong>æˆ–ä¸ªæ•°ä¸å›ºå®šæ—¶</strong>ï¼Œæ•°ç»„å°±æ— æ³•å®Œç¾çš„æ»¡è¶³æˆ‘ä»¬çš„è¦æ±‚ï¼Œè¿™ä¸ªæ—¶å€™æˆ‘ä»¬ä¼šä½¿ç”¨Javaä¸­æä¾›çš„é›†åˆæ¡†æ¶ã€‚</p></blockquote><h2 id="é›†åˆæ¦‚è¿°"><a href="#é›†åˆæ¦‚è¿°" class="headerlink" title="é›†åˆæ¦‚è¿°"></a>é›†åˆæ¦‚è¿°</h2><blockquote><p><strong>é›†åˆï¼ˆCollectionï¼‰</strong>æ˜¯ä¸€ç§ç”¨äºå­˜å‚¨å’Œæ“ä½œä¸€ç»„å¯¹è±¡çš„æ•°æ®ç»“æ„ã€‚å®ƒæä¾›äº†ä¸€ç»„æ¥å£å’Œç±»ï¼Œç”¨äºå¤„ç†å’Œæ“ä½œå¯¹è±¡çš„é›†åˆã€‚</p><p><strong>é›†åˆæ¡†æ¶ï¼ˆCollection Frameworkï¼‰</strong>æ˜¯Javaä¸­ç”¨äº<strong>è¡¨ç¤ºå’Œæ“ä½œé›†åˆçš„ä¸€ç»„ç±»å’Œæ¥å£</strong>ï¼Œä½äº<code>java.util</code>åŒ…ä¸­ï¼Œå¹¶æä¾›äº†ä¸€ç³»åˆ—çš„æ¥å£å’Œç±»ï¼ŒåŒ…æ‹¬<strong>é›†åˆæ¥å£ï¼ˆCollectionï¼‰ã€åˆ—è¡¨æ¥å£ï¼ˆListï¼‰ã€é›†åˆç±»ï¼ˆSetï¼‰ã€æ˜ å°„æ¥å£ï¼ˆMapï¼‰</strong>ç­‰</p><p>é›†åˆæ¡†æ¶çš„ä¸»è¦ç›®æ ‡æ˜¯<strong>æä¾›ä¸€ç§é€šç”¨çš„æ–¹å¼æ¥å­˜å‚¨å’Œæ“ä½œå¯¹è±¡çš„é›†åˆ</strong>ï¼Œæ— è®ºé›†åˆ çš„é›†ä½“å®ç°æ–¹å¼å¦‚ä½•ï¼Œç”¨æˆ·éƒ½å¯ä»¥ä½¿ç”¨åŒä¸€çš„æ¥å£å’Œæ–¹æ³•æ“ä½œé›†åˆã€‚</p></blockquote><blockquote><p>é›†åˆå’Œæ•°ç»„éƒ½å¯ä»¥å­˜å‚¨å¤šä¸ªå…ƒç´ å€¼ï¼Œå¯¹æ¯”æ•°ç»„ï¼Œæˆ‘ä»¬æ¥ç†è§£ä¸‹é›†åˆï¼š</p><ul><li>æ•°ç»„çš„é•¿åº¦æ˜¯å›ºå®šçš„ï¼Œ<strong>é›†åˆçš„é•¿åº¦æ˜¯å¯å˜çš„</strong></li><li>æ•°ç»„ä¸­å­˜å‚¨çš„æ˜¯åŒä¸€ç±»å‹çš„å…ƒç´ (<strong>ä¹Ÿå¯ä»¥æ˜¯ä¸åŒç±»å‹Object</strong>)ï¼Œ<strong>é›†åˆä¸­å­˜å‚¨çš„æ•°æ®å¯ä»¥æ˜¯ä¸åŒç±»å‹çš„</strong></li><li>æ•°ç»„ä¸­å¯ä»¥å­˜æ”¾åŸºæœ¬ç±»å‹æ•°æ®æˆ–è€…å¼•ç”¨ç±»å‹å˜é‡ï¼Œ<strong>é›†åˆä¸­åªèƒ½å­˜æ”¾å¼•ç”¨ç±»å‹å˜é‡</strong></li><li>æ•°ç»„æ˜¯ç”±JVMä¸­ç°æœ‰çš„<strong>ç±»å‹+[]<strong>ç»„åˆè€Œæˆçš„ï¼Œé™¤äº†ä¸€ä¸ª</strong>lengthå±æ€§</strong>ï¼Œè¿˜æœ‰ä»<strong>Objectä¸­ç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•</strong>ä¹‹å¤–ï¼Œæ•°ç»„å¯¹è±¡å°±è°ƒç”¨ä¸åˆ°å…¶ä»–å±æ€§å’Œæ–¹æ³•äº†ã€‚</li><li>é›†åˆæ¡†æ¶ç”± <strong>java.util</strong>åŒ…ä¸‹å¤šä¸ªæ¥å£å’Œå®ç°ç±»ç»„æˆï¼Œå®šä¹‰å¹¶å®ç°äº†å¾ˆå¤šæ–¹æ³•ï¼ŒåŠŸèƒ½å¼ºå¤§ã€‚</li></ul></blockquote><h2 id="æ¡†æ¶ä½“ç³»"><a href="#æ¡†æ¶ä½“ç³»" class="headerlink" title="æ¡†æ¶ä½“ç³»"></a>æ¡†æ¶ä½“ç³»</h2><p>é›†åˆæ¡†æ¶ä¸»è¦æœ‰ä¸‰ä¸ªè¦ç´ ç»„æˆï¼š</p><blockquote><ul><li>æ¥å£</li></ul><p>æ•´ä¸ªé›†åˆæ¡†æ¶çš„ä¸Šå±‚ç»“æ„ï¼Œéƒ½æ˜¯ç”¨æ¥å£è¿›è¡Œç»„ç»‡çš„ã€‚æ¥å£ä¸­å®šä¹‰äº†é›†åˆä¸­å¿…é¡»è¦æœ‰çš„åŸºæœ¬æ–¹æ³•ã€‚</p><p>é€šè¿‡æ¥å£è¿˜æŠŠé›†åˆåˆ’åˆ†æˆäº†å‡ ç§ä¸åŒçš„ç±»å‹ï¼Œæ¯ä¸€ç§é›†åˆéƒ½æœ‰è‡ªå·±å¯¹åº”çš„æ¥å£ã€‚</p><ul><li>å®ç°ç±»</li></ul><p>å¯¹äºä¸Šå±‚ä½¿ç”¨æ¥å£åˆ’åˆ†å¥½çš„é›†åˆç§ç±»ï¼Œæ¯ç§é›†åˆçš„æ¥å£éƒ½ä¼šæœ‰å¯¹åº”çš„å®ç°ç±»ã€‚</p><p>æ¯ä¸€ç§æ¥å£çš„å®ç°ç±»å¾ˆå¯èƒ½æœ‰å¤šä¸ªï¼Œæ¯ä¸ªçš„å®ç°æ–¹å¼ä¹Ÿä¼šå„æœ‰ä¸åŒ</p><ul><li>æ•°æ®ç»“æ„</li></ul><p>æ¯ä¸ªå®ç°ç±»éƒ½å®ç°äº†æ¥å£ä¸­æ‰€å®šä¹‰çš„æœ€åŸºæœ¬çš„æ–¹æ³•ï¼Œä¾‹å¦‚å¯¹æ•°æ®çš„å­˜å‚¨ã€æ£€ç´¢ã€æ“ä½œç­‰æ–¹æ³•ã€‚<strong>ä½†æ˜¯ä¸åŒçš„å®ç°ç±»ï¼Œå®ƒä»¬å­˜å‚¨æ•°æ®çš„æ–¹å¼ä¸åŒ</strong>ï¼Œä¹Ÿå°±æ˜¯ä½¿ç”¨çš„<strong>æ•°æ®ç»“æ„ä¸åŒ</strong>ã€‚</p></blockquote><p>é›†åˆæ¡†æ¶ç»§æ‰¿ä½“ç³»å›¾ï¼š</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230809163115177.png" alt="image-20230809163115177"></p><p>é›†åˆåˆ†ç±»ï¼š</p><blockquote><ul><li><strong>å•åˆ—é›†åˆ</strong>ï¼ˆSingle Column Collectionï¼‰<ul><li>æ ¹æ¥å£ï¼š<strong>java.util.Collection</strong></li><li>å•åˆ—é›†åˆæ˜¯<strong>æŒ‡æ¯ä¸ªé›†åˆå…ƒç´ åªåŒ…å«ä¸€ä¸ªå•ç‹¬çš„å¯¹è±¡</strong>ï¼Œå®ƒæ˜¯é›†åˆæ¡†æ¶ä¸­æœ€ç®€å•çš„å½¢å¼</li></ul></li><li><strong>å¤šåˆ—é›†åˆ</strong>ï¼ˆMultiple Column Collection)<ul><li><strong>java.util.Map</strong></li><li>å¤šåˆ—é›†åˆæ˜¯<strong>æŒ‡æ¯ä¸ªé›†åˆå…ƒç´ ç”±å¤šä¸ªåˆ—ï¼ˆå­—æ®µï¼‰ç»„æˆï¼Œå¯ä»¥åŒæ—¶å­˜å‚¨å’Œæ“ä½œå¤šä¸ªç›¸å…³çš„å€¼ã€‚</strong></li></ul></li></ul></blockquote><p>ä¸‹é¢åªæ˜¯åˆ—å‡ºäº†å¸¸ç”¨çš„å®ç°ç±» å™¢å™¢~~</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230809163831334.png" alt="image-20230809163831334"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230809164021280.png" alt="image-20230809164021280"></p><p>æ³¨æ„äº‹é¡¹ï¼š</p><blockquote><ul><li>å›¾ä¸­åˆ—å‡ºäº†Javaé›†åˆæ¡†æ¶ä¸­çš„ä¸»è¦æ¥å£ï¼ˆå¹¶éå…¨éƒ¨ï¼‰ï¼Œä»¥åŠå®ƒä»¬ä¹‹é—´çš„ç»§æ‰¿å…³ç³»</li><li>æ¥å£ä¸­å®šä¹‰äº†è¯¥ç§é›†åˆå…·æœ‰çš„ä¸»è¦æ–¹æ³•</li><li>å°†æ¥çœŸæ­£è¦ä½¿ç”¨çš„ï¼Œæ˜¯è¿™äº›æ¥å£çš„å®ç°ç±»ï¼Œæ¯ç§å®ç°ç±»å¯¹æ¥å£çš„å®ç°æ–¹å¼ä¸åŒï¼Œåœ°åŸæ‰€ç”¨çš„æ•°æ®ç»“æ„ä¸åŒï¼Œå…¶ç‰¹ç‚¹ä¸åŒ</li></ul></blockquote><p>é›†åˆç« èŠ‚å­¦ä¹ åŸºæœ¬è¦æ±‚ï¼š</p><blockquote><ul><li>è¦æ±‚ä¼šç”¨é›†åˆå­˜å‚¨æ•°æ®</li><li>å¯ä»¥ä»é›†åˆä¸­å–å‡ºæ•°æ®</li><li>æŒæ¡æ¯ç§é›†åˆçš„ç‰¹ç‚¹å’Œåº”ç”¨åœºæ™¯</li></ul></blockquote><h2 id="Collection"><a href="#Collection" class="headerlink" title="Collection"></a>Collection</h2><blockquote><p>Collectionæ¥å£æ˜¯<strong>å•åˆ—é›†åˆç±»çš„çˆ¶æ¥å£</strong>ï¼Œè¿™ç§é›†åˆå¯ä»¥å°†æ•°æ®ä¸€ä¸ªä¸€ä¸ªçš„å­˜æ”¾åˆ°é›†åˆä¸­ã€‚å®ƒæœ‰ä¸¤ä¸ªé‡è¦çš„å­æ¥å£ï¼Œåˆ†åˆ«æ˜¯ <strong>java.util.List å’Œ java.util.Set</strong></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230809175432525.png" alt="image-20230809175432525"></p><p>Collection æ˜¯çˆ¶æ¥å£ï¼Œå…¶ä¸­å®šä¹‰äº†å•åˆ—é›†åˆï¼ˆListå’ŒSetï¼‰é€šç”¨çš„ä¸€äº›æ–¹æ³•</p><p>Collectionæ¥å£çš„å®ç°ç±»ï¼Œéƒ½å¯ä»¥ä½¿ç”¨è¿™äº›æ–¹æ³•</p></blockquote><h4 id="Collectioné›†åˆåŸºç¡€æ–¹æ³•"><a href="#Collectioné›†åˆåŸºç¡€æ–¹æ³•" class="headerlink" title="Collectioné›†åˆåŸºç¡€æ–¹æ³•"></a>Collectioné›†åˆåŸºç¡€æ–¹æ³•</h4><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å…·ä½“ä½¿ç”¨çœ‹æ–‡æ¡£</span></span><br><span class="line"><span class="comment">// ä¸‹é¢æ˜¯Collectionçš„åŸºç¡€æ–¹æ³• Eè¡¨ç¤ºæ³›å‹</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Collection</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Iterable</span>&lt;E&gt; &#123;</span><br><span class="line">    <span class="comment">//å‘é›†åˆä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span></span><br><span class="line">        <span class="comment">//æ¸…ç©ºé›†åˆä¸­æ‰€æœ‰çš„å…ƒç´ ã€‚</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span></span><br><span class="line">        <span class="comment">//åˆ¤æ–­å½“å‰é›†åˆä¸­æ˜¯å¦åŒ…å«ç»™å®šçš„å¯¹è±¡ã€‚</span></span><br><span class="line">        <span class="type">boolean</span> <span class="title function_">contains</span><span class="params">(Object o)</span> <span class="comment">// åº•å±‚ç”¨çš„æ˜¯é‡å†™çš„equalsè¿›è¡Œæ¯”è¾ƒ</span></span><br><span class="line">        <span class="comment">//åˆ¤æ–­å½“å‰é›†åˆæ˜¯å¦ä¸ºç©ºã€‚</span></span><br><span class="line">        <span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line">        <span class="comment">//æŠŠç»™å®šçš„å¯¹è±¡ï¼Œåœ¨å½“å‰é›†åˆä¸­åˆ é™¤ã€‚</span></span><br><span class="line">        <span class="type">boolean</span> <span class="title function_">remove</span><span class="params">(Object o)</span></span><br><span class="line">        <span class="comment">//è¿”å›é›†åˆä¸­å…ƒç´ çš„ä¸ªæ•°ã€‚</span></span><br><span class="line">        <span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line">        <span class="comment">//æŠŠé›†åˆä¸­çš„å…ƒç´ ï¼Œå­˜å‚¨åˆ°æ•°ç»„ä¸­ã€‚</span></span><br><span class="line">        Object[] toArray()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>è­¦å‘Šé—®é¢˜å¤„ç†</p><blockquote><ul><li>é›†åˆæ¥å£å¼•ç”¨æŒ‡å‘å®ç°ç±»å¯¹è±¡ï¼Œå›ºå®šä¹¦å†™æ ¼å¼ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">æ¥å£ç±»å‹&lt;å­˜å‚¨çš„æ•°æ®ç±»å‹&gt; æ¥å£å¼•ç”¨å = <span class="keyword">new</span> å®ç°ç±»&lt;&gt;(æ„é€ æ–¹æ³•å®å‚);</span><br><span class="line">Collection&lt;String&gt; coll = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šä¸Šè¿°æ ¼å¼å®šä¹‰çš„é›†åˆå¯¹è±¡ï¼Œåªèƒ½å­˜å‚¨Stringç±»å‹çš„å…ƒç´ ï¼Œå¦‚æœå­˜æ”¾å…¶ä»–å¼• ç”¨ç±»å‹å…ƒç´ ï¼Œåˆ™ç¼–è¯‘æŠ¥é”™ã€‚</font></p><ul><li>é›†åˆä¸­çˆ¶ç±»æˆ–å®ç°ç±»å¼•ç”¨ï¼ŒæŒ‡å‘å…·ä½“å¯¹è±¡çš„å†™æ³•ä¹Ÿæ˜¯å¦‚æ­¤</li></ul><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">ArrayList&lt;Student&gt; list = new ArrayList&lt;&gt;();</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œæ­¤æ—¶åˆ›å»ºçš„listé›†åˆï¼Œåªèƒ½å­˜å‚¨Studentç±»å¯¹è±¡ã€‚</p></blockquote><h4 id="Collection-æ³›å‹å‚æ•°-æ–¹æ³•è¡¥å……"><a href="#Collection-æ³›å‹å‚æ•°-æ–¹æ³•è¡¥å……" class="headerlink" title="Collection æ³›å‹å‚æ•° æ–¹æ³•è¡¥å……"></a>Collection <strong>æ³›å‹å‚æ•° æ–¹æ³•è¡¥å……</strong></h4><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Collection</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">Iterable</span>&lt;E&gt; &#123;</span><br><span class="line">  <span class="comment">//æŠŠä¸€ä¸ªæŒ‡å®šé›†åˆä¸­çš„æ‰€æœ‰æ•°æ®ï¼Œæ·»åŠ åˆ°å½“å‰é›†åˆä¸­</span></span><br><span class="line">  <span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(Collection&lt;? extends E&gt; c)</span></span><br><span class="line">        <span class="comment">//åˆ¤æ–­å½“å‰é›†åˆä¸­æ˜¯å¦åŒ…å«ç»™å®šçš„é›†åˆçš„æ‰€æœ‰å…ƒç´ ã€‚</span></span><br><span class="line">        <span class="type">boolean</span> <span class="title function_">containsAll</span><span class="params">(Collection&lt;?&gt; c)</span></span><br><span class="line">        <span class="comment">//æŠŠç»™å®šçš„é›†åˆä¸­çš„æ‰€æœ‰å…ƒç´ ï¼Œåœ¨å½“å‰é›†åˆä¸­åˆ é™¤ã€‚</span></span><br><span class="line">        <span class="type">boolean</span> <span class="title function_">removeAll</span><span class="params">(Collection&lt;?&gt; c)</span></span><br><span class="line">        <span class="comment">//åˆ¤æ–­ä¿©ä¸ªé›†åˆä¸­æ˜¯å¦æœ‰ç›¸åŒçš„å…ƒç´ ï¼Œå¦‚æœæœ‰å½“å‰é›†åˆåªä¿ç•™ç›¸åŒå…ƒç´ ï¼Œå¦‚æœæ²¡æœ‰å½“å‰é›†åˆå…ƒç´ æ¸…ç©º</span></span><br><span class="line">        <span class="type">boolean</span> <span class="title function_">retainAll</span><span class="params">(Collection&lt;?&gt; c)</span></span><br><span class="line">        <span class="comment">//æŠŠé›†åˆä¸­çš„å…ƒç´ ï¼Œå­˜å‚¨åˆ°æ•°ç»„ä¸­ï¼Œå¹¶æŒ‡å®šæ•°ç»„çš„ç±»å‹</span></span><br><span class="line">        &lt;T&gt; T[] toArray(T[] a)</span><br><span class="line">        <span class="comment">//è¿”å›éå†è¿™ä¸ªé›†åˆçš„è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line">        Iterator&lt;E&gt; <span class="title function_">iterator</span><span class="params">()</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap08.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.ArrayList;</span><br><span class="line"><span class="keyword">import</span> java.util.Collection;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test03_Element</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     Collection&lt;Object&gt; c1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">     <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;hello&quot;</span>;</span><br><span class="line">     <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;world&quot;</span>;</span><br><span class="line">     c1.add(s1);</span><br><span class="line">     c1.add(s2);</span><br><span class="line">     <span class="type">String</span> <span class="variable">s6</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">     <span class="comment">// ç»“æœæ˜¾ç¤ºtrueï¼Œè¯´æ˜é›†åˆcontainsæ–¹æ³•å€ŸåŠ©equalsæ–¹æ³•è¿›è¡Œæ¯”è¾ƒï¼Œè€Œé ==</span></span><br><span class="line">     <span class="comment">// åŸå› ï¼šArrayListçš„çˆ¶ç±»AbstractListé‡å†™äº†equalsæ–¹æ³•</span></span><br><span class="line">     <span class="type">boolean</span> <span class="variable">f</span> <span class="operator">=</span> c1.contains(s6);</span><br><span class="line">     System.out.println(<span class="string">&quot;contains(s6): &quot;</span> + f); <span class="comment">// true </span></span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>é›†åˆå­˜æ”¾è‡ªå®šä¹‰ç±»å¯¹è±¡</p><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test03_Student</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="comment">// å‡†å¤‡å­¦ç”Ÿå¯¹è±¡ï¼Œæ³¨æ„s1å’Œs5ä¸¤ä¸ªå¯¹è±¡çš„å±æ€§ä¸€æ¨¡ä¸€æ ·</span></span><br><span class="line">     <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>, <span class="number">20</span>);</span><br><span class="line">     <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ls&quot;</span>, <span class="number">19</span>);</span><br><span class="line">     <span class="type">Student</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ww&quot;</span>, <span class="number">22</span>);</span><br><span class="line">     <span class="type">Student</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;tom&quot;</span>, <span class="number">18</span>);</span><br><span class="line">     <span class="type">Student</span> <span class="variable">s5</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>, <span class="number">20</span>);</span><br><span class="line">     <span class="comment">// 1.å®šä¹‰åªèƒ½å­˜å‚¨Studentå¯¹è±¡çš„é›†åˆ</span></span><br><span class="line">     Collection&lt;Student&gt; coll = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">     <span class="comment">// 2.å¾€é›†åˆä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">     coll.add(s1);</span><br><span class="line">     coll.add(s2);</span><br><span class="line">     coll.add(s3);</span><br><span class="line">     coll.add(s4);</span><br><span class="line">     <span class="comment">// 3.è¾“å‡ºé›†åˆå…ƒç´ ä¸ªæ•°ï¼Œè¾“å‡ºé›†åˆå¯¹è±¡</span></span><br><span class="line">     System.out.println(<span class="string">&quot;coll.size: &quot;</span> + coll.size());</span><br><span class="line">     System.out.println(<span class="string">&quot;coll: &quot;</span> + coll);</span><br><span class="line">     System.out.println(<span class="string">&quot;------------&quot;</span>);</span><br><span class="line">     <span class="comment">// 4.åˆ¤æ–­s5æ˜¯å¦å­˜åœ¨</span></span><br><span class="line">     <span class="type">boolean</span> <span class="variable">flag</span> <span class="operator">=</span> coll.contains(s5);</span><br><span class="line">     System.out.println(<span class="string">&quot;contains(s5): &quot;</span> + flag); <span class="comment">// true</span></span><br><span class="line">     <span class="comment">// 5.åˆ é™¤s5</span></span><br><span class="line">     flag = coll.remove(s5);</span><br><span class="line">     System.out.println(<span class="string">&quot;remove(s5): &quot;</span> + flag); <span class="comment">// true</span></span><br><span class="line">     System.out.println(<span class="string">&quot;coll.size: &quot;</span> + coll.size());</span><br><span class="line">     System.out.println(<span class="string">&quot;coll: &quot;</span> + coll);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šé›†åˆä¸­containsã€removeç­‰æ–¹æ³•ï¼Œåº•å±‚å€ŸåŠ©å…ƒç´ å¯¹è±¡çš„equalsæ–¹æ³•è¿›è¡Œå€¼æ¯”è¾ƒï¼Œæ‰€ä»¥å¦‚æœè¦ç”¨é›†åˆå­˜æ”¾è‡ªå®šä¹‰ç±»å¯¹è±¡ï¼Œæ³¨æ„é‡å†™è‡ªå®šä¹‰ç±»çš„equalsæ–¹æ³•ï¼</font></p></blockquote><h2 id="é›†åˆéå†"><a href="#é›†åˆéå†" class="headerlink" title="é›†åˆéå†"></a>é›†åˆéå†</h2><h3 id="toArray"><a href="#toArray" class="headerlink" title="toArray"></a>toArray</h3><blockquote><p>å€ŸåŠ©Collectionæ¥å£ä¸­toArray()æ–¹æ³•å®ç°ï¼Œæ–¹æ³•åŸå‹ä¸ºï¼š <strong>Object[] toArray();</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†é›†åˆè½¬åŒ–æˆæ•°ç»„</span></span><br><span class="line">Object[] array = é›†åˆå¼•ç”¨.toArray();</span><br><span class="line"><span class="comment">//éå†æ•°ç»„</span></span><br><span class="line"><span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length; i++) &#123;</span><br><span class="line"> System.out.println(array[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="è¿­ä»£å™¨"><a href="#è¿­ä»£å™¨" class="headerlink" title="è¿­ä»£å™¨"></a>è¿­ä»£å™¨</h3><blockquote><p>è¿­ä»£å™¨æ˜¯é›†åˆæ¡†æ¶æä¾›çš„ä¸€ç§éå†é›†åˆå…ƒç´ çš„æ–¹å¼ã€‚é€šè¿‡è°ƒç”¨é›†åˆçš„ <strong>iterator() æ–¹æ³•</strong>å¯ä»¥è·å–ä¸€ä¸ªè¿­ä»£å™¨å¯¹è±¡ï¼Œç„¶åä½¿ç”¨è¿­ä»£å™¨çš„ <strong>hasNext() æ–¹æ³•</strong>åˆ¤æ–­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œä½¿ç”¨ <strong>next() æ–¹æ³•</strong>è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//1.è·å–è¿­ä»£å™¨å¯¹è±¡</span></span><br><span class="line">Iterator&lt;é›†åˆå…ƒç´ ç±»å‹&gt; iterator = é›†åˆå¯¹è±¡.iterator();</span><br><span class="line"><span class="comment">//2.å€ŸåŠ©è¿­ä»£å™¨ä¸­hasNext()å’Œnext()æ–¹æ³•å®Œæˆéå†</span></span><br><span class="line"><span class="keyword">while</span> (iterator.hasNext()) &#123;</span><br><span class="line"> <span class="comment">//è·å–é›†åˆå…ƒç´ </span></span><br><span class="line"> é›†åˆå…ƒç´ ç±»å‹ å˜é‡å = iterator.next();</span><br><span class="line"> <span class="comment">//å¯¹é›†åˆå…ƒç´ è¿›è¡Œè¾“å‡º</span></span><br><span class="line"> System.out.println(å˜é‡å);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼Œè¿™ç§è¿­ä»£å™¨æ–¹å¼è·å–é›†åˆä¸­çš„æ¯ä¸€ä¸ªå…ƒç´ ï¼Œæ˜¯ä¸€ç§Collectioné›†åˆåŠ å…¶å­ç±»å‹é›†åˆé€šç”¨çš„æ–¹å¼</strong></p></blockquote><p>è¿­ä»£å™¨åŸç†åˆ†æï¼ˆè¡¥å……å†…å®¹ï¼Œäº†è§£å³å¯ï¼‰ï¼š</p><blockquote><ul><li>java.lang.Iterable æ¥å£ä¸­ï¼Œ<strong>å®šä¹‰äº†è·å–è¿­ä»£å™¨çš„æ–¹æ³•</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterable</span> &#123;</span><br><span class="line">    Iterator <span class="title function_">iterator</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>java.util.Collectionæ¥å£ç»§æ‰¿äº†java.lang.Iterableæ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Collection</span> <span class="keyword">extends</span> <span class="title class_">Iterable</span> &#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰€ä»¥ï¼Œ<strong>Collectionæ¥å£åŠå…¶å­æ¥å£</strong>ä¸­ï¼Œéƒ½æœ‰ä¸€ä¸ªè·å–è¿­ä»£å™¨å¯¹è±¡çš„æ–¹æ³•ï¼š<strong>Iterator iterator();</strong></p><ul><li>java.util.Iterator æ¥å£ä¸­ï¼Œä¸»è¦å®šä¹‰ä¸¤ä¸ªæ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Iterator</span> &#123;</span><br><span class="line">    <span class="comment">//è¿”å›å½“å‰è¿­ä»£å™¨ä¸­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    <span class="type">boolean</span> <span class="title function_">hasNext</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">//è·å–è¿­ä»£å™¨ä¸­çš„ä¸‹ä¸€ä¸ªå¯¹è±¡</span></span><br><span class="line">    Object <span class="title function_">next</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>è¿­ä»£å…¶å®ç°åŸç†ï¼š</p><blockquote><ul><li>è·å–è¿­ä»£å™¨å¯¹è±¡ï¼šé›†åˆç±»å®ç°äº†<strong>Iterableæ¥å£</strong>ï¼Œè¯¥æ¥å£å®šä¹‰äº†ä¸€ä¸ª<strong>iterator()æ–¹æ³•</strong>ï¼Œç”¨äºè·å–è¿­ä»£å™¨å¯¹è±¡ã€‚è¿­ä»£å™¨å¯¹è±¡æ˜¯å®ç°äº†<strong>Iteratoræ¥å£</strong>çš„å…·ä½“ç±»çš„å®ä¾‹ã€‚</li><li>è¿­ä»£å™¨ä½ç½®åˆå§‹åŒ–ï¼šåœ¨åˆ›å»ºè¿­ä»£å™¨å¯¹è±¡æ—¶ï¼Œè¿­ä»£å™¨çš„ä½ç½®é€šå¸¸åˆå§‹åŒ–é›†åˆçš„èµ·å§‹ä½ç½®ã€‚ä¸åŒçš„é›†åˆå®ç°å¯èƒ½å¯¹ä½ç½®åˆå§‹åŒ–è¿›è¡Œä¸åŒçš„å¤„ç†ã€‚</li><li>éå†é›†åˆå…ƒç´ ï¼šé€šè¿‡è°ƒç”¨è¿­ä»£å™¨å¯¹è±¡çš„<strong>hasNext()æ–¹æ³•</strong>ï¼Œå¯åˆ¤æ–­é›†åˆä¸­æ˜¯å¦è¿˜æœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ã€‚å¦‚æœæœ‰ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¯ä»¥é€šè¿‡next()æ–¹æ³•è·å–ä¸‹ä¸€ä¸ªå…ƒç´ ï¼Œå¹¶å°†è¿­ä»£å™¨çš„ä½ç½®åç§»ã€‚</li><li>è¿­ä»£å™¨çŠ¶æ€ç®¡ç†ï¼šè¿­ä»£å™¨å¯¹è±¡ä¼šè®°å½•å½“å‰è¿­ä»£çš„çŠ¶æ€ï¼ŒåŒ…æ‹¬å½“å‰ä½ç½®ã€éå†è¿‡ç¨‹ä¸­çš„æ“ä½œç­‰ã€‚è¿™äº›çŠ¶æ€å¯ä»¥å¸®åŠ©è¿­ä»£å™¨åœ¨éå†è¿‡ç¨‹ä¸­æ­£ç¡®åœ°è®¿é—®å’Œæ“ä½œé›†åˆçš„å…ƒç´ ã€‚</li><li>ç»“æŸè¿­ä»£ï¼šå½“é›†åˆä¸­æ²¡æœ‰æ›´å¤šå…ƒç´ æ—¶ï¼Œè¿­ä»£å™¨çš„**hasNext()**æ–¹æ³•å°†è¿”å›falseï¼Œè¡¨ç¤ºéå†ç»“æŸã€‚</li></ul><p>è¿­ä»£å™¨nextæ–¹æ³•ç¤ºæ„å›¾ï¼š</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230809202002588.png" alt="image-20230809202002588"></p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>è¿­ä»£å™¨çš„ä¼˜ç‚¹æ˜¯æä¾›äº†ä¸€ç§<strong>ç»Ÿä¸€çš„éå†æ–¹å¼</strong>ï¼Œå¯¹å•åˆ—é›†åˆï¼ˆç›´æ¥æˆ–é—´æ¥å®ç°Collectionæ¥å£ï¼‰ï¼Œéƒ½å¯ä»¥é€šè¿‡è¿­ä»£å™¨æŒ‰é¡ºåºè®¿é—®å…ƒç´ ã€‚</li><li>è¿­ä»£å™¨éšè—äº†é›†åˆçš„å…·ä½“å®ç°ç»†èŠ‚ï¼Œæä¾›äº†ä¸€ç§æŠ½è±¡çš„è®¿é—®æ¥å£ï¼Œæ˜¯ä»£ç æ›´åŠ çµæ´»ä½•å¯å¤ç”¨ã€‚</li><li>è¿­ä»£å™¨æ˜¯å•å‘çš„ï¼Œåªèƒ½ä»å‰å¾€åéå†ï¼Œæ— æ³•å€’åºéå†æˆ–è€…åœ¨éå†è¿‡ç¨‹ä¸­ä¿®æ”¹é›†åˆ</li><li>å¦‚æœåœ¨è¿­ä»£è¿‡ç¨‹ä¸­é˜Ÿé›†åˆè¿›è¡Œä¿®æ”¹ï¼ˆæ·»åŠ ã€åˆ é™¤å…ƒç´ ï¼‰ï¼Œå¯èƒ½ä¼šå¯¼è‡´è¿­ä»£å™¨æŠ›å‡º<strong>ConcurrentModificationException</strong>å¼‚å¸¸ã€‚å› æ­¤ï¼Œåœ¨ä½¿ç”¨è¿­ä»£å™¨éå†æ—¶ï¼Œä¸è¦ä¿®æ”¹é›†åˆç»“æ„</li></ul></blockquote><h3 id="foreach"><a href="#foreach" class="headerlink" title="foreach"></a>foreach</h3><blockquote><p>é™¤äº†ä½¿ç”¨è¿­ä»£å™¨éå†é›†åˆä¹‹å¤–ï¼ŒJDK1.5åŠä»¥åç‰ˆæœ¬JDKï¼Œæä¾›äº†<strong>å¢å¼ºforå¾ªç¯</strong>å®ç°é›†åˆéå†ï¼Œè¿™ç§æ–¹å¼ç›¸å¯¹è¿­ä»£å™¨éå†æ›´ç®€å•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span>(é›†åˆå…ƒç´ ç±»å‹ å˜é‡å : é›†åˆ) &#123;</span><br><span class="line"> <span class="comment">//æ“ä½œå…ƒç´ å˜é‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ¯æ¬¡å¾ªç¯ï¼Œå¼•ç”¨å˜é‡ä¼šæŒ‡å‘é›†åˆä¸­çš„ä¸€ä¸ªå…ƒç´ å¯¹è±¡ï¼Œç„¶ååœ¨å¾ªç¯ä½“ä¸­å¯¹è¯¥å…ƒ ç´ å¯¹è±¡è¿›è¡Œæ“ä½œï¼ˆåªèƒ½éå†ï¼‰</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> <span class="comment">// 1.å®ä¾‹åŒ–é›†åˆå¯¹è±¡ï¼Œä¸“é—¨å­˜æ”¾Stringå…ƒç´ </span></span><br><span class="line"> Collection&lt;String&gt; c1 = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"> <span class="comment">// 2.æ·»åŠ å…ƒç´ </span></span><br><span class="line"> c1.add(<span class="string">&quot;lwsj&quot;</span>);</span><br><span class="line"> c1.add(<span class="string">&quot;peter&quot;</span>);</span><br><span class="line"> c1.add(<span class="string">&quot;parker&quot;</span>);</span><br><span class="line"> <span class="comment">// 3.foreachéå†</span></span><br><span class="line"> <span class="keyword">for</span> (String str : c1) &#123;</span><br><span class="line">     System.out.println(str);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯ä»¥çœ‹å‡ºï¼Œä½¿ç”¨foreachå¾ªç¯å¯¹é›†åˆè¿›è¡Œéå†ï¼Œä¼šæ›´åŠ ç®€å•ä¸€äº›</p><p>åŒæ—¶ï¼Œä½¿ç”¨foreachå¾ªç¯ä¹Ÿå¯ä»¥éå†æ•°ç»„</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> <span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>,<span class="number">9</span>&#125;;</span><br><span class="line"> <span class="comment">//æ¯æ¬¡å¾ªç¯ï¼Œä½¿ç”¨å˜é‡iæ¥æ”¶æ•°ç»„ä¸­çš„ä¸€ä¸ªæ•°æ®</span></span><br><span class="line"> <span class="keyword">for</span>(<span class="type">int</span> i : arr)&#123;</span><br><span class="line">     System.out.println(i);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šCollectionåŠå…¶å­ç±»å‹çš„é›†åˆï¼Œè¿˜æœ‰æ•°ç»„ï¼Œéƒ½å¯ä»¥ä½¿ç”¨foreachå¾ªç¯è¿›è¡Œéå†ï¼</font></p></blockquote><h2 id="Listæ¥å£"><a href="#Listæ¥å£" class="headerlink" title="Listæ¥å£"></a>Listæ¥å£</h2><blockquote><p>java.util.List æ¥å£ç»§æ‰¿äº†Collectionæ¥å£ï¼Œæ˜¯å¸¸ç”¨çš„ä¸€ç§é›†åˆç±»å‹ã€‚</p><p>Listé›†åˆå…·æœ‰Collectioné›†åˆçš„ç‰¹ç‚¹ä¹‹å¤–ï¼Œè¿˜å…·æœ‰è‡ªå·±çš„ä¸€äº›ç‰¹ç‚¹</p><ul><li>Listæ˜¯ä¸€ç§<strong>æœ‰åºé›†åˆ</strong></li><li>Listæ˜¯<strong>ä¸€ç§å¸¦ç´¢å¼•</strong>çš„é›†åˆ</li><li>Listé›†åˆ<strong>å¯ä»¥å­˜æ”¾é‡å¤çš„å…ƒç´ </strong></li></ul></blockquote><h3 id="ç»§æ‰¿ä½“ç³»"><a href="#ç»§æ‰¿ä½“ç³»" class="headerlink" title="ç»§æ‰¿ä½“ç³»"></a>ç»§æ‰¿ä½“ç³»</h3><blockquote><p>Listæ¥å£ç»§æ‰¿äº†Collectionæ¥å£ï¼ŒCollectionæ¥å£ç»§æ‰¿äº†Iterableæ¥å£</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812100225453.png" alt="image-20230812100225453"></p><p>Listæ¥å£æºç ï¼š</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812095724379.png" alt="image-20230812095724379"></p><p>Listæ¥å£çš„å®ç°ç±»ï¼š</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812100418742.png" alt="image-20230812100418742"></p><p><font color="skyblue">æ³¨æ„ï¼Œè¿™äº›å®ç°ç±»ä¸­ï¼Œéƒ½å·²ç»å®ç°äº†Listæ¥å£ã€Collectionæ¥å£ã€Iterableæ¥å£ä¸­çš„æ–¹æ³•ï¼Œæˆ‘ä»¬åªè¦äº†è§£å¹¶èƒ½ä½¿ç”¨è¿™äº›æ¥å£ä¸­çš„æ–¹æ³•ï¼Œå°±å·²ç»èƒ½å¤Ÿæ“ä½œè¿™äº›é›†åˆå¯¹è±¡äº†ï¼ˆé¢å‘æ¥å£ï¼‰ã€‚</font></p><p>é¢å¤–çš„ï¼Œæˆ‘ä»¬è¿˜éœ€è¦äº†è§£è¿™äº›å¸¸ç”¨çš„æ¥å£å®ç°ç±»ï¼Œåˆ†åˆ«éƒ½æ˜¯ä»€ä¹ˆç‰¹ç‚¹ï¼Œä½¿ç”¨ä»€ä¹ˆæ•°æ®ç»“æ„ï¼Œä¸€é€‚åˆåœ¨ä»€ä¹ˆæ ·çš„åœºæ™¯ä¸‹ä½¿ç”¨ã€‚</p></blockquote><h3 id="å¸¸ç”¨æ–¹æ³•"><a href="#å¸¸ç”¨æ–¹æ³•" class="headerlink" title="å¸¸ç”¨æ–¹æ³•"></a>å¸¸ç”¨æ–¹æ³•</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿”å›é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ã€‚</span></span><br><span class="line">E <span class="title function_">get</span><span class="params">(<span class="type">int</span> index)</span>;</span><br><span class="line"><span class="comment">//ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢é›†åˆä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ ,å¹¶è¿”å›è¢«æ›¿ä»£çš„æ—§å…ƒç´ ã€‚</span></span><br><span class="line">E <span class="title function_">set</span><span class="params">(<span class="type">int</span> index, E element)</span>;</span><br><span class="line"><span class="comment">//å°†æŒ‡å®šçš„å…ƒç´ ï¼Œæ·»åŠ åˆ°è¯¥é›†åˆä¸­çš„æŒ‡å®šä½ç½®ä¸Šã€‚</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">add</span><span class="params">(<span class="type">int</span> index, E element)</span>;</span><br><span class="line"><span class="comment">//ä»æŒ‡å®šä½ç½®å¼€å§‹ï¼ŒæŠŠå¦ä¸€ä¸ªé›†åˆçš„æ‰€æœ‰å…ƒç´ æ·»åŠ è¿›æ¥</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">addAll</span><span class="params">(<span class="type">int</span> index, Collection&lt;? extends E&gt; c)</span>;</span><br><span class="line"><span class="comment">//ç§»é™¤åˆ—è¡¨ä¸­æŒ‡å®šä½ç½®çš„å…ƒç´ , å¹¶è¿”å›è¢«ç§»é™¤çš„å…ƒç´ ã€‚</span></span><br><span class="line">E <span class="title function_">remove</span><span class="params">(<span class="type">int</span> index)</span>;</span><br><span class="line"><span class="comment">//æŸ¥æ”¶æŒ‡å®šå…ƒç´ åœ¨é›†åˆä¸­çš„æ‰€æœ‰ï¼Œä»å‰å¾€åæŸ¥åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆListé›†åˆå¯ä»¥é‡å¤å­˜æ”¾æ•°æ®ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">indexOf</span><span class="params">(Object o)</span>;</span><br><span class="line"><span class="comment">//æŸ¥æ”¶æŒ‡å®šå…ƒç´ åœ¨é›†åˆä¸­çš„æ‰€æœ‰ï¼Œä»åå¾€å‰æŸ¥åˆ°çš„ç¬¬ä¸€ä¸ªå…ƒç´ ï¼ˆListé›†åˆå¯ä»¥é‡å¤å­˜æ”¾æ•°æ®ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">lastIndexOf</span><span class="params">(Object o)</span>;</span><br><span class="line"><span class="comment">//æ ¹æ®æŒ‡å®šå¼€å§‹å’Œç»“æŸä½ç½®ï¼Œæˆªå–å‡ºé›†åˆä¸­çš„ä¸€éƒ¨åˆ†æ•°æ®</span></span><br><span class="line">List&lt;E&gt; <span class="title function_">subList</span><span class="params">(<span class="type">int</span> fromIndex, <span class="type">int</span> toIndex)</span>;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šé™¤äº†è¿™äº›æ–¹æ³•ä¹‹å¤–ï¼Œè¿˜æœ‰ä»çˆ¶æ¥å£Collectionä¸­ç»§æ‰¿è¿‡æ¥çš„æ–¹æ³•ã€‚</font></p><p>Listé›†åˆçš„æ–¹æ³•ä½¿ç”¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test052_List</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">     list.add(<span class="string">&quot;lwsj&quot;</span>);</span><br><span class="line">     list.add(<span class="string">&quot;peter&quot;</span>);</span><br><span class="line">     list.add(<span class="string">&quot;parker&quot;</span>);</span><br><span class="line">     list.add(<span class="string">&quot;parker&quot;</span>); <span class="comment">// å¯é‡å¤</span></span><br><span class="line">     list.add(<span class="number">1</span>, <span class="string">&quot;world&quot;</span>); <span class="comment">// æŒ‡å®šä½ç½®æ’å…¥ï¼Œåé¢çš„æ•´ä½“å¾€åç§»åŠ¨</span></span><br><span class="line">     list.remove(<span class="number">2</span>);</span><br><span class="line">     list.set(<span class="number">3</span>, <span class="string">&quot;falao&quot;</span>);</span><br><span class="line">     System.out.println(list);</span><br><span class="line">     <span class="comment">// éå†</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">         System.out.println(list.get(i));</span><br><span class="line">     &#125;</span><br><span class="line">     System.out.println(<span class="string">&quot;-----------------------------&quot;</span>);</span><br><span class="line">     <span class="keyword">for</span> (String str : list) &#123;</span><br><span class="line">         System.out.println(str);</span><br><span class="line">     &#125;</span><br><span class="line">     System.out.println(<span class="string">&quot;-----------------------------&quot;</span>);</span><br><span class="line">     Iterator&lt;String&gt; it = list.iterator();</span><br><span class="line">     <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">         <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> it.next();</span><br><span class="line">         System.out.println(str);</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>Listé›†åˆçš„ç‰¹ç‚¹ï¼šæœ‰åºå¯é‡å¤ï¼Œå¹¶ä¸”å¯ä»¥ä½¿ç”¨ä¸‹æ ‡ç´¢å¼•è¿›è¡Œè®¿é—®</strong></p></blockquote><h3 id="ArrayList"><a href="#ArrayList" class="headerlink" title="ArrayList"></a>ArrayList</h3><blockquote><p><strong>java.util.ArrayList</strong>æ˜¯æœ€å¸¸ç”¨çš„ä¸€ç§Listç±»å‹é›†åˆï¼Œ<strong>ArrayListç±»åº•å±‚ä½¿ç”¨æ•°ç»„</strong>æ¥å®ç°æ•°æ®çš„å­˜å‚¨ï¼Œæ‰€ä»¥å®ƒçš„ç‰¹ç‚¹æ˜¯ï¼š<strong>å¢åˆ æ…¢ï¼ŒæŸ¥æ‰¾å¿«ã€‚</strong></p><p>åœ¨æ—¥å¸¸çš„å¼€å‘ä¸­ï¼ŒæŸ¥è¯¢æ•°æ®ä¹Ÿæ˜¯ç”¨çš„æœ€å¤šçš„åŠŸèƒ½ï¼Œæ‰€ä»¥ArrayListæ˜¯æœ€å¸¸ç”¨çš„é›† åˆã€‚</p><p>ä½†æ˜¯ï¼Œå¦‚æœé¡¹ç›®ä¸­å¯¹æ€§èƒ½è¦æ±‚è¾ƒé«˜ï¼Œå¹¶ä¸”åœ¨é›†åˆä¸­å¤§é‡çš„æ•°æ®åšå¢åˆ æ“ä½œï¼Œé‚£ ä¹ˆ <strong>ArrayList</strong> å°±ä¸å¤ªé€‚åˆäº†ã€‚</p><p>ArrayListæºç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* Resizable-array implementation of the &lt;tt&gt;List&lt;/tt&gt;</span></span><br><span class="line"><span class="comment">interface. Implements</span></span><br><span class="line"><span class="comment">* all optional list operations, and permits all elements,</span></span><br><span class="line"><span class="comment">including</span></span><br><span class="line"><span class="comment">* &lt;tt&gt;null&lt;/tt&gt;.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> LinkedList</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> Vector</span></span><br><span class="line"><span class="comment">* <span class="doctag">@since</span> 1.2</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">ArrayList</span>&lt;E&gt; <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable,java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Default initial capacity.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">DEFAULT_CAPACITY</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Shared empty array instance used for empty instances.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> Object[] EMPTY_ELEMENTDATA = &#123;&#125;;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="LinkedList"><a href="#LinkedList" class="headerlink" title="LinkedList"></a>LinkedList</h3><blockquote><p><strong>java.util.LinkedListåº•å±‚é‡‡ç”¨çš„æ•°æ®ç»“æ„æ˜¯åŒå‘é“¾è¡¨ï¼Œå…¶ç‰¹ç‚¹æ˜¯ï¼šå¢åˆ å¿«ï¼ŒæŸ¥æ‰¾æ…¢ã€‚</strong></p><p>å®ƒçš„ç‰¹ç‚¹åˆšå¥½å’Œ <strong>ArrayList</strong> ç›¸åï¼Œæ‰€ä»¥åœ¨ä»£ç ä¸­ï¼Œ<strong>éœ€è¦å¯¹é›†åˆä¸­çš„å…ƒç´ åšå¤§é‡ çš„å¢åˆ æ“ä½œçš„æ—¶å€™</strong>ï¼Œå¯ä»¥é€‰æ‹©ä½¿ç”¨ <strong>LinkedList</strong> ã€‚</p><p><font color="skyblue">æ³¨æ„ï¼šè¿™é‡Œæè¿°çš„å¿«å’Œæ…¢ï¼Œéœ€è¦åœ¨å¤§é‡çš„æ•°æ®æ“ä½œä¸‹ï¼Œæ‰å¯ä»¥ä½“ç°ï¼Œå¦‚æœæ•°æ®é‡ä¸å¤§çš„è¯ï¼Œé›†åˆæ¯ä¸€ç§é›†åˆçš„æ“ä½œé›†åˆæ²¡æœ‰ä»»ä½•åŒºåˆ«</font></p><p>ç‰¹ç‚¹éªŒè¯ï¼š</p><p>å®ä¾‹åŒ–ArrayListã€LinkedListé›†åˆå¯¹è±¡ï¼Œæ”¾å…¥100000ä¸ªå…ƒç´ ï¼Œæµ‹è¯•ä¸¤ç§é›†åˆæ’ å…¥ã€æŸ¥è¯¢æ•ˆç‡ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap08.test;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"><span class="keyword">import</span> java.util.List;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test054_LinkedList</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="keyword">final</span> <span class="type">int</span> <span class="variable">NUM</span> <span class="operator">=</span> <span class="number">100000</span>;</span><br><span class="line">     <span class="comment">//List&lt;String&gt; list = new ArrayList&lt;&gt;();</span></span><br><span class="line">     List&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line"></span><br><span class="line">     <span class="type">long</span> <span class="variable">start1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; NUM; i++) &#123;</span><br><span class="line">         list.add(<span class="number">0</span>, <span class="string">&quot;hello&quot;</span> + i);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="type">long</span> <span class="variable">end1</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">     <span class="comment">// 3.è¾“å‡ºæ—¶é•¿</span></span><br><span class="line">     System.out.println(list.getClass().getSimpleName() + <span class="string">&quot;æ’å…¥&quot;</span> + NUM + <span class="string">&quot;æ¡æ•°æ®è€—æ—¶&quot;</span> + (end1 - start1) + <span class="string">&quot;æ¯«ç§’&quot;</span>);</span><br><span class="line"></span><br><span class="line">     <span class="comment">// 4.å¼€å¯è®¡æ—¶ï¼Œä»é›†åˆç§å– 100000 ä¸ªå…ƒç´ </span></span><br><span class="line">     <span class="type">long</span> <span class="variable">start2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; list.size(); i++) &#123;</span><br><span class="line">         list.get(i);</span><br><span class="line">     &#125;</span><br><span class="line">     <span class="type">long</span> <span class="variable">end2</span> <span class="operator">=</span> System.currentTimeMillis();</span><br><span class="line">     <span class="comment">// 5.è¾“å‡ºæ—¶é•¿</span></span><br><span class="line">     System.out.println(list.getClass().getSimpleName() + <span class="string">&quot;æ£€ç´¢&quot;</span> + NUM + <span class="string">&quot;æ¡æ•°æ®è€—æ—¶&quot;</span> + (end2 - start2) + <span class="string">&quot;æ¯«ç§’&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ArrayListæ’å…¥100000æ¡æ•°æ®è€—æ—¶532æ¯«ç§’</span></span><br><span class="line"><span class="comment">// ArrayListæ£€ç´¢100000æ¡æ•°æ®è€—æ—¶1æ¯«ç§’</span></span><br><span class="line"><span class="comment">// LinkedListæ’å…¥100000æ¡æ•°æ®è€—æ—¶33æ¯«ç§’</span></span><br><span class="line"><span class="comment">// LinkedListæ£€ç´¢100000æ¡æ•°æ®è€—æ—¶19608æ¯«ç§’ </span></span><br><span class="line"></span><br></pre></td></tr></table></figure><ul><li><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><p>list.getClass().getSimpleName; è·å–listå¼•ç”¨æŒ‡å‘å¯¹è±¡æ‰€å±ç±»å‹åï¼ˆ<strong>ä¸å«åŒ…å</strong>ï¼‰</p></li><li><p>System.currentTimeMillis(); è·å–<strong>å½“å‰æ—¶åˆ»</strong>çš„æ—¶é—´æˆ³</p></li></ul></li><li><p>åº•å±‚å®ç°</p></li></ul><p><strong>LinkedList</strong>åº•å±‚å€ŸåŠ©<strong>åŒå‘é“¾è¡¨</strong>å®ç°ï¼ŒåŒå‘é“¾è¡¨åˆç”±èŠ‚ç‚¹æ„æˆï¼Œæ¯ä¸ªèŠ‚ç‚¹ç”±ä¸‰éƒ¨åˆ†æ„æˆï¼š<strong>ä¸¤ä¸ªå¼•ç”¨ï¼ˆåˆ†åˆ«æŒ‡å‘å‰ã€åèŠ‚ç‚¹ï¼‰ï¼Œä¸€ä¸ªæ•°æ®åŸŸï¼ˆå­˜å‚¨é›†åˆå…ƒç´ ï¼‰ã€‚</strong><br><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812104813337.png" alt="image-20230812104813337"></p><p>LinkedListæºç åˆ†æï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LinkedList</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractSequentialList</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, Deque&lt;E&gt;, Cloneable,</span><br><span class="line">java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//å¤´èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">transient</span> Node&lt;E&gt; first;</span><br><span class="line">    <span class="comment">//å°¾èŠ‚ç‚¹</span></span><br><span class="line">    <span class="keyword">transient</span> Node&lt;E&gt; last;</span><br><span class="line">    <span class="comment">//é™æ€å†…éƒ¨ç±»ï¼šNodeèŠ‚ç‚¹ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Node</span>&lt;E&gt; &#123;</span><br><span class="line">        E item; <span class="comment">//æ•°æ®åŸŸï¼Œå­˜å‚¨æ•°æ®</span></span><br><span class="line">        Node&lt;E&gt; next; <span class="comment">//æŒ‡é’ˆåŸŸï¼šæŒ‡å‘åä¸€ä¸ªèŠ‚ç‚¹</span></span><br><span class="line">        Node&lt;E&gt; prev; <span class="comment">//æŒ‡é’ˆåŸŸï¼šæŒ‡å‘å‰ä¸€ä¸ªç»“ç‚¹</span></span><br><span class="line">        Node(Node&lt;E&gt; prev, E element, Node&lt;E&gt; next) &#123;</span><br><span class="line">            <span class="built_in">this</span>.item = element;</span><br><span class="line">            <span class="built_in">this</span>.next = next;</span><br><span class="line">            <span class="built_in">this</span>.prev = prev;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¤´å°¾èŠ‚ç‚¹æ“ä½œæ–¹æ³•</li></ul><p>åœ¨LinkedListä¸­ï¼Œå®šä¹‰äº†ä¸€äº›æ“ä½œå¤´ç»“ç‚¹å’Œå°¾ç»“ç‚¹çš„æ–¹æ³•</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å°†æŒ‡å®šå…ƒç´ æ’å…¥æ­¤åˆ—è¡¨çš„å¼€å¤´</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addFirst</span><span class="params">(E e)</span></span><br><span class="line"><span class="comment">//å°†æŒ‡å®šå…ƒç´ æ·»åŠ åˆ°æ­¤åˆ—è¡¨çš„ç»“å°¾</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">addLast</span><span class="params">(E e)</span></span><br><span class="line"><span class="comment">//è¿”å›æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">E <span class="title function_">getFirst</span><span class="params">()</span></span><br><span class="line"><span class="comment">//è¿”å›æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">E <span class="title function_">getLast</span><span class="params">()</span></span><br><span class="line"><span class="comment">//ç§»é™¤å¹¶è¿”å›æ­¤åˆ—è¡¨çš„ç¬¬ä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">E <span class="title function_">removeFirst</span><span class="params">()</span></span><br><span class="line"><span class="comment">//ç§»é™¤å¹¶è¿”å›æ­¤åˆ—è¡¨çš„æœ€åä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">E <span class="title function_">removeLast</span><span class="params">()</span></span><br><span class="line"><span class="comment">//ä»æ­¤åˆ—è¡¨æ‰€è¡¨ç¤ºçš„å †æ ˆå¤„å¼¹å‡ºä¸€ä¸ªå…ƒç´ </span></span><br><span class="line">E <span class="title function_">pop</span><span class="params">()</span></span><br><span class="line"><span class="comment">//å°†å…ƒç´ æ¨å…¥æ­¤åˆ—è¡¨æ‰€è¡¨ç¤ºçš„å †æ ˆ</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">push</span><span class="params">(E e)</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹å±•ç¤ºï¼š åˆ›å»ºä¸€ä¸ªLinkedListå¯¹è±¡ï¼Œé€šè¿‡èŠ‚ç‚¹æ–¹æ³•å¾€é‡Œé¢æ·»åŠ ã€æ›´æ–°ã€åˆ é™¤å…ƒç´ ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> java.util.LinkedList;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test054_Node</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼Œè¦æµ‹è¯•LinkedListä¸­çš„æ–¹æ³•ï¼Œå¿…é¡»ç”¨LinkedListå¼•ç”¨æŒ‡å‘LinkedListå¯¹è±¡</span></span><br><span class="line">        LinkedList&lt;String&gt; list = <span class="keyword">new</span> <span class="title class_">LinkedList</span>&lt;&gt;();</span><br><span class="line">        list.add(<span class="string">&quot;lwsj&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;peter&quot;</span>);</span><br><span class="line">        list.add(<span class="string">&quot;parker&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ·»åŠ å¤´å°¾èŠ‚ç‚¹</span></span><br><span class="line">        list.addFirst(<span class="string">&quot;first&quot;</span>);</span><br><span class="line">        list.addLast(<span class="string">&quot;last&quot;</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// è·å–å¤´å°¾èŠ‚ç‚¹</span></span><br><span class="line">        System.out.println(<span class="string">&quot;getFirest: &quot;</span> + list.getFirst());</span><br><span class="line">        System.out.println(<span class="string">&quot;getLast: &quot;</span> + list.getLast());</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åˆ é™¤å¤´å°¾èŠ‚ç‚¹</span></span><br><span class="line">        list.removeFirst();</span><br><span class="line">        list.removeLast();</span><br><span class="line">        System.out.println(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812110246948.png" alt="image-20230812110246948"></p></blockquote><h3 id="Vector"><a href="#Vector" class="headerlink" title="Vector"></a>Vector</h3><blockquote><p>Vectoræ˜¯åœ¨JDK1.0å¼•å…¥çš„ï¼Œå®ƒ<strong>å®ç°äº†Listæ¥å£</strong>ï¼Œå±äºJavaé›†åˆæ¡†æ¶çš„ä¸€éƒ¨åˆ†ï¼Œå…¶<strong>åŸºäºåŠ¨æ€æ•°ç»„ï¼ˆDynamic Arrayï¼‰å®ç°ï¼Œçº¿ç¨‹å®‰å…¨ï¼ŒVectoråœ¨åŠŸèƒ½å’Œä½¿ç”¨æ–¹å¼ä¸Šå’ŒArrayListéå¸¸ç›¸ä¼¼ã€‚</strong></p><p>ArrayListæ˜¯åœ¨JDK1.2å¼•å…¥çš„ï¼Œéçº¿ç¨‹å®‰å…¨ï¼Œä½†<strong>å•çº¿ç¨‹ç¯å¢ƒä¸‹æ€§èƒ½æ›´é«˜æ•ˆ</strong>ï¼Œæ˜¯Vectorä¸€ä¸ªéçº¿ç¨‹å®‰å…¨çš„æ›¿ä»£å“</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812110923210.png" alt="image-20230812110923210"></p><p>Vectoréƒ¨åˆ†æºç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">* The &#123;<span class="doctag">@code</span> Vector&#125; class implements a growable array of</span></span><br><span class="line"><span class="comment">* objects. Like an array, it contains components that can be</span></span><br><span class="line"><span class="comment">* accessed using an integer index.</span></span><br><span class="line"><span class="comment">* <span class="doctag">@see</span> LinkedList</span></span><br><span class="line"><span class="comment">* <span class="doctag">@since</span> JDK1.0</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Vector</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractList</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">List</span>&lt;E&gt;, RandomAccess, Cloneable,java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">    <span class="comment">//çœç•¥</span></span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * åº•å±‚å€ŸåŠ©æ•°ç»„å­˜å‚¨æ•°æ®</span></span><br><span class="line"><span class="comment">    * The array buffer into which the components of the</span></span><br><span class="line"><span class="comment">    vector are</span></span><br><span class="line"><span class="comment">    * stored.</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">protected</span> Object[] elementData;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><strong>Vector</strong> å†…éƒ¨ä¹Ÿæ˜¯é‡‡ç”¨äº†æ•°ç»„æ¥å­˜å‚¨æ•°æ®ï¼Œä½†æ˜¯<strong>Vector</strong>ä¸­çš„æ–¹æ³•å¤§å¤šæ•°éƒ½æ˜¯çº¿ç¨‹å®‰å…¨çš„æ–¹æ³•ï¼Œæ‰€ä»¥åœ¨å¤šçº¿ç¨‹å¹¶å‘è®¿é—®çš„ç¯å¢ƒä¸­ï¼Œå¯ä»¥ä½¿ç”¨<strong>Vector</strong>æ¥ä¿è¯é›†åˆä¸­å…ƒæ•°æ®æ“ä½œçš„å®‰å…¨ã€‚</p><p>æ¡ˆä¾‹å±•ç¤ºï¼š åˆ›å»ºVectoré›†åˆï¼Œå¾€é‡Œé¢æ·»åŠ å…ƒç´ ï¼Œéå†è¾“å‡ºï¼Œå¯¹æ¯”å…¶å’ŒArrayListçš„ç”¨æ³•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//Vectorçº¿ç¨‹å®‰å…¨ä½†æ•ˆç‡è¾ƒä½</span></span><br><span class="line"><span class="comment">//å…¶æ—©æœŸæä¾›çš„æ–¹æ³•ä½¿ç”¨è¾ƒä¸ºç¹ç</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test055_Vector</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.å®ä¾‹åŒ–Vectorå¯¹è±¡</span></span><br><span class="line">        Vector&lt;String&gt; v = <span class="keyword">new</span> <span class="title class_">Vector</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//2.å¾€é›†åˆä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">        v.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        <span class="comment">//æ—©æœŸæ·»åŠ å…ƒç´ ï¼Œç›¸å¯¹éº»çƒ¦</span></span><br><span class="line">        v.addElement(<span class="string">&quot;123&quot;</span>);</span><br><span class="line">        v.addElement(<span class="string">&quot;abc&quot;</span>);</span><br><span class="line">        <span class="comment">//3.éå†Vector</span></span><br><span class="line">        <span class="comment">// æ—©æœŸéå†æ–¹å¼ï¼Œç›¸å¯¹éº»çƒ¦ ï¼ˆæœ‰ç‚¹åƒè¿­ä»£å™¨çš„é›å½¢Iterableï¼‰</span></span><br><span class="line">        Enumeration&lt;String&gt; elements = v.elements();</span><br><span class="line">        <span class="keyword">while</span>(elements.hasMoreElements()) &#123;</span><br><span class="line">            System.out.println(elements.nextElement());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼š<strong>æˆ‘ä»¬ä»Šåä¸»è¦ä½¿ç”¨ArrayList</strong>ã€‚å¤šçº¿ç¨‹ç¯å¢ƒéœ€è¦ä¿è¯çº¿ç¨‹å®‰å…¨çš„è¯ï¼ŒåæœŸå­¦ ä¹ å·¥å…·ç±»ï¼Œå¯ä»¥ä½¿ ArrayListå˜æˆçº¿ç¨‹å®‰å…¨ã€‚</p></blockquote><h3 id="Listå°ç»“"><a href="#Listå°ç»“" class="headerlink" title="Listå°ç»“"></a>Listå°ç»“</h3><blockquote><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812112657832.png" alt="image-20230812112657832"></p></blockquote><h2 id="æ•°æ®ç»“æ„"><a href="#æ•°æ®ç»“æ„" class="headerlink" title="æ•°æ®ç»“æ„"></a>æ•°æ®ç»“æ„</h2><h3 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h3><blockquote><p>æ•°æ®ç»“æ„æ˜¯è®¡ç®—æœºç§‘å­¦ä¸­ç ”ç©¶æ•°æ®ç»„ç»‡ã€å­˜å‚¨å’Œæ“ä½œçš„ä¸€é—¨å­¦ç§‘ã€‚å®ƒæ¶‰åŠäº†<strong>å¦‚ä½• ç»„ç»‡å’Œå­˜å‚¨æ•°æ®</strong>ä»¥åŠå¦‚ä½•è®¾è®¡å’Œå®ç°ä¸åŒçš„æ•°æ®æ“ä½œç®—æ³•å’ŒæŠ€æœ¯ã€‚å¸¸è§çš„æ®ç»“æ„ <strong>æœ‰çº¿æ€§æ•°æ®ç»“æ„ï¼ˆå«æ•°ç»„ã€é“¾è¡¨ã€æ ˆå’Œé˜Ÿåˆ—ç­‰ï¼‰</strong>ï¼Œ<strong>éçº¿æ€§æ•°æ®ç»“æ„ï¼ˆæ ‘ã€å›¾ ç­‰ï¼‰ã€‚</strong></p><p><font color="#d12920">æ³¨æ„ï¼šä¸åŒçš„æ•°æ®ç»“æ„é€‚ç”¨äºä¸åŒçš„åœºæ™¯å’Œé—®é¢˜ï¼Œé€‰æ‹©åˆé€‚çš„æ•°æ®ç»“æ„å¯ä»¥æé«˜ç®—æ³•çš„æ•ˆç‡å’Œæ€§èƒ½ã€‚</font></p><p>Javaé›†åˆæ¡†æ¶ä¸­ä¸åŒçš„å®ç°ç±»åº•å±‚å€ŸåŠ©ä¸åŒæ•°æ®ç»“æ„æ¥å­˜å‚¨è¾“å‡ºï¼Œå¸¸è§çš„æ•°æ®ç»“ æ„æœ‰ï¼š</p><ul><li>æ•°ç»„ï¼ˆArrayï¼‰ï¼šæœ‰åºé›†åˆï¼Œ<strong>å¯ä»¥åŒ…å«é‡å¤çš„å…ƒç´ </strong>ï¼ŒArrayListã€Vector</li><li>é“¾è¡¨ï¼ˆLinkedListï¼‰ï¼šé“¾è¡¨æ˜¯ä¸€ç§<strong>åŠ¨æ€</strong>æ•°æ®ç»“æ„ï¼Œé€šè¿‡é˜¶æ®µä¹‹é—´çš„é“¾æ¥æ¥ç»„ç»‡æ•°æ®ã€‚LinkedList</li><li>é›†åˆï¼ˆSetï¼‰ï¼šé›†åˆæ˜¯<strong>ä¸å…è®¸åŒ…å«é‡å¤å…ƒç´ </strong>çš„æ— åºé›†åˆã€‚HashSetã€LinkedHasSetã€TreeSet</li><li>æ˜ å°„ï¼ˆMapï¼‰ï¼šæ˜ å°„æ˜¯ä¸€ç§<strong>é”®å€¼å¯¹</strong>çš„é›†åˆï¼Œæ¯ä¸ªé”®åªèƒ½å¯¹åº”ä¸€ä¸ªå€¼ï¼ŒHashMapã€LinkedHashMapã€TreeMap</li><li>é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼šé˜Ÿåˆ—æ˜¯ä¸€ç§<strong>å…ˆè¿›å…ˆå‡ºï¼ˆFIFOï¼‰</strong>LinkedListã€PriorityQueue</li><li>æ ˆï¼ˆStackï¼‰ï¼šæ ˆæ˜¯ä¸€ç§<strong>åè¿›å…ˆå‡ºï¼ˆLIFOï¼‰</strong>ï¼ŒStack</li><li>æ ‘ï¼ˆTreeï¼‰ï¼šæ ‘æ˜¯ä¸€ç§å…·æœ‰<strong>åˆ†å±‚</strong>ç»“æ„çš„æ•°æ®ç»“æ„ï¼ŒBinaryTreeã€BinarySearchTree</li></ul></blockquote><h3 id="æ•°ç»„"><a href="#æ•°ç»„" class="headerlink" title="æ•°ç»„"></a>æ•°ç»„</h3><blockquote><p>çœ‹æˆ‘è¿™ç¯‡åšå®¢å³å¯ï¼š<a href="https://www.lzwgxust.top/post/e21539ad.html">04-æ•°ç»„</a></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812114110716.png" alt="image-20230812114110716"></p></blockquote><h3 id="é“¾è¡¨"><a href="#é“¾è¡¨" class="headerlink" title="é“¾è¡¨"></a>é“¾è¡¨</h3><blockquote><p>é“¾è¡¨ï¼ˆlinked listï¼‰ï¼Œæ˜¯ç”±ä¸€ä¸ªä¸€ä¸ªnodeèŠ‚ç‚¹ç»„æˆï¼Œæ¯ä¸ªnodeèŠ‚ç‚¹ä¸­åŒ…å«ä¸¤é¡¹æ•° æ®ï¼š<strong>æŒ‡é’ˆåŸŸã€æ•°æ®åŸŸ</strong>ã€‚æ•°æ®åŸŸå­˜å‚¨äº†ä¸€ä¸ªæ•°æ®ï¼ŒæŒ‡é’ˆåŸŸå­˜å‚¨æŒ‡å‘ä¸‹ä¸€ä¸ªnodeèŠ‚ ç‚¹å¯¹è±¡çš„å¼•ç”¨ï¼ˆ<strong>å•å‘é“¾è¡¨</strong>ï¼‰ã€‚</p><p>å¦‚æœæ˜¯<strong>åŒå‘é“¾è¡¨</strong>çš„è¯ï¼ŒæŒ‡é’ˆåŸŸä¼šå­˜å‚¨2ä¸ªå¼•ç”¨ï¼Œä¸€ä¸ªæŒ‡å‘å‰ä¸€ä¸ªnodeèŠ‚ç‚¹å¯¹è±¡ï¼Œ å¦ä¸€ä¸ªæŒ‡å‘äº†ä¸‹ä¸€ä¸ªnodeèŠ‚ç‚¹å¯¹è±¡ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812114241876.png" alt="image-20230812114241876"></p><p>å•é“¾è¡¨æ’å…¥ã€åˆ é™¤èŠ‚ç‚¹ï¼š</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812114319234.png" alt="image-20230812114319234"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812114356571.png" alt="image-20230812114356571"></p><p>æ€»ç»“ï¼š</p><ul><li><strong>æ’å…¥å’Œåˆ é™¤ä¸éœ€è¦åƒæ•°ç»„é‚£æ ·æ•´ä½“ç§»åŠ¨å…ƒç´ ï¼Œæ‰€ä»¥æ•ˆç‡é«˜</strong></li><li><strong>æŸ¥è¯¢ç¬¬nä¸ªå…ƒç´ ï¼Œå¿…é¡»ä»å¤´ç»“ç‚¹å¼€å§‹é€ä¸ªç»“ç‚¹å¾€åéå†ï¼Œæ‰€ä»¥æ•ˆç‡ä½</strong></li></ul><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812114919380.png" alt="image-20230812114919380"></p></blockquote><h3 id="æ ˆ"><a href="#æ ˆ" class="headerlink" title="æ ˆ"></a>æ ˆ</h3><blockquote><p>æ ˆï¼ˆstackï¼‰ï¼Œåˆç§°å †æ ˆï¼Œä»…å…è®¸åœ¨æ ˆçš„ä¸€æ®µè¿›è¡Œæ’å…¥å’Œåˆ é™¤æ“ä½œï¼Œå¹¶ä¸”ä¸å…è®¸åœ¨å…¶ä»–ä»»ä½•ä½ç½®è¿›è¡Œæ“ä½œ</p><p>å…¶ç‰¹ç‚¹æ˜¯ï¼š<strong>å…ˆè¿›åå‡ºï¼Œæœ€å…ˆå­˜è¿›å»çš„å…ƒç´ ï¼Œæœ€åæ‰èƒ½å–å‡ºæ¥ã€‚</strong></p><p>ä¾‹å¦‚ï¼Œè–¯ç‰‡å­˜åœ¨è–¯ç‰‡æ¡¶ä¸­ï¼Œæˆ‘ä»¬å½“å‰åªèƒ½å–å‡ºæœ€ä¸Šé¢çš„ä¸€ä¸ªè–¯ç‰‡ï¼Œè€Œæœ€æ—©å­˜æ”¾åˆ° è–¯ç‰‡æ¡¶çš„è–¯ç‰‡ï¼Œåè€Œæ˜¯æˆ‘ä»¬æœ€ååƒåˆ°çš„ä¸€ç‰‡ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812115310945.png" alt="image-20230812115310945"></p><p>æ³¨æ„1ï¼šå…¥æ ˆä¹Ÿç§°ä¸ºå‹æ ˆï¼ŒæŠŠæ•°æ®å­˜å…¥åˆ°æ ˆçš„é¡¶ç«¯ä½ç½®</p><p>æ³¨æ„2ï¼šå‡ºæ ˆä¹Ÿç§°ä¸ºå¼¹æ ˆï¼ŒæŠŠæ ˆé¡¶ä½ç½®çš„æ•°æ®å–å‡º</p><p><font color="#d12920">æ€è€ƒï¼ŒJVMä¸­çš„æ ˆåŒºä¸­ï¼Œä¸ºä»€ä¹ˆæŠŠmainæ–¹æ³•æ ‡æ³¨åœ¨æœ€ä½ç«¯ä½ç½®ï¼Ÿ</font></p><p>åœ¨Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰ä¸­ï¼Œæ ˆï¼ˆStackï¼‰æ˜¯ç”¨æ¥<strong>ç®¡ç†æ–¹æ³•è°ƒç”¨å’Œå±€éƒ¨å˜é‡çš„å†…å­˜åŒºåŸŸ</strong>ï¼Œæ¯ä¸ªçº¿ç¨‹éƒ½ä¼šæœ‰è‡ªå·±çš„æ ˆã€‚åœ¨JVMä¸­ï¼Œå°†â€œmainâ€æ–¹æ³•æ ‡æ³¨åœ¨æ ˆçš„æœ€ä½ç«¯ä½ç½®æ˜¯å› ä¸ºJavaç¨‹åºæ‰§è¡Œè¿‡ç¨‹é€šå¸¸æ˜¯ä»â€œmainâ€æ–¹æ³•å¼€å§‹çš„ï¼Œç„¶åé€æ­¥è°ƒç”¨å…¶ä»–æ–¹æ³•ï¼Œå½¢æˆæ–¹æ³•è°ƒç”¨çš„è°ƒç”¨æ ˆã€‚</p><ul><li><strong>èµ·å§‹ç‚¹</strong>ï¼šâ€œmainâ€æ–¹æ³•æ˜¯Javaç¨‹åºçš„èµ·å§‹ç‚¹ï¼ŒJVMä»è¿™é‡Œå¼€å§‹ä¼šæ‰§è¡Œç¨‹åºã€‚</li><li><strong>è°ƒç”¨æ ˆç»“æ„</strong>ï¼šJavaç¨‹åºä¸­çš„æ–¹æ³•è°ƒç”¨æ˜¯ä¸€ä¸ªæ ˆç»“æ„ï¼Œâ€œmainâ€æ–¹æ³•ä½äºåº•éƒ¨ï¼Œå…¶ä»–æ–¹æ³•è°ƒç”¨é€æ­¥å †å åœ¨ä¸Šé¢ã€‚</li><li><strong>æ¸…æ™°æ€§</strong>ï¼šå°†â€œmainâ€æ–¹æ³•æ”¾åœ¨åº•éƒ¨ä½¿ç¨‹åºæ‰§è¡Œè·¯å¾„æ›´æ¸…æ™°ï¼Œæœ‰åŠ©äºè°ƒè¯•å’Œä»£ç ç†è§£</li><li><strong>ç¼–ç¨‹çº¦å®šï¼š</strong> Javaéµå¾ªå…¥å£ç‚¹çš„ç¼–ç¨‹çº¦å®šï¼Œå°†<code>main</code>æ–¹æ³•æ”¾åœ¨åº•éƒ¨æ˜¯ä¸å…¶ä»–ç¼–ç¨‹è¯­è¨€çš„ä¸€è‡´æ€§é€‰æ‹©</li></ul></blockquote><h3 id="é˜Ÿåˆ—"><a href="#é˜Ÿåˆ—" class="headerlink" title="é˜Ÿåˆ—"></a>é˜Ÿåˆ—</h3><blockquote><p>é˜Ÿåˆ—ï¼ˆQueueï¼‰ï¼Œä»…å…è®¸åœ¨é˜Ÿåˆ—çš„ä¸€ç«¯è¿›è¡Œæ’å…¥ï¼Œè€Œåœ¨é˜Ÿåˆ—çš„å¦ä¸€ç«¯è¿›è¡Œåˆ é™¤ã€‚</p><p>å…¶ç‰¹ç‚¹æ˜¯ï¼š<strong>å…ˆè¿›å…ˆå‡ºï¼Œæœ€å…ˆå­˜è¿›å»çš„å…ƒç´ ï¼Œå¯ä»¥æœ€å…ˆå–å‡ºæ¥ã€‚</strong></p><p>ä¾‹å¦‚ï¼Œç«è½¦ç©¿è¿‡å±±æ´çš„æ—¶å€™ï¼Œç¬¬ä¸€èŠ‚è½¦å¢å…ˆè¿›å»å±±æ´çš„ä¸€ç«¯ï¼Œå¹¶ä¸”è¿™èŠ‚è½¦å¢ä¼˜å…ˆ ä»å±±æ´çš„å¦ä¸€ç«¯å‡ºæ¥ï¼Œåé¢çš„è½¦å¢ä¾æ¬¡ä»ä¸€ç«¯è¿›å…¥å¹¶å¦ä¸€ç«¯å‡ºæ¥ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812120703193.png" alt="image-20230812120703193"></p></blockquote><h3 id="çº¢é»‘æ ‘"><a href="#çº¢é»‘æ ‘" class="headerlink" title="çº¢é»‘æ ‘"></a>çº¢é»‘æ ‘</h3><blockquote><p>äºŒå‰æ ‘ï¼ˆBinary treeï¼‰æ˜¯æ ‘å½¢ç»“æ„çš„ä¸€ä¸ªé‡è¦ç±»å‹ã€‚äºŒå‰æ ‘ç‰¹ç‚¹æ˜¯æ¯ä¸ªç»“ç‚¹æœ€å¤šåªèƒ½æœ‰ä¸¤æ£µå­æ ‘ï¼Œä¸”æœ‰å·¦å³ä¹‹åˆ†</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812121019944.png" alt="image-20230812121019944"></p><p>äºŒå‰æ ‘ä¸­æœ‰ä¸€ç§å«åšçº¢é»‘æ ‘ï¼ˆRed&#x2F;Black Treeï¼‰ï¼Œå®ƒæœ€æ—©è¢«ç§°ä¸º<strong>å¹³è¡¡äºŒå‰Bæ ‘</strong>ï¼ˆsysmmetric binary B-treesï¼‰,åæ¥è¢«ç§°ä¸ºçº¢é»‘æ ‘ã€‚</p><p>çº¢é»‘æ ‘æ˜¯ä¸€ç§ç‰¹æ®ŠåŒ–çš„å¹³è¡¡äºŒå‰æ ‘ï¼Œå®ƒå¯ä»¥åœ¨è¿›ç¨‹æ’å…¥å’Œåˆ é™¤çš„æ—¶å€™ï¼Œå¦‚æœå·¦å³å­æ ‘çš„é«˜åº¦ç›¸å·®è¾ƒå¤§ï¼Œé‚£ä¹ˆå°±é€šè¿‡ç‰¹å®šæ“ä½œï¼ˆ<strong>å·¦æ—‹ã€å³æ—‹</strong>ï¼‰ä¿æŒäºŒå‰æŸ¥æ‰¾æ ‘çš„å¹³è¡¡ï¼ˆ<strong>åŠ¨æ€å¹³è¡¡</strong>ï¼‰ï¼Œä»è€Œè·å¾—è¾ƒé«˜çš„æŸ¥æ‰¾æ€§èƒ½ã€‚</p><p>çº¢é»‘æ ‘çš„æ¯ä¸€ä¸ªé˜¶æ®µçš„å·¦å­æ ‘çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”è‡ªå·±å°ï¼Œè€Œå³å­æ ‘çš„æ‰€æœ‰æ•°æ®éƒ½æ¯”è‡ªå·±å¤§ï¼Œå¹¶ä¸”å·¦å³å­æ ‘çš„é«˜åº¦è¿‘ä¼¼ã€‚</p><p><strong>çº¢é»‘æ ‘çš„çº¦æŸï¼š</strong></p><ul><li>æ ¹èŠ‚ç‚¹å¿…é¡»æ˜¯é»‘è‰²</li><li>å…¶ä»–èŠ‚ç‚¹å¯ä»¥æ˜¯çº¢è‰²æˆ–é»‘è‰²</li><li>å¶å­èŠ‚ç‚¹ï¼ˆç‰¹æŒ‡nullèŠ‚ç‚¹ï¼‰æ˜¯é»‘è‰²</li><li>æ¯ä¸ªçº¢è‰²èŠ‚ç‚¹çš„å­èŠ‚ç‚¹éƒ½æ˜¯é»‘è‰²çš„</li><li>ä»»ä½•ä¸€ä¸ªèŠ‚ç‚¹åˆ°å…¶æ¯ä¸€ä¸ªå¶å­èŠ‚ç‚¹çš„æ‰€æœ‰è·¯å¾„ä¸Šé»‘è‰²èŠ‚ç‚¹æ•°ç›¸åŒ</li></ul><p><font color="#d12920">æ³¨æ„ï¼Œçº¢é»‘æ ‘çš„æŒ‡å®šé¢œè‰²çš„ç›®çš„ï¼Œæ˜¯åˆ©ç”¨é¢œè‰²å€¼ä½œä¸ºäºŒå‰æ ‘çš„å¹³è¡¡å¯¹ç§°æ€§çš„æ£€æŸ¥</font></p><p>ä¾‹å¦‚ï¼Œä»ç©ºæ ‘å¼€å§‹æ¼”ç¤ºä¸€ä¸ªæ¡ˆä¾‹ï¼š æ•°å­—æ’å…¥é¡ºåºä¸º 9ã€8ã€12ã€7ã€6ï¼Œå¯¹äºä¸€ä¸ªèŠ‚ç‚¹æ¥è¯´ï¼Œæ–°æ•°æ®å¦‚æœå°äºæœ¬èŠ‚ ç‚¹ï¼Œä¼šè¢«æ”¾åœ¨å·¦èŠ‚ç‚¹çš„ä½ç½®ï¼Œåä¹‹åˆ™æ”¾åœ¨å³èŠ‚ç‚¹çš„ä½ç½®</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812130020937.png" alt="image-20230812130020937"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812130056167.png" alt="image-20230812130056167"></p><p>[çº¢é»‘æ ‘åœ¨çº¿æ¼”ç¤º](<a href="https://www.cs.usfca.edu/~galles/visualization/RedBlack.html">Red&#x2F;Black Tree Visualization (usfca.edu)</a>)</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812145040567.png" alt="image-20230812145040567"></p></blockquote><h3 id="å“ˆå¸Œè¡¨"><a href="#å“ˆå¸Œè¡¨" class="headerlink" title="å“ˆå¸Œè¡¨"></a>å“ˆå¸Œè¡¨</h3><blockquote><p>javaä¸­çš„å“ˆå¸Œè¡¨ï¼ˆhashï¼‰ï¼Œåœ¨<strong>JDK1.8ä¹‹å‰æ˜¯é‡‡ç”¨æ•°ç»„+é“¾è¡¨</strong>è¿›è¡Œå®ç°ï¼Œæ ¹æ®æ•°æ® çš„å“ˆå¸Œå€¼ï¼ŒæŠŠæ•°æ®å­˜åœ¨æ•°ç»„ä¸­ï¼Œä½†æ˜¯å½“å‰å“ˆå¸Œå€¼å†²çªçš„æ—¶å€™ï¼Œå†ä½¿ç”¨é“¾è¡¨è¿›è¡Œå­˜ å‚¨ï¼Œé‚£ä¹ˆåœ¨æ•°ç»„ä¸­ï¼ŒåŒä¸€hashå€¼çš„æ•°æ®éƒ½å­˜åœ¨ä¸€ä¸ªé“¾è¡¨é‡Œã€‚ </p><p>æ³¨æ„ï¼Œä¹‹å‰å­¦ä¹ è¿‡Objectä¸­hashCodeæ–¹æ³•çš„ä½œç”¨ï¼Œhashå€¼çš„ç‰¹ç‚¹ä»¥åŠå’Œå¯¹è±¡ä¹‹é—´ çš„å…³ç³»</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812145505938.png" alt="image-20230812145505938"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812150858811.png" alt="image-20230812150858811"></p><p>å¯ä»¥çœ‹å‡ºï¼Œå½“é“¾è¡¨ä¸­å…ƒç´ è¿‡å¤šï¼Œå³hashå€¼ç›¸ç­‰çš„å…ƒç´ è¾ƒå¤šæ—¶ï¼ŒæŸ¥æ‰¾çš„æ•ˆç‡ä¼šå˜ä½ã€‚</p><p><strong>JDK1.8ä¸­ï¼Œå“ˆå¸Œè¡¨å­˜å‚¨é‡‡ç”¨æ•°ç»„+é“¾è¡¨+çº¢é»‘æ ‘è¿›è¡Œå®ç°</strong>ï¼Œå½“é“¾è¡¨é•¿åº¦è¶…è¿‡é˜ˆå€¼ï¼ˆ8ï¼‰æ—¶ï¼Œå°†é“¾è¡¨è½¬æ¢ä¸ºçº¢é»‘æ ‘ï¼Œå¤§å¤§æé«˜æŸ¥æ‰¾çš„æ€§èƒ½ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812153409201.png" alt="image-20230812153409201"></p></blockquote><h2 id="Seté›†åˆ"><a href="#Seté›†åˆ" class="headerlink" title="Seté›†åˆ"></a>Seté›†åˆ</h2><h3 id="Setæ¦‚è¿°"><a href="#Setæ¦‚è¿°" class="headerlink" title="Setæ¦‚è¿°"></a>Setæ¦‚è¿°</h3><blockquote><p><strong>java.util.Set</strong>æ¥å£ç»§æ‰¿äº†<strong>Collection</strong>æ¥å£ï¼Œæ˜¯å¸¸ç”¨çš„ä¸€ç§é›†åˆç±»å‹ã€‚</p><p>Seté›†åˆç‰¹ç‚¹å¦‚ä¸‹ï¼šé™¤äº†å…·æœ‰<strong>Collection</strong>é›†åˆçš„ç‰¹ç‚¹ï¼Œè¿˜å…·æœ‰è‡ªå·±çš„ä¸€äº›ç‰¹ç‚¹</p><ul><li>Setæ˜¯ä¸€ç§<strong>æ— åº</strong>çš„é›†åˆ</li><li>Setæ˜¯ä¸€ç§<strong>ä¸å¸¦ä¸‹æ ‡ç´¢å¼•</strong>çš„é›†åˆ</li><li>Setæ˜¯ä¸€ç§<strong>ä¸èƒ½å­˜æ”¾é‡å¤æ•°æ®</strong>çš„é›†åˆ</li></ul><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812154014897.png" alt="image-20230812154014897"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812154113165.png" alt="image-20230812154113165"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812154137253.png" alt="image-20230812154137253"></p><p>é‡ç‚¹å­¦ä¹ çš„Setå®ç°ç±»ï¼š</p><ul><li>HashSet åº•å±‚å€ŸåŠ©å“ˆå¸Œè¡¨å®ç°</li><li>TreeSet åº•å±‚å€ŸåŠ©äºŒå‰æ ‘å®ç°</li></ul><p>æ³¨æ„ï¼ŒTreeSetæ˜¯Setæ¥å£çš„ç›´æ¥å¼€SortedSetçš„å®ç°ç±»</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812154701080.png" alt="image-20230812154701080"></p><p>åŸºç¡€æ¡ˆä¾‹ï¼š å®ä¾‹åŒ–ä¸€ä¸ªSeté›†åˆï¼Œå¾€é‡Œé¢æ·»åŠ å…ƒç´ å¹¶è¾“å‡ºï¼Œ<strong>æ³¨æ„è§‚å¯Ÿé›†åˆç‰¹ç‚¹ï¼ˆæ— åºã€ä¸ é‡å¤ï¼‰</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test071_SetBasic</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        set.add(<span class="string">&quot;hello1&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;hello2&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;hello3&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;hello4&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;hello5&quot;</span>); <span class="comment">// æ·»åŠ å¤±è´¥ é‡å¤å…ƒç´ </span></span><br><span class="line">        set.add(<span class="string">&quot;hello5&quot;</span>); <span class="comment">// æ·»åŠ å¤±è´¥ é‡å¤å…ƒç´ </span></span><br><span class="line">        <span class="keyword">for</span> (String str : set) &#123;</span><br><span class="line">            System.out.print(str + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;\n---------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        Iterator&lt;String&gt; it = set.iterator();</span><br><span class="line">        <span class="keyword">while</span> (it.hasNext()) &#123;</span><br><span class="line">            <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> it.next();</span><br><span class="line">            System.out.print(str + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812155252506.png" alt="image-20230812155252506"></p></blockquote><h3 id="HashSet"><a href="#HashSet" class="headerlink" title="HashSet"></a>HashSet</h3><blockquote><p><strong>java.util.HashSet</strong>æ˜¯Setæ¥å£çš„å®ç°ç±»ï¼Œå®ƒä½¿ç”¨å“ˆå¸Œè¡¨ï¼ˆHash tableï¼‰ä½œä¸ºå…¶åº•å±‚æ•°æ®ç»“æ„æ¥å­˜å‚¨æ•°æ®</p><p>HashSetç‰¹ç‚¹ï¼š</p><ul><li><strong>æ— åºæ€§ï¼šHashSetä¸­çš„å…ƒç´ çš„å­˜å‚¨é¡ºåºä¸æ’å…¥é¡ºåºæ— å…³</strong></li></ul><p>HashSetä½¿ç”¨å“ˆå¸Œè¡¨æ¥å­˜å‚¨æ•°æ®ï¼Œå“ˆå¸Œè¡¨æ ¹æ®å…ƒç´ çš„å“ˆå¸Œå€¼æ¥ç¡®å®šå…ƒç´ çš„å­˜å‚¨ä½ç½®ï¼Œè€Œå“ˆå¸Œå€¼æ ¹æ®å…ƒç´ çš„å†…å®¹è®¡ç®—å¾—åˆ°çš„ï¼Œä¸æ’å…¥é¡ºåºæ— å…³ã€‚</p><ul><li><strong>å”¯ä¸€æ€§ï¼šHashSetä¸­ä¸å…è®¸é‡å¤çš„å…ƒç´ ï¼Œå³æ¯ä¸ªå…è®¸éƒ½æ˜¯å”¯ä¸€çš„</strong></li><li>å…è®¸nullå…ƒç´ ï¼šHashSetå…è®¸å­˜å‚¨nullå…ƒç´ ï¼Œä½†<strong>åªèƒ½å­˜å‚¨ä¸€ä¸ªnullå…ƒç´ </strong>ï¼ŒHashSetä¸­ä¸å…è®¸é‡å¤å…ƒç´ </li><li>é«˜æ•ˆæ€§ï¼š<strong>HashSetçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œçš„æ—¶é—´å¤æ‚åº¦éƒ½æ˜¯o(1)</strong></li></ul><p>å“ˆå¸Œè¡¨é€šè¿‡å°†å…ƒç´ çš„å“ˆå¸Œå€¼æ˜ å°„åˆ°æ•°ç»„çš„ç´¢å¼•æ¥å®ç°å¿«é€Ÿçš„æ’å…¥ã€åˆ é™¤å’ŒæŸ¥æ‰¾æ“ä½œ</p><p>åŸºç¡€æ¡ˆä¾‹1ï¼š å®ä¾‹åŒ–HashSetå¯¹è±¡ï¼Œå¾€é‡Œé¢æ’å…¥å¤šä¸ªå­—ç¬¦ä¸²ï¼ŒéªŒè¯HashSetç‰¹ç‚¹ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test072_Basic</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.å®ä¾‹åŒ–HashSetå¯¹è±¡</span></span><br><span class="line">        Set&lt;String&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 2.å¾€é›†åˆä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">        set.add(<span class="string">&quot;hello&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;world&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;nihao&quot;</span>);</span><br><span class="line">        set.add(<span class="string">&quot;hello&quot;</span>); <span class="comment">// ä¸èƒ½é‡å¤</span></span><br><span class="line">        set.add(<span class="literal">null</span>); </span><br><span class="line">        set.add(<span class="literal">null</span>); <span class="comment">// ä¸èƒ½é‡å¤</span></span><br><span class="line">        System.out.println(<span class="string">&quot;size: &quot;</span> + set.size());</span><br><span class="line">        <span class="comment">// 3.éå†</span></span><br><span class="line">        <span class="keyword">for</span> (String str : set) &#123;</span><br><span class="line">            System.out.print(str + <span class="string">&quot; &quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// size: 4</span></span><br><span class="line"><span class="comment">// null world nihao hello </span></span><br><span class="line"><span class="comment">// ä¼šå‘ç°nullä¸€ç›´åœ¨å‰é¢</span></span><br></pre></td></tr></table></figure><p>æ ¹æ®ç»“æœå¯çŸ¥ï¼ŒHashSetæ— åºã€å”¯ä¸€ã€nullå€¼å¯å­˜åœ¨ã€‚</p><p>åŸºç¡€æ¡ˆä¾‹2ï¼š å®ä¾‹åŒ–HashSetå¯¹è±¡ï¼Œå¾€é‡Œé¢å­˜å…¥å¤šä¸ªè‡ªå®šä¹‰ç±»Studentå¯¹è±¡ï¼Œè§‚å¯Ÿç»“æœã€‚ </p><p>è‡ªå®šä¹‰Studentç±»ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test072_Student</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Set&lt;Student&gt; set = <span class="keyword">new</span> <span class="title class_">HashSet</span>&lt;&gt;(); <span class="comment">// æ²¡æœ‰é‡å†™Studentçš„hashCodeå’Œequals</span></span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lwsj&quot;</span>, <span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lwsj&quot;</span>, <span class="number">23</span>));</span><br><span class="line">        set.add(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lwsj&quot;</span>, <span class="number">23</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;size: &quot;</span> + set.size());</span><br><span class="line"></span><br><span class="line">        <span class="keyword">for</span> (Student stu : set) &#123;</span><br><span class="line">            System.out.println(stu);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812163553068.png" alt="image-20230812163553068"></p><p>ä»ç»“æœå¯çŸ¥ï¼ŒHashSetè®¤ä¸º4ä¸ªæ•°æ®æˆå‘˜ä¸€æ¨¡ä¸€æ ·çš„Studentå¯¹è±¡æ˜¯ä¸åŒçš„å¯¹è±¡ï¼Œ æˆåŠŸå°†å®ƒä»¬æ·»åŠ åˆ°äº†é›†åˆä¸­ã€‚è¿™æ˜æ˜¾æ˜¯ä¸åˆç†çš„ï¼Œ<strong>æ€è€ƒä¸ºä»€ä¹ˆï¼Ÿ</strong></p><p>å…ƒç´ æ’å…¥è¿‡ç¨‹ï¼š</p><ul><li>å½“å‘HashSetä¸­æ’å…¥å…ƒç´ æ—¶ï¼Œå…ˆ<strong>è·å–å…ƒç´ çš„hashCode()å€¼</strong>ï¼Œåœ¨æ£€æŸ¥HashSetä¸­æ˜¯å¦å­˜åœ¨ç›¸åŒå“ˆå¸Œå€¼çš„å…ƒç´ ï¼Œ<strong>å¦‚æœå…ƒç´ å“ˆå¸Œå€¼å”¯ä¸€ï¼Œåˆ™ç›´æ¥æ’å…¥å…ƒç´ </strong></li><li>å¦‚æœå­˜åœ¨ç›¸åŒå“ˆå¸Œå€¼çš„å…ƒç´ ï¼Œä¼š<strong>è°ƒç”¨å…ƒç´ çš„equals()æ–¹æ³•æ¥è¿›ä¸€æ­¥åˆ¤æ–­å…ƒç´ æ˜¯å¦æ˜¯ç›¸åŒ</strong>ã€‚å¦‚æœç›¸åŒï¼Œåˆ™ä¸ä¼šæ’å…¥é‡å¤å…ƒç´ ï¼›å¦‚æœä¸åŒï¼Œåˆ™æ’å…¥ã€‚</li></ul><p><strong>hashCode()</strong> æ–¹æ³•å¤ä¹ ï¼š</p><ul><li><strong>hashCode()<strong>æ–¹æ³•æ˜¯</strong>Object</strong>ç±»ä¸­çš„ä¸€ä¸ªæ–¹æ³•ï¼Œå®ƒè¿”å›ä¸€ä¸ª<strong>intç±»å‹</strong>çš„å“ˆå¸Œç å€¼</li><li>é€šå¸¸æƒ…å†µä¸‹ï¼ŒhashCode()æ–¹æ³•ä¼šæ ¹æ®å¯¹è±¡çš„å±æ€§å€¼è®¡ç®—ä¸€ä¸ªå“ˆå¸Œç å€¼ï¼ˆé‡å†™è‡ªå®šä¹‰ç±»ä¸­çš„hashCodeæ–¹æ³•ï¼‰</li></ul><p>hashCodeçš„è®¡ç®—ï¼š</p><ul><li>åœ°å€å€¼ç›¸åŒçš„å¯¹è±¡ï¼ŒhashCodeä¸€å®šç›¸åŒ</li><li>hashCodeç›¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸ä¸€å®šæ˜¯åŒä¸€ä¸ªå¯¹è±¡</li><li>hashCodeä¸åŒçš„ä¸¤ä¸ªå¯¹è±¡ï¼Œä¸€å®šæ˜¯ä¸åŒå¯¹è±¡</li></ul><p><font color="#d12920">ç»“è®ºï¼šå¦‚æœè¦å¾€HashSeté›†åˆå­˜å‚¨è‡ªå®šä¹‰ç±»å¯¹è±¡ï¼Œé‚£ä¹ˆä¸€å®šè¦é‡å†™è‡ªå®šä¹‰ç±»ä¸­çš„hashCodeæ–¹æ³•å’Œequalsæ–¹æ³•</font></p></blockquote><h3 id="TreeSet"><a href="#TreeSet" class="headerlink" title="TreeSet"></a>TreeSet</h3><blockquote><p><strong>TreeSetæ˜¯SortedSet(Setæ¥å£çš„å­æ¥å£)çš„å®ç°ç±»</strong>ï¼Œå®ƒåŸºäº<strong>çº¢é»‘æ ‘ï¼ˆRed-Black Treeï¼‰</strong>æ•°æ®ç»“æ„å®ç°</p><p>TreeSetç‰¹ç‚¹ï¼š</p><ul><li>æœ‰åºæ€§</li></ul><p>æ’å…¥çš„å…ƒç´ ä¼šè‡ªåŠ¨æ’åºï¼Œæ¯æ¬¡æ’å…¥ã€åˆ é™¤æˆ–æŸ¥è¯¢æ“ä½œåï¼ŒTreeSetä¼šè‡ªåŠ¨è°ƒæ•´å…ƒç´ çš„é¡ºåºï¼Œä»¥ä¿æŒæœ‰åºæ€§ã€‚</p><ul><li>å”¯ä¸€æ€§</li></ul><p>TreeSetä¸­ä¸å…è®¸é‡å¤çš„å…ƒç´ ï¼Œå³é›†åˆä¸­çš„å…ƒç´ æ˜¯å”¯ä¸€çš„ã€‚å¦‚æœå°è¯•æ’å…¥ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å…ƒç´ ï¼Œè¯¥æ“ä½œå°†è¢«å¿½ç•¥</p><ul><li>åŠ¨æ€æ€§</li></ul><p>TreeSetæ˜¯ä¸€ä¸ªåŠ¨æ€é›†åˆï¼Œå¯ä»¥æ ¹æ®éœ€è¦éšæ—¶æ·»åŠ ã€åˆ é™¤å’Œä¿®æ”¹å…ƒç´ ã€‚æ’å…¥å’Œåˆ é™¤æ“ä½œçš„æ—¶é—´å¤æ‚åº¦ä¸ºo(logn),å…¶ä¸­næ˜¯é›†åˆä¸­çš„å…ƒç´ æ•°é‡ã€‚</p><ul><li>é«˜æ•ˆæ€§</li></ul><p>ç”±äºTreeSetåº•å±‚é‡‡ç”¨çº¢é»‘æ ‘æ•°æ®ç»“æ„ï¼Œå®ƒå…·æœ‰å¿«é€Ÿçš„æŸ¥æ‰¾å’Œæ’å…¥æ€§èƒ½ã€‚å¯¹äºæœ‰åºé›†åˆçš„æ“ä½œï¼ŒTreeSeté€šå¸¸æ¯”HashSetæ›´é«˜æ•ˆã€‚</p></blockquote><p>å…¥é—¨æ¡ˆä¾‹1ï¼š å‡†å¤‡ä¸€ä¸ªTreeSeté›†åˆï¼Œæ”¾å…¥å¤šä¸ªIntegerå…ƒç´ ï¼Œè§‚å¯Ÿæ˜¯å¦è‡ªåŠ¨è¿›è¡Œæ’åºã€‚</p><blockquote><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812171103782.png" alt="image-20230812171103782"></p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812171357699.png" alt="image-20230812171357699"></p></blockquote><blockquote><p>TreeSetæ˜¯ä¸€ä¸ªæœ‰åºé›†åˆï¼Œå­˜å‚¨æ•°æ®æ—¶ï¼Œä¸€å®šè¦æŒ‡å®šå…ƒç´ çš„æ’åºè§„åˆ™ï¼Œæœ‰ä¸¤ç§æŒ‡å®šçš„æ–¹å¼ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><p>TreeSetæ’åºè§„åˆ™ï¼š</p><ul><li><strong>è‡ªç„¶æ’åºï¼ˆå…ƒç´ æ‰€å±ç±»å‹è¦å®ç° java.lang.Comparableæ¥å£ï¼‰</strong></li><li><strong>æ¯”è¾ƒå™¨æ’åº</strong></li></ul><p>ä¸Šè¿°2ä¸ªæ¡ˆä¾‹ä¸­ï¼Œ<strong>Integerå­˜å¦‚TreeSetæ²¡æœ‰æŠ¥é”™ï¼Œæ˜¯å› ä¸ºIntegerç±»å·²ç»å®ç°è‡ªç„¶æ’åº</strong>ï¼Œè€ŒPersonç±»æ—¢æ²¡æœ‰å®ç°è‡ªç„¶æ’åºï¼Œä¹Ÿæ²¡æœ‰é¢å¤–æŒ‡å®šæ¯”è¾ƒå™¨æ’åºè§„åˆ™ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812171727865.png" alt="image-20230812171727865"></p></blockquote><p>TreeSetï¼šè‡ªç„¶æ’åº</p><blockquote><p>å¦‚æœä¸€ä¸ªç±»ï¼Œå®ç°äº†<strong>java.lang.Comparable</strong>æ¥å£ï¼Œå¹¶é‡å†™äº†<strong>compareTo</strong>æ–¹æ³•ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»çš„å¯¹è±¡å°±å¯ä»¥æ¯”è¾ƒå¤§å°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Comparable</span>&lt;T&gt; &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(T o)</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>compareToæ–¹æ³•è¯´æ˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> <span class="built_in">this</span>.å±æ€§.compareTo(o.å±æ€§);</span><br></pre></td></tr></table></figure><ul><li>resultçš„å€¼ä¸å¤§äº0,è¯´æ˜thisæ¯”oå¤§ ï¼ˆäº¤æ¢ï¼‰</li><li>resultçš„å€¼å¤§äº0ï¼Œè¯´æ˜thisæ¯”oå° ï¼ˆä¸æ¢ï¼‰</li><li>resultçš„å€¼ç­‰äº0ï¼Œè¯´æ˜thiså’Œoç›¸ç­‰ï¼ˆ<strong>removeæ˜¯&#x3D;&#x3D;0çš„æ—¶å€™åˆ é™¤</strong>ï¼‰</li></ul><p>å…ƒç´ æ’å…¥è¿‡ç¨‹ï¼š</p><p>å½“å‘TreeSetæ’å…¥å…ƒç´ æ—¶ï¼ŒTreeSetä¼šä½¿ç”¨å…ƒç´ çš„compareTo()æ–¹æ³•æ¥æ¯”è¾ƒå…ƒç´ ä¹‹é—´çš„å¤§å°å…³ç³»ã€‚æ ¹æ®æ¯”è¾ƒç»“æœï¼ŒTreeSetä¼šå°†å…ƒç´ æ’å…¥åˆ°åˆé€‚çš„ä½ç½®ï¼Œä»¥ä¿æŒæœ‰åºæ€§ã€‚å¦‚æœä¸¤ä¸ªå…ƒç´ ç›¸ç­‰ï¼ˆcompareTo()æ–¹æ³•è¿”å›0ï¼‰,TreeSetä¼šè®¤ä¸ºè¿™æ˜¯é‡å¤çš„å…ƒç´ ï¼Œåªä¼šä¿ç•™ä¸€ä¸ªã€‚</p><p>æ¡ˆä¾‹å±•ç¤ºï¼š ä½¿ç”¨è‡ªç„¶æ’åºï¼ˆå…ˆæŒ‰nameå‡åºï¼Œnameç›¸åŒåˆ™æŒ‰ageé™åºï¼‰è§£å†³ä¸Šè¿°æ¡ˆä¾‹é—®é¢˜ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap08.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;Person&gt; &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// çœç•¥getã€setã€æ„é€ </span></span><br><span class="line"></span><br><span class="line"><span class="comment">//é‡å†™æ–¹æ³•ï¼ŒæŒ‡å®šæ¯”è¾ƒè§„åˆ™ï¼šå…ˆæŒ‰nameå‡åºï¼Œnameç›¸åŒåˆ™æŒ‰ageé™åº</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compareTo</span><span class="params">(Person o)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> name.compareTo(o.name);</span><br><span class="line">        <span class="keyword">if</span> (r == <span class="number">0</span>) &#123;</span><br><span class="line">            r = o.age - <span class="built_in">this</span>.age;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812181822644.png" alt="image-20230812181822644"></p><p>å¯ä»¥çœ‹å‡ºï¼Œ<strong>Integerçš„ä¸¤ä¸ªå¯¹è±¡æ¯”è¾ƒå¤§å°ï¼Œå…¶å®å°±æ˜¯æ¯”è¾ƒIntegerå¯¹è±¡å¯¹åº”çš„intå€¼çš„å¤§å°</strong>ï¼ˆæ¯”å€¼ï¼‰</p><p><font color="#d12920">æ³¨æ„ï¼šcompareToæ–¹æ³•è¿”å›å€¼ä»£è¡¨çš„å«ä¹‰ï¼ˆä¸‰ç§æƒ…å†µï¼šæ­£æ•°ã€è´Ÿæ•°ã€é›¶ï¼‰</font></p><p>è¡¥å……å†…å®¹2ï¼šæ•´å½¢ã€æµ®ç‚¹å‹ã€å­—ç¬¦ä¸²è‡ªç„¶æ’åºè§„åˆ™</p><p>å¯¹äºæ•´å½¢ã€æµ®ç‚¹å‹å…ƒç´ ï¼Œå®ƒä»¬ä¼š<strong>æŒ‰ç…§ä»å°åˆ°å¤§çš„é¡ºåºè¿›è¡Œæ’åº</strong>ã€‚å¯¹äºå­—ç¬¦ä¸²ç±»å‹çš„å…ƒç´ ï¼Œå®ƒä»¬ä¼šæŒ‰ç…§<strong>å­—å…¸é¡ºåº</strong>è¿›è¡Œæ’åºã€‚</p><p><font color="#d12920">æ³¨æ„äº‹é¡¹ï¼šcompareToæ–¹æ³•çš„è¿”å›ç»“æœï¼Œåªå…³å¿ƒæ­£æ•°ã€è´Ÿæ•°ã€é›¶ï¼Œä¸å…³å¿ƒå…·ä½“çš„ å€¼æ˜¯å¤šå°‘</font></p></blockquote><p>TreeSetï¼šæ¯”è¾ƒå™¨æ’åº</p><blockquote><p>æ¯”è¾ƒå™¨æ’åºæ­¥éª¤ï¼š</p><ul><li>åˆ›å»ºä¸€ä¸ªå®ç°äº†Comparatoræ¥å£çš„æ¯”è¾ƒå™¨ç±»ï¼Œå¹¶é‡å†™å…¶ä¸­çš„<strong>compare(</strong>)æ–¹æ³•</li></ul><p>è¯¥æ–¹æ³•å®šä¹‰äº†å…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒè§„åˆ™ã€‚åœ¨ <strong>compare()</strong> æ–¹æ³•ä¸­ï¼Œæˆ‘ä»¬å¯ä»¥æ ¹æ® <strong>å…ƒç´ çš„å±æ€§è¿›è¡Œæ¯”è¾ƒ</strong>ï¼Œå¹¶è¿”å›è´Ÿæ•´æ•°ã€é›¶æˆ–æ­£æ•´æ•°ï¼Œæ¥è¡¨ç¤ºå…ƒç´ ä¹‹é—´çš„å¤§å° å…³ç³»ã€‚</p><ul><li>åˆ›å»ºTreeSetå¯¹è±¡æ—¶ï¼Œå°†æ¯”è¾ƒå™¨å¯¹è±¡ä½œä¸ºå‚æ•°ä¼ é€’æ„é€ å‡½æ•°ï¼Œè¿™æ ·ï¼ŒTreeSetä¼šæ ¹æ®æ¯”è¾ƒå™¨æ¥è¿›è¡Œæ’åºã€‚</li></ul><p>TreeSetæ„é€ å™¨ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®ä¾‹åŒ–TreeSetç±»å¯¹è±¡æ—¶ï¼Œéœ€è¦é¢å¤–ä¼ å…¥ä¸€ä¸ªæ¯”è¾ƒå™¨ç±»å¯¹è±¡</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">TreeSet</span><span class="params">(Comparator&lt;? <span class="built_in">super</span> E&gt; comparator)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>(<span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(comparator));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>java.util.Comparator æ¥å£æºç ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"><span class="meta">@FunctionalInterface</span> <span class="comment">// å‡½æ•°å¼æ¥å£</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">Comparator</span>&lt;T&gt; &#123;</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Compares its two arguments for order. Returns a</span></span><br><span class="line"><span class="comment">    negative integer,</span></span><br><span class="line"><span class="comment">    * zero, or a positive integer as the first argument is</span></span><br><span class="line"><span class="comment">    less than, equal</span></span><br><span class="line"><span class="comment">    * to, or greater than the second.&lt;p&gt;</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="type">int</span> <span class="title function_">compare</span><span class="params">(T o1, T o2)</span>;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>compareæ–¹æ³•è¯´æ˜ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> compare(o1, o2);</span><br></pre></td></tr></table></figure><ul><li>result &gt; 0, å‡åº</li><li>result &lt; 0, é™åº</li><li>resutl &#x3D; 0, ä¸èƒ½æ’å…¥</li></ul><p><strong>æ³¨æ„ï¼Œè¿™é‡Œå’Œè‡ªç„¶æ’åºçš„è§„åˆ™æ˜¯ä¸€æ ·çš„ï¼Œåªå…³å¿ƒæ­£æ•°ã€è´Ÿæ•°ã€é›¶ï¼Œä¸å…³å¿ƒå…·ä½“çš„ å€¼æ˜¯å¤šå°‘</strong></p><p>æ¡ˆä¾‹è¯´æ˜ï¼š ä½¿ç”¨æ¯”è¾ƒå™¨æ’åºï¼Œå¯¹ä¸Šè¿°æ¡ˆä¾‹ä¸­Personè¿›è¡Œæ’åºï¼Œè¦æ±‚å…ˆæŒ‰<strong>ageå‡åºï¼Œageç›¸åŒ åˆ™æŒ‰nameé™åº</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//1.å‡†å¤‡è‡ªå®šä¹‰æ¯”è¾ƒå™¨å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// åŒ¿åå†…éƒ¨ç±»å½¢å¼</span></span><br><span class="line">    Comparator&lt;Person&gt; comp = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Person&gt;() &#123;</span><br><span class="line">        <span class="comment">//é‡å†™æ¯”è¾ƒç®—æ³•ï¼šå…ˆæŒ‰æŒ‰ageå‡åºï¼Œageç›¸åŒåˆ™æŒ‰nameé™åº</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Person o1, Person o2)</span> &#123;</span><br><span class="line">            <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> o1.getAge() - o2.getAge();</span><br><span class="line">            <span class="keyword">if</span>(r == <span class="number">0</span>) &#123;</span><br><span class="line">                <span class="comment">//æ³¨æ„ï¼šå­—ç¬¦ä¸²æ¯”è¾ƒéœ€è¦ä½¿ç”¨compareToæ–¹æ³•</span></span><br><span class="line">                r = o2.getName().compareTo(o1.getName());</span><br><span class="line">            &#125;</span><br><span class="line">            <span class="keyword">return</span> r;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//2.å®ä¾‹åŒ–TreeSet,ä¼ å…¥è‡ªå®šä¹‰æ¯”è¾ƒå™¨å¯¹è±¡</span></span><br><span class="line">    Set&lt;Person&gt; set = <span class="keyword">new</span> <span class="title class_">TreeSet</span>&lt;&gt;(comp);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šå¦‚æœåŒæ—¶ä½¿ç”¨è‡ªç„¶æ’åºå’Œæ¯”è¾ƒå™¨æ’åºï¼Œæ¯”è¾ƒå™¨æ’åºå°†è¦†ç›–è‡ªç„¶æ’åº</font></p></blockquote><blockquote><p> è‡ªç„¶æ’åºï¼š</p><ul><li>ä½¿ç”¨å…ƒç´ ç±»å®ç°Comparableæ¥å£ï¼Œå¹¶é‡å†™å…¶ä¸­çš„**compareTo()**æ–¹æ³•</li><li>å…ƒç´ ä¼šæŒ‰ç…§å…¶è‡ªèº«çš„æ¯”è¾ƒè§„åˆ™è¿›è¡Œæ’åº</li><li>è‡ªç„¶æ’åºæ˜¯é»˜è®¤çš„æ’åºæ–¹å¼ï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨TreeSetæˆ–Collections.sort()æ–¹æ³•è¿›è¡Œæ’åº</li><li>åªèƒ½æœ‰ä¸€ç§è‡ªç„¶æ’åºæ–¹å¼</li></ul><p> æ¯”è¾ƒå™¨æ’åºï¼š</p><ul><li>ä½¿ç”¨Comparatorå¯¹è±¡æ¥å®šä¹‰å…ƒç´ ä¹‹é—´çš„æ¯”è¾ƒè§„åˆ™</li><li>å¯ä»¥è‡ªå®šä¹‰æ’åºè§„åˆ™ï¼Œä¸ä¾èµ–äºå…ƒç´ ç±»çš„å®ç°Comparableæ¥å£</li><li>éœ€è¦åˆ›å»ºä¸€ä¸ªå®ç°Comparatoræ¥å£çš„æ¯”è¾ƒå™¨ç±»ï¼Œå¹¶é‡å†™å…¶ä¸­çš„**compare()**æ–¹æ³•</li><li>å¯ä»¥æœ‰å¤šä¸ªæ¯”è¾ƒå™¨ï¼Œæ ¹æ®éœ€è¦é€‰æ‹©ä¸åŒçš„æ¯”è¾ƒå™¨è¿›è¡Œæ’åº</li><li>å¯ä»¥é€šè¿‡<strong>ä¼ å…¥Comparatorå¯¹è±¡ç»™TreeSetæˆ–Collections.sort()æ–¹æ³•</strong>æ¥è¿›è¡Œæ¯”è¾ƒå™¨æ’åº</li></ul></blockquote><h3 id="LinkedHashSet"><a href="#LinkedHashSet" class="headerlink" title="LinkedHashSet"></a>LinkedHashSet</h3><blockquote><p><strong>LinkedHashSet</strong>æ˜¯<strong>HashSet</strong>çš„ä¸€ä¸ªå­ç±»ï¼Œå…·æœ‰<strong>HashSet</strong>çš„<strong>é«˜æ•ˆæ€§èƒ½å’Œå”¯ä¸€æ€§ç‰¹æ€§</strong>ï¼Œå¹¶ä¸”ä¿<strong>æŒäº†å…ƒç´ çš„æ’å…¥é¡ºåº</strong>ï¼Œå…¶åº•å±‚<strong>åŸºäºå“ˆå¸Œè¡¨å’Œé“¾å®ç°</strong>ã€‚</p><p>æ¡ˆä¾‹å±•ç¤ºï¼šå®ä¾‹åŒ–ä¸€ä¸ªLinkedHashSeté›†åˆå¯¹è±¡ï¼Œå­˜å…¥å¤šä¸ªStringå­—ç¬¦ä¸²ï¼Œè§‚å¯Ÿæ˜¯å¦å”¯ä¸€åŠé¡ºåºå­˜å‚¨ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812185610457.png" alt="image-20230812185610457"></p></blockquote><h3 id="Setå°ç»“"><a href="#Setå°ç»“" class="headerlink" title="Setå°ç»“"></a>Setå°ç»“</h3><blockquote><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812185534516.png" alt="image-20230812185534516"></p></blockquote><h2 id="Mapé›†åˆ"><a href="#Mapé›†åˆ" class="headerlink" title="Mapé›†åˆ"></a>Mapé›†åˆ</h2><blockquote><p>å¾ˆå¤šæ—¶å€™ï¼Œæˆ‘ä»¬ä¼šé‡åˆ°æˆå¯¹å‡ºç°çš„æ•°æ®ï¼Œä¾‹å¦‚ï¼Œå§“åå’Œç”µè¯ï¼Œèº«ä»½è¯å’Œäººï¼ŒIPå’Œ åŸŸåç­‰ç­‰ï¼Œè¿™ç§æˆå¯¹å‡ºç°ï¼Œå¹¶ä¸”ä¸€ä¸€å¯¹åº”çš„æ•°æ®å…³ç³»ï¼Œå«åšæ˜ å°„ã€‚ <strong>java.util.Map&lt;k,v&gt;</strong> æ¥å£ï¼Œå°±æ˜¯ä¸“é—¨å¤„ç†è¿™ç§æ˜ å°„å…³ç³»æ•°æ®çš„é›†åˆç±»å‹ã€‚ Mapé›†åˆæ˜¯ä¸€ç§ç”¨äºå­˜å‚¨é”®å€¼å¯¹<strong>ï¼ˆkey-valueï¼‰</strong>æ˜ å°„å…³ç³»çš„é›†åˆç±»ã€‚å®ƒæä¾›äº†ä¸€ç§ å¿«é€ŸæŸ¥æ‰¾å’Œè®¿é—®æ•°æ®çš„æ–¹å¼ï¼Œå…¶ä¸­æ¯ä¸ªé”®éƒ½æ˜¯å”¯ä¸€çš„ï¼Œè€Œå€¼å¯ä»¥é‡å¤ã€‚</p></blockquote><h3 id="Mapæ¦‚è¿°"><a href="#Mapæ¦‚è¿°" class="headerlink" title="Mapæ¦‚è¿°"></a>Mapæ¦‚è¿°</h3><blockquote><p>Collectionæ¥å£ä¸º<strong>å•åˆ—é›†åˆ</strong>çš„æ ¹æ¥å£ï¼ŒMapæ¥å£ä¸º<strong>åŒåˆ—é›†åˆ</strong>çš„æ ¹æ¥å£ã€‚</p><p>Mapé›†åˆä¸Collectioné›†åˆï¼Œå­˜å‚¨æ•°æ®çš„å½¢å¼ä¸åŒ</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812192324269.png" alt="image-20230812192324269"></p><p>Mapé›†åˆç‰¹ç‚¹ï¼š</p><ul><li>å­˜å‚¨å…ƒç´ æ—¶ï¼Œå¿…é¡»ä»¥key-valueï¼ˆé”®å€¼å¯¹ï¼‰çš„æ–¹æ³•è¿›è¡Œ</li><li>é”®å”¯ä¸€æ€§ï¼šMapé›†åˆä¸­çš„é”®æ˜¯å”¯ä¸€çš„ï¼Œæ¯ä¸ªé”®åªèƒ½å¯¹åº”ä¸€ä¸ªå€¼</li><li>å¯é‡å¤å€¼ï¼šMapé›†åˆä¸­çš„å€¼å¯ä»¥é‡å¤ï¼Œä¸åŒçš„é”®å¯ä»¥å…³è”ç›¸åŒçš„å€¼</li><li>é«˜æ•ˆçš„æŸ¥æ‰¾å’Œè®¿é—®ï¼šé€šè¿‡ç»™å®šé”®keyå€¼(å”¯ä¸€)ï¼Œå¯ä»¥å¿«é€Ÿè·å–ä¸ä¹‹å¯¹åº”çš„valueå€¼</li></ul><p>Mapé›†åˆå†…éƒ¨ä½¿ç”¨å“ˆå¸Œè¡¨æˆ–çº¢é»‘æ ‘ç­‰æ•°æ®ç»“æ„æ¥å®ç°é«˜æ•ˆçš„æŸ¥æ‰¾å’Œè®¿é—®</p><p>Mapæ¥å£å¸¸ç”¨æ–¹æ³•ï¼ˆæ³¨æ„æ³›å‹Kä»£è¡¨Keyï¼ŒèŒƒå‹Vä»£è¡¨Valueï¼‰ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠŠkey-valueå­˜åˆ°å½“å‰Mapé›†åˆä¸­</span></span><br><span class="line">V <span class="title function_">put</span><span class="params">(K key, V value)</span></span><br><span class="line"><span class="comment">//æŠŠæŒ‡å®šmapä¸­çš„æ‰€æœ‰key-valueï¼Œå­˜åˆ°å½“å‰Mapé›†åˆä¸­</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">putAll</span><span class="params">(Map&lt;? extends K,? extends V&gt; m)</span></span><br><span class="line"><span class="comment">//å½“å‰Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„keyå€¼</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">containsKey</span><span class="params">(Object key)</span></span><br><span class="line"><span class="comment">//å½“å‰Mapé›†åˆä¸­æ˜¯å¦åŒ…å«æŒ‡å®šçš„valueå€¼</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">containsValue</span><span class="params">(Object value)</span></span><br><span class="line"><span class="comment">//æ¸…ç©ºå½“å‰Mapé›†åˆä¸­çš„æ‰€æœ‰æ•°æ®</span></span><br><span class="line"><span class="keyword">void</span> <span class="title function_">clear</span><span class="params">()</span></span><br><span class="line"><span class="comment">//åœ¨å½“å‰Mapé›†åˆä¸­ï¼Œé€šè¿‡æŒ‡å®šçš„keyå€¼ï¼Œè·å–å¯¹åº”çš„value</span></span><br><span class="line">V <span class="title function_">get</span><span class="params">(Object key)</span></span><br><span class="line"><span class="comment">//åœ¨å½“å‰Mapé›†åˆä¸­ï¼Œç§»é™¤æŒ‡å®škeyåŠå…¶å¯¹åº”çš„value</span></span><br><span class="line">V <span class="title function_">remove</span><span class="params">(Object key)</span></span><br><span class="line"><span class="comment">//è¿”å›å½“å‰Mapé›†åˆä¸­çš„å…ƒç´ ä¸ªæ•°ï¼ˆä¸€å¯¹key-valueï¼Œç®—ä¸€ä¸ªå…ƒç´ æ•°æ®ï¼‰</span></span><br><span class="line"><span class="type">int</span> <span class="title function_">size</span><span class="params">()</span></span><br><span class="line"><span class="comment">//åˆ¤æ–­å½“å‰Mapé›†åˆæ˜¯å¦ä¸ºç©º</span></span><br><span class="line"><span class="type">boolean</span> <span class="title function_">isEmpty</span><span class="params">()</span></span><br><span class="line"><span class="comment">//è¿”å›Mapé›†åˆä¸­æ‰€æœ‰çš„keyå€¼</span></span><br><span class="line">Set&lt;K&gt; <span class="title function_">keySet</span><span class="params">()</span></span><br><span class="line"><span class="comment">//è¿”å›Mapé›†åˆä¸­æ‰€æœ‰çš„valueå€¼</span></span><br><span class="line">Collection&lt;V&gt; <span class="title function_">values</span><span class="params">()</span></span><br><span class="line"><span class="comment">//æŠŠMapé›†åˆä¸­çš„çš„key-valueå°è£…æˆEntryç±»å‹å¯¹è±¡ï¼Œå†å­˜æ”¾åˆ°seté›†åˆä¸­ï¼Œå¹¶è¿”å›</span></span><br><span class="line">Set&lt;Map.Entry&lt;K,V&gt;&gt; entrySet()</span><br></pre></td></tr></table></figure><p>Mapé›†åˆå®ç°ç±»ï¼š Javaæä¾›çš„Mapé›†åˆå®ç°ç±»ï¼Œå¸¸è§çš„åŒ…æ‹¬<strong>HashMapã€TreeMapã€LinkedHashMap</strong> ç­‰ã€‚å®ƒä»¬åœ¨å†…éƒ¨å®ç°å’Œæ€§èƒ½æ–¹é¢æœ‰æ‰€ä¸åŒï¼Œå¯ä»¥æ ¹æ®å…·ä½“éœ€æ±‚é€‰æ‹©é€‚åˆçš„å®ç° ç±»ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230812193340800.png" alt="image-20230812193340800"></p><ul><li>HashMap</li></ul><p>åº•å±‚å€ŸåŠ©å“ˆå¸Œè¡¨å®ç°ï¼Œå…ƒç´ çš„å­˜å–é¡ºåºä¸èƒ½ä¿è¯ä¸€è‡´ã€‚ç”±äºè¦ä¿è¯é”®çš„å”¯ä¸€ã€ä¸é‡å¤ï¼Œéœ€è¦é‡å†™é”®æ‰€å±çš„ç±»å’ŒhashCode()æ–¹æ³•ã€equals()æ–¹æ³• (<strong>é‡è¦+æœ€å¸¸ç”¨</strong>)</p><ul><li>Hashtable</li></ul><p>å’Œä¹‹å‰Listé›†åˆä¸­çš„Vectorçš„åŠŸèƒ½ç±»ä¼¼ï¼Œå¯ä»¥å†å¤šçº¿ç¨‹ç¯å¢ƒä¸­ï¼Œä¿è¯é›†åˆä¸­çš„æ•°æ®çš„æ“ä½œå®‰å…¨ï¼ˆ<strong>çº¿ç¨‹å®‰å…¨</strong>ï¼‰</p><ul><li>LinkedHashMap</li></ul><p>è¯¥ç±»æ˜¯<strong>HashMapçš„å­ç±»</strong>ï¼Œå­˜å‚¨æ•°æ®é‡‡ç”¨<strong>å“ˆå¸Œè¡¨+é“¾è¡¨</strong>ã€‚é€šè¿‡é“¾è¡¨ç»“æ„å¯ä»¥ä¿è¯å…ƒç´ çš„å­˜å–é¡ºåºä¸€è‡´<strong>ï¼ˆå­˜å…¥é¡ºåºå°±æ˜¯å–å‡ºé¡ºåºï¼‰</strong></p><ul><li>TreeMap</li></ul><p>è¯¥ç±»æ˜¯<strong>Mapæ¥å£çš„å­æ¥å£SortedMapä¸‹é¢çš„å®ç°ç±»</strong>ï¼Œå’ŒTreeSetç±»ä¼¼ï¼Œå®ƒ<strong>å¯ä»¥å¯¹keyå€¼è¿›è¡Œæ’åºï¼ŒåŒæ—¶æ„é€ å™¨ä¹Ÿå¯ä»¥æ¥æ”¶ä¸€ä¸ªæ¯”è¾ƒå™¨å¯¹è±¡ä½œä¸ºå‚æ•°</strong>ã€‚æ”¯æŒ<strong>keyå€¼çš„è‡ªç„¶æ’åºå’Œæ¯”è¾ƒå™¨æ’åºä¸¤ç§æ–¹å¼ï¼ˆæ”¯æŒkeyæ’åºï¼‰</strong></p></blockquote><h3 id="Mapéå†"><a href="#Mapéå†" class="headerlink" title="Mapéå†"></a>Mapéå†</h3><blockquote><ul><li>ç¬¬ä¸€ç§æ€è·¯</li></ul><p>å€ŸåŠ©Mapä¸­çš„<strong>keySetæ–¹æ³•</strong>ï¼Œè·å–ä¸€ä¸ªSeté›†åˆå¯¹è±¡ï¼Œå†…éƒ¨åŒ…å«äº†Mapé›†åˆä¸­æ‰€æœ‰ çš„keyï¼Œè¿›è€Œéå†Seté›†åˆè·å–æ¯ä¸€ä¸ªkeyå€¼ï¼Œå†æ ¹æ®keyè·å–å¯¹åº”çš„valueã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813093425941.png" alt="image-20230813093425941"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§éå†</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    Map&lt;Integer, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    map.put(<span class="number">1</span>, <span class="string">&quot;zs&quot;</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="string">&quot;ls&quot;</span>);</span><br><span class="line">    map.put(<span class="number">4</span>, <span class="string">&quot;rose&quot;</span>);</span><br><span class="line">    map.put(<span class="number">3</span>, <span class="string">&quot;jack&quot;</span>);</span><br><span class="line">    map.put(<span class="number">2</span>, <span class="string">&quot;lucy&quot;</span>); <span class="comment">// lucy ä¼šæŠŠ lsè¦†ç›–æ‰</span></span><br><span class="line">    Set&lt;Integer&gt; keySet = map.keySet();</span><br><span class="line">    <span class="keyword">for</span> (Integer k : keySet) &#123;</span><br><span class="line">        <span class="type">String</span> <span class="variable">v</span> <span class="operator">=</span> map.get(k);</span><br><span class="line">        System.out.println(<span class="string">&quot;id: &quot;</span> + k + <span class="string">&quot; name: &quot;</span> + v);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¬¬äºŒç§éå†</li></ul><p>å€ŸåŠ©Mapä¸­çš„<strong>entrySetæ–¹æ³•</strong>ï¼Œè·å–ä¸€ä¸ªSetå¯¹è±¡ï¼Œå†…éƒ¨åŒ…å«äº†Mapé›†åˆä¸­æ‰€æœ‰çš„ é”®å€¼å¯¹ï¼Œç„¶åå¯¹é”®å€¼å¯¹è¿›è¡Œæ‹†åˆ†ï¼Œå¾—åˆ°keyå’Œvalueè¿›è¡Œè¾“å‡ºã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬äºŒç§éå†æ–¹å¼</span></span><br><span class="line">Set&lt;Entry&lt;Integer, String&gt;&gt; entrySet = map.entrySet();</span><br><span class="line"><span class="keyword">for</span> (Entry&lt;Integer, String&gt; entry : entrySet) &#123;</span><br><span class="line">    System.out.println(entry.getKey() + <span class="string">&quot; &quot;</span> + entry.getValue());</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸‰ç§éå†æ–¹å¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// lambdaè¡¨è¾¾å¼è¿›è¡Œéå†</span></span><br><span class="line">map.forEach((k, v) -&gt; System.out.println(k + <span class="string">&quot; &quot;</span> + v));</span><br></pre></td></tr></table></figure></blockquote><h3 id="HashMap"><a href="#HashMap" class="headerlink" title="HashMap"></a>HashMap</h3><blockquote><p>HashMapåº•å±‚å€ŸåŠ©å“ˆå¸Œè¡¨å®ç°ï¼Œå…ƒç´ çš„å­˜å–é¡ºåºä¸èƒ½ä¿è¯ä¸€è‡´ã€‚</p><p>HashMapå­˜å‚¨çš„é”®å€¼å¯¹ï¼Œå¦‚æœé”®ç±»å‹ä¸ºè‡ªå®šä¹‰ç±»ï¼Œé‚£ä¹ˆä¸€èˆ¬éœ€è¦é‡å†™é”®æ‰€å±ç±»çš„hashCode()å’Œequalsæ–¹æ³•() ï¼ˆé‡è¦ï¼Œæœ€å¸¸ç”¨ï¼‰</p><p>HashMapç‰¹ç‚¹ï¼š</p><ul><li>é”®å”¯ä¸€</li><li>å€¼å¯é‡å¤</li><li>æ— åºæ€§</li><li>çº¿ç¨‹ä¸å®‰å…¨</li><li><strong>é”®å’Œå€¼å…è®¸ä½¿ç”¨null</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test083_HashMap</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.å®ä¾‹åŒ–HashMapå¯¹è±¡ï¼Œå…¶ä¸­keyç±»å‹ä¸ºè‡ªå®šä¹‰Student</span></span><br><span class="line">        Map&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">// 2.å¾€é›†åˆä¸­æ·»åŠ å…ƒç´ </span></span><br><span class="line">        <span class="comment">// mapä¸­æ’å…¥é”®å€¼å¯¹ï¼Œè°ƒç”¨keyæ‰€å±ç±»çš„hashCodeå’Œequalsæ–¹æ³•è¿›è¡Œåˆ¤æ–­æ˜¯å¦é‡å¤</span></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>, <span class="number">78</span>), <span class="string">&quot;010&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;rose&quot;</span>, <span class="number">82</span>), <span class="string">&quot;005&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>), <span class="string">&quot;009&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>), <span class="string">&quot;019&quot;</span>); <span class="comment">// ç›¸åŒkeyï¼Œåªèƒ½ä¿ç•™ä¸€é¡¹ï¼Œ&quot;019&quot;ä¼šè¦†ç›–&quot;009&quot;</span></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ww&quot;</span>, <span class="number">67</span>), <span class="string">&quot;002&quot;</span>);</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šHashMapä¸­keyå’Œvalueéƒ½å¯ä»¥ä¸ºnull</span></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;tom&quot;</span>, <span class="number">86</span>), <span class="literal">null</span>);</span><br><span class="line">        map.put(<span class="literal">null</span>, <span class="string">&quot;002&quot;</span>);</span><br><span class="line">        <span class="comment">// 3.åŸºæœ¬æ–¹æ³•æµ‹è¯•</span></span><br><span class="line">        <span class="comment">// è·å–é•¿åº¦</span></span><br><span class="line">        System.out.println(<span class="string">&quot;size: &quot;</span> + map.size());</span><br><span class="line">        <span class="comment">// åˆ¤æ–­keyæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="comment">// å€ŸåŠ© keyæ‰€å±ç±»çš„hashCodeå’Œequalsæ–¹æ³•å®Œæˆ</span></span><br><span class="line">        System.out.println(<span class="string">&quot;Student(ww,67)æ˜¯å¦å­˜åœ¨: &quot;</span> + map.containsKey(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ww&quot;</span>, <span class="number">67</span>)));</span><br><span class="line">        <span class="comment">// åˆ¤æ–­valueæ˜¯å¦å­˜åœ¨</span></span><br><span class="line">        <span class="comment">// å€ŸåŠ©valueæ‰€å±ç±»å‹çš„ equalsæ–¹æ³•</span></span><br><span class="line">        System.out.println(<span class="string">&quot;æ˜¯å¦å­˜åœ¨ 009: &quot;</span> + map.containsValue(<span class="string">&quot;009&quot;</span>));</span><br><span class="line">        <span class="comment">// æ ¹æ®keyåˆ é™¤ï¼Œè¿”å›é”®å¯¹åº”çš„å€¼</span></span><br><span class="line">        <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> map.remove(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>));</span><br><span class="line">        System.out.println(<span class="string">&quot;remove(Student(lucy, 70)): &quot;</span> + value);</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 4.ç¬¬ä¸€ç§éå†æ–¹æ³•</span></span><br><span class="line">        Set&lt;Student&gt; keySet = map.keySet();</span><br><span class="line">        <span class="keyword">for</span> (Student key : keySet) &#123;</span><br><span class="line">            System.out.println(key + <span class="string">&quot;: &quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------&quot;</span>);</span><br><span class="line">        <span class="comment">// ç¬¬äºŒç§æ–¹å¼éå†</span></span><br><span class="line">        Set&lt;Entry&lt;Student, String&gt;&gt; entrySet = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;Student, String&gt; entry : entrySet) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot;: &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813095357815.png" alt="image-20230813095357815"></p><p><font color="#d12920">ç»“è®ºï¼škeyç±»å‹å¦‚æœä¸ºè‡ªå®šä¹‰ç±»å‹ï¼Œé‡å†™å…¶hashCodeå’Œequalsæ–¹æ³•ï¼</font></p><ul><li>HashMapä¸­addï¼ˆkeyï¼Œvalueï¼‰æ—¶ï¼Œéœ€è¦åˆ¤è¯»keyæ˜¯å¦å­˜åœ¨ï¼ˆå…ˆhashCodeå†equalsï¼‰</li><li>HashMapä¸­containsKeyï¼ˆkeyï¼‰ï¼ŒåŒæ ·è¦å€ŸåŠ©hashCodeå’Œequalsæ–¹æ³•</li><li>HashMapä¸­çš„removeï¼ˆkeyï¼‰ï¼ŒåŒæ ·è¦å€ŸåŠ©hashCodeå’Œequalsæ–¹æ³•</li></ul><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813100440627.png" alt="image-20230813100440627"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// HashSetæºç åˆ†æ</span></span><br><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">HashSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">extends</span> <span class="title class_">AbstractSet</span>&lt;E&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Set</span>&lt;E&gt;, Cloneable, java.io.Serializable</span><br><span class="line">&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> HashMap&lt;E,Object&gt; map;</span><br><span class="line">    <span class="comment">// Dummy value to associate with an Object in the backing Map</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">Object</span> <span class="variable">PRESENT</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line">    <span class="comment">/**</span></span><br><span class="line"><span class="comment">    * Constructs a new, empty set; the backing</span></span><br><span class="line"><span class="comment">    &lt;tt&gt;HashMap&lt;/tt&gt; instance has</span></span><br><span class="line"><span class="comment">    * default initial capacity (16) and load factor (0.75).</span></span><br><span class="line"><span class="comment">    */</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">HashSet</span><span class="params">()</span> &#123;</span><br><span class="line">        map = <span class="keyword">new</span> <span class="title class_">HashMap</span>&lt;&gt;();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ·»åŠ å…ƒç´ ï¼Œvalueå€¼å›ºå®šä¸ºObjectç±»å¯¹è±¡PRESENT</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">add</span><span class="params">(E e)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> map.put(e, PRESENT)==<span class="literal">null</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="Hashtable"><a href="#Hashtable" class="headerlink" title="Hashtable"></a>Hashtable</h3><blockquote><p>Hashtableæ˜¯Javaä¸­æ—©æœŸçš„å“ˆå¸Œè¡¨å®ç°ï¼Œå®ƒå®ç°äº†Mapæ¥å£ï¼Œå¹¶æä¾›äº†é”®å€¼å¯¹çš„å­˜ å‚¨å’Œè®¿é—®åŠŸèƒ½ã€‚</p><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813100911921.png" alt="image-20230813100911921"></p><p>Hashtableç‰¹ç‚¹ï¼š</p><ul><li>JDK1.0æä¾›ï¼Œæ¥å£æ–¹æ³•è¾ƒä¸ºå¤æ‚ï¼ŒåæœŸå®ç°äº†Mapæ¥å£</li><li>çº¿ç¨‹å®‰å…¨ï¼šHashtableæ˜¯çº¿ç¨‹å®‰å…¨çš„ï¼Œç›¸å¯¹äºHashMapæ€§èƒ½ç¨ä½</li><li><strong>é”®å’Œå€¼ä¸èƒ½ä¸ºnull</strong>ï¼šå¦‚æœå°è¯•ä½¿ç”¨nullä½œä¸ºé”®æˆ–å€¼ï¼Œå°†ä¼šæŠ›å‡ºNullPointerException</li><li>å“ˆå¸Œè¡¨å®ç°ï¼šå’ŒHashMapä¸€æ ·ï¼Œå†…éƒ¨ä½¿ç”¨å“ˆå¸Œè¡¨æ•°æ®ç»“æ„æ¥å­˜å‚¨é”®å€¼å¯¹</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test084_Hashtable</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Hashtable&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">Hashtable</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>, <span class="number">78</span>), <span class="string">&quot;010&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;rose&quot;</span>, <span class="number">82</span>), <span class="string">&quot;005&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>), <span class="string">&quot;009&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>), <span class="string">&quot;019&quot;</span>); <span class="comment">// ç›¸åŒkeyï¼Œåªèƒ½ä¿ç•™ä¸€é¡¹ï¼Œ&quot;019&quot;ä¼šè¦†ç›–&quot;009&quot;</span></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ww&quot;</span>, <span class="number">67</span>), <span class="string">&quot;002&quot;</span>);</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼šHashtableä¸­keyå’Œvalueä¸èƒ½ä¸ºnullï¼Œå¦åˆ™æŠ›å‡ºNullPointerException</span></span><br><span class="line">        <span class="comment">// map.put(new Student(&quot;tom&quot;, 86), null);</span></span><br><span class="line">        <span class="comment">// map.put(null, &quot;002&quot;);</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// éå†</span></span><br><span class="line">        Enumeration&lt;Student&gt; keys = map.keys();</span><br><span class="line">        <span class="keyword">while</span> (keys.hasMoreElements()) &#123;</span><br><span class="line">            <span class="type">Student</span> <span class="variable">key</span> <span class="operator">=</span> keys.nextElement();</span><br><span class="line">            <span class="type">String</span> <span class="variable">value</span> <span class="operator">=</span> map.get(key);</span><br><span class="line">            System.out.println(key + <span class="string">&quot; : &quot;</span> + value);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>Hashtableå°ç»“ï¼š</p><ul><li>å•çº¿ç¨‹ç¯å¢ƒä¸‹å»ºè®®ä½¿ç”¨HashMapï¼Œæ€§èƒ½æ›´å¥½</li><li>å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ï¼Œå»ºè®®ä½¿ç”¨HashMap + Collections (è¯·å¬ååº)</li></ul></blockquote><h3 id="TreeMap"><a href="#TreeMap" class="headerlink" title="TreeMap"></a>TreeMap</h3><blockquote><p>TreeMapæ˜¯æœ‰åºæ˜ å°„å®ç°ç±»ï¼Œå®ƒå®ç°äº†<strong>SortedMapæ¥å£</strong>ï¼ŒåŸºäº<strong>çº¢é»‘æ ‘</strong>æ•°æ®ç»“æ„æ¥å­˜å‚¨é”®å€¼å¯¹</p><p>TreeMapç‰¹ç‚¹ï¼š</p><ul><li>é”®çš„æ’åºï¼šTreeMapä¸­çš„é”®æ˜¯æŒ‰ç…§è‡ªç„¶é¡ºåºæˆ–è‡ªå®šä¹‰æ¯”è¾ƒå™¨è¿›è¡Œæ’åº</li><li>çº¢é»‘æ ‘å®ç°ï¼šTreeMapå†…éƒ¨ä½¿ç”¨çº¢é»‘æ ‘è¿™ç§è‡ªå¹³è¡¡äºŒå‰æœç´¢æ ‘æ•°æ®ç»“æ„æ¥å­˜å‚¨é”®å€¼å¯¹</li><li>é”®å”¯ä¸€ï¼Œå€¼å¯é‡å¤</li><li>çº¿ç¨‹ä¸å®‰å…¨ï¼Œå¦‚æœåœ¨å¤šçº¿ç¨‹ç¯å¢ƒä¸‹ä½¿ç”¨TreeMap,åº”è¯¥ä½¿ç”¨Collectionså·¥å…·ç±»å¤„ç†</li><li>åˆå§‹å®¹é‡ï¼šTreeMapæ²¡æœ‰åˆå§‹å®¹é‡çš„æ¦‚å¿µï¼Œå®ƒä¼šæ ¹æ®æ’å…¥çš„é”®å€¼å¯¹åŠ¨æ€åœ°è°ƒæ•´çº¢é»‘æ ‘çš„å¤§å°</li></ul><p><strong>TreeMap</strong> è‡ªç„¶æ’åºæ¡ˆä¾‹ï¼š å®ä¾‹åŒ–TreeMapå¯¹è±¡ï¼Œæ·»åŠ å…ƒç´ å¹¶éå†ï¼Œè§‚å¯Ÿç¨‹åºè¿è¡Œç»“æœã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test085_TreeMap</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Map&lt;Integer,String&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;();</span><br><span class="line">        map.put(<span class="number">4</span>,<span class="string">&quot;mary&quot;</span>);</span><br><span class="line">        map.put(<span class="number">2</span>,<span class="string">&quot;jack&quot;</span>);</span><br><span class="line">        map.put(<span class="number">1</span>,<span class="string">&quot;tom&quot;</span>);</span><br><span class="line">        map.put(<span class="number">3</span>,<span class="string">&quot;lucy&quot;</span>);</span><br><span class="line">        Set&lt;Integer&gt; keys = map.keySet();</span><br><span class="line">        <span class="keyword">for</span>(Integer key : keys)&#123;</span><br><span class="line">            System.out.println(key + <span class="string">&quot;: &quot;</span> + map.get(key));</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// 1 : lucy</span></span><br><span class="line"><span class="comment">// 2 : tom</span></span><br><span class="line"><span class="comment">// 3 : jack</span></span><br><span class="line"><span class="comment">// 4 : mary</span></span><br></pre></td></tr></table></figure><p>TreeMap æ¯”è¾ƒå™¨æ’åºæ¡ˆä¾‹ï¼š </p><p>åˆ›å»ºTreeMapé›†åˆå¯¹è±¡ï¼Œé¢å¤–æŒ‡å®šæ¯”è¾ƒå™¨ï¼Œè¦æ±‚æŒ‰<strong>åå­—é™åº</strong>ï¼Œ å¦‚æœ<strong>åå­—ç›¸åŒåˆ™æŒ‰æˆç»©å‡åº</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test086_TreeMapComparatorTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        Comparator&lt;Student&gt; myComparator = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">                <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> -o1.getName().compareTo(o2.getName());</span><br><span class="line">                <span class="keyword">if</span> (r == <span class="number">0</span>) &#123;</span><br><span class="line">                    r = Integer.valueOf(o1.getScore()).compareTo(Integer.valueOf(o2.getScore()));</span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">return</span> r;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        Map&lt;Student, String&gt; map = <span class="keyword">new</span> <span class="title class_">TreeMap</span>&lt;&gt;(myComparator);</span><br><span class="line"></span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>, <span class="number">78</span>), <span class="string">&quot;010&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;rose&quot;</span>, <span class="number">82</span>), <span class="string">&quot;005&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">79</span>), <span class="string">&quot;009&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">79</span>), <span class="string">&quot;009&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;tom&quot;</span>, <span class="number">68</span>), <span class="string">&quot;019&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;tom&quot;</span>, <span class="number">86</span>), <span class="string">&quot;012&quot;</span>);</span><br><span class="line">        map.put(<span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ww&quot;</span>, <span class="number">67</span>), <span class="string">&quot;002&quot;</span>);</span><br><span class="line">        <span class="comment">// keyä¸èƒ½ä¸ºnull,å¦åˆ™å‡º NullPointerException</span></span><br><span class="line">        <span class="comment">// map.put(null, &quot;002&quot;);</span></span><br><span class="line"></span><br><span class="line">        Set&lt;Entry&lt;Student, String&gt;&gt; entrySet = map.entrySet();</span><br><span class="line">        <span class="keyword">for</span> (Entry&lt;Student, String&gt; entry : entrySet) &#123;</span><br><span class="line">            System.out.println(entry.getKey() + <span class="string">&quot; : &quot;</span> + entry.getValue());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813104353939.png" alt="image-20230813104353939"></p><p><strong>æ€è€ƒï¼Œå¦‚æœè¦æ±‚é‡å¤çš„å…ƒç´ ä¹Ÿèƒ½å¤Ÿæ”¾å…¥ï¼Œå¦‚ä½•å®ç°ï¼Ÿ</strong> </p><p>ä¿®æ”¹æ¯”è¾ƒå™¨ä¸­è¿”å›å€¼å³å¯ï¼š<strong>å½“r&#x3D;&#x3D;0ï¼Œå³å…ƒç´ å±æ€§ä¸€æ ·æ—¶ï¼Œè¿”å›é0å€¼å³å¯ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">Comparator&lt;Student&gt; myComparator = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Student&gt;() &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Student o1, Student o2)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> -o1.getName().compareTo(o2.getName());</span><br><span class="line">        <span class="keyword">if</span> (r == <span class="number">0</span>) &#123;</span><br><span class="line">            r = Integer.valueOf(o1.getScore()).compareTo(Integer.valueOf(o2.getScore()));</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// å½“ r==0, å³å…ƒç´ å±æ€§ä¸€æ ·æ˜¯ï¼Œè¿”å›é0å€¼å³å¯</span></span><br><span class="line">        <span class="keyword">return</span> r == <span class="number">0</span> ? <span class="number">1</span> : r;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;;</span><br></pre></td></tr></table></figure><p>TreeMapå°ç»“ï¼š</p><p>TreeMapåº•å±‚å€ŸåŠ©<strong>çº¢é»‘æ ‘</strong>å®ç°ï¼Œå®ƒæä¾›äº†æç¬‘çš„æœ‰åºæ˜ å°„åŠŸèƒ½ï¼Œå¯ä»¥ç”¨äºèŒƒå›´æŸ¥æ‰¾ã€æ’åºä½•éå†ç­‰æ“ä½œã€‚ä½†çº¢é»‘æ ‘çš„å¹³è¡¡æ“ä½œä¼šå¸¦æ¥é¢å¤–çš„å¼€é”€ï¼Œç›¸æ¯”äºHashMapç­‰å®ç°ç±»ï¼ŒTreeMapåœ¨<strong>æ’å…¥å’Œé™¤æ“ä½œå¯èƒ½ç¨æ…¢</strong>ã€‚</p></blockquote><h3 id="LinkedHashMap"><a href="#LinkedHashMap" class="headerlink" title="LinkedHashMap"></a>LinkedHashMap</h3><blockquote><p><strong>LinkedHashMapæ˜¯HashMapçš„ä¸€ä¸ªå­ç±»</strong>ï¼Œåº•å±‚åœ¨<strong>å“ˆå¸Œè¡¨</strong>çš„åŸºç¡€ä¸Šï¼Œé€šè¿‡ç»´æŠ¤<strong>ä¸€ä¸ªåŒå‘é“¾è¡¨æ¥ä¿æŒé”®å€¼å¯¹çš„æœ‰åºæ€§ï¼Œå¯ä»¥ä¿è¯å­˜å–æ¬¡åºä¸€è‡´ã€‚</strong></p><p>LinkedHashMap åŸºç¡€æ¡ˆä¾‹ï¼š åˆ›å»ºLinkedHashMapå¯¹è±¡ï¼Œæ·»åŠ å…ƒç´ ï¼Œè§‚å¯Ÿæ˜¯å¦å­˜å–æ¬¡åºä¸€ è‡´ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test086_LinkedHashMap</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     Map&lt;String, Student&gt; map = <span class="keyword">new</span> <span class="title class_">LinkedHashMap</span>&lt;&gt;();</span><br><span class="line">     <span class="comment">// 2.æ·»åŠ å…ƒç´ </span></span><br><span class="line">     map.put(<span class="string">&quot;010&quot;</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>, <span class="number">78</span>));</span><br><span class="line">     map.put(<span class="string">&quot;005&quot;</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;rose&quot;</span>, <span class="number">82</span>));</span><br><span class="line">     map.put(<span class="string">&quot;009&quot;</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>));</span><br><span class="line">     map.put(<span class="string">&quot;019&quot;</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;lucy&quot;</span>, <span class="number">70</span>)); <span class="comment">// valueå¯ä»¥é‡å¤</span></span><br><span class="line">     map.put(<span class="string">&quot;002&quot;</span>, <span class="literal">null</span>);</span><br><span class="line">     map.put(<span class="literal">null</span>, <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;ww&quot;</span>, <span class="number">67</span>));</span><br><span class="line"></span><br><span class="line">     <span class="keyword">for</span> (String key : map.keySet()) &#123;</span><br><span class="line">         System.out.println(key + <span class="string">&quot; : &quot;</span> + map.get(key));</span><br><span class="line">     &#125;</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813105503563.png" alt="image-20230813105503563"></p><p>å¯ä»¥çœ‹å‡ºï¼Œæ•°æ®å­˜å…¥Mapä¸­çš„é¡ºåºï¼Œå°±æ˜¯å­˜å‚¨çš„é¡ºåºï¼Œä¹Ÿæ˜¯å–å‡ºçš„é¡ºåºï¼</p></blockquote><h3 id="Mapå°ç»“"><a href="#Mapå°ç»“" class="headerlink" title="Mapå°ç»“"></a>Mapå°ç»“</h3><blockquote><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813105919321.png" alt="image-20230813105919321"></p></blockquote><h2 id="Collections"><a href="#Collections" class="headerlink" title="Collections"></a>Collections</h2><blockquote><p>æ•°ç»„å·¥å…·ç±»æ˜¯<strong>java.util.Arrays</strong>,å¯ä»¥ä¸“é—¨æ¥æ“ä½œ<strong>æ•°ç»„å¯¹è±¡</strong>ï¼Œæä¾›é™æ€æ–¹æ³•ï¼Œå¯ç›´æ¥è°ƒç”¨</p><p>é›†åˆå·¥å…·ç±»æ˜¯j<strong>ava.util.Collections</strong>, ä¸“é—¨æ¥æ“ä½œ<strong>é›†åˆå¯¹è±¡</strong>ï¼Œé‡Œè¾¹<strong>éƒ½æ˜¯é™æ€æ–¹æ³•</strong>ï¼Œå¯ä»¥ç›´æ¥è°ƒç”¨ã€‚</p><p><font color="#d12920">æ³¨æ„ï¼šCollectionæ˜¯å•åˆ—é›†åˆæ ¹æ¥å£ï¼ŒCollectionsæ˜¯é›†åˆå·¥å…·ç±»ï¼Œä¸¤è€…ä¸åŒï¼</font></p><ul><li>Collections å¸¸ç”¨æ–¹æ³•ï¼š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.util;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Collections</span> &#123;</span><br><span class="line">    <span class="comment">// ç±»å¤–ä¸èƒ½å®ä¾‹åŒ–å¯¹è±¡ï¼Œå·¥å…·ç±»ä¸»è¦è°ƒç”¨staticæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Collections</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¡«å……å…ƒç´ å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T&gt; <span class="keyword">void</span> <span class="title function_">fill</span><span class="params">(List&lt;? <span class="built_in">super</span> T&gt; list, T obj)</span> &#123;</span><br><span class="line">        <span class="comment">//çœç•¥...</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//è·å–æœ€å¤§å€¼</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T <span class="keyword">extends</span> <span class="title class_">Object</span> &amp; Comparable&lt;? <span class="built_in">super</span> T&gt;&gt; T <span class="title function_">max</span><span class="params">(Collection&lt;? extends T&gt; coll)</span> &#123;</span><br><span class="line">        Iterator&lt;? <span class="keyword">extends</span> <span class="title class_">T</span>&gt; i = coll.iterator();</span><br><span class="line">        <span class="type">T</span> <span class="variable">candidate</span> <span class="operator">=</span> i.next();</span><br><span class="line">        <span class="keyword">while</span> (i.hasNext()) &#123;</span><br><span class="line">            <span class="type">T</span> <span class="variable">next</span> <span class="operator">=</span> i.next();</span><br><span class="line">            <span class="keyword">if</span> (next.compareTo(candidate) &gt; <span class="number">0</span>)</span><br><span class="line">                candidate = next;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> candidate;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ’åº</span></span><br><span class="line">    <span class="meta">@SuppressWarnings(&quot;unchecked&quot;)</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> &lt;T <span class="keyword">extends</span> <span class="title class_">Comparable</span>&lt;? <span class="built_in">super</span> T&gt;&gt; <span class="keyword">void</span>  <span class="title function_">sort</span><span class="params">(List&lt;T&gt; list)</span> &#123;</span><br><span class="line">        list.sort(<span class="literal">null</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥ ...</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p>å…·ä½“æ–¹æ³•è®²è§£</p><ul><li>fillæ–¹æ³•ï¼Œä½¿ç”¨æŒ‡å®šå…ƒç´ æ›¿æ¢æŒ‡å®šåˆ—è¡¨ä¸­çš„æ‰€æœ‰å…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="number">0</span>);</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">2</span>);</span><br><span class="line">Collections.fill(list, <span class="number">100</span>);</span><br><span class="line"><span class="keyword">for</span> (Integer num : list) &#123;</span><br><span class="line">    System.out.println(num);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>maxæ–¹æ³•ï¼Œæ ¹æ®å…ƒç´ çš„<strong>è‡ªç„¶é¡ºåº</strong>ï¼Œè¿”å›ç»™å®šé›†åˆçš„æœ€å¤§å…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="number">0</span>);</span><br><span class="line">list.add(<span class="number">65</span>);</span><br><span class="line">list.add(<span class="number">2</span>);</span><br><span class="line">System.out.println(Collections.max(list));</span><br></pre></td></tr></table></figure><p><img src="/2023/08/13/08-1-%E9%9B%86%E5%90%88/image-20230813111937019.png" alt="image-20230813111937019"></p><ul><li>min æ–¹æ³•ï¼Œæ ¹æ®å…ƒç´ çš„<strong>è‡ªç„¶é¡ºåº</strong>ï¼Œè¿”å›ç»™å®šé›†åˆçš„æœ€å°å…ƒç´ </li><li>reverseæ–¹æ³•ï¼Œåè½¬é›†åˆä¸­çš„å…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">9</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line">Collections.reverse(list);</span><br><span class="line"><span class="keyword">for</span>(Integer o : list) &#123;</span><br><span class="line">    System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>sortæ–¹æ³•ï¼Œæ ¹æ®å…ƒç´ çš„<strong>è‡ªç„¶é¡ºåº</strong>ï¼Œé˜ŸæŒ‡å®šåˆ—è¡¨æŒ‰å‡åºè¿›è¡Œæ’åº</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">9</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line"><span class="comment">//å¦‚æœéœ€è¦ï¼Œä¹Ÿå¯ä»¥åœ¨ç¬¬äºŒä¸ªå‚æ•°ä½ç½®ä¼ ä¸€ä¸ªæ¯”è¾ƒå™¨å¯¹è±¡</span></span><br><span class="line"><span class="comment">//Collections.sort(list,c);</span></span><br><span class="line">Collections.sort(list);</span><br><span class="line"><span class="keyword">for</span>(Integer o : list) &#123;</span><br><span class="line">    System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>shuffleæ–¹æ³•ï¼Œä½¿ç”¨é»˜è®¤éšæœºæºå¯¹æŒ‡å®šåˆ—è¡¨è¿›è¡Œç½®æ¢</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">list.add(<span class="number">1</span>);</span><br><span class="line">list.add(<span class="number">9</span>);</span><br><span class="line">list.add(<span class="number">3</span>);</span><br><span class="line">Collections.shuffle(list);</span><br><span class="line"><span class="keyword">for</span>(Integer o : list) &#123;</span><br><span class="line">    System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>addAllæ–¹æ³•ï¼Œå¾€é›†åˆä¸­æ·»åŠ ä¸€äº›å…ƒç´ </li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line"><span class="comment">//æ³¨æ„ï¼ŒaddAllçš„ç¬¬äºŒä¸ªå‚æ•°ï¼Œæ˜¯å¯å˜å‚æ•°</span></span><br><span class="line">Collections.addAll(list,<span class="number">1</span>,<span class="number">3</span>,<span class="number">5</span>,<span class="number">7</span>);</span><br><span class="line"><span class="keyword">for</span>(Integer o : list) &#123;</span><br><span class="line">    System.out.println(o);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>synchronizedç›¸å…³æ–¹æ³•ï¼Œ<strong>å°†éçº¿åŸå®‰å…¨çš„é›†åˆè½¬ä¸ºçº¿åŸå®‰å…¨</strong><ul><li>synchronizedCollectionï¼šæŠŠéçº¿ç¨‹å®‰å…¨çš„Collectionç±»å‹é›†åˆï¼Œè½¬ä¸ºçº¿ç¨‹å®‰å…¨çš„é›†åˆ</li><li>synchronizedListï¼šList â€“&gt; çº¿ç¨‹å®‰å…¨</li><li>synchronizedSet: Set â€“&gt; çº¿ç¨‹å®‰å…¨</li><li>synchronizedMapï¼šMap â€“&gt; çº¿ç¨‹å®‰å…¨</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test09_Collections</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.å‡†å¤‡é›†åˆå¹¶æ·»åŠ å…ƒç´ </span></span><br><span class="line">        <span class="comment">//List&lt;Integer&gt; list = Arrays.asList(5,3,4,2,2,7);</span></span><br><span class="line">        List&lt;Integer&gt; list = <span class="keyword">new</span> <span class="title class_">ArrayList</span>&lt;&gt;();</span><br><span class="line">        <span class="comment">//addAll å¾€é›†åˆä¸­æ·»åŠ å¤šä¸ªå…ƒç´ </span></span><br><span class="line">        Collections.addAll(list,<span class="number">5</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">2</span>,<span class="number">2</span>,<span class="number">7</span>);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//2.max è·å–æœ€å¤§å€¼ã€é»˜è®¤é‡‡ç”¨è‡ªç„¶æ’åºã€‘</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">max</span> <span class="operator">=</span> Collections.max(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;max: &quot;</span> + max);</span><br><span class="line">        <span class="comment">//3.min è·å–é›†åˆæœ€å°å€¼</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">min</span> <span class="operator">=</span> Collections.min(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;min: &quot;</span> + min);</span><br><span class="line">        <span class="comment">//4.reverse åè½¬</span></span><br><span class="line">        Collections.reverse(list);</span><br><span class="line">        System.out.println(list);</span><br><span class="line">        <span class="comment">//4.sort æ’åºã€æŒ‰ç…§ ä¼ å…¥çš„æ’åºç®—æ³• è¿›è¡Œæ’åºã€‘</span></span><br><span class="line">        Comparator&lt;Integer&gt; comp = <span class="keyword">new</span> <span class="title class_">Comparator</span>&lt;Integer&gt;() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">compare</span><span class="params">(Integer o1, Integer o2)</span> &#123;</span><br><span class="line">                <span class="comment">// é€†åº</span></span><br><span class="line">                <span class="keyword">return</span> o2-o1;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">//æ³¨æ„ï¼šæ’åºä¸ä¼šåˆ é™¤é›†åˆä¸­çš„å…ƒç´ </span></span><br><span class="line">        Collections.sort(list,comp);</span><br><span class="line">        System.out.println(<span class="string">&quot;é€†åº: &quot;</span> + list);</span><br><span class="line">        <span class="comment">//5.shuffle éšæœºæ‰“ä¹±</span></span><br><span class="line">        Collections.shuffle(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰“ä¹±: &quot;</span> + list);</span><br><span class="line">        <span class="comment">//6.sort æ’åºã€é»˜è®¤è‡ªç„¶æ’åºã€‘</span></span><br><span class="line">        Collections.sort(list);</span><br><span class="line">        System.out.println(<span class="string">&quot;è‡ªç„¶æ’åºï¼š &quot;</span> + list);</span><br><span class="line">        <span class="comment">//7.fill å¡«å……</span></span><br><span class="line">        Collections.fill(list, <span class="number">20</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;after fill: &quot;</span> + list);</span><br><span class="line">        <span class="comment">//8.å°†ArrayListã€çº¿ç¨‹ä¸å®‰å…¨ã€‘çš„é›†åˆ è½¬æ¢æˆ çº¿ç¨‹å®‰å…¨é›†åˆ</span></span><br><span class="line">        <span class="comment">//List&lt;Integer&gt; list2 =</span></span><br><span class="line">        Collections.synchronizedList(list);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šCollections.sortæ’åºä¸ä¼šåˆ é™¤é›†åˆä¸­çš„å…ƒç´ ã€‚</strong></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>å¤§é¹ä¸€æ—¥åŒé£èµ·ï¼Œæ‰¶æ‘‡ç›´ä¸Šä¹ä¸‡é‡Œã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ideaé—ªé€€é—®é¢˜è§£å†³</title>
      <link href="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„ç—›è‹¦ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¸‰å¹´äº†ï¼Œä½ çŸ¥åˆ°æˆ‘æ˜¯æ€ä¹ˆè¿‡æ¥çš„å—ï¼Ÿideaä¸€ç›´é—ªé€€ï¼Œä¸€ç›´æ‰¾ä¸åˆ°åŸå› ã€‚</p><p>ä»Šå¤©ç»ˆäºåœ†æ»¡çš„è§£å†³äº†è¿™ä¸ªé—®é¢˜ï¼ </p><p><strong>ä»°å¤©é•¿ç¬‘å‡ºé—¨å»ï¼Œæˆ‘è¾ˆå²‚æ˜¯è“¬è’¿äººã€‚</strong></p></blockquote><h2 id="é—®é¢˜"><a href="#é—®é¢˜" class="headerlink" title="é—®é¢˜"></a>é—®é¢˜</h2><blockquote><p>ä¸ºä»€ä¹ˆideaä¼šé—ªé€€å‘¢ï¼Ÿ  </p><p>æŸ¥çœ‹ java_err_in_idea64_xxxx.log</p><p>è·¯å¾„ï¼šC:\Users\ç”¨æˆ·å\java_error_in_idea64_11056.log</p><p>å½“ç„¶å¯ä»¥ä½¿ç”¨utoolsè¿›è¡Œå¿«é€ŸæŸ¥æ‰¾<a href="https://www.lzwgxust.top/post/c6f514bb.html?highlight=utools">utools | æ¥šé—¨çš„ä¸–ç•Œ</a></p></blockquote><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230807192746461.png" alt="image-20230807192746461"></p><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230807193045720.png" alt="image-20230807193045720"></p><blockquote><p>ç¿»è¯‘å°±æ˜¯ï¼š<font color="#d12920">ä¸ä¼šå†™å…¥ä»»ä½•æ ¸å¿ƒè½¬å‚¨ã€‚é»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨å®¢æˆ·ç«¯ç‰ˆæœ¬çš„Windowsä¸Šæœªå¯ç”¨å°å‹è½¬å‚¨</font></p><p>ç½‘ä¸Šæœå•Šæœå•Šï¼ŒåŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººç»ˆäºè®©æˆ‘æ‰¾åˆ°äº†ä¸€ç¯‡åšå®¢ï¼š<a href="https://blog.csdn.net/weixin_45691427/article/details/119108900?spm=1001.2014.3001.5501">ç‹å°æ–°</a></p></blockquote><h2 id="è§£å†³"><a href="#è§£å†³" class="headerlink" title="è§£å†³"></a>è§£å†³</h2><h3 id="æ–¹æ³•ä¸€"><a href="#æ–¹æ³•ä¸€" class="headerlink" title="æ–¹æ³•ä¸€"></a>æ–¹æ³•ä¸€</h3><blockquote><p>ideaé—ªé€€å¾ˆå¤§ç¨‹åº¦æ˜¯å†…å­˜ä¸è¶³çš„é—®é¢˜ï¼Œæ•…æœ‰æ•ˆçš„ä¸€ä¸ªæ–¹æ³•å°±æ˜¯ï¼Œæé«˜ideaè¿è¡Œçš„å†…å­˜</p><p>é¦–å…ˆæ‰¾åˆ°å¯¹åº”çš„æ–‡ä»¶ï¼šidea64.exe.vmoptions</p></blockquote><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230814154033810.png" alt="image-20230814154033810"></p><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230814154146555.png" alt="image-20230814154146555"></p><blockquote><p>æé«˜åï¼Œé‡å¯ideaå³å¯ï¼ï¼</p></blockquote><h3 id="æ–¹æ³•ï¼Ÿ"><a href="#æ–¹æ³•ï¼Ÿ" class="headerlink" title="æ–¹æ³•ï¼Ÿ"></a>æ–¹æ³•ï¼Ÿ</h3><blockquote><p>ç»†ç»†æ–Ÿé…Œåå‘ç°ï¼Œä¸»è¦åŸå› å°±æ˜¯jdkç‰ˆæœ¬é—®é¢˜ã€‚</p><p>æˆ‘åœ¨æƒ³æˆ‘éƒ½ä½¿ç”¨jdk8äº†ä¸ºä»€ä¹ˆè¿˜æœ‰é—®é¢˜å‘¢ï¼Ÿ</p><p>åŸæ¥jdk8å½“ä¸­ä¹Ÿæ˜¯åˆ†ç¨³å®šå’Œä¸ç¨³å®šçš„</p></blockquote><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230807193757581.png" alt="image-20230807193757581"></p><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230807193841404.png" alt="image-20230807193841404"></p><blockquote><p>å¦‚ä½•åˆ‡æ¢è¯·æŸ¥çœ‹æˆ‘çš„è¿™ç¯‡åšå®¢ï¼š<a href="https://www.lzwgxust.top/post/97f5ff5d.html">windows-jdkç‰ˆæœ¬åˆ‡æ¢</a></p></blockquote><h2 id="ä½ å¥½-idea"><a href="#ä½ å¥½-idea" class="headerlink" title="ä½ å¥½ idea"></a>ä½ å¥½ idea</h2><blockquote><p>ä¹…è¿äº†ï¼Œè€æœ‹å‹ã€‚</p></blockquote><p><img src="/2023/08/07/idea%E9%97%AA%E9%80%80%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230807194200503.png" alt="image-20230807194200503"></p><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ‰€æœ‰çš„é—®é¢˜éƒ½å°†å°˜åŸƒè½å®šï¼ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> idea </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ecpliseè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</title>
      <link href="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/"/>
      <url>/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šfså®è®­äºŒingã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>æ—©å°±è€³é—»ecpliseï¼ˆæ—¥é£Ÿï¼‰IDEçš„å¼ºå¤§äº†ï¼Œä»Šæ—¥ä¸€è§ï¼Œæœç„¶åä¸è™šä¼ ï¼ï¼</p></blockquote><h2 id="ecpliseå¿«æ·é”®"><a href="#ecpliseå¿«æ·é”®" class="headerlink" title="ecpliseå¿«æ·é”®"></a>ecpliseå¿«æ·é”®</h2><blockquote><p>å¿«é€ŸGenerateï¼šAlt+Shift+s</p><p>æŸ¥çœ‹ä¸€ä¸ªç±»å†…çš„å±æ€§å’Œæ–¹æ³•ï¼šCtrl+O</p><p>æŸ¥çœ‹ç»§æ‰¿å…³ç³»ï¼šCtrl+T</p><p>å¿«æ·ç”Ÿæˆå˜é‡ï¼šShift+Alt+L ï¼ˆæœ¬äººæ”¹æˆäº†Ctrl+\ï¼‰</p><p>ç”Ÿæˆæç¤ºï¼šAlt+&#x2F;</p><p><strong>æ›´å¤šçš„å¿«æ·é”®å¯ä»¥æ ¹æ®è‡ªå·±çš„ä¹ æƒ¯è¿›è¡Œä¿®æ”¹</strong></p></blockquote><h2 id="å®‰è£…ecplise"><a href="#å®‰è£…ecplise" class="headerlink" title="å®‰è£…ecplise"></a>å®‰è£…ecplise</h2><blockquote><p>ç›®å‰ä½¿ç”¨çš„STSç‰ˆæœ¬ï¼š</p><p>å®˜ç½‘ï¼š<a href="https://www.eclipse.org/downloads/">Eclipse Downloads | The Eclipse Foundation</a>ï¼ˆæ— STSéœ€è¦æ‰‹åŠ¨é…ç½®ï¼‰</p><p>é…ç½®STSï¼š<a href="https://blog.csdn.net/zyplanke/article/details/104235750">Eclipseä¸­å®‰è£…Spring Tools Suiteï¼ˆSTSï¼‰æ’ä»¶çš„æ­£ç¡®è¿‡ç¨‹</a></p><p>ç™¾åº¦ç½‘ç›˜åœ°å€ï¼š<a href="https://pan.baidu.com/s/1s_u862S3fXMpC9WXa4fWGg?pwd=nqvd">03-sts-4.6.0.RELEASE.zip</a>ï¼ˆå·²ç»åŒ…æ‹¬äº†STSï¼‰</p></blockquote><h2 id="ä½¿ç”¨ecplise"><a href="#ä½¿ç”¨ecplise" class="headerlink" title="ä½¿ç”¨ecplise"></a>ä½¿ç”¨ecplise</h2><blockquote><p>å¯åŠ¨ecplise</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805204738655.png" alt="image-20230805204738655"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805204918043.png" alt="image-20230805204918043"></p><blockquote><p>åŸå› æ˜¯åˆ‡æ¢ä¸åŒçš„å·¥ä½œç©ºé—´å ecplise ä¹‹å‰é…å¥½çš„è®¾ç½®ä¼šè¢«é‡ç½®æ‰</p><p><font color="#d12920">æ‰€ä»¥ä¸è¦å‹¾é€‰ Use this as the default and do not ask agein(ä¸è¦å‹¾é€‰)</font></p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805205006049.png" alt="image-20230805205006049"></p><h2 id="é…ç½®ecplise"><a href="#é…ç½®ecplise" class="headerlink" title="é…ç½®ecplise"></a>é…ç½®ecplise</h2><blockquote><p>ä¸­æ–‡è®¾ç½®ï¼š<a href="https://blog.csdn.net/a2580ah/article/details/108511527">å¦‚ä½•å°†Eclipseè®¾ç½®ä¸ºä¸­æ–‡ç‰ˆ_eclipseæ€ä¹ˆè®¾ç½®ä¸­æ–‡_å•Šå“ˆ~é“œè±Œè±†çš„åšå®¢-CSDNåšå®¢</a></p><p>å› ä¸ºæœ¬äººä¹ æƒ¯äº†çœ‹è‹±æ–‡ç‰ˆäº†ï¼Œæ‰€ä»¥å°±ä¸è®¾ç½®ä¸­æ–‡ç‰ˆå•¦~~</p></blockquote><blockquote><p>è®¾ç½®è”ç³»ï¼Œä¹Ÿå°±æ˜¯è‡ªåŠ¨ä»£ç è¡¥å…¨ï¼ˆä½†æ˜¯æˆ‘æ„Ÿè§‰ecpliseçš„è‡ªåŠ¨è¡¥å…¨æœ‰ç‚¹å‚»ï¼Œæ²¡æœ‰ideaå¥½ç”¨ï¼‰</p><p>æŠŠä¸‹é¢è¿™æ®µå¤åˆ¶è¿›å»å³å¯ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">.abcdefghijklmnopqrstuvwxyzABCDEFGHIJKLMNOPQRSTUVWXYZ</span><br></pre></td></tr></table></figure><p>è§£é‡Šä¸€ä¸‹è¿™æ®µçš„ä½œç”¨ï¼Œå…¶å®å°±æ˜¯<strong>è®¾ç½®ä½ æ‘é‚£ä¸ªæŒ‰é”®å°±æœ‰æç¤ºè€Œå·²</strong>ã€‚å“ˆå“ˆå“ˆç­‰äºæ²¡æœ‰è¯´ğŸ˜ğŸ˜</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805210022214.png" alt="image-20230805210022214"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805205657607.png" alt="image-20230805205657607"></p><blockquote><p>é…ç½®è‡ªåŠ¨æ ¼å¼åŒ–</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805210215880.png" alt="image-20230805210215880"></p><blockquote><p>è®¾ç½®è‡ªåŠ¨ä¿å­˜</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805210501291.png" alt="image-20230805210501291"></p><h2 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h2><blockquote><p>æœ¬äººä»¥ï¼šEclipseä¸­å®‰è£…åç¼–è¯‘æ’ä»¶ä¸ºä¾‹å­</p><p>å…¶ä»–æ’ä»¶åŒç†</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805211520428.png" alt="image-20230805211520428"></p><blockquote><p>åœ¨æœç´¢æ¡†ä¸­è¾“â¼Šå…³é”®å­—Decompilerï¼ˆæ„æ€æ˜¯åç¼–è¯‘å™¨ï¼‰ï¼Œé€šè¿‡æœç´¢æ‰¾åˆ°Enhanced Class Decompiler 3.3.0è¿™ä¸ª æ’ä»¶ï¼Œç‚¹å‡»Installå®‰è£…å®ƒï¼š</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805211714336.png" alt="image-20230805211714336"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212124144.png" alt="image-20230805212124144"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212144949.png" alt="image-20230805212144949"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212217840.png" alt="image-20230805212217840"></p><blockquote><p>ç¨ç­‰ä¸€ä¼šå³å¯å®‰è£…æˆåŠŸ </p><p>é‡æ–°å¯åŠ¨ecplise è®©æ’ä»¶ç”Ÿæ•ˆ</p><p>å½“ç„¶ä½ é»˜è®¤æ˜¯çœ‹ä¸åˆ°è¿™ä¸ªbinåŒ…æ»´~ éœ€è¦é…ç½®ä¸€ä¸‹</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212416243.png" alt="image-20230805212416243"></p><blockquote><p>é…ç½®æ˜¾ç¤º binåŒ…</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212706554.png" alt="image-20230805212706554"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212854621.png" alt="image-20230805212854621"></p><blockquote><p>å‡ºç°åç¼–è¯‘çš„ä»£ç è¡¨ç¤ºæˆåŠŸ</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230805212519182.png" alt="image-20230805212519182"></p><blockquote><p>åˆ°æ­¤å°±æ˜¯Decompilerï¼ˆæ„æ€æ˜¯åç¼–è¯‘å™¨ï¼‰æ’ä»¶å®Œæ•´å®‰è£…è¿‡ç¨‹å•¦~</p><p>æ˜¯ä¸æ˜¯å¾ˆ easy ï¼ˆå“ˆå“ˆä¸å®¹æ˜“å“ˆ~ï¼‰</p></blockquote><h2 id="é…ç½®jdkä¸åŒç‰ˆæœ¬"><a href="#é…ç½®jdkä¸åŒç‰ˆæœ¬" class="headerlink" title="é…ç½®jdkä¸åŒç‰ˆæœ¬"></a>é…ç½®jdkä¸åŒç‰ˆæœ¬</h2><blockquote><p>javaå¯ä»¥æ˜¯éœ€è¦åˆ‡æ¢ä¸åŒçš„jdkç‰ˆæœ¬æ»´</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807220410097.png" alt="image-20230807220410097"></p><blockquote><p>ä¸‹é¢æ˜¯æ·»åŠ ä¸åŒç‰ˆæœ¬çš„jdkåˆ°ecpliseå½“ä¸­</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807220509621.png" alt="image-20230807220509621"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807220654697.png" alt="image-20230807220654697"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807220822614.png" alt="image-20230807220822614"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807220844348.png" alt="image-20230807220844348"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807220909033.png" alt="image-20230807220909033"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807221039343.png" alt="image-20230807221039343"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807221123679.png" alt="image-20230807221123679"></p><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807221220668.png" alt="image-20230807221220668"></p><blockquote><p>æ­¤å¤–è¿˜è¦è®°å¾—é€‰æ‹© compiler compliance level ä¸ºæŒ‡å®šçš„ç‰ˆæœ¬</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807221437986.png" alt="image-20230807221437986"></p><blockquote><p>æŸ¥çœ‹é…ç½®æ˜¯å¦æˆåŠŸï¼ï¼</p></blockquote><p><img src="/2023/08/02/ecplise%E8%BD%BB%E6%9D%BE%E4%B8%8A%E6%89%8B%E6%97%A0%E5%BF%A7%E7%89%88/image-20230807221601904.png" alt="image-20230807221601904"></p><blockquote><p>åˆ°æ­¤å°±é…ç½®æˆåŠŸå•¦~~</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤ <code>toolæ </code> æ¥šé—¨çš„ä¸–ç•Œå°†ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
            <tag> ecplise </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>07-æŠ½è±¡-æ¥å£-å†…éƒ¨ç±»-æšä¸¾</title>
      <link href="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/"/>
      <url>/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="abstract"><a href="#abstract" class="headerlink" title="abstract"></a>abstract</h1><h2 id="æŠ½è±¡æ¦‚è¿°"><a href="#æŠ½è±¡æ¦‚è¿°" class="headerlink" title="æŠ½è±¡æ¦‚è¿°"></a>æŠ½è±¡æ¦‚è¿°</h2><blockquote><p>æŠ½è±¡ï¼Œç®€å•å¯ç†è§£ä¸º<strong>ä¸å…·ä½“ã€é«˜åº¦æ¦‚æ‹¬çš„</strong>ï¼Œä¸“ä¸šæè¿°ä¸ºï¼š<strong>æŠ½è±¡æ˜¯ä¸€ç§å°†å¤æ‚çš„æ¦‚å¿µå’Œç°å®ä¸–ç•Œé—®é¢˜ç®€åŒ–ä¸ºæ›´æ˜“äºç†è§£å’Œå¤„ç†çš„è¡¨ç¤ºæ–¹æ³•ã€‚</strong>åœ¨è®¡ç®—æœºç§‘å­¦å’Œç¼–ç¨‹ä¸­ï¼Œ<strong>æŠ½è±¡æ˜¯ä¸€ç§å…³æ³¨é—®é¢˜çš„æœ¬è´¨å’Œå…³é”®ç‰¹å¾ï¼Œè€Œå¿½ç•¥å…·ä½“å®ç°ç»†èŠ‚çš„æ–¹æ³•ã€‚</strong></p><p>æŠ½è±¡æ˜¯é€šè¿‡å®šä¹‰<strong>ç±»ã€æ¥å£å’Œæ–¹æ³•</strong>æ¥å®ç°çš„</p><p>æŠ½è±¡æ–¹æ³•ï¼šå°†<strong>å…±æ€§çš„è¡Œä¸ºï¼ˆæ–¹æ³•ï¼‰</strong>æŠ½å–åˆ°çˆ¶ç±»ä¹‹åï¼Œå‘ç°è¯¥æ–¹æ³•çš„å®ç°é€»è¾‘æ— æ³•å†çˆ¶ç±»ä¸­ç»™å‡ºå…·ä½“çš„å®ç°ï¼Œå°±å¯ä»¥å°†è¯¥æ–¹æ³•å®šä¹‰å°¾æŠ½è±¡æ–¹æ³•ã€‚ï¼ˆ<strong>çˆ¶ç±»æ— æ³•å…·ä½“å®ç°å°±æŠ½è±¡</strong>ï¼‰</p><p>æŠ½è±¡ç±»ï¼š<strong>å¦‚æœä¸€ä¸ªç±»ä¸­å­˜åœ¨æŠ½è±¡æ–¹æ³•ï¼Œé‚£ä¹ˆè¯¥ç±»å°±å¿…é¡»å£°æ˜ä¸ºæŠ½è±¡ç±»</strong>ã€‚</p></blockquote><h2 id="æŠ½è±¡ç‰¹ç‚¹"><a href="#æŠ½è±¡ç‰¹ç‚¹" class="headerlink" title="æŠ½è±¡ç‰¹ç‚¹"></a>æŠ½è±¡ç‰¹ç‚¹</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ½è±¡æ–¹æ³•å®šä¹‰æ ¼å¼</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å‚æ•°åˆ—è¡¨);</span><br><span class="line"><span class="comment">//ç‰¹åˆ«æ³¨æ„ï¼šæŠ½è±¡æ–¹æ³•åªæœ‰æ–¹æ³•å£°æ˜ï¼Œæ²¡æœ‰æ–¹æ³•çš„å®ç°</span></span><br><span class="line"><span class="comment">//æŠ½è±¡ç±»å®šä¹‰æ ¼å¼</span></span><br><span class="line">[æƒé™ä¿®é¥°ç¬¦] <span class="keyword">abstract</span> class ç±»å &#123;</span><br><span class="line">        <span class="comment">//0æˆ–å¤šä¸ªæ•°æ®æˆå‘˜</span></span><br><span class="line">        <span class="comment">//0æˆ–å¤šä¸ªæ„é€ æ–¹æ³•</span></span><br><span class="line">        <span class="comment">//0æˆ–å¤šä¸ªæˆå‘˜æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æŠ½è±¡ç±»å’ŒæŠ½è±¡æ–¹æ³•çš„å…³ç³»ï¼š<strong>ï¼ˆé‡ç‚¹æŒæ¡ï¼‰</strong></p><ul><li>ä½¿ç”¨abstractä¿®é¥°çš„ç±»å°±æ˜¯æŠ½è±¡ç±»</li><li>æŠ½è±¡ç±»å¯ä»¥åŒ…å«ï¼Œä¹Ÿå¯ä»¥ä¸åŒ…å«æŠ½è±¡æ–¹æ³•</li><li>åŒ…å«æŠ½è±¡æ–¹æ³•çš„ç±»ï¼Œä¸€å®šè¦å£°æ˜ä¸ºæŠ½è±¡ç±»</li></ul><p>æŠ½è±¡ç±»å’Œæ™®é€šç±»åŒºåˆ«ï¼š</p><ul><li>æŠ½è±¡ç±»å¿…é¡»ä½¿ç”¨abstractä¿®é¥°ç¬¦</li><li>æŠ½è±¡ç±»ç›¸å¯¹æ™®é€šç±»ï¼Œå¤šäº†<strong>åŒ…å«æŠ½è±¡æ–¹æ³•çš„èƒ½åŠ›</strong></li><li>æŠ½è±¡ç±»ç›¸å¯¹æ™®é€šç±»ï¼Œå¤±å»äº†<strong>å®ä¾‹åŒ–åˆ›å»ºå¯¹è±¡çš„èƒ½åŠ›</strong>ï¼ˆæŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–ï¼ï¼‰</li></ul><p>æŠ½è±¡ç±»å’Œæ™®é€šç±»ç›¸åŒç‚¹ï¼š</p><ul><li>ç¬¦åˆç»§æ‰¿å…³ç³»ç‰¹ç‚¹ï¼Œèƒ½å¤Ÿä½¿ç”¨å¤šæ€æœºåˆ¶</li><li>å­ç±»å¯ä»¥é‡å†™ä»æŠ½è±¡ç±»ç»§æ‰¿çš„æ–¹æ³•</li><li>å®ä¾‹åŒ–å­ç±»å¯¹è±¡éœ€è¦å€ŸåŠ©çˆ¶ç±»æ„é€ å™¨å®ç°çˆ¶ç±»éƒ¨åˆ†çš„åˆå§‹åŒ–</li></ul></blockquote><blockquote><p>æ¡ˆä¾‹ï¼š</p><p>è¦æ±‚ï¼šå®šä¹‰ä¸€ä¸ªå½¢çŠ¶ç±»Shapeï¼ŒåŒ…å«æŠ½è±¡æ–¹æ³•getArea()ï¼Œå†å®šä¹‰å…¶å­ç±»Circleï¼Œé‡å†™æŠ½è±¡æ–¹æ³•å¹¶è¿›è¡ŒåŠŸèƒ½æµ‹è¯•ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="title function_">Shape</span><span class="params">(String name)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.name = name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="built_in">this</span>.name + <span class="string">&quot;é¢ç§¯ = &quot;</span> + getRoundedValue(getArea(), <span class="number">4</span>));</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è·å–æŒ‡å®šä½å°æ•°ï¼Œå››èˆäº”å…¥åçš„ç»“æœ</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> number åŸdoubleå€¼</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@param</span> digit  å¸Œæœ›å¾—åˆ°å°æ•°ç‚¹åå‡ ä½</span></span><br><span class="line"><span class="comment"> * <span class="doctag">@return</span> å››èˆäº”å…¥åçš„ç»“æœ</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line">    <span class="keyword">private</span> BigDecimal <span class="title function_">getRoundedValue</span><span class="params">(<span class="type">double</span> number, <span class="type">int</span> digit)</span> &#123;</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">decimal</span> <span class="operator">=</span> BigDecimal.valueOf(number);</span><br><span class="line">        <span class="type">BigDecimal</span> <span class="variable">roundedValue</span> <span class="operator">=</span> decimal.setScale(digit, BigDecimal.ROUND_HALF_UP);</span><br><span class="line">        <span class="keyword">return</span> roundedValue;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸ç¡®å®šå…·ä½“æ˜¯ä»€ä¹ˆå›¾å½¢ï¼Œæ— æ³•è®¡ç®—è¯¥é¢ç§¯ æ•…å®šä¹‰ä¸ºæŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">getArea</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="type">double</span> <span class="title function_">getPerimeter</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Circle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> radius;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Circle</span><span class="params">(String name, <span class="type">double</span> radius)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.radius = radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getArea</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * Math.PI * radius * radius;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getPerimeter</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">2</span> * Math.PI * radius;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Rectangle</span> <span class="keyword">extends</span> <span class="title class_">Shape</span> &#123; <span class="comment">// å­ç±»ä¹Ÿè®¾ç½®ä¸ºæŠ½è±¡ç±»</span></span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> wight;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> length;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Rectangle</span><span class="params">(String name, <span class="type">double</span> wight, <span class="type">double</span> length)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name);</span><br><span class="line">        <span class="built_in">this</span>.wight = wight;</span><br><span class="line">        <span class="built_in">this</span>.length = length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getArea</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> wight * length;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å› ä¸ºå­ç±»æœ‰æŠ½è±¡æ–¹æ³•æ²¡æœ‰å®ç°ï¼Œæ‰€ä»¥éœ€è¦è®¾ç½®æˆæŠ½è±¡ç±»</span></span><br><span class="line">    <span class="comment">//@Override</span></span><br><span class="line">    <span class="comment">//public double getPerimeter() &#123;</span></span><br><span class="line">    <span class="comment">//// TODO Auto-generated method stub</span></span><br><span class="line">    <span class="comment">//return 0;</span></span><br><span class="line">    <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//1.æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¸‹é¢ä¸€è¡Œç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//Shape p = new Shape(); //error</span></span><br><span class="line">    <span class="comment">//2.æŠ½è±¡ç±»å¼•ç”¨å¯ä»¥æŒ‡å‘å­ç±»ï¼ˆéæŠ½è±¡ç±»ï¼‰å¯¹è±¡</span></span><br><span class="line">    <span class="type">Shape</span> <span class="variable">p</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Circle</span>(<span class="string">&quot;åœ†&quot;</span>,<span class="number">2</span>);</span><br><span class="line">    <span class="comment">//3.å®é™…å¼€å‘ä¸­ï¼Œä¸»è¦å¤šæ€åº”ç”¨</span></span><br><span class="line">    <span class="type">double</span> <span class="variable">area</span> <span class="operator">=</span> p.getArea();</span><br><span class="line">    System.out.println(<span class="string">&quot;area: &quot;</span> + area); </span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="interface"><a href="#interface" class="headerlink" title="interface"></a>interface</h1><blockquote><p>å¼•ç”¨æ•°æ®ç±»å‹ï¼š<strong>ç±»ã€æ•°ç»„ã€æ¥å£</strong></p></blockquote><h2 id="æ¥å£æ¦‚è¿°"><a href="#æ¥å£æ¦‚è¿°" class="headerlink" title="æ¥å£æ¦‚è¿°"></a>æ¥å£æ¦‚è¿°</h2><blockquote><p>æ¥å£æ˜¯å¯¹Javaå•ç»§æ‰¿çš„è¡¥å……ã€‚<strong>Javaåªæ”¯æŒå•ç»§æ‰¿</strong>ï¼ˆäº²çˆ¹å”¯ä¸€ï¼‰ï¼Œå¦‚æœåœ¨å¼€å‘è¿‡ç¨‹ä¸­<strong>æƒ³é¢å¤–å¢å¼ºç±»çš„åŠŸèƒ½</strong>ï¼Œå¯ä»¥å€ŸåŠ©æ¥å£å®ç°ï¼ˆå¯ä»¥æ‹œå¸ˆï¼Œæ‹œå¤šä¸ªå¸ˆå‚…ä¹Ÿå¯ ä»¥ï¼‰ã€‚</p><p>æ¥å£æ˜¯Javaä¸­ä¸€ç§é‡è¦çš„<strong>æŠ½è±¡æœºåˆ¶</strong>ï¼Œå®ƒ<strong>æä¾›äº†ä¸€ç§å®šä¹‰è¡Œä¸ºè§„èŒƒå’Œå®ç°å¤šæ€æ€§çš„æ–¹å¼</strong>ã€‚é€šè¿‡åˆç†ä½¿ç”¨æ¥å£ï¼Œå¯ä»¥æé«˜ä»£ç çš„<strong>å¯æ‰©å±•æ€§ã€å¯ç»´æŠ¤æ€§å’Œçµæ´»æ€§</strong>ã€‚</p><p>æ¥å£æ˜¯é™¤äº†ç±»å’Œæ•°ç»„ä¹‹å¤–ï¼Œå¦å¤–ä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹ï¼Œéœ€è¦ä½¿ç”¨<strong>interface</strong>å…³é”®å­—æ¥å®šä¹‰ï¼Œ<strong>æ¥å£æœ€ç»ˆä¹Ÿä¼šè¢«ç¼–è¯‘æˆ.classæ–‡ä»¶</strong>ï¼Œä½†ä¸€å®šè¦æ˜ç¡®<strong>æ¥å£å¹¶ä¸æ˜¯ç±»ï¼Œè€Œæ˜¯å¦ä¸€ç§å¼•ç”¨æ•°æ®ç±»å‹</strong>ã€‚</p></blockquote><blockquote><p>æ¥å£åŸºç¡€å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] interface æ¥å£å&#123;</span><br><span class="line">    <span class="comment">// æ•°æ®æˆå‘˜ï¼Œå¯ä»¥å®šä¹‰å¤šä¸ª</span></span><br><span class="line">    [<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span>] æ•°æ®ç±»å‹ æ•°æ®æˆå‘˜ = å€¼;</span><br><span class="line">    <span class="comment">// æŠ½è±¡æ–¹æ³•ï¼šå¯ä»¥å®šä¹‰å¤šä¸ª</span></span><br><span class="line">    [<span class="keyword">public</span> <span class="keyword">abstract</span>] è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å‚åˆ—è¡¨);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨interfaceå…³é”®å­—æ¥å®šä¹‰æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">IAction</span> &#123;</span><br><span class="line">    <span class="comment">//æ•°æ®æˆå‘˜,ä¸‹é¢2è¡Œæ•ˆæœä¸€æ ·</span></span><br><span class="line">    <span class="comment">//public static final int NUM = 10;</span></span><br><span class="line">    <span class="type">int</span> <span class="variable">NUM</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="comment">//æˆå‘˜æ–¹æ³•,ä¸‹é¢2è¡Œæ•ˆæœä¸€æ ·</span></span><br><span class="line">    <span class="comment">//public abstract void start();</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">end</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//æ¥å£ä¸å¯ä»¥å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">    <span class="comment">//IAction ac = new IAction(); error</span></span><br><span class="line">    System.out.println(IAction.NUM);</span><br><span class="line">    <span class="comment">//æ¥å£ä¸­æ•°æ®æˆå‘˜é»˜è®¤ public static finalï¼Œæ•…è€Œä¸‹è¡Œç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//IAction.NUM = 20;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¡¥å……å†…å®¹ï¼š</p><ul><li><p>JDK8ä¸­ï¼Œè¿˜å…è®¸åœ¨æ¥å£ä¸­ç¼–å†™<strong>é™æ€æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•</strong></p></li><li><p>JDK9ä¸­ï¼Œè¿˜å…è®¸åœ¨æ¥å£ä¸­ç¼–å†™<strong>ç§æœ‰æ–¹æ³•</strong></p></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IAction</span> &#123;</span><br><span class="line">    <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">staticMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;static method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é»˜è®¤æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">defaultMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;default method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ç§æœ‰æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">privateMethod</span><span class="params">()</span> &#123; <span class="comment">// JDK9åæ‰ä¸ä¼šæŠ¥é”™</span></span><br><span class="line">        System.out.println(<span class="string">&quot;private method&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ¥å£å®ç°"><a href="#æ¥å£å®ç°" class="headerlink" title="æ¥å£å®ç°"></a>æ¥å£å®ç°</h2><blockquote><ul><li><p>Javaä¸­ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»æ˜¯ç»§æ‰¿ï¼Œä¸”åªèƒ½æ˜¯<strong>å•ç»§æ‰¿</strong></p></li><li><p>ç±»å’Œæ¥å£æ˜¯å®ç°å…³ç³»ï¼Œé€šè¿‡implementså…³é”®å­—è¡¨ç¤ºï¼Œ<strong>å¯ä»¥æ˜¯å•å®ç°ï¼Œä¹Ÿå¯ä»¥æ˜¯å¤šå®ç°</strong></p></li><li><p>å­ç±»è¿˜å¯ä»¥åœ¨<strong>ç»§æ‰¿ä¸€ä¸ªçˆ¶ç±»çš„åŒæ—¶å®ç°å¤šä¸ªæ¥å£</strong></p></li></ul><p>æ¥å£çš„å®ç°ç±»ä¹¦å†™æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶å®ç°å¤šä¸ªæ¥å£</span></span><br><span class="line">[ä¿®é¥°ç¬¦] class ç±»å implements æ¥å£å<span class="number">1</span>,æ¥å£å<span class="number">2</span>,... &#123;</span><br><span class="line">    é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æ¥å£å±äºå¼•ç”¨æ•°æ®ç±»å‹çš„ä¸€ç§ï¼Œå®ƒä¸æ˜¯ç±»ï¼Œå®ƒ<strong>æ²¡æœ‰æ„é€ æ–¹æ³•</strong></li><li>æ¥å£çš„å®ç°ç±»ï¼ˆå­ç±»ï¼‰ï¼Œå¯ä»¥æ˜¯æ­£å¸¸ç±»ï¼ˆé‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•ï¼‰ï¼Œå¯ä»¥æ˜¯æŠ½è±¡ç±»ï¼ˆåŒ…å«æŠ½è±¡æ–¹æ³•ï¼‰</li><li>æ¥å£ä¸èƒ½åˆ›å»ºå¯¹è±¡ï¼Œä¸€èˆ¬ç”¨<strong>æ¥å£å¼•ç”¨æŒ‡å‘å®ç°ç±»å¯¹è±¡</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æ¥å£çš„å®ç°ç±»ï¼Œ é‡å†™æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">ActionImpl</span> <span class="keyword">implements</span> <span class="title class_">IAction</span> &#123; </span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;startå¼€å§‹æ‰§è¡Œ &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">end</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ‰§è¡Œå®Œæˆï¼Œendç»“æŸ&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//1.æ¥å£ä¸èƒ½å®ä¾‹åŒ–å¯¹è±¡ï¼Œä¸‹é¢ä¸€è¡Œç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//IAction ic = new IAction();</span></span><br><span class="line">    <span class="comment">//2.æ¥å£å¼•ç”¨ æŒ‡å‘å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="type">IAction</span> <span class="variable">ac</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ActionImpl</span>();</span><br><span class="line">    <span class="comment">//3.æ¥å£æ•°æ®æˆå‘˜è®¿é—®æµ‹è¯•</span></span><br><span class="line">    System.out.println(IAction.NUM);</span><br><span class="line">    System.out.println(ac.NUM);</span><br><span class="line">    System.out.println(<span class="string">&quot;-------------&quot;</span>);</span><br><span class="line">    <span class="comment">//4.é€šè¿‡æ¥å£å¼•ç”¨ è°ƒç”¨ é‡å†™æ–¹æ³•ï¼ˆå¤šæ€ä½“ç°ï¼‰</span></span><br><span class="line">    ac.start();</span><br><span class="line">    ac.end();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>åœ¨ç±»å’Œæ¥å£çš„å®ç°å…³ç³»ä¸­ï¼Œ<strong>å¯ä»¥ä½¿ç”¨å¤šæ€</strong>ï¼Œå› ä¸ºç±»å’Œæ¥å£çš„å®ç°å…³ç³»ï¼Œå¯ç†è§£ä¸ºç»§æ‰¿çš„ä¸€ç§å½¢å¼ã€‚</li><li>ä¸€ä¸ªç±»å¯ä»¥åŒæ—¶<strong>å®ç°å¤šä¸ªæ¥å£</strong>ï¼Œä½†éœ€è¦æŠŠå¤šä¸ªæ¥å£çš„<strong>æŠ½è±¡æ–¹æ³•å…¨éƒ¨é‡å†™</strong>ã€‚</li></ul></blockquote><h2 id="æ¥å£ç»§æ‰¿"><a href="#æ¥å£ç»§æ‰¿" class="headerlink" title="æ¥å£ç»§æ‰¿"></a>æ¥å£ç»§æ‰¿</h2><blockquote><p>Javaä¸­ï¼Œ<strong>ç±»å’Œç±»ä¹‹é—´æ˜¯å•ç»§æ‰¿</strong>å…³ç³»ï¼Œ<strong>æ¥å£å’Œæ¥å£ä¹‹é—´æ˜¯å¤šç»§æ‰¿</strong></p><p>æ¥å£ç»§æ‰¿æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] interface å­æ¥å£ extends çˆ¶æ¥å£<span class="number">1</span>,çˆ¶æ¥å£<span class="number">2.</span>..&#123;</span><br><span class="line">    <span class="comment">// æ–°å¢æˆå‘˜æˆ–æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">Runable</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Flyable</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">fly</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æ¥å£å¤šç»§æ‰¿</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">Action</span> <span class="keyword">extends</span> <span class="title class_">Runable</span>,Flyable &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sing</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç»¼åˆæ¡ˆä¾‹"><a href="#ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="ç»¼åˆæ¡ˆä¾‹"></a>ç»¼åˆæ¡ˆä¾‹</h2><blockquote><p>æ¡ˆä¾‹æè¿°ï¼š å®šä¹‰ä¸€ä¸ªæŠ½è±¡çˆ¶ç±»Animalï¼Œå†å®šä¹‰ä¸¤ä¸ªæ¥å£IJumpAbleè·³ç«åœˆã€ICycleAbleéª‘è‡ªè¡Œè½¦ï¼Œæœ€åå®šä¹‰ä¸€ä¸ªçŒ´å­ç±»Monkeyï¼Œå»ç»§æ‰¿Animalï¼ŒåŒæ—¶å®ç°IJumpAbleã€ ICycleAbleï¼Œè¿›è¡ŒåŠŸèƒ½æµ‹è¯•ã€‚</p><p>å¤æ‚å®ç°ç±»å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] class å®ç°ç±» extends çˆ¶ç±» implements æ¥å£å<span class="number">1</span>, æ¥å£å<span class="number">2</span>,... &#123;</span><br><span class="line">    é‡å†™æ‰€æœ‰æ–¹æ³•;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æŠ½è±¡çˆ¶ç±»  +  æ¥å£</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">IJumpAble</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">jump</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ICircleAble</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">circle</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line">    <span class="keyword">private</span> String color;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal</span><span class="params">(String name, <span class="type">int</span> age, String color)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>();</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.age = age;</span><br><span class="line">        <span class="built_in">this</span>.color = color;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Animal [name=&quot;</span> + name + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&quot;, color=&quot;</span> + color + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>;</span><br><span class="line"><span class="comment">// çœç•¥get | set ...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Monkey</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Monkey</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> <span class="keyword">implements</span> <span class="title class_">ICircleAble</span>, IJumpAble &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Monkey</span><span class="params">(String name, <span class="type">int</span> age, String color)</span> &#123;</span><br><span class="line">        <span class="built_in">super</span>(name, age, color);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">jump</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; jump fire circle&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">circle</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; driver car&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; eat bananar&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(getName() + <span class="string">&quot; hanging up to sleep &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>TestCode</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//1.æŠ½è±¡ç±»ä¸èƒ½å®ä¾‹åŒ–å¯¹è±¡ï¼Œä½†å¯ä»¥å®šä¹‰å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="type">Animal2</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Monkey</span>(<span class="string">&quot;yellow&quot;</span>, <span class="number">2</span>, <span class="string">&quot;å°æ‚Ÿç©º&quot;</span>);</span><br><span class="line">    <span class="comment">//2.å€ŸåŠ©æŠ½è±¡ç±»å¼•ç”¨ï¼Œåªèƒ½è®¿é—®æŠ½è±¡ç±»ä¸­å…·æœ‰çš„æ–¹æ³•</span></span><br><span class="line">    a.eat();</span><br><span class="line">    a.sleep();</span><br><span class="line">    <span class="comment">//ä¸‹é¢ä¸¤è¡Œç¼–è¯‘æŠ¥é”™ã€å¤šæ€ï¼šç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹ã€‘</span></span><br><span class="line">    <span class="comment">//a.jump();</span></span><br><span class="line">    <span class="comment">//a.cycle();</span></span><br><span class="line">    System.out.println(<span class="string">&quot;****************&quot;</span>);</span><br><span class="line">    <span class="comment">//3.ç”¨æ¥å£å¼•ç”¨æŒ‡å‘å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="type">ICycleAble</span> <span class="variable">c</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Monkey</span>(<span class="string">&quot;yellow&quot;</span>, <span class="number">5</span>, <span class="string">&quot;é©¬æˆå›¢å°çŒ´&quot;</span>);</span><br><span class="line">    <span class="comment">//4.å€ŸåŠ©æ¥å£å¼•ç”¨è°ƒç”¨æ¥å£ä¸­é‡å†™æ–¹æ³•</span></span><br><span class="line">    c.cycle();</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼šæ¥å£å¼•ç”¨ç±»å‹ åªèƒ½è°ƒç”¨ æ¥å£ä¸­å…·å¤‡çš„æ–¹æ³•ã€å¤šæ€ï¼šç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹ã€‘</span></span><br><span class="line">    <span class="comment">//ä¸‹é¢ä¸‰è¡Œç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//c.eat(); error</span></span><br><span class="line">    <span class="comment">//c.sleep(); error</span></span><br><span class="line">    <span class="comment">//c.jump(); error</span></span><br><span class="line">    System.out.println(<span class="string">&quot;****************&quot;</span>);</span><br><span class="line">    </span><br><span class="line">    <span class="comment">//5.å¦‚æœæƒ³è¦è°ƒç”¨çˆ¶ç±»æ–¹æ³•æˆ–å…¶ä»–æ¥å£æ–¹æ³•ï¼Œå¯ä»¥å€ŸåŠ©ç±»å‹è½¬æ¢å®ç°</span></span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼Œä¸€å®šè¦å€ŸåŠ©instanceofé¢å¤–åˆ¤æ–­å¼•ç”¨æŒ‡å‘å¯¹è±¡çš„ç±»å‹</span></span><br><span class="line">    <span class="keyword">if</span> (c <span class="keyword">instanceof</span> Monkey) &#123;</span><br><span class="line">        <span class="type">Monkey</span> <span class="variable">m</span> <span class="operator">=</span> (Monkey) c;</span><br><span class="line">        m.eat();</span><br><span class="line">        m.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println(<span class="string">&quot;****************&quot;</span>);</span><br><span class="line">    <span class="keyword">if</span> (c <span class="keyword">instanceof</span> IJumpAble) &#123;</span><br><span class="line">        <span class="type">IJumpAble</span> <span class="variable">j</span> <span class="operator">=</span> (IJumpAble) c;</span><br><span class="line">        j.jump();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><strong>æ¥å£å¤šæ€åº”ç”¨æ—¶ï¼Œç¼–è¯‘çœ‹å·¦è¾¹ï¼Œè¿è¡Œçœ‹å³è¾¹</strong></li><li><strong>å³æ¥å£å¼•ç”¨åªèƒ½è°ƒç”¨æ¥å£ä¸­åŒ…å«çš„æ–¹æ³•ï¼ŒæˆåŠŸè°ƒç”¨çš„æ˜¯é‡å†™ä»¥åçš„æ–¹æ³•</strong></li></ul></blockquote><h2 id="ç±»æ¥å£å…³ç³»"><a href="#ç±»æ¥å£å…³ç³»" class="headerlink" title="ç±»æ¥å£å…³ç³»"></a>ç±»æ¥å£å…³ç³»</h2><blockquote><ul><li>ç±»ä¸ç±»çš„å…³ç³»<ul><li>ç»§æ‰¿å…³ç³»ï¼Œ<strong>åªèƒ½å•ç»§æ‰¿ï¼Œä½†æ˜¯å¯ä»¥å¤šå±‚ç»§æ‰¿</strong></li></ul></li><li>ç±»ä¸æ¥å£çš„å…³ç³»<ul><li>å®ç°å…³ç³»ï¼Œ<strong>å¯ä»¥å•å®ç°ï¼Œä¹Ÿå¯ä»¥å¤šå®ç°ï¼Œè¿˜å¯ä»¥åœ¨ç»§æ‰¿ä¸€ä¸ªç±»çš„åŒæ—¶å®ç°å¤šä¸ªæ¥å£</strong></li></ul></li><li>æ¥å£ä¸æ¥å£çš„å…³ç³»<ul><li>ç»§æ‰¿å…³ç³»ï¼Œ<strong>å¯ä»¥å•ç»§æ‰¿ï¼Œä¹Ÿå¯ä»¥å¤šç»§æ‰¿</strong></li></ul></li></ul></blockquote><h2 id="æ¥å£æ–°ç‰¹æ€§"><a href="#æ¥å£æ–°ç‰¹æ€§" class="headerlink" title="æ¥å£æ–°ç‰¹æ€§"></a>æ¥å£æ–°ç‰¹æ€§</h2><blockquote><ul><li>JDK8æ–°ç‰¹æ€§ï¼šæ¥å£å¯ä»¥åŒ…å«é™æ€æ–¹æ³•å’Œé»˜è®¤æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">interface</span> <span class="title class_">JDK8Action</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">oPS_MODEString</span> <span class="operator">=</span> <span class="string">&quot;auto&quot;</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// ä¸‹é¢æ˜¯JDK8æ–°ç‰¹æ€§</span></span><br><span class="line">    <span class="comment">// é»˜è®¤æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">default</span> <span class="keyword">void</span> <span class="title function_">dFun</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;in default fun() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sFun</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;in static fun() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo01</span> <span class="keyword">implements</span> <span class="title class_">JDK8Action</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é‡å†™start() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">stop</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é‡å†™stop() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// 1.æ¥å£å¼•ç”¨æŒ‡å‘å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="type">JDK8Action</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo01</span>();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 2.è°ƒç”¨å®ç°ç±»é‡å†™æ–¹æ³•</span></span><br><span class="line">    a.start();</span><br><span class="line">    a.stop();</span><br><span class="line"></span><br><span class="line">    <span class="comment">// 3.è°ƒç”¨defaultæ–¹æ³•</span></span><br><span class="line">    a.dFun();</span><br><span class="line"></span><br><span class="line">    <span class="comment">//4.JDK8ä¸­æ¥å£å¯ä»¥å®šä¹‰staticæ–¹æ³•ï¼Œä½†ä¸èƒ½é€šè¿‡æ¥å£å¼•ç”¨è°ƒç”¨ï¼Œåªèƒ½é€šè¿‡æ¥å£åè°ƒç”¨</span></span><br><span class="line">    <span class="comment">//a.sFun(); // This static method of interface JDK8Action can only be accessed as JDK8Action.sFun</span></span><br><span class="line">    JDK8Action.sFun();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230802184826302.png" alt="image-20230802184826302"></p><p><font color="skyblue">æ³¨æ„äº‹é¡¹ï¼šJDK8æ¥å£å¯ä»¥å®šä¹‰staticæ–¹æ³•ï¼Œä½†ä¸èƒ½é€šè¿‡æ¥å£å¼•ç”¨è°ƒç”¨ï¼Œåªèƒ½é€šè¿‡æ¥å£åè°ƒç”¨</font></p></blockquote><blockquote><ul><li>JDK9æ–°ç‰¹æ€§ï¼šæ¥å£å¯ä»¥åŒ…å«ç§æœ‰æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä½¿ç”¨interfaceå…³é”®å­—æ¥å®šä¹‰æ¥å£</span></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">JDK9Action</span> &#123;</span><br><span class="line">    <span class="comment">// æ¥å£ä¸­çš„é™æ€å¸¸é‡</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">OPS_MODE</span> <span class="operator">=</span> <span class="string">&quot;auto&quot;</span>;</span><br><span class="line">    <span class="comment">// æ¥å£ä¸­çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">//ç§æœ‰æ–¹æ³• jdk9ä»¥ä¸‹æŠ¥é”™</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;private run() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Demo02</span> <span class="keyword">implements</span> <span class="title class_">JDK9Action</span> &#123;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;é‡å†™start() ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æµ‹è¯•ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test026_JDK9</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.æ¥å£å¼•ç”¨æŒ‡å‘å®ç°ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">JDK9Action</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo02</span>();</span><br><span class="line">        <span class="comment">//2.è°ƒç”¨å®ç°ç±»é‡å†™çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">        a.start();</span><br><span class="line">        <span class="comment">//3.è°ƒç”¨æ¥å£privateæ–¹æ³•</span></span><br><span class="line">        <span class="comment">//a.run();æ— æ³•è°ƒç”¨æ¥å£ä¸­ç§æœ‰çš„æ–¹æ³•ï¼Œç§æœ‰æ–¹æ³•åªæ˜¯ä¾›å†…éƒ¨ä½¿ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å¸¸è§é¢è¯•é¢˜"><a href="#å¸¸è§é¢è¯•é¢˜" class="headerlink" title="å¸¸è§é¢è¯•é¢˜"></a>å¸¸è§é¢è¯•é¢˜</h2><blockquote><p>æ¥å£å’ŒæŠ½è±¡ç±»æœ‰ä»€ä¹ˆåŒºåˆ«ï¼Ÿå¦‚ä½•é€‰æ‹©ï¼Ÿ</p><p>è¯­æ³•ç»“æœåŒºåˆ«ï¼š</p><ul><li>å®šä¹‰æ–¹å¼ï¼šæŠ½è±¡ç±»é€šè¿‡ä½¿ç”¨abstractå…³é”®å­—æ¥å®šä¹‰ï¼Œè€Œæ¥å£ä½¿ç”¨interfaceå…³é”®å­—æ¥å®šä¹‰</li><li>å®ç°æ–¹å¼ï¼šä¸€ä¸ªç±»å¯ä»¥ç»§æ‰¿ï¼ˆextendsï¼‰<strong>ä¸€ä¸ªæŠ½è±¡ç±»</strong>ï¼Œè€Œä¸€ä¸ªç±»å¯ä»¥å®ç°ï¼ˆimplementsï¼‰<strong>å¤šä¸ªæ¥å£</strong></li><li>æ„é€ å‡½æ•°ï¼š<strong>æŠ½è±¡ç±»å¯ä»¥æœ‰æ„é€ å‡½æ•°ï¼Œè€Œæ¥å£ä¸èƒ½æœ‰æ„é€ å‡½æ•°</strong></li><li>æ–¹æ³•å®ç°ï¼šæŠ½è±¡ç±»å¯ä»¥åŒ…å«å…·ä½“çš„æ–¹æ³•å®ç°ï¼Œè€Œæ¥å£åªèƒ½åŒ…å«æŠ½è±¡æ–¹æ³•ï¼Œå³æ²¡æœ‰æ–¹æ³•ä½“çš„æ–¹æ³•å£°æ˜</li><li>å¤šç»§æ‰¿ï¼šJavaä¸æ”¯æŒå¤šç»§æ‰¿ï¼Œ<strong>ä¸€ä¸ªç±»åªèƒ½ç»§æ‰¿ä¸€ä¸ªæŠ½è±¡ç±»ï¼Œä½†å¯ä»¥å®ç°å¤šä¸ªæ¥å£</strong></li><li>æ•°æ®æˆå‘˜ï¼šæŠ½è±¡ç±»å¯ä»¥åŒ…å«æ™®é€šæ•°æ®æˆå‘˜å’Œstaticæ•°æ®æˆå‘˜ï¼Œæ¥å£åªèƒ½åŒ…å«static finalä¿®é¥°çš„æ•°æ®æˆå‘˜</li></ul><p>è®¾è®¡ç†å¿µåŒºåˆ«ï¼š</p><ul><li><strong>ä¸åŒçš„å®ç°ç±»ä¹‹é—´ä½“ç° like a çš„å…³ç³»ï¼Œæ¥å£æ›´åŠ å¼ºè°ƒè¡Œä¸ºè§„èŒƒçš„å®šä¹‰ï¼Œé€‚ç”¨äºå¤šä¸ªç±»å…·æœ‰ç›¸åŒè¡Œä¸ºè§„èŒƒçš„æƒ…å†µã€‚</strong>ä¾‹å¦‚ï¼šé£æœºå…·å¤‡é£ç¿”çš„è¡Œä¸ºï¼Œé¸Ÿä¹Ÿå…·å¤‡é£ç¿”çš„è¡Œä¸ºï¼Œæ­¤æ—¶æˆ‘ä»¬å°±å¯ä»¥å®šä¹‰æ¥ å£åŒ…å«æŠ½è±¡æ–¹æ³•fly(),ç„¶åè®©é£æœºå’Œé¸Ÿåˆ†åˆ«å»å®ç°è¯¥æ¥å£ã€‚é£æœº like a é¸Ÿï¼Œ å› ä¸ºå®ƒä»¬éƒ½ä¼šfly()ã€‚</li><li>å­ç±»å’ŒæŠ½è±¡çˆ¶ç±»ä½“ç°çš„æ˜¯ <strong>is a</strong> çš„å…³ç³»ï¼ŒæŠ½è±¡ç±»å½’æ ¹åˆ°åº•è¿˜æ˜¯ç±»ï¼Œå®ƒæ¯”è¾ƒç‰¹æ®Šï¼Œ<strong>ä¸èƒ½è¢«å®ä¾‹åŒ–ï¼Œåªèƒ½è¢«ç»§æ‰¿ã€‚æŠ½è±¡ç±»ç”¨äºå®šä¹‰ä¸€ç§é€šç”¨çš„æ¨¡æ¿æˆ–è€…è§„èŒƒ</strong>ï¼Œå…¶ä¸­å¯åŒ…å«ä¸€äº›å…·ä½“æ•°æ®æˆå‘˜ã€æ–¹æ³•å®ç°å’ŒæŠ½è±¡æ–¹æ³•å£°æ˜ã€‚ä¾‹å¦‚ï¼šå‰é¢æ¡ˆä¾‹ä¸­çš„å½¢çŠ¶ç±»Shapeï¼Œå®ƒé‡Œé¢åŒ…å«æ–¹æ³•getArea()ï¼Œä½†è¯¥æ–¹æ³•åŠŸ èƒ½ä¸ç¡®å®šï¼Œæ‰€ä»¥å®šä¹‰æˆæŠ½è±¡æ–¹æ³•ï¼Œè€ŒåŒ…å«äº†æŠ½è±¡æ–¹æ³•çš„ç±»Shapeä¹Ÿå¿…é¡»è¢«å£° æ˜ä¸ºæŠ½è±¡ç±»ã€‚å®šä¹‰å­ç±»åœ†å½¢ç±»ï¼Œå…¶getArea()æ–¹æ³•åŠŸèƒ½æ˜¯æ˜ç¡®çš„ï¼Œåˆ™å­ç±»ä¸­é‡ å†™æ–¹æ³•ã€‚</li></ul><p>ç»“è®ºï¼š</p><ul><li>å¦‚æœä»…ä»…æ˜¯è¦<strong>é¢å¤–æ‰©å±•å·²å­˜åœ¨ç±»çš„åŠŸèƒ½</strong>ï¼Œåˆ™é€‰æ‹©å®šä¹‰æ¥å£ï¼Œè®©ç±»å»å®ç°æ¥å£</li><li>å¦‚æœéœ€è¦åˆ›å»º<strong>ä¸€ç»„ç›¸å…³çš„ç±»</strong>ï¼Œä¸”è¿™äº›ç±»ä¹‹é—´<strong>æœ‰ä¸€äº›å…±åŒçš„è¡Œä¸ºå’Œå±æ€§</strong>ï¼Œé‚£ä¹ˆå¯ä»¥å®šä¹‰ä¸€ä¸ªç±»ä½œä¸ºè¿™äº›ç±»çš„çˆ¶ç±»ã€‚<strong>å¦‚æœä¸æƒ³å®ä¾‹åŒ–çˆ¶ç±»å¯¹è±¡ï¼Œåˆ™å¯ä»¥æŠŠè¿™ä¸ªçˆ¶ç±»è®¾ç½®ä¸ºæŠ½è±¡ç±»ã€‚</strong></li></ul></blockquote><h1 id="å†…éƒ¨ç±»"><a href="#å†…éƒ¨ç±»" class="headerlink" title="å†…éƒ¨ç±»"></a>å†…éƒ¨ç±»</h1><blockquote><p>åœ¨ä¸€ä¸ªç±»çš„å†…éƒ¨å†å®šä¹‰å¦å¤–çš„ä¸€ä¸ªç±»ï¼Œè¿™å°±æ˜¯å†…éƒ¨ç±»ã€‚</p><p>æ­£å¸¸ç±»å½¢å¼ï¼Œå¯ä»¥ç§°ä¸º<strong>å¤–éƒ¨ç±»æˆ–é¡¶çº§ç±»æˆ–å¹³è¡Œç±»</strong>ï¼›</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span>&#123;&#125;</span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Level</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>å†…éƒ¨ç±»å½¢å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤–éƒ¨ç±»</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="comment">//å†…éƒ¨ç±»</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æˆå‘˜å†…éƒ¨ç±»"><a href="#æˆå‘˜å†…éƒ¨ç±»" class="headerlink" title="æˆå‘˜å†…éƒ¨ç±»"></a>æˆå‘˜å†…éƒ¨ç±»</h2><blockquote><p>åœ¨ç±»ä¸­ï¼Œé™¤äº†å¯ä»¥å®šä¹‰æˆå‘˜æ–¹æ³•ã€æˆå‘˜å˜é‡ã€è¿˜å¯ä»¥å®šä¹‰æˆå‘˜å†…éƒ¨ç±»</p><p>æˆå‘˜å†…éƒ¨ç±»å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤–éƒ¨ç±»</span></span><br><span class="line">[ä¿®é¥°ç¬¦] class å¤–éƒ¨ç±» &#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//å†…éƒ¨ç±»</span></span><br><span class="line">    [æƒé™ä¿®é¥°ç¬¦] class å†…éƒ¨ç±» &#123;</span><br><span class="line">        <span class="number">0</span>æˆ–å¤šä¸ªæ•°æ®æˆå‘˜</span><br><span class="line">            <span class="number">0</span>æˆ–å¤šä¸ªæ„é€ æ–¹æ³•</span><br><span class="line">            <span class="number">0</span>æˆ–å¤šä¸ªæˆå‘˜æ–¹æ³•</span><br><span class="line">            <span class="comment">//æ³¨æ„ï¼Œä¸å¯ä»¥åŒ…å«staticæˆå‘˜æˆ–æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å†…éƒ¨ç±»å¯¹è±¡å®ä¾‹åŒ–æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å¯¹è±¡å = å¤–éƒ¨ç±»å¯¹è±¡.å†…éƒ¨ç±»å¯¹è±¡;</span><br><span class="line">ä¾‹ï¼šOuter.<span class="type">Inner</span> <span class="variable">oi</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>().<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br></pre></td></tr></table></figure><p>å†…éƒ¨ç±»ä¸­è®¿é—®å¤–éƒ¨ç±»ä¸­<strong>åŒåæˆå‘˜</strong>ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨ç±»å.<span class="built_in">this</span>.æˆå‘˜å;</span><br><span class="line">ä¾‹: <span class="type">int</span> <span class="variable">v</span> <span class="operator">=</span> Outer.<span class="built_in">this</span>.o_num;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æˆå‘˜å†…éƒ¨ç±»ä¸­å¯ä»¥<strong>ç›´æ¥è®¿é—®å¤–éƒ¨ç±»ä¸­æ‰€æœ‰æˆå‘˜å’Œæ–¹æ³•ï¼ˆå«privateã€staticå­—æ®µï¼‰</strong></li><li>åœ¨å¤–éƒ¨ç±»ä¸­å¯ä»¥<strong>ç›´æ¥è®¿é—®å†…éƒ¨ç±»æ‰€æœ‰çš„æˆå‘˜å’Œæ–¹æ³•ï¼ˆå«privateï¼‰</strong>ï¼Œä½†å¿…é¡»<strong>å€ŸåŠ©å†…éƒ¨ç±»å¯¹è±¡</strong></li><li><strong>æˆå‘˜å†…éƒ¨ç±»å†…éƒ¨ä¸èƒ½å®šä¹‰staticæˆå‘˜æˆ–æ–¹æ³•</strong>ï¼ˆé™æ€å­—æ®µæ˜¯ä¸ç±»æœ¬èº«ç›¸å…³è”çš„ï¼Œè€Œå†…éƒ¨ç±»çš„å®ä¾‹æ˜¯ä¾èµ–äºå¤–éƒ¨ç±»å®ä¾‹çš„ï¼‰</li></ul><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805091314146.png" alt="image-20230805091314146"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">OuterClass</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">staticField</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">instanceField</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">InnerClass</span> &#123;</span><br><span class="line">        <span class="comment">// è¿™é‡Œä¸èƒ½å®šä¹‰é™æ€å­—æ®µ</span></span><br><span class="line">        <span class="comment">// static int innerStaticField = 30;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">accessFields</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(staticField);     <span class="comment">// å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„é™æ€å­—æ®µ</span></span><br><span class="line">            System.out.println(instanceField);   <span class="comment">// å¯ä»¥è®¿é—®å¤–éƒ¨ç±»çš„å®ä¾‹å­—æ®µ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805093058054.png" alt="image-20230805093058054"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">import</span> com.briup.chap07.blog.Outer.Inner;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test031_Member</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>();</span><br><span class="line">        outer.disp();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------&quot;</span>);</span><br><span class="line">        <span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> outer.<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        inner.show();</span><br><span class="line">        System.out.println(<span class="string">&quot;-----------------------------&quot;</span>);</span><br><span class="line">        <span class="type">Inner</span> <span class="variable">inner2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer</span>().<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        inner2.show();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">o_num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> <span class="variable">i_num</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">40</span>; <span class="comment">// åŒå</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">//public static int s_num = 50; error</span></span><br><span class="line">        <span class="comment">//public static void s_test() &#123;&#125;</span></span><br><span class="line"></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, o_num: &quot;</span> + o_num);</span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">50</span>;</span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, num: &quot;</span> + num); <span class="comment">// å±€éƒ¨</span></span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, num: &quot;</span> + <span class="built_in">this</span>.num); <span class="comment">// å†…éƒ¨ç±»æˆå‘˜å˜é‡</span></span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, num: &quot;</span> + Outer.<span class="built_in">this</span>.num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤–éƒ¨ç±»æ–¹æ³•è®¿é—®å†…éƒ¨å­—æ®µ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">disp</span><span class="params">()</span> &#123;</span><br><span class="line">        Outer.<span class="type">Inner</span> <span class="variable">inn</span> <span class="operator">=</span> <span class="built_in">this</span>.<span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;in Outer, i_num: &quot;</span> + inn.i_num);</span><br><span class="line"></span><br><span class="line">        <span class="type">Inner</span> <span class="variable">inn2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        System.out.println(<span class="string">&quot;inn2.i_num: &quot;</span> + inn2.i_num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805095929767.png" alt="image-20230805095929767"></p><p><font color="#d12920">æ³¨æ„ï¼Œä¸Šè¿°ä»£ç ç¼–è¯‘æˆåŠŸåï¼Œå¤–éƒ¨ç±»å’Œå†…éƒ¨ç±»éƒ½ä¼šç”Ÿæˆå¯¹åº”çš„classæ–‡ä»¶</font></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805100419517.png" alt="image-20230805100419517"></p><p>JavaAPIä¸­çš„ä½¿ç”¨æˆå‘˜å†…éƒ¨ç±»ï¼š <strong>java.util.ArrayList</strong> ç±»ä¸­ï¼Œå°±å®šä¹‰äº†å¥½å‡ ä¸ªæˆå‘˜å†…éƒ¨ç±»ï¼Œå¹¶ä¸”è¿˜æ˜¯private ä¿®é¥°çš„</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805100723071.png" alt="image-20230805100723071"></p></blockquote><p><strong>æ€è€ƒï¼Œä»€ä¹ˆæƒ…å†µä¸‹ä¼šä½¿ç”¨å†…éƒ¨ç±»ï¼Ÿ</strong></p><blockquote><p>åœ¨å¯¹äº‹ç‰©è¿›è¡ŒæŠ½è±¡çš„æ—¶å€™ï¼Œ<strong>è‹¥ä¸€ä¸ªäº‹ç‰©å†…éƒ¨è¿˜åŒ…å«å…¶ä»–äº‹ç‰©ï¼Œ</strong>å°±å¯ä»¥è€ƒè™‘ä½¿ç”¨å†…éƒ¨ç±»è¿™ç§ç»“æ„ã€‚</p><p>ä¾‹å¦‚ï¼Œæ±½è½¦ï¼ˆCarï¼‰ä¸­åŒ…å«å‘åŠ¨æœºï¼ˆEngineï¼‰ ï¼Œè¿™æ—¶ï¼Œ Engine ç±»å°±å¯ä»¥è€ƒè™‘ï¼ˆé å¿…é¡»ï¼‰ä½¿ç”¨å†…éƒ¨ç±»æ¥æè¿°ï¼Œå®šä¹‰åœ¨Carç±»ä¸­çš„æˆå‘˜ä½ç½®ã€‚ è¿™æ ·è®¾è®¡ï¼Œæ—¢å¯ä»¥è¡¨ç¤ºCarå’ŒEngineçš„ç´§å¯†è”ç³»çš„ç¨‹åº¦ï¼Œä¹Ÿå¯ä»¥åœ¨Engineç±»ä¸­å¾ˆ æ–¹ä¾¿çš„ä½¿ç”¨åˆ°Caré‡Œé¢çš„å±æ€§å’Œæ–¹æ³•</p><p>æ³¨æ„ï¼šè¿™é‡Œä»ç¨‹åºä¸­ï¼Œç±»ä¸ç±»ä¹‹é—´çš„å…³ç³»å’Œæ„ä¹‰è¿›è¡Œè€ƒè™‘è€Œè®¾è®¡çš„ï¼Œå…¶å®è¿™é‡Œå³ä½¿ä¸ä½¿ç”¨å†…éƒ¨ç±»çš„ç»“æ„ï¼Œä½¿ç”¨æ™®é€šçš„ä¸¤ä¸ªç±»ä¹Ÿèƒ½å®ŒæˆåŠŸèƒ½ï¼Œä½†æ˜¯å†…éƒ¨ç±»çš„ç»“æ„è®¾è®¡ä¼šæ›´åŠ ç¬¦åˆå®é™…æ„ä¹‰ï¼Œä¹Ÿèƒ½å¤Ÿå¥½çš„å®ŒæˆåŠŸèƒ½ï¼Œå› ä¸ºå†…éƒ¨ç±»è®¿é—®å¤–éƒ¨çš„å±æ€§å’Œæ–¹æ³•ä¼šæ›´åŠ å®¹æ˜“ã€‚</p></blockquote><h2 id="é™æ€å†…éƒ¨ç±»"><a href="#é™æ€å†…éƒ¨ç±»" class="headerlink" title="é™æ€å†…éƒ¨ç±»"></a>é™æ€å†…éƒ¨ç±»</h2><blockquote><p>é™æ€å†…éƒ¨ç±»å±äºæˆå‘˜å†…éƒ¨ç±»ä¸­çš„ä¸€ç§ï¼Œå…¶éœ€è¦staticå…³é”®å­—è¿›è¡Œä¿®é¥°ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤–éƒ¨ç±»</span></span><br><span class="line">[ä¿®é¥°ç¬¦] class å¤–éƒ¨ç±» &#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//é™æ€å†…éƒ¨ç±»</span></span><br><span class="line">    [æƒé™ä¿®é¥°ç¬¦] <span class="keyword">static</span> class å†…éƒ¨ç±» &#123;</span><br><span class="line">        <span class="number">0</span>æˆ–å¤šä¸ªæ•°æ®æˆå‘˜</span><br><span class="line">            <span class="number">0</span>æˆ–å¤šä¸ªæ„é€ æ–¹æ³•</span><br><span class="line">            <span class="number">0</span>æˆ–å¤šä¸ªæˆå‘˜æ–¹æ³•</span><br><span class="line">            <span class="comment">//æ³¨æ„ï¼Œä¸å¯ä»¥åŒ…å«staticæˆå‘˜æˆ–æ–¹æ³•</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å¯¹è±¡å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å å¯¹è±¡å = <span class="keyword">new</span> å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å();</span><br><span class="line">Outer2.<span class="type">Inner</span> <span class="variable">inn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer2</span>.Inner();</span><br></pre></td></tr></table></figure><p>é™æ€æ–¹æ³•è®¿é—®æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">å¤–éƒ¨ç±»å.å†…éƒ¨ç±»å.æ–¹æ³•å();</span><br><span class="line"><span class="comment">// å¦‚æœåœ¨å¤–éƒ¨ç±»ä¸­ï¼Œå¤–éƒ¨ç±»åå¯ä»¥çœç•¥ã€‚</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>ç›¸å¯¹äºæˆå‘˜å†…éƒ¨ç±»ï¼Œ<strong>é™æ€å†…éƒ¨ç±»ä¸­å¯ä»¥å®šä¹‰staticæˆå‘˜å’Œæ–¹æ³•</strong></li><li>é™æ€å†…éƒ¨ç±»æˆå‘˜æ–¹æ³•å†…ï¼Œ<strong>åªèƒ½è®¿é—®å¤–éƒ¨ç±»staticæˆå‘˜æˆ–æ–¹æ³•ã€é™æ€åªèƒ½è®¿é—®é™æ€ã€‘</strong></li><li>å¤–éƒ¨ç±»æ–¹æ³•å¯ä»¥è®¿é—®é™æ€å†…éƒ¨ç±»æ‰€æœ‰æˆå‘˜åŠæ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test032_Static</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.é™æ€å†…éƒ¨ç±»è°ƒç”¨staticæ–¹æ³•</span></span><br><span class="line">        <span class="comment">// ç¼–è¯‘æŠ¥é”™ï¼Œä¸è¯†åˆ«Innerï¼Œä¼šæŠŠInnerå½“æˆå¤–éƒ¨ç±»å»æŸ¥æ‰¾</span></span><br><span class="line">        <span class="comment">// Inner.sFun();</span></span><br><span class="line">        <span class="comment">// æ­£ç¡®å†™å‘</span></span><br><span class="line">        Outer2.Inner.sFun();</span><br><span class="line">        System.out.println(<span class="string">&quot;---------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 2.é™æ€å†…éƒ¨ç±»æ™®é€šæ–¹æ³•è°ƒç”¨</span></span><br><span class="line">        <span class="comment">// å†…éƒ¨ç±»å¯¹è±¡ å›ºå®šå®šä¹‰æ ¼å¼</span></span><br><span class="line">        Outer2.<span class="type">Inner</span> <span class="variable">inn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer2</span>.Inner();</span><br><span class="line">        inn.show();</span><br><span class="line">        System.out.println(<span class="string">&quot;----------------&quot;</span>);</span><br><span class="line">        <span class="comment">// 3.å¤–éƒ¨ç±»å¯¹è±¡è®¿é—®å†…éƒ¨ç±»æˆå‘˜</span></span><br><span class="line">        <span class="type">Outer2</span> <span class="variable">outer</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer2</span>();</span><br><span class="line">        outer.disp();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer2</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">o_num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">s_num</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">static</span> <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">        <span class="keyword">private</span> <span class="type">int</span> <span class="variable">i_num</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="variable">is_num</span> <span class="operator">=</span> <span class="number">40</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// staticæˆå‘˜æ–¹æ³•åªèƒ½è®¿é—®å¤–éƒ¨ç±»staticæˆå‘˜ã€é™æ€åªèƒ½è®¿é—®é™æ€ã€‘</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">sFun</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">            <span class="comment">// System.out.println(&quot;Outer2 o_num: &quot; + o_num);</span></span><br><span class="line">            <span class="comment">// cannot make a static reference to the non-static field o_num</span></span><br><span class="line">            System.out.println(<span class="string">&quot;Outer2 s_num: &quot;</span> + Outer2.s_num);</span><br><span class="line">            System.out.println(<span class="string">&quot;Outer2 s_num: &quot;</span> + s_num);</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// æ™®é€šæˆå‘˜æ–¹æ³•</span></span><br><span class="line">        <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            <span class="comment">// 1.è®¿é—®å†…éƒ¨ç±»ä¸­æ•°æ®æˆå‘˜</span></span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, num: &quot;</span> + <span class="built_in">this</span>.i_num); <span class="comment">// 30</span></span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, is_num: &quot;</span> + Inner.is_num); <span class="comment">// 40</span></span><br><span class="line">            <span class="comment">// 2.é™æ€å†…éƒ¨ç±»æ–¹æ³•ä¸­åªèƒ½è®¿é—®å¤–éƒ¨ç±»çš„staticæˆå‘˜</span></span><br><span class="line">            <span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">            <span class="comment">// System.out.println(&quot;in Inner,o_num: &quot; + o_num);</span></span><br><span class="line">            <span class="comment">// 3.è®¿é—®å¤–éƒ¨ç±»staticæˆå‘˜ï¼Œä¸‹é¢ä¸¤è¡Œæ•ˆæœç›¸åŒ</span></span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, s_num: &quot;</span> + s_num);</span><br><span class="line">            <span class="comment">// 20</span></span><br><span class="line">            System.out.println(<span class="string">&quot;in Inner, s_num: &quot;</span> + Outer2.s_num); <span class="comment">// 20</span></span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// å¤–éƒ¨ç±»æ–¹æ³•è®¿é—®å†…éƒ¨å­—æ®µ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">disp</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//Outer2.Inner inn = new Inner(); ä¸€æ ·çš„</span></span><br><span class="line">        Outer2.<span class="type">Inner</span> <span class="variable">inn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer2</span>.Inner();</span><br><span class="line">        System.out.println(<span class="string">&quot;in Outer, i_num: &quot;</span> + inn.i_num);</span><br><span class="line">        System.out.println(<span class="string">&quot;in Outer, is_num: &quot;</span> + Inner.is_num);</span><br><span class="line">        System.out.println(<span class="string">&quot;in Outer, is_num: &quot;</span> + inn.is_num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805103753155.png" alt="image-20230805103753155"></p><p><font color="#d12920">æ³¨æ„ï¼Œåœ¨é™æ€å†…éƒ¨ç±»ä¸­è®¿é—®ä¸äº†å¤–éƒ¨ç±»ä¸­çš„éé™æ€å±æ€§å’Œæ–¹æ³•</font></p><p>JavaAPIä¸­é™æ€å†…éƒ¨ç±»æ¡ˆä¾‹ï¼š <strong>java.lang.Integer</strong> ç±»ä¸­ï¼Œå°±å®šä¹‰äº†ä¸€ä¸ªé™æ€å†…éƒ¨ç±»ï¼Œå¹¶ä¸”è¿˜æ˜¯privateä¿®é¥° çš„</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805104202798.png" alt="image-20230805104202798"></p></blockquote><h2 id="å±€éƒ¨å†…éƒ¨ç±»ï¼ˆäº†è§£å³å¯ï¼‰"><a href="#å±€éƒ¨å†…éƒ¨ç±»ï¼ˆäº†è§£å³å¯ï¼‰" class="headerlink" title="å±€éƒ¨å†…éƒ¨ç±»ï¼ˆäº†è§£å³å¯ï¼‰"></a>å±€éƒ¨å†…éƒ¨ç±»ï¼ˆäº†è§£å³å¯ï¼‰</h2><blockquote><p>åœ¨å¤–éƒ¨ç±»çš„æ–¹æ³•ä¸­å®šä¹‰çš„å†…éƒ¨ç±»ï¼Œæˆ‘ä»¬ç§°ä¸ºå±€éƒ¨å†…éƒ¨ç±»ï¼Œ<strong>å®ƒçš„ä½œç”¨èŒƒå›´åªæ˜¯åœ¨å½“å‰æ–¹æ³•ä¸­</strong>ã€‚</p><p> å±€éƒ¨å†…éƒ¨ç±»æ˜¯æœ€ä¸å¸¸ç”¨çš„ä¸€ç§å†…éƒ¨ç±»ï¼Œå¤§å®¶äº†è§£å³å¯ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] class å¤–éƒ¨ç±» &#123;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">    <span class="comment">//æˆå‘˜æ–¹æ³•</span></span><br><span class="line">    [ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å¼å‚æ•°åˆ—è¡¨) &#123;</span><br><span class="line">        <span class="comment">//åŠŸèƒ½å®ç°çœç•¥...</span></span><br><span class="line">        <span class="comment">//å±€éƒ¨å†…éƒ¨ç±»å®šä¹‰</span></span><br><span class="line">        class æˆå‘˜å†…éƒ¨ç±»å &#123;</span><br><span class="line">            <span class="number">0</span>æˆ–å¤šä¸ªæ•°æ®æˆå‘˜</span><br><span class="line">                <span class="number">0</span>æˆ–å¤šä¸ªæ„é€ æ–¹æ³•</span><br><span class="line">                <span class="number">0</span>æˆ–å¤šä¸ªæˆå‘˜æ–¹æ³•</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">//æ³¨æ„ï¼šå±€éƒ¨å†…éƒ¨ç±»çš„ä½œç”¨èŒƒå›´åœ¨å½“å‰æ–¹æ³•ä¸­ï¼Œåªèƒ½åœ¨è¯¥æ–¹æ³•ä¸­ä½¿ç”¨</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼šå±€éƒ¨å†…éƒ¨ç±»åªèƒ½åœ¨å®šä¹‰çš„æ–¹æ³•ä¸­ä½¿ç”¨ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test033_Local</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Outer3</span> <span class="variable">outer3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Outer3</span>();</span><br><span class="line">        outer3.innerFun();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Outer3</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åŒ…å«å±€éƒ¨å†…éƒ¨ç±»çš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">innerFun</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">// ä¸‹é¢ä¸¤è¡Œæ•ˆæœä¸€æ ·</span></span><br><span class="line">        <span class="comment">// int num = 20; ä¼šé»˜è®¤å¸®ä½ åŠ ä¸Šfinal</span></span><br><span class="line">        <span class="keyword">final</span> <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">        <span class="comment">// åœ¨æ–¹æ³•å†…éƒ¨ï¼Œå®šä¹‰å±€éƒ¨å†…éƒ¨ç±»</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">            <span class="keyword">private</span> <span class="type">int</span> <span class="variable">i_num</span> <span class="operator">=</span> <span class="number">30</span>;</span><br><span class="line"></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;å±€éƒ¨å˜é‡num: &quot;</span> + num);</span><br><span class="line">                System.out.println(<span class="string">&quot;å†…éƒ¨ç±»æˆå‘˜å˜é‡this.i_num: &quot;</span> + <span class="built_in">this</span>.i_num);</span><br><span class="line">                System.out.println(<span class="string">&quot;å¤–éƒ¨ç±»æˆå‘˜å˜é‡Outer3.this.num: &quot;</span> + Outer3.<span class="built_in">this</span>.num);</span><br><span class="line">                <span class="comment">// æ–¹æ³•ä¸­å£°æ˜çš„å±€éƒ¨å˜é‡ï¼Œåªè¦åœ¨å†…éƒ¨ç±»ä¸­ä½¿ç”¨ï¼Œé»˜è®¤ä¼šåŠ ä¸Šfinalä¿®é¥°</span></span><br><span class="line">                <span class="comment">// æ‰€ä»¥ä¸‹é¢ä¸€è¡Œ ç¼–è¯‘ä¼šæŠ¥é”™ï¼šç»™finalå˜é‡èµ‹å€¼</span></span><br><span class="line">                <span class="comment">// num = 60;</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="comment">// åˆ›å»ºå±€éƒ¨å†…éƒ¨ç±»å¯¹è±¡</span></span><br><span class="line">        <span class="type">Inner</span> <span class="variable">inn</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        <span class="comment">// è®¿é—®å†…éƒ¨ç±»ç§æœ‰æˆå‘˜</span></span><br><span class="line">        System.out.println(inn.i_num);</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------&quot;</span>);</span><br><span class="line">        <span class="comment">// è°ƒç”¨å†…éƒ¨å†…æ–¹æ³•</span></span><br><span class="line">        inn.test();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805105159336.png" alt="image-20230805105159336"></p></blockquote><blockquote><p><font color="#d12920">é¢è¯•å¸¸è€ƒï¼šJDK8ä¸­ï¼Œæ–¹æ³•ä¸­å®šä¹‰çš„å±€éƒ¨å˜é‡ï¼Œå¦‚æœåœ¨å±€éƒ¨å†…éƒ¨ç±»ä¸­å¯¹å…¶è®¿é—®æ“ä½œï¼Œé‚£ä¹ˆè¿™ä¸ªå±€éƒ¨å˜é‡ä¼šé»˜è®¤åŠ ä¸Šfinalä¿®é¥°ï¼Œå…¶å€¼ä¸èƒ½æ”¹å˜ã€‚</font></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805110112059.png" alt="image-20230805110112059"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">LocalInnerClassExample</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">outerMethod</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">outerVariable</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"></span><br><span class="line">        <span class="comment">// åœ¨å±€éƒ¨å†…éƒ¨ç±»ä¸­è®¿é—®å¤–éƒ¨æ–¹æ³•çš„å±€éƒ¨å˜é‡</span></span><br><span class="line">        <span class="keyword">class</span> <span class="title class_">Inner</span> &#123;</span><br><span class="line">            <span class="keyword">void</span> <span class="title function_">innerMethod</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;Outer variable: &quot;</span> + outerVariable);</span><br><span class="line">                <span class="comment">// outerVariable = 20;  // è¿™é‡Œå¦‚æœè§£é™¤æ³¨é‡Šä¼šå¯¼è‡´ç¼–è¯‘é”™è¯¯</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line"></span><br><span class="line">        <span class="type">Inner</span> <span class="variable">inner</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Inner</span>();</span><br><span class="line">        inner.innerMethod();</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">LocalInnerClassExample</span> <span class="variable">example</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">LocalInnerClassExample</span>();</span><br><span class="line">        example.outerMethod();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="åŒ¿åå†…éƒ¨ç±»ï¼ˆå¿…é¡»æŒæ¡ï¼‰"><a href="#åŒ¿åå†…éƒ¨ç±»ï¼ˆå¿…é¡»æŒæ¡ï¼‰" class="headerlink" title="åŒ¿åå†…éƒ¨ç±»ï¼ˆå¿…é¡»æŒæ¡ï¼‰"></a>åŒ¿åå†…éƒ¨ç±»ï¼ˆå¿…é¡»æŒæ¡ï¼‰</h2><blockquote><p>åŒ¿åå†…éƒ¨ç±»ï¼Œæ˜¯ä¸€ç§æ²¡æœ‰åå­—çš„å†…éƒ¨ç±»ï¼Œ<strong>æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªç‰¹æ®Šçš„å±€éƒ¨å†…éƒ¨ç±»</strong>ï¼ˆå®šä¹‰åœ¨æ–¹æ³•å†…éƒ¨ï¼‰ã€‚</p><p> åœ¨ä¹‹åçš„ä»£ç ä¸­ï¼ŒåŒ¿åå†…éƒ¨ç±»æ˜¯ä½¿ç”¨æœ€å¤šçš„å†…éƒ¨ç±»ï¼ˆå¿…é¡»æŒæ¡ï¼‰ã€‚</p><p>å¸¸è§„æ¥å£ã€æŠ½è±¡ç±»çš„ä½¿ç”¨åŒ¿åå†…éƒ¨ç±»æ­¥éª¤ï¼š</p><ul><li>å£°æ˜ä¸€ä¸ªç±»ï¼Œå»å®ç°è¿™ä¸ªæ¥å£ï¼Œæˆ–å»ç»§æ‰¿æŠ½è±¡ç±»</li><li>é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•</li><li>ç”¨æ¥å£æˆ–å¼•ç”¨å»æŒ‡å‘å­ç±»æˆ–å®ç°ç±»å¯¹è±¡</li><li>é€šè¿‡æ¥å£æˆ–æŠ½è±¡ç±»å¼•ç”¨å»è°ƒç”¨é‡å†™çš„æ–¹æ³•</li></ul><p>åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œæˆ‘ä»¬çš„<strong>æ ¸å¿ƒä»»åŠ¡æ˜¯é‡å†™æŠ½è±¡æ–¹æ³•ï¼Œæœ€åå†è°ƒç”¨è¿™äº›é‡å†™çš„æ–¹æ³•</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">çˆ¶ç±»æˆ–æ¥å£ç±»å‹ å˜é‡å = <span class="keyword">new</span> çˆ¶ç±»æˆ–æ¥å£(æ„é€ æ–¹æ³•å®å‚åˆ—è¡¨) &#123;</span><br><span class="line">    <span class="comment">// é‡å†™æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> è¿”å›å€¼ç±»å‹ method1(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">        æ–¹æ³•ä½“å®ç°</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> è¿”å›å€¼ç±»å‹ method2(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">        æ–¹æ³•ä½“å®ç°</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//çœç•¥...</span></span><br><span class="line">&#125;;</span><br><span class="line"><span class="comment">//åŒ¿åå†…éƒ¨ç±»å¯¹è±¡è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">å˜é‡å.é‡å†™æ–¹æ³•(å®å‚åˆ—è¡¨);</span><br></pre></td></tr></table></figure><p>åŒ¿åå†…éƒ¨ç±»çš„ä¸¤ç§å½¢å¼ï¼š</p><ul><li>åˆ©ç”¨çˆ¶ç±»ï¼Œ<strong>è¿›è¡Œå£°æ˜å¹¶åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡</strong>ï¼Œè¿™ä¸ªåŒ¿åå†…éƒ¨ç±»é»˜è®¤å°±æ˜¯è¿™ä¸ªçˆ¶ç±»çš„å­ç±»å‹</li><li>åˆ©ç”¨æ¥å£ï¼Œ<strong>è¿›è¡Œå£°æ˜å¹¶åˆ›å»ºåŒ¿åå†…éƒ¨ç±»å¯¹è±¡</strong>ï¼Œè¿™ä¸ªåŒ¿åå†…éƒ¨ç±»é»˜è®¤å°±æ˜¯è¿™ä¸ªæ¥å£çš„å®ç°ç±»</li></ul><p>åŒ¿åå†…éƒ¨ç±»æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>åŒ¿åå†…éƒ¨ç±»<strong>å¿…é¡»ä¾æ‰˜äºä¸€ä¸ªæ¥å£æˆ–ä¸€ä¸ªçˆ¶ç±»ï¼ˆå¯ä»¥æ˜¯æŠ½è±¡ç±»ï¼Œä¹Ÿå¯ä»¥æ˜¯æ™®é€šç±»ï¼‰</strong></li><li>åŒ¿åå†…éƒ¨ç±»åœ¨å£°æ˜çš„åŒæ—¶ï¼Œå°±å¿…é¡»åˆ›å»ºå‡ºå¯¹è±¡</li><li>åŒ¿åå†…éƒ¨ç±»ä¸­æ— æ³•å®šä¹‰æ„é€ å™¨</li></ul><p>åå†…éƒ¨ç±»å®ç°æ¥å£æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test034_Interface</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">ISleep</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">ISleep</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;èººç€ç¡&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        s1.sleep();</span><br><span class="line"></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">ISleep</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;æ°´é‡Œç¡&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.sleep();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ISleep</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åŒ¿åå†…éƒ¨ç±»å®ç°æŠ½è±¡ç±»æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å®šä¹‰æŠ½è±¡ç±»</span></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">MyThread</span> &#123;</span><br><span class="line">    <span class="comment">//æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span>;</span><br><span class="line">    <span class="comment">//æ™®é€šæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;in Mythread,test ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test034_Abstract</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.æ™®é€šå†™æ³•</span></span><br><span class="line">        <span class="type">MyThread</span> <span class="variable">th</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">MyThread</span>() &#123;</span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;é‡å†™ run1&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        th.run();</span><br><span class="line">        th.test();</span><br><span class="line">        System.out.println(<span class="string">&quot;--------------&quot;</span>);</span><br><span class="line">        <span class="comment">//2.ç®€åŒ–å†™æ³•</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">MyThread</span>() &#123;</span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">run</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="string">&quot;in run2 ...&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.run();</span><br><span class="line">        <span class="comment">//æ³¨æ„ï¼ŒåŒ¿åå¯¹è±¡åªèƒ½ä½¿ç”¨ä¸€æ¬¡ï¼Œå› ä¸ºæ²¡æœ‰åå­—ï¼Œæ— æ³•å†æ¬¡è®¿é—®</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805112723984.png" alt="image-20230805112723984"></p><p>åŒ¿åå†…éƒ¨ç±»å¯¹è±¡ä½¿ç”¨çˆ¶ç±»æ„é€ æ–¹æ³•æ¡ˆä¾‹</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test034_Constructor</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal3</span> <span class="variable">a1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal3</span>() &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span> &#123;</span><br><span class="line">                <span class="comment">// æ³¨æ„ï¼šåŒ¿åå†…éƒ¨ç±»å±äºå­ç±»ï¼Œåœ¨é‡å†™æ–¹æ³•ä¸­å¯é€šè¿‡superå…³é”®å­—è®¿é—®çˆ¶ç±»æ–¹æ³•æˆ–æˆå‘˜</span></span><br><span class="line">                System.out.println(<span class="built_in">super</span>.getName() + <span class="string">&quot; å–œæ¬¢åƒé±¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="built_in">super</span>.getName() + <span class="string">&quot; ç¡è§‰&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;;</span><br><span class="line">        <span class="comment">// çˆ¶ç±»å¼•ç”¨è°ƒç”¨é‡å†™æ–¹æ³•</span></span><br><span class="line">        a1.sleep();</span><br><span class="line">        a1.eat();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------------&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å®ä¾‹åŒ–å­ç±»å¯¹è±¡ï¼Œè°ƒç”¨çˆ¶ç±»æ„é€ å™¨å¯¹çˆ¶ç±»è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">        <span class="keyword">new</span> <span class="title class_">Animal3</span>(<span class="string">&quot;tom&quot;</span>) &#123;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="built_in">super</span>.getName() + <span class="string">&quot; å–œæ¬¢åƒé±¼&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line"></span><br><span class="line">            <span class="meta">@Override</span></span><br><span class="line">            <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span> &#123;</span><br><span class="line">                System.out.println(<span class="built_in">super</span>.getName() + <span class="string">&quot; ç¡è§‰&quot;</span>);</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;.eat();</span><br><span class="line"></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Animal3</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal3</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Animal3</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">eat</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">sleep</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805113504426.png" alt="image-20230805113504426"></p><p>å†…éƒ¨ç±»åº”ç”¨åœºæ™¯é€‰æ‹©ï¼š</p><ul><li>è€ƒè™‘è¿™ä¸ªå†…éƒ¨ç±»ï¼Œå¦‚æœéœ€è¦åå¤çš„è¿›è¡Œå¤šæ¬¡ä½¿ç”¨ï¼ˆå¿…é¡»æœ‰åå­—ï¼‰<ul><li>éœ€è¦å®šä¹‰é™æ€çš„å±æ€§å’Œæ–¹æ³•ï¼Œé€‰æ‹©ä½¿ç”¨<strong>é™æ€å†…éƒ¨ç±»</strong></li><li>éœ€è¦æ–¹ä½å¤–éƒ¨ç±»çš„éé™æ€å±æ€§å’Œæ–¹æ³•ï¼Œé€‰æ‹©ä½¿ç”¨<strong>æˆå‘˜å†…éƒ¨ç±»</strong></li></ul></li><li>è€ƒè™‘è¿™ä¸ªå†…éƒ¨ç±»ï¼Œå¦‚æœåªéœ€è¦ä½¿ç”¨ä¸€æ¬¡ï¼ˆå¯ä»¥æ²¡æœ‰åå­—ï¼‰<ul><li>é€‰æ‹©<strong>åŒ¿åå†…éƒ¨ç±»</strong></li><li><strong>å±€éƒ¨å†…éƒ¨ç±»</strong>ï¼Œå‡ ä¹ä¸ä¼šç”¨</li></ul></li></ul></blockquote><h1 id="åŒ…è£…ç±»"><a href="#åŒ…è£…ç±»" class="headerlink" title="åŒ…è£…ç±»"></a>åŒ…è£…ç±»</h1><blockquote><p>Javaä¸­æœ‰<strong>å…«ç§åŸºæœ¬æ•°æ®ç±»å‹</strong>ï¼Œå®ƒä»¬åªèƒ½è¡¨ç¤ºä¸€äº›æœ€ç®€å•çš„æ•°å­—ï¼Œè¿™äº›æ•°å­—æœ€ å°çš„åœ¨å†…å­˜ä¸­å 1ä¸ªå­—èŠ‚8ä½ï¼Œæœ€å¤§å 8ä¸ªå­—èŠ‚64ä½ã€‚è¿™äº›<strong>éƒ½æ˜¯ç®€å•çš„æ•°å­—ï¼Œ ä¸æ˜¯å¯¹è±¡</strong>ï¼Œæ‰€ä»¥<strong>ä¸èƒ½ç”¨æ¥è°ƒç”¨æ–¹æ³•æˆ–è€…å±æ€§</strong>ï¼ŒåŠŸèƒ½ä¸å¤Ÿå¼ºå¤§ã€‚</p></blockquote><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>é’ˆå¯¹è¿™å…«ç§åŸºæœ¬ç±»å‹ï¼ŒJavaAPIåˆä¸“é—¨æä¾›äº†å¯¹åº”çš„ç±»ç±»å‹ï¼Œ<strong>ç›®çš„å°±æ˜¯ä¸ºäº†åˆ†åˆ«æŠŠè¿™å…«ç§åŸºæœ¬ç±»å‹çš„æ•°æ®ï¼ŒåŒ…è£…æˆå¯¹åº”çš„ç±»ç±»å‹ï¼Œè¿™æ—¶å€™å°±å˜æˆå¯¹è±¡äº†ï¼Œå°±å¯ä»¥ è°ƒç”¨æ–¹æ³•äº†æˆ–è€…è®¿é—®å±æ€§äº†ã€‚</strong></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805114804192.png" alt="image-20230805114804192"></p><p><strong>å…·ä½“ä½¿ç”¨æŸ¥çœ‹jdk.8æ–‡æ¡£</strong></p><p><font color="#d12920">æ³¨æ„ï¼šä¸€å®šè¦æŒæ¡ public static int parseInt(String s) æ–¹æ³•</font></p></blockquote><h2 id="è£…ç®±æ‹†ç®±"><a href="#è£…ç®±æ‹†ç®±" class="headerlink" title="è£…ç®±æ‹†ç®±"></a>è£…ç®±æ‹†ç®±</h2><blockquote><p><strong>JDK1.5æˆ–ä»¥ä¸Š</strong>ï¼Œå¯ä»¥æ”¯æŒ<strong>åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹ä¹‹é—´çš„è‡ªåŠ¨è£…ç®±ã€è‡ªåŠ¨æ‹†ç®±</strong>ã€‚è¿™ç®€åŒ–äº†åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹ä¹‹é—´çš„è½¬æ¢ã€‚</p><ul><li>è‡ªåŠ¨è£…ç®±ï¼š<strong>åŸºæœ¬æ•°æ®ç±»å‹å€¼</strong> è‡ªåŠ¨è½¬åŒ–ä¸º <strong>åŒ…è£…ç±»å¯¹è±¡</strong></li><li>è‡ªåŠ¨æ‹†ç®±ï¼š<strong>åŒ…è£…ç±»å¯¹è±¡</strong> è‡ªåŠ¨è½¬åŒ–ä¸º <strong>åŸºæœ¬æ•°æ®ç±»å‹å€¼</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test043_Integer</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// JDK1.5ä¹‹å‰</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i2</span> <span class="operator">=</span> Integer.valueOf(<span class="number">1</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// JDK1.5ä¹‹å</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i3</span> <span class="operator">=</span> <span class="number">1</span>; <span class="comment">// è‡ªåŠ¨è£…ç®±ï¼Œè¿™é‡Œä¼šè‡ªåŠ¨æŠŠæ•°å­—1åŒ…è£…æˆIntegerç±»å‹çš„å¯¹è±¡</span></span><br><span class="line"></span><br><span class="line">        <span class="comment">// JDK1.5ä¹‹å‰</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">i4</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i5</span> <span class="operator">=</span> i4.intValue();</span><br><span class="line"></span><br><span class="line">        <span class="comment">// JDK1.5ä¹‹å</span></span><br><span class="line">        <span class="type">Integer</span> <span class="variable">o</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Integer</span>(<span class="number">1</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">i7</span> <span class="operator">=</span> o; <span class="comment">// è‡ªåŠ¨æ‹†ç®±ï¼Œè¿™é‡Œä¼šè‡ªåŠ¨æŠŠå¯¹è±¡oæ‹†ç®±ä¸ºä¸€ä¸ªintç±»å‹çš„æ•°å­—ï¼Œå¹¶æŠŠæ•°å­—èµ‹å€¼ç»™intç±»å‹çš„å˜é‡i7;</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>å…¶ä»–çš„åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»å‹ä¹‹é—´çš„è½¬æ¢ï¼Œä¸æ­¤ç±»ä¼¼</p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>ä½¿ç”¨åŸºæœ¬ç±»å‹å’ŒåŒ…è£…ç±»æ—¶ï¼Œè¦è€ƒè™‘<strong>éšå¼ç±»å‹è½¬æ¢</strong></li><li><strong>ä¸åŒç±»å‹çš„åŸºæœ¬æ•°æ®ç±»å‹å’ŒåŒ…è£…ç±»ï¼Œæ˜¯ä¸å¯ä»¥è‡ªåŠ¨è£…ç®±æ‹†ç®±çš„</strong>ï¼Œä¾‹å¦‚intå’ŒLong</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test1</span><span class="params">(<span class="type">int</span> i)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test2</span><span class="params">(Integer i)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test3</span><span class="params">(<span class="type">long</span> i)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">test4</span><span class="params">(Long i)</span> &#123;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    Test043_Test t=<span class="keyword">new</span> <span class="title class_">Test043_Test</span>();</span><br><span class="line">    t.test1(<span class="number">1</span>);<span class="comment">// ç¼–è¯‘é€šè¿‡ int i = 1; æ­£å¸¸èµ‹å€¼</span></span><br><span class="line">    t.test2(<span class="number">1</span>);<span class="comment">// ç¼–è¯‘é€šè¿‡ Integer i = 1; è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">    t.test3(<span class="number">1</span>);<span class="comment">// ç¼–è¯‘é€šè¿‡ long i = 1; éšå¼ç±»å‹è½¬æ¢</span></span><br><span class="line">    <span class="comment">// ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">// é”™è¯¯çš„ä»£ç ï¼šLong i = 1;</span></span><br><span class="line">    <span class="comment">// intå’ŒLong ä¹‹é—´æ²¡æœ‰ä»»ä½•å…³ç³»</span></span><br><span class="line">    <span class="comment">//t.test4(1);</span></span><br><span class="line">    t.test4(<span class="number">1L</span>);<span class="comment">// ç¼–è¯‘é€šè¿‡ Long i = 1L; è‡ªåŠ¨è£…ç®±</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="Integerç¼“å†²åŒº"><a href="#Integerç¼“å†²åŒº" class="headerlink" title="Integerç¼“å†²åŒº"></a>Integerç¼“å†²åŒº</h2><blockquote><p>åœ¨Javaä¸­<strong>æ–¹æ³•åŒº</strong>æœ‰ä¸€ä¸ªå«åš<strong>è¿è¡Œæ—¶å¸¸é‡æ± (Runtime Constant Pool)<strong>çš„åŒºåŸŸï¼Œç”¨äºå­˜å‚¨ç¼–è¯‘æœŸé—´ç”Ÿæˆçš„å„ç§å­—é¢é‡å’Œç¬¦å·å¼•ç”¨ï¼Œ</strong>Integerç¼“å†²åŒº&#x3D;&#x3D;Integerå¸¸é‡æ± </strong>å°±å­˜åœ¨è¿è¡Œæ—¶å¸¸é‡æ± é‡Œé¢ã€‚</p><p>Integerå¸¸é‡æ± æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„<strong>ç¼“å­˜æœºåˆ¶</strong>ï¼Œç”¨äºå­˜å‚¨åœ¨èŒƒå›´**[-128, 127]<strong>ä¹‹é—´çš„Integerå¸¸é‡å¯¹è±¡ã€‚è¿™ä¸ªèŒƒå›´æ˜¯Javaä¸­ä¸€ä¸ª</strong>å›ºå®šï¼ˆJDKé»˜è®¤ï¼‰èŒƒå›´**ï¼Œè¶…å‡ºè¿™ä¸ªèŒƒå›´çš„æ•´å½¢å¸¸é‡ä¸ä¼šè¢«ç¼“å­˜ã€‚(å¯ä»¥é€šè¿‡é…ç½®JVMå‚æ•°è¿›è¡Œä¿®æ”¹é»˜è®¤å€¼)</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805130207624.png" alt="image-20230805130207624"></p><p>å½“ä½¿ç”¨<strong>è‡ªåŠ¨è£…ç®±ï¼ˆAutoboxingï¼‰</strong>å°†ä¸€ä¸ªæ•´æ•°èµ‹å€¼ä¸ºä¸€ä¸ªIntegerå¯¹è±¡æ—¶ï¼Œå¦‚æœè¯¥æ•´æ•°åœ¨**[-128, 127]<strong>èŒƒå›´å†…ï¼Œé‚£ä¹ˆä¼šä»Integerå¸¸é‡æ± ä¸­</strong>è·å–ä¸€ä¸ªå·²ç»å­˜åœ¨çš„å¯¹è±¡ï¼Œè€Œä¸æ˜¯åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡<strong>ã€‚è¿™æ˜¯å› ä¸ºåœ¨è¿™ä¸ªèŒƒå›´å†…çš„æ•´æ•°å¸¸è§ä¸”é¢‘ç¹ä½¿ç”¨ï¼Œ</strong>é€šè¿‡å¤ç”¨å¯¹è±¡å¯ä»¥èŠ‚çœå†…å­˜ç©ºé—´å’Œæé«˜æ€§èƒ½ã€‚**</p></blockquote><p>åŸºç¡€çŸ¥è¯†è¡¥å……ï¼š</p><blockquote><p>java.lang.Systemç±»ä¸­ä¸€ä¸ªæ–¹æ³•ï¼š</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805131227412.png" alt="image-20230805131227412"></p><p>è¯¥æ–¹æ³•ä¼šè¿”å›å¯¹è±¡çš„å“ˆå¸Œç ï¼Œå³<strong>Java æ ¹æ®å¯¹è±¡åœ¨å†…å­˜ä¸­çš„åœ°å€è®¡ç®—å‡ºæ¥ä¸€ä¸ªæ•´æ•°å€¼</strong>ï¼Œä¸åŒçš„åœ°å€ç®—å‡ºæ¥çš„ç»“æœä¸ä¸€æ ·çš„</p><p><font color="#d12920">æ³¨æ„ï¼Œå“ˆå¸Œç å¹¶ä¸æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">Integer</span> <span class="variable">i5</span> <span class="operator">=</span> <span class="number">128</span>; <span class="comment">// è¶…å‡ºçš„[-128, 127]çš„èŒƒå›´ç›¸å½“äºnewäº†ä¸€ä¸ªæ–°çš„å¯¹è±¡</span></span><br><span class="line"><span class="type">Integer</span> <span class="variable">i6</span> <span class="operator">=</span> <span class="number">128</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;i5: &quot;</span> +System.identityHashCode(i5));</span><br><span class="line">System.out.println(<span class="string">&quot;i6: &quot;</span> +System.identityHashCode(i6));</span><br><span class="line">System.out.println(<span class="string">&quot;i5 == i6: &quot;</span>+ (i5 == i6));</span><br><span class="line"><span class="comment">//false</span></span><br></pre></td></tr></table></figure><p>Integerå¯¹è±¡å†…å­˜æ„æˆï¼š</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805131956328.png" alt="image-20230805131956328"></p></blockquote><h1 id="Objectç±»å¸¸é‡æ± "><a href="#Objectç±»å¸¸é‡æ± " class="headerlink" title="Objectç±»å¸¸é‡æ± "></a>Objectç±»å¸¸é‡æ± </h1><blockquote><p>Objectç±»æ˜¯æ‰€æœ‰ç±»çš„çˆ¶ç±»å‹ï¼Œç±»ä¸­å®šä¹‰çš„æ–¹æ³•ï¼Œjavaä¸­æ‰€æœ‰å¯¹è±¡éƒ½å¯ä»¥è°ƒç”¨</p></blockquote><h2 id="toString-NaN"><a href="#toString-NaN" class="headerlink" title="toString"></a>toString</h2><blockquote><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805151311184.png" alt="image-20230805151311184"></p><p>æˆ‘ä»¬å¯ä»¥æ ¹æ®è‡ªå·±çš„éœ€è¦é‡å†™è¿™ä¸ªæ–¹æ³•ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123; <span class="comment">// è¿™ä¸ªæ˜¯ecpliseç”Ÿæˆçš„</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student [name=&quot;</span> + name + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="meta">@Override</span></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123; <span class="comment">// è¿™ä¸ªæ˜¯ideaç”Ÿæˆçš„</span></span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;Student&#123;&quot;</span> + <span class="string">&quot;name=&#x27;&quot;</span> + name + <span class="string">&#x27;\&#x27;&#x27;</span> + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&#x27;&#125;&#x27;</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//æ³¨æ„ï¼Œè¾“å‡ºå¯¹è±¡æ—¶ï¼Œè‡ªåŠ¨è°ƒç”¨å¯¹è±¡.toString()æ–¹æ³•</span></span><br><span class="line"><span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line"><span class="comment">//ä¸‹é¢ä¸¤è¡Œæ•ˆæœç›¸åŒ</span></span><br><span class="line">System.out.println(s1);</span><br><span class="line">System.out.println(s1.toString());</span><br></pre></td></tr></table></figure></blockquote><h2 id="getClass"><a href="#getClass" class="headerlink" title="getClass"></a>getClass</h2><blockquote><p>å®ƒè¿”å›<strong>å¼•ç”¨å˜é‡</strong>åœ¨<strong>è¿è¡Œæ—¶</strong>æ‰€æŒ‡å‘çš„<strong>å­—èŠ‚ç å¯¹è±¡</strong></p><p>è¯¥æ–¹æ³•æ˜¯nativeä¿®é¥°çš„æœ¬åœ°æ–¹æ³•ï¼Œä¸æ˜¯Javaè¯­è¨€å®ç°çš„</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805152735397.png" alt="image-20230805152735397"></p><p><font color="#d12920">æ³¨æ„ï¼šå­ç±»ä¸­ä¸èƒ½é‡å†™getClassï¼Œè°ƒç”¨çš„ä¸€å®šæ˜¯Objectä¸­çš„getClassæ–¹æ³•ã€‚æ•…è·å–çš„æ˜¯è¿è¡Œæ—¶å¼•ç”¨å˜é‡æ‰€æŒ‡å‘çš„å­—èŠ‚ç å¯¹è±¡</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.test;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test052_GetClass</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Test052_GetClass</span> <span class="variable">tg</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test052_GetClass</span>();</span><br><span class="line">        System.out.println(tg.getClass());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¿è¡Œç»“æœ class + å…¨ç±»å</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">com</span>.briup.chap07.test.Test052_GetClass</span><br></pre></td></tr></table></figure><p>getClassé’ˆå¯¹å¤šæ€æ—¶å¯ä»¥è·å–å…·ä½“æŒ‡å‘çš„ç±»å¯¹è±¡ï¼Œåˆ¤æ–­æ˜¯å¦ç¬¦åˆè¦æ±‚</p></blockquote><h2 id="equals"><a href="#equals" class="headerlink" title="equals"></a>equals</h2><blockquote><p>è¯¥æ–¹æ³•å¯ä»¥æ¯”è¾ƒä¿©ä¸ªå¯¹è±¡æ˜¯å¦ç›¸ç­‰</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805153347533.png" alt="image-20230805153347533"></p><p>æ³¨æ„ï¼šä¸€èˆ¬æƒ…å†µä¸‹ï¼Œç¨‹åºå‘˜ä¸éœ€è¦æ‰‹åŠ¨é‡å†™equalsæ–¹æ³•ï¼Œ<strong>STS</strong>ä¸­æä¾›äº†è‡ªåŠ¨ ç”Ÿæˆï¼ˆå»ºè®®ï¼‰çš„å¿«æ·é”®ï¼š</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805153644547.png" alt="image-20230805153644547"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é»˜è®¤æ²¡æœ‰ä½¿ç”¨jdk1.7çš„æ¨¡æ¿ç”Ÿæˆçš„equals</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> <span class="type">boolean</span> <span class="title function_">equals</span><span class="params">(Object obj)</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> (<span class="built_in">this</span> == obj)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">    <span class="keyword">if</span> (obj == <span class="literal">null</span>)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (getClass() != obj.getClass())</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="type">Stu</span> <span class="variable">other</span> <span class="operator">=</span> (Stu) obj;</span><br><span class="line">    <span class="keyword">if</span> (age != other.age)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">if</span> (name == <span class="literal">null</span>) &#123;</span><br><span class="line">        <span class="keyword">if</span> (other.name != <span class="literal">null</span>)</span><br><span class="line">            <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    &#125; <span class="keyword">else</span> <span class="keyword">if</span> (!name.equals(other.name))</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">false</span>;</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">true</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805154033416.png" alt="image-20230805154033416"></p></blockquote><h2 id="hashCode"><a href="#hashCode" class="headerlink" title="hashCode"></a>hashCode</h2><blockquote><p>è¯¥æ–¹æ³•è¿”å›ä¸€ä¸ªintå€¼ï¼Œè¯¥intå€¼æ˜¯JVMæ ¹æ®<strong>å¯¹è±¡åœ¨å†…å­˜ä¸­çš„ç‰¹å¾ï¼ˆåœ°å€å€¼</strong>ï¼‰ï¼Œé€šè¿‡<strong>å“ˆå¸Œç®—æ³•</strong>è®¡ç®—å‡ºçš„ä¸€ä¸ªç»“æœã€‚</p><ul><li>Hashï¼Œä¸€èˆ¬ç¿»è¯‘åšâ€œ<strong>æ•£åˆ—</strong>â€ï¼Œä¹Ÿå¯ä»¥éŸ³è¯‘ä¸ºâ€œ<strong>å“ˆå¸Œ</strong>â€ï¼Œå°±æ˜¯æŠŠä»»æ„é•¿åº¦çš„æ•°æ®è¾“å…¥ï¼Œ é€šè¿‡æ•£åˆ—ç®—æ³•ï¼Œå˜æ¢æˆå›ºå®šé•¿åº¦çš„è¾“å‡ºï¼Œè¯¥è¾“å‡ºå°±æ˜¯æ•£åˆ—å€¼ã€‚ ï¼ˆ x â€“&gt; f â€“&gt; &#x3D; f(x) ï¼‰</li><li>ä¸€ä¸ª<strong>ä»»æ„é•¿åº¦çš„è¾“å…¥</strong>è½¬ä¸ºä¸€ä¸ª<strong>å›ºå®šé•¿åº¦çš„è¾“å‡º</strong>ï¼Œæ˜¯ä¸€ç§<strong>å‹ç¼©æ˜ å°„</strong>ï¼Œä¹Ÿå°±æ˜¯è¯´ï¼Œ<strong>æ•£åˆ—å€¼çš„ç©ºé—´é€šå¸¸è¿œå°äºè¾“å…¥çš„ç©ºé—´ï¼Œä¸åŒçš„è¾“å…¥å¯èƒ½ä¼šæ•£åˆ—æˆç›¸åŒçš„è¾“å‡ºï¼Œæ‰€ä»¥ä¸å¯èƒ½ä»æ•£åˆ—å€¼æ¥ç¡®å®šå”¯ä¸€çš„è¾“å…¥å€¼ã€‚</strong></li></ul><p><font color="#d12920">æ³¨æ„ï¼šé€šå¸¸æƒ…å†µä¸‹æˆ‘ä»¬è®¤ä¸ºObjectä¸­hashCodeæ–¹æ³•è¿”å›çš„æ˜¯å¯¹è±¡çš„å†…å­˜åœ°å€å€¼ï¼Œä½†å®é™…ä¸Šå¹¶ä¸æ˜¯ã€‚</font></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805154256995.png" alt="image-20230805154256995"></p><p>å¼•ç”¨å˜é‡çš„hashCodeå€¼ï¼š</p><ul><li>ä¸¤ä¸ªå¼•ç”¨å˜é‡æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œåˆ™ä»–ä»¬çš„hashCodeå€¼ä¸€å®šç›¸ç­‰</li><li>ä¸¤ä¸ªå¼•ç”¨å˜é‡çš„hashCodeå€¼ç›¸åŒï¼Œåˆ™å®ƒä»¬æœ‰å¯èƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡ï¼Œä¹Ÿå¯èƒ½æŒ‡å‘ä¸åŒå¯¹è±¡ï¼ˆæ•£åˆ—ç©ºé—´æœ‰é™ï¼‰</li><li>ä¸¤ä¸ªå¼•ç”¨å˜é‡çš„hashCodeå€¼ä¸åŒï¼Œåˆ™ä»–ä»¬è‚¯å®šä¸å¯èƒ½æŒ‡å‘åŒä¸€ä¸ªå¯¹è±¡</li></ul><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805155417875.png" alt="image-20230805155417875"></p></blockquote><h1 id="Stringç±»"><a href="#Stringç±»" class="headerlink" title="Stringç±»"></a>Stringç±»</h1><blockquote><p>å­—ç¬¦ä¸²Stringï¼Œ<strong>æ˜¯ç¨‹åºä¸­ä½¿ç”¨æœ€å¤šçš„ä¸€ç§æ•°æ®</strong>ï¼ŒJVMåœ¨å†…å­˜ä¸­ä¸“é—¨è®¾ç½®äº†ä¸€ å—åŒºåŸŸï¼ˆ<strong>å­—ç¬¦ä¸²å¸¸é‡æ± </strong>ï¼‰ï¼Œæ¥æé«˜å­—å­—ç¬¦ä¸²å¯¹è±¡çš„ä½¿ç”¨æ•ˆç‡ã€‚</p></blockquote><h2 id="æ¦‚è¿°-1"><a href="#æ¦‚è¿°-1" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œå’Œå…¶ä»–æ™®é€šå¯¹è±¡ä¸€æ ·ï¼Œä¼šå ç”¨è®¡ç®—æœºçš„èµ„æºï¼ˆæ—¶é—´å’Œç©ºé—´ï¼‰ï¼Œä½œä¸ºæœ€å¸¸ç”¨çš„æ•°æ®ç±»å‹ï¼Œå¤§é‡é¢‘ç¹çš„åˆ›å»ºå­—ç¬¦ä¸²å¯¹è±¡ï¼Œä¼šæå¤§åœ°å½±å“ç¨‹åºçš„æ€§èƒ½ã€‚</p><p>JVMä¸ºäº†æé«˜æ€§èƒ½å’Œå‡å°‘å†…å­˜å¼€é”€ï¼Œåœ¨å®ä¾‹åŒ–å­—ç¬¦ä¸²å¸¸é‡çš„æ—¶å€™è¿›è¡Œäº†ä¸€äº›ä¼˜åŒ–</p><ul><li><strong>ä¸ºå­—ç¬¦ä¸²å¼€è¾Ÿä¸€ä¸ªå­—ç¬¦ä¸²å¸¸é‡æ± ï¼Œç±»ä¼¼äºç¼“å­˜åŒº</strong></li><li>åˆ›å»ºå­—ç¬¦ä¸²å¸¸é‡æ—¶ï¼Œ<strong>é¦–å…ˆä¼šæ£€æŸ¥å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­æ˜¯å¦å­˜åœ¨è¯¥å­—ç¬¦ä¸²</strong>ï¼Œ<strong>å¦‚æœå­˜åœ¨è¯¥å­—ç¬¦ä¸²ï¼Œåˆ™è¿”å›è¯¥å®ä¾‹çš„å¼•ç”¨</strong>ï¼Œ<strong>å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™å®ä¾‹åŒ–åˆ›å»ºè¯¥å­—ç¬¦ä¸²ï¼Œå¹¶æ”¾å…¥æ± ä¸­ã€‚</strong></li></ul></blockquote><h2 id="å¸¸é‡æ± "><a href="#å¸¸é‡æ± " class="headerlink" title="å¸¸é‡æ± "></a>å¸¸é‡æ± </h2><blockquote><p>åœ¨Javaä¸­ï¼ŒStringå¸¸é‡æ± æ˜¯ä¸€å—ç‰¹æ®Šçš„å†…å­˜åŒºåŸŸï¼Œç”¨äºå­˜å‚¨å­—ç¬¦ä¸²å¸¸é‡ã€‚Stringå¸¸é‡æ± çš„è®¾è®¡<strong>ç›®çš„æ˜¯ä¸ºäº†èŠ‚çœå†…å­˜å’Œæé«˜æ€§èƒ½ã€‚</strong> </p><p><strong>JDK8åŠä¹‹åçš„ç‰ˆæœ¬ä¸­ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± çš„ä½ç½®ä¸å…¶ä»–å¯¹è±¡çš„å­˜å‚¨ä½ç½®ï¼Œéƒ½ä½äºå †å†…å­˜ä¸­ã€‚</strong>è¿™æ ·åšçš„å¥½å¤„æ˜¯ï¼Œå­—ç¬¦ä¸²å¸¸é‡æ± çš„å¤§å°å¯ä»¥æ ¹æ®éœ€è¦è¿›è¡Œè°ƒæ•´ï¼Œå¹¶ä¸”å¯ä»¥äº«å—åˆ°<strong>åƒåœ¾å›æ”¶å™¨å¯¹å †å†…å­˜çš„ä¼˜åŒ–</strong>ã€‚</p></blockquote><blockquote><p>Javaå°†å­—ç¬¦ä¸²æ”¾å…¥Stringå¸¸é‡æ± çš„æ–¹å¼ï¼š</p><ul><li>ç›´æ¥èµ‹å€¼ï¼šé€šè¿‡<strong>ç›´æ¥èµ‹å€¼æ–¹å¼</strong>åˆ›å»ºå­—ç¬¦ä¸²å¸¸é‡ä¼šè¢«æ”¾å…¥å¸¸é‡æ± ä¸­</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;Hello&quot;</span>;</span><br></pre></td></tr></table></figure><ul><li><strong>è°ƒç”¨Stringç±»æä¾›intern()æ–¹æ³•</strong>ï¼šå¯ä»¥å°†å­—ç¬¦ä¸²å¯¹è±¡æ”¾å…¥å¸¸é‡æ± ä¸­ï¼Œå¹¶<strong>è¿”å›å¸¸é‡æ± ä¸­çš„å¼•ç”¨</strong>ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;World&quot;</span>).intern();</span><br></pre></td></tr></table></figure><p><font color="#d12920">æ³¨æ„ï¼šé€šè¿‡newå…³é”®å­—åˆ›å»ºçš„å­—ç¬¦ä¸²å¯¹è±¡ä¸ä¼šæ”¾å…¥å¸¸é‡æ± ä¸­ï¼Œè€Œæ˜¯åœ¨å †å†…å­˜ä¸­åˆ›å»ºä¸€ä¸ªæ–°çš„å¯¹è±¡</font></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805161659252.png" alt="image-20230805161659252"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="string">&quot;b&quot;</span>;</span><br><span class="line">    <span class="comment">// å¸¸é‡ä¼˜åŒ–æœºåˆ¶ï¼š&quot;a&quot; å’Œ &quot;b&quot;éƒ½æ˜¯å­—é¢å€¼å¸¸é‡ï¼Œå€ŸåŠ© + è¿æ¥ï¼Œå…¶ç»“æœ &quot;ab&quot; ä¹Ÿè¢«å½“ä½œå¸¸é‡</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span> + <span class="string">&quot;b&quot;</span>;</span><br><span class="line">    <span class="type">String</span> <span class="variable">s4</span> <span class="operator">=</span> <span class="string">&quot;ab&quot;</span>;</span><br><span class="line">    System.out.println(s3.equals(s4)); <span class="comment">// true</span></span><br><span class="line">    System.out.println(s3 == s4); <span class="comment">// true</span></span><br><span class="line">    System.out.println(<span class="string">&quot;-------------&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">s5</span> <span class="operator">=</span> s1 + s2;</span><br><span class="line">    System.out.println(s4.equals(s5)); <span class="comment">// true</span></span><br><span class="line">    System.out.println(s4 == s5); <span class="comment">// false</span></span><br><span class="line">    System.out.println(<span class="string">&quot;-------------&quot;</span>);</span><br><span class="line">    <span class="type">String</span> <span class="variable">s6</span> <span class="operator">=</span> (s1 + s2).intern(); <span class="comment">// å› ä¸ºs4å·²ç»æŠŠ&quot;ab&quot;æ”¾å…¥åˆ°å¸¸é‡æ± äº†æ‰€ä»¥s6ç›´æ¥æ‹¿å³å¯</span></span><br><span class="line">    System.out.println(s4.equals(s6)); <span class="comment">// true</span></span><br><span class="line">    System.out.println(s4 == s6); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>ä¸‹é¢è§£é‡Šä¸€ä¸‹String str &#x3D; â€œabcâ€åº•å±‚çš„å®ç°æŸ¥çœ‹JDK8å®˜æ–¹æ–‡æ¡£å¾—</p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805163345145.png" alt="image-20230805163345145"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805170837077.png" alt="image-20230805170837077"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805163429195.png" alt="image-20230805163429195"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805172047881.png" alt="image-20230805172047881"></p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li><strong>ä½¿ç”¨ + æ‹¼æ¥å¤šä¸ªå­—ç¬¦ä¸²å¸¸é‡ï¼Œæ‹¼æ¥çš„ç»“æœä»æ—§æ˜¯å­—ç¬¦ä¸²å¸¸é‡</strong></li><li><strong>å¦‚æœç»“æœå­—ç¬¦ä¸²å¸¸é‡åœ¨å¸¸é‡æ± ä¸­ä¸å­˜åœ¨ï¼Œåˆ™Javaä¼šå°†å…¶æ”¾å…¥åˆ°å­—ç¬¦ä¸²å¸¸é‡æ± ä¸­</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//finalå¸¸é‡æµ‹è¯•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">String</span> <span class="variable">str</span> <span class="operator">=</span> <span class="string">&quot;ab&quot;</span>;</span><br><span class="line">    <span class="comment">//finalä¿®é¥°çš„Stringå¸¸é‡</span></span><br><span class="line">    <span class="keyword">final</span> <span class="type">String</span> <span class="variable">str1</span> <span class="operator">=</span> <span class="string">&quot;a&quot;</span>; <span class="comment">// finalä¿®é¥° str1çš„å¼•ç”¨å€¼æ— æ³•è¢«ä¿®æ”¹äº†ï¼ŒæŒ‡å‘äº†å¸¸é‡æ± ï¼Œstr1ç›¸å½“äºå¸¸é‡äº†</span></span><br><span class="line">    <span class="type">String</span> <span class="variable">str2</span> <span class="operator">=</span> str1 + <span class="string">&quot;b&quot;</span>;</span><br><span class="line">    System.out.println(str == str2); <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ‰©å±•"><a href="#æ‰©å±•" class="headerlink" title="æ‰©å±•"></a>æ‰©å±•</h2><blockquote><p>è¿™é‡Œç€é‡è®²è§£ä¸€ä¸‹String.intern()è¿™ä¸ªæ–¹æ³•</p><ul><li>ç¬¬ä¸€ä¸ªç­‰å¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="string">&quot;ä¸­&quot;</span> + <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;å›½&quot;</span>);</span><br><span class="line">System.out.println(s1.intern() == s1); <span class="comment">// true</span></span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230807171315635.png" alt="image-20230807171315635"></p><ul><li>ç¬¬äºŒä¸ªç­‰å¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">String</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;ja&quot;</span>) + <span class="keyword">new</span> <span class="title class_">String</span>(<span class="string">&quot;va&quot;</span>);</span><br><span class="line">System.out.println(s2.intern() == s2);</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230807172020360.png" alt="image-20230807172020360"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230807172120912.png" alt="image-20230807172120912"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230807172300038.png" alt="image-20230807172300038"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230807172348979.png" alt="image-20230807172348979"></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230807172551718.png" alt="image-20230807172551718"></p><p><font color="skybule">ç»¼ä¸Šæ‰€è¿°ï¼Œjavaè¿™ä¸ªå­—ç¬¦ä¸²æ—©å°±å·²ç»åœ¨å­—ç¬¦ä¸²å¸¸é‡æ± å½“ä¸­äº†ï¼Œæ•…s2.intern() &#x3D;&#x3D; s2ç»“æœä¸ºfalseï¼ŒåŸå› æ˜¯ä¸€ä¸ªåœ°å€åœ¨å †åŒºï¼Œä¸€ä¸ªåœ°å€å­—ç¬¦ä¸²å¸¸é‡æ± å½“ä¸­ã€‚</font></p></blockquote><h1 id="æšä¸¾"><a href="#æšä¸¾" class="headerlink" title="æšä¸¾"></a>æšä¸¾</h1><h2 id="æšä¸¾ç±»æ¦‚è¿°"><a href="#æšä¸¾ç±»æ¦‚è¿°" class="headerlink" title="æšä¸¾ç±»æ¦‚è¿°"></a>æšä¸¾ç±»æ¦‚è¿°</h2><blockquote><p>æšä¸¾ï¼Œæ˜¯<strong>JDK1.5å¼•å…¥çš„æ–°ç‰¹æ€§</strong>ï¼Œå¯ä»¥é€šè¿‡å…³é”®å­— <strong>enum</strong> æ¥å®šä¹‰<strong>æšä¸¾ç±»,æœ¬è´¨ä¸Šä¹Ÿæ˜¯ä¸€ä¸ªç±»</strong>ã€‚</p><ul><li>Javaä¸­çš„ç±»ï¼Œä»è¯­æ³•ä¸Šæ¥è¯´ï¼Œå¯ä»¥åˆ›å»ºæ— æ•°ä¸ªå¯¹è±¡</li><li>Javaç‰¹æ®Šç±»ï¼Œå…¶æ‰€èƒ½åˆ›å»ºçš„å¯¹è±¡ä¸ªæ•°æ˜¯å›ºå®šçš„</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test071_EnumBasic</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Gender</span> <span class="variable">g1</span> <span class="operator">=</span> Gender.MALE;</span><br><span class="line">        <span class="type">Gender</span> <span class="variable">g2</span> <span class="operator">=</span> Gender.FEMALE;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Gender</span> &#123;</span><br><span class="line">    MALE, FEMALE</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>åç¼–è¯‘å‘½ä»¤ï¼š<code>javap -p Gender.class</code></p><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805175720149.png" alt="image-20230805175720149"></p><p>ç»“åˆä¸Šå›¾æˆ‘ä»¬å¯çŸ¥ï¼š</p><ul><li>æšä¸¾ç±»Genderæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ª<strong>finalä¿®é¥°çš„ç±»</strong>ï¼Œä¸å¯ä»¥è¢«ç»§æ‰¿</li><li>æšä¸¾ç±»é»˜è®¤ç»§æ‰¿<strong>java.lang.Enum</strong>è¿™ä¸ªæŠ½è±¡æ³›å‹ç±»</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> java.lang;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">class</span> <span class="title class_">Enum</span>&lt;E <span class="keyword">extends</span> <span class="title class_">Enum</span>&lt;E&gt;&gt;</span><br><span class="line">    <span class="keyword">implements</span> <span class="title class_">Comparable</span>&lt;E&gt;, Serializable &#123;</span><br><span class="line">    <span class="comment">//æšä¸¾å…ƒç´ å</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> String name;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> String <span class="title function_">name</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> name;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æšä¸¾å…ƒç´ ç¼–å·ï¼Œä»0å¼€å§‹</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> ordinal;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">final</span> <span class="type">int</span> <span class="title function_">ordinal</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> ordinal;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//...çœç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æšä¸¾å…ƒç´ ï¼Œæœ¬è´¨ä¸Šæ˜¯æšä¸¾ç±»å¯¹è±¡ï¼Œä¸”ç”±<strong>staticå’Œfinal</strong>ä¿®é¥°</li><li>æšä¸¾ç±»æä¾›ç§æœ‰æ„é€ å™¨ï¼Œæˆ‘ä»¬åœ¨ç±»å¤–ä¸èƒ½ä¸»åŠ¨åˆ›å»ºæšä¸¾ç±»å¯¹è±¡</li><li>æšä¸¾ç±»ä¸­å¯ä»¥åŒ…å«public static é™æ€æ–¹æ³•</li></ul></blockquote><h2 id="æšä¸¾åŸºæœ¬å®šä¹‰"><a href="#æšä¸¾åŸºæœ¬å®šä¹‰" class="headerlink" title="æšä¸¾åŸºæœ¬å®šä¹‰"></a>æšä¸¾åŸºæœ¬å®šä¹‰</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] <span class="keyword">enum</span> æšä¸¾ç±»å &#123;</span><br><span class="line">    æšä¸¾å…ƒç´ <span class="number">1</span>,æšä¸¾å…ƒç´ <span class="number">2</span>,...æšä¸¾å…ƒç´ n;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>æ¡ˆä¾‹å±•ç¤ºï¼š å®šä¹‰æšä¸¾ç±»Weekï¼Œè¦æ±‚åŒ…å«å¤šä¸ªæšä¸¾å…ƒç´ </p><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æšä¸¾ç±»åŸºæœ¬å®šä¹‰</span></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Week</span> &#123;</span><br><span class="line">    <span class="comment">//æšä¸¾å…ƒç´ å¿…é¡»å†™åœ¨ç¬¬ä¸€è¡Œï¼Œå¦‚æœæœ‰å¤šä¸ªçš„è¯ï¼Œç”¨é€—å·&#x27;,&#x27;éš”å¼€ï¼Œ</span></span><br><span class="line">    <span class="comment">//æœ€åç”¨åˆ†å·&#x27;;&#x27;ç»“æŸ</span></span><br><span class="line">    <span class="comment">//å¦‚æœ&#x27;;&#x27;åé¢æ²¡æœ‰å…¶ä»–å†…å®¹çš„è¯ï¼Œ&#x27;;&#x27;å¯ä»¥çœç•¥ï¼Œä½†ä¸å»ºè®®çœç•¥</span></span><br><span class="line">    MON, TUE, WED; <span class="comment">//WED()</span></span><br><span class="line">    <span class="comment">//WEDå’ŒWED()æ•ˆæœä¸€æ ·ï¼Œå«ä¹‰ä¸ºï¼šæ‰§è¡Œæšä¸¾ç±»é»˜è®¤æ„é€ å™¨å»å®ä¾‹åŒ–æšä¸¾å…ƒç´ å¯¹è±¡</span></span><br><span class="line">    <span class="comment">//æºä»£ç ç±»ä¼¼ï¼špublic static final Week WED = new Week();</span></span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼šç”¨æˆ·æ²¡æœ‰æä¾›æ„é€ å™¨ï¼Œç³»ç»Ÿä¼šæä¾›é»˜è®¤çš„æ„é€ å™¨ private Week()&#123;&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//1.æšä¸¾å…ƒç´ å¼•ç”¨æ ¼å¼ï¼šæšä¸¾ç±»å.æšä¸¾å…ƒç´ å;</span></span><br><span class="line">    <span class="comment">//æ³¨æ„æšä¸¾ç±»åä¸èƒ½çœç•¥</span></span><br><span class="line">    <span class="type">Week</span> <span class="variable">w1</span> <span class="operator">=</span> Week.MON;</span><br><span class="line">    <span class="type">Week</span> <span class="variable">w2</span> <span class="operator">=</span> Week.TUE;</span><br><span class="line">    <span class="type">Week</span> <span class="variable">w3</span> <span class="operator">=</span> Week.WED;</span><br><span class="line">    <span class="comment">//2.è¾“å‡ºæšä¸¾å¯¹è±¡ï¼Œé»˜è®¤è¾“å‡ºæšä¸¾å…ƒç´ å</span></span><br><span class="line">    System.out.println(w1);</span><br><span class="line">    System.out.println(w2.toString());</span><br><span class="line">    System.out.println(<span class="string">&quot;-----------&quot;</span>);</span><br><span class="line">    <span class="comment">//3.è·å–æšä¸¾å…ƒç´ åï¼šè·Ÿå…ƒç´ åä¸€æ ·çš„åŒåå­—ç¬¦ä¸²</span></span><br><span class="line">    System.out.println(w3.name());</span><br><span class="line">    <span class="comment">//4.è·å–æšä¸¾å…ƒç´ ç¼–å·ï¼šä»0å¼€å§‹ï¼Œé€ä¸ªåŠ 1</span></span><br><span class="line">    System.out.println(w1.ordinal()); <span class="comment">//0</span></span><br><span class="line">    System.out.println(w2.ordinal()); <span class="comment">//1</span></span><br><span class="line">    System.out.println(w3.ordinal()); <span class="comment">//2</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ„é€ æ–¹æ³•å®šä¹‰"><a href="#æ„é€ æ–¹æ³•å®šä¹‰" class="headerlink" title="æ„é€ æ–¹æ³•å®šä¹‰"></a>æ„é€ æ–¹æ³•å®šä¹‰</h2><blockquote><p>åŒ…å«<strong>æ•°æ®æˆå‘˜ã€æ„é€ æ–¹æ³•</strong>çš„æšä¸¾ç±». </p><p>å®šä¹‰æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] <span class="keyword">enum</span> æšä¸¾ç±»å &#123;</span><br><span class="line">    æšä¸¾å…ƒç´ <span class="number">1</span>(å®é™…å‚æ•°åˆ—è¡¨), ...æšä¸¾å…ƒç´ n(å®é™…å‚æ•°åˆ—è¡¨);</span><br><span class="line">    <span class="comment">//æšä¸¾ç±»æ•°æ®æˆå‘˜å’Œæˆå‘˜æ–¹æ³•ï¼Œå¯ä»¥åŒ…å«å¤šä¸ª</span></span><br><span class="line">    [ä¿®é¥°ç¬¦] æ•°æ®ç±»å‹ æ•°æ®æˆå‘˜å;</span><br><span class="line">    [ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ æˆå‘˜æ–¹æ³•å(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">        æ–¹æ³•ä½“å®ç°;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æšä¸¾ç±»æ„é€ æ–¹æ³•ï¼Œå¯ä»¥åŒ…å«å¤šä¸ª</span></span><br><span class="line">    <span class="comment">//æ³¨æ„ï¼Œå¿…é¡»ä½¿ç”¨privateè¿›è¡Œä¿®é¥°</span></span><br><span class="line">    <span class="keyword">private</span> æ„é€ æ–¹æ³•;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>æ¡ˆä¾‹å±•ç¤ºï¼š å®šä¹‰æšä¸¾ç±»Week2ï¼Œè¦æ±‚åŒ…å«ç§æœ‰æ•°æ®æˆå‘˜descå’Œæ„é€ æ–¹æ³•ã€‚</p><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">enum</span> <span class="title class_">Week</span> &#123;</span><br><span class="line">    MON, TUE(), WED(<span class="string">&quot;æ˜ŸæœŸä¸‰&quot;</span>);</span><br><span class="line"></span><br><span class="line">    Week(String string) &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    Week() &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setDesc</span><span class="params">(String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æŠ½è±¡æ–¹æ³•å®šä¹‰"><a href="#æŠ½è±¡æ–¹æ³•å®šä¹‰" class="headerlink" title="æŠ½è±¡æ–¹æ³•å®šä¹‰"></a>æŠ½è±¡æ–¹æ³•å®šä¹‰</h2><blockquote><p>åŒ…å«<strong>æŠ½è±¡æ–¹æ³•</strong>çš„æšä¸¾ç±»</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] <span class="keyword">enum</span> æšä¸¾ç±»å &#123;</span><br><span class="line">    æšä¸¾å…ƒç´ <span class="number">1</span>(å®å‚åˆ—è¡¨) &#123;</span><br><span class="line">        é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•;</span><br><span class="line">    &#125;, ...æšä¸¾å…ƒç´ n(å®å‚åˆ—è¡¨) &#123;</span><br><span class="line">        é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•;</span><br><span class="line">    &#125;;</span><br><span class="line">    <span class="comment">//å¯ä»¥åŒ…å«å¤šä¸ªæŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    æŠ½è±¡æ–¹æ³•å£°æ˜;</span><br><span class="line">    <span class="comment">//æ•°æ®æˆå‘˜ã€æˆå‘˜æ–¹æ³•åŠæ„é€ æ–¹æ³•ç•¥...</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p>æ¡ˆä¾‹å±•ç¤ºï¼š å®šä¹‰æšä¸¾ç±»Week3ï¼Œè¦æ±‚åŒ…å«æŠ½è±¡æ–¹æ³•show()ã€‚</p><blockquote><ul><li>æ¯ä¸€ä¸ªæšä¸¾å…ƒç´ éƒ½è¦å®ç°æŠ½è±¡æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test072_Define01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Week</span> <span class="variable">mon</span> <span class="operator">=</span> Week.MON;</span><br><span class="line">        System.out.println(mon);</span><br><span class="line">        mon.show();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        <span class="type">Week</span> <span class="variable">tue</span> <span class="operator">=</span> Week.TUE;</span><br><span class="line">        System.out.println(tue);</span><br><span class="line">        tue.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ShowAble</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Week</span> <span class="keyword">implements</span> <span class="title class_">ShowAble</span>&#123;</span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šåŒ…å«æŠ½è±¡æ–¹æ³•çš„æšä¸¾ç±»æ˜¯æŠ½è±¡ç±»ï¼Œä¸èƒ½ç›´æ¥å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">    <span class="comment">// æ‰€ä»¥å®šä¹‰æšä¸¾ç±»å…ƒç´ (æ‰€æœ‰)æ—¶å€™ï¼Œä¸€å®šè¦é‡å†™æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// æ³¨æ„ï¼šå¿…é¡»åœ¨æ‰€æœ‰çš„æšä¸¾å…ƒç´ å®šä¹‰ä¸­ï¼Œé‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">    <span class="comment">// MON &#123;</span></span><br><span class="line">    MON() &#123;</span><br><span class="line">        <span class="comment">// åœ¨æšä¸¾å…ƒç´ ä¸­é‡å†™æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;in show, MON: å‘¨ä¸€&quot;</span>);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;,</span><br><span class="line">    TUE(<span class="string">&quot;æ˜ŸæœŸäºŒ&quot;</span>) &#123;</span><br><span class="line">        <span class="comment">// æ³¨æ„ï¼Œæ¯ä¸ªæšä¸¾å…ƒç´ ä¸­éƒ½è¦é‡å†™é‡å†™æ–¹æ³•ï¼Œä¸”è¦é‡å†™æ‰€æœ‰çš„æŠ½è±¡æ–¹æ³•</span></span><br><span class="line">        <span class="meta">@Override</span></span><br><span class="line">        <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">            System.out.println(<span class="string">&quot;in show, TUE: &quot;</span> + <span class="built_in">this</span>.getDesc());</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾ç±»æ•°æ®æˆå‘˜åŠgetæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾ç±»è‡ªå®šä¹‰æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Week</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Week</span><span class="params">(String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾ç±» åŒ…å«çš„ æŠ½è±¡æ–¹æ³•ï¼ˆå¯ä»¥0æˆ–å¤šä¸ªï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">abstract</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805195407260.png" alt="image-20230805195407260"></p><ul><li>é€šè¿‡æ¥å£æ¥å®ç°æŠ½è±¡æ–¹æ³•ï¼Œä¸éœ€è¦æ¯ä¸ªå…ƒç´ æ¥å®ç°æŠ½è±¡æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap07.blog;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test072_Define01</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Week</span> <span class="variable">mon</span> <span class="operator">=</span> Week.MON;</span><br><span class="line">        System.out.println(mon);</span><br><span class="line">        mon.show();</span><br><span class="line">        System.out.println(<span class="string">&quot;-------------------&quot;</span>);</span><br><span class="line">        <span class="type">Week</span> <span class="variable">tue</span> <span class="operator">=</span> Week.TUE;</span><br><span class="line">        System.out.println(tue);</span><br><span class="line">        tue.show();</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">interface</span> <span class="title class_">ShowAble</span> &#123;</span><br><span class="line">    <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">enum</span> <span class="title class_">Week</span> <span class="keyword">implements</span> <span class="title class_">ShowAble</span> &#123;</span><br><span class="line">    MON(), TUE(<span class="string">&quot;æ˜ŸæœŸäºŒ&quot;</span>);</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾ç±»æ•°æ®æˆå‘˜åŠgetæ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> String desc;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getDesc</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾ç±»è‡ªå®šä¹‰æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Week</span><span class="params">()</span> &#123;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="title function_">Week</span><span class="params">(String desc)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.desc = desc;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æšä¸¾ç±» åŒ…å«çš„ æŠ½è±¡æ–¹æ³•ï¼ˆå¯ä»¥0æˆ–å¤šä¸ªï¼‰</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;I am interface abstract method show()&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/07-%E6%8A%BD%E8%B1%A1-%E6%8E%A5%E5%8F%A3-%E5%86%85%E9%83%A8%E7%B1%BB-%E6%9E%9A%E4%B8%BE/image-20230805195335001.png" alt="image-20230805195335001"></p></blockquote><h2 id="æšä¸¾æ€»ç»“"><a href="#æšä¸¾æ€»ç»“" class="headerlink" title="æšä¸¾æ€»ç»“"></a>æšä¸¾æ€»ç»“</h2><blockquote><p>åœ¨å®é™…é¡¹ç›®å¼€å‘ä¸­ï¼Œæˆ‘ä»¬å®šä¹‰æšä¸¾ç±»å‹ï¼Œå¤§å¤šæ•°æƒ…å†µä¸‹ä½¿ç”¨æœ€åŸºæœ¬çš„å®šä¹‰æ–¹å¼ï¼Œ å¶å°”ä¼šæ·»åŠ å±æ€§ã€æ–¹æ³•å’Œæ„é€ æ–¹æ³•ï¼Œå¹¶ä¸ä¼šå†™çš„é‚£ä¹ˆå¤æ‚ã€‚</p><p>æšä¸¾ç±»æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å®šä¹‰æšä¸¾ç±»è¦ä½¿ç”¨å…³é”®å­— enum</li><li>æ‰€æœ‰æšä¸¾ç±»éƒ½æ˜¯java.lang.Enumçš„å­ç±»</li><li><strong>æšä¸¾ç±»çš„ç¬¬ä¸€è¡Œä¸Šå¿…é¡»æ˜¯æšä¸¾å…ƒç´ ï¼ˆæšä¸¾é¡¹ï¼‰</strong></li><li>æœ€åä¸€ä¸ªæšä¸¾é¡¹ååˆ†å·æ˜¯å¯ä»¥çœç•¥çš„ï¼Œä½†æ˜¯ ï¼›åé¢è¿˜æœ‰å…¶ä»–æœ‰æ•ˆä»£ç ï¼Œè¿™ä¸ªåˆ†å·å°±ä¸èƒ½çœç•¥ï¼Œå»ºè®®ä¸è¦çœç•¥</li><li>ç”¨æˆ·å¦‚æœä¸æä¾›æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿä¼šæä¾›é»˜è®¤çš„æ„é€ æ–¹æ³•ï¼š<code>private æšä¸¾ç±»() &#123;&#125;</code></li><li>ç”¨æˆ·å¯ä»¥é€šè¿‡æ„é€ æ–¹æ³•ï¼Œ<strong>ä½†å¿…é¡»ç”¨privateä¿®é¥°</strong>ï¼ŒåŒæ—¶ç³»ç»Ÿä¸å†æä¾›é»˜è®¤æ„é€ æ–¹æ³•</li><li>æšä¸¾ç±»ä¹Ÿå¯ä»¥ç”±æŠ½è±¡æ–¹æ³•ï¼Œä½†æ˜¯æšä¸¾å…ƒç´ å¿…é¡»é‡å†™æ‰€æœ‰æŠ½è±¡æ–¹æ³•</li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>è·¯æ¼«æ¼«å…¶ä¿®è¿œæ˜”ï¼Œå¾å°†ä¸Šä¸‹è€Œæ±‚ç´¢ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>06-static-ç»§æ‰¿-é‡å†™-å¤šæ€</title>
      <link href="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/"/>
      <url>/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="static"><a href="#static" class="headerlink" title="static"></a>static</h1><h2 id="é—®é¢˜å¼•å…¥"><a href="#é—®é¢˜å¼•å…¥" class="headerlink" title="é—®é¢˜å¼•å…¥"></a>é—®é¢˜å¼•å…¥</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">School</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String name; <span class="comment">//åç§°</span></span><br><span class="line"> <span class="keyword">private</span> <span class="type">int</span> num; <span class="comment">//å¸ˆç”Ÿæ•°é‡</span></span><br><span class="line"> <span class="keyword">private</span> String library; <span class="comment">//å›¾ä¹¦é¦†</span></span><br><span class="line"> <span class="comment">// çœç•¥äº†getã€setã€æ„é€ å™¨</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> <span class="type">School</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">School</span>(<span class="string">&quot;ç¬¬ä¸€ä¸­å­¦&quot;</span>,<span class="number">3000</span>,<span class="string">&quot;æ ‹æ¢å›¾ä¹¦é¦†&quot;</span>);</span><br><span class="line"> <span class="type">School</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">School</span>(<span class="string">&quot;ç§€å³°ä¸­å­¦&quot;</span>,<span class="number">2500</span>,<span class="string">&quot;æ ‹æ¢å›¾ä¹¦é¦†&quot;</span>);</span><br><span class="line"> <span class="type">School</span> <span class="variable">s3</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">School</span>(<span class="string">&quot;å¨„æ±Ÿä¸­å­¦&quot;</span>,<span class="number">1800</span>,<span class="string">&quot;æ ‹æ¢å›¾ä¹¦é¦†&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><code>private String library</code>: è¡¨ç¤ºæ¯ä¸ªå­¦æ ¡å¯¹è±¡ï¼Œéƒ½æœ‰è‡ªå·±ç‹¬ç«‹çš„å›¾ä¹¦é¦†ï¼Œä¸å®é™…ä¸šåŠ¡ä¸ç¬¦ã€‚</p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731155156738.png" alt="image-20230731155156738"></p><p>å®é™…æˆ‘ä»¬æƒ³è¦çš„æ•ˆæœä¸º<strong>å›¾ä¹¦é¦†æœ‰ä¸”åªæœ‰ä¸€ä¸ªï¼Œåªå ç”¨ä¸€å—å†…å­˜åŒºåŸŸã€‚</strong></p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731155333033.png" alt="image-20230731155333033"></p><p>staticæ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦ï¼Œè¡¨ç¤º<strong>é™æ€</strong>çš„æ„æ€ï¼Œå¯ä»¥ä¿®é¥°<strong>å±æ€§ã€æ–¹æ³•ã€ä»£ç å—</strong></p></blockquote><h2 id="é™æ€æˆå‘˜ï¼ˆé™æ€å˜é‡ï¼‰"><a href="#é™æ€æˆå‘˜ï¼ˆé™æ€å˜é‡ï¼‰" class="headerlink" title="é™æ€æˆå‘˜ï¼ˆé™æ€å˜é‡ï¼‰"></a>é™æ€æˆå‘˜ï¼ˆé™æ€å˜é‡ï¼‰</h2><blockquote><p>staticä¿®é¥°ç±»ä¸­çš„æ•°æ®æˆå‘˜ï¼Œè¯¥æˆå‘˜å°±æˆäº†é™æ€æ•°æ®æˆå‘˜ï¼Œä¹Ÿç§°ä¸º<strong>ç±»æˆå‘˜</strong>ï¼›</p><p>ç±»æˆå‘˜ï¼Œæ˜¯å±äºç±»çš„ï¼Œä¸ºè¿™ä¸ªç±»<strong>æ‰€æœ‰å¯¹è±¡å…±äº«</strong>ï¼Œåªå ç”¨ä¸€å—å†…å­˜ç©ºé—´ã€‚</p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731155821449.png" alt="image-20230731155821449"></p><p>staticæˆå‘˜ç‰¹ç‚¹ï¼š</p><ul><li>è¢«ç±»çš„<strong>æ‰€æœ‰å¯¹è±¡å…±äº«</strong></li><li><strong>éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œå…ˆäºå¯¹è±¡å­˜åœ¨</strong>ï¼Œ<strong>å¯¹è±¡éœ€è¦ç±»è¢«åŠ è½½åï¼Œæ‰èƒ½è¢«åˆ›å»ºå‡ºæ¥</strong></li><li>å¯ä»¥é€šè¿‡ç±»åè°ƒç”¨ï¼Œä¹Ÿå¯ä»¥é€šè¿‡å¯¹è±¡åè°ƒç”¨ã€‚ä½†<strong>æ¨èä½¿ç”¨ç±»å</strong>ï¼š<code>ç±»å.é™æ€æ•°æ®æˆå‘˜;</code></li><li>æ–¹æ³•åŒºä¸­æœ‰ä¸€å—ä¸“é—¨çš„åŒºåŸŸï¼š<strong>é™æ€åŒº</strong>ï¼Œä¸“é—¨ç”¨æ¥å­˜å‚¨ç±»çš„staticæˆå‘˜</li></ul><p>é™æ€å±æ€§çš„å­˜å‚¨ä½ç½®ï¼š</p><p>åœ¨æ–¹æ³•åŒºä¸­æœ‰ä¸€å—<strong>é™æ€åŒº</strong>ï¼Œä¸“é—¨ç”¨æ¥<strong>å­˜å‚¨å„ä¸ªç±»é™æ€æ•°æ®æˆå‘˜</strong>ã€‚å½“æ“ä½œé™æ€æ•°æ®æˆå‘˜æ—¶ï¼Œä¸è®ºæ˜¯é€šè¿‡ç±»åï¼Œè¿˜æ˜¯é€šè¿‡å¯¹è±¡åæ“ä½œï¼Œéƒ½æ˜¯<strong>æ“ä½œé™æ€åŒºä¸­å¯¹åº”çš„å†…å­˜åŒºåŸŸ</strong>ã€‚</p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731162335350.png" alt="image-20230731162335350"></p><p>é™æ€æ•°æ®æˆå‘˜<strong>åˆå§‹åŒ–</strong>ï¼š</p><ul><li>é™æ€æ•°æ®æˆå‘˜<strong>éšç€ç±»åŠ è½½è€ŒåŠ è½½</strong>ï¼ˆå¼€è¾Ÿ<strong>ç›¸åº”å†…å­˜</strong>ï¼‰ï¼Œå¹¶ä¼šè¿›è¡Œé»˜è®¤çš„åˆå§‹åŒ–å…¶å€¼ä¸º<strong>null(ç±»ç±»å‹)æˆ–0ï¼ˆæ•´å½¢ï¼‰æˆ–0.0ï¼ˆæµ®ç‚¹å‹ï¼‰æˆ–falseï¼ˆå¸ƒå°”ç±»å‹ï¼‰</strong></li><li>å¯¹é™æ€æ•°æ®æˆå‘˜çš„åˆå§‹åŒ–ï¼Œä¸€èˆ¬é‡‡ç”¨ä¸¤ç§æ–¹å¼ï¼š<strong>æ˜¾ç¤ºåˆå§‹åŒ–ã€é™æ€ä»£ç å—åˆå§‹åŒ–</strong></li><li>æ˜¾ç¤ºåˆå§‹åŒ–æ ¼å¼ï¼š<code>[ä¿®é¥°ç¬¦] static æ•°æ®ç±»å‹ é™æ€æˆå‘˜å = åˆå§‹å€¼; ä¾‹å­ï¼špublic static String library = &quot;æ ‹æ¢å›¾ä¹¦é¦†&quot;</code></li></ul><p><font color="skyblue">æ³¨æ„äº‹é¡¹ï¼šå°½é‡ä¸è¦åœ¨æ„é€ æ–¹æ³•ä¸­å¯¹staticæˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œå› ä¸ºåªè¦åˆ›å»ºå¯¹è±¡ï¼Œæ„é€ æ–¹æ³•å°±ä¼šè‡ªåŠ¨è¢«æ‰§è¡Œï¼Œå¯¼è‡´staticæˆå‘˜å€¼ä¸ç»æ„é—´è¢«ä¿®æ”¹ï¼</font></p></blockquote><h2 id="é™æ€æ–¹æ³•"><a href="#é™æ€æ–¹æ³•" class="headerlink" title="é™æ€æ–¹æ³•"></a>é™æ€æ–¹æ³•</h2><blockquote> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Demo</span>&#123;</span><br><span class="line">  <span class="comment">//å®šä¹‰é™æ€æ–¹æ³•</span></span><br><span class="line">  <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">()</span> &#123;</span><br><span class="line">      System.out.println(<span class="string">&quot;æˆ‘æ˜¯staticé™æ€æ–¹æ³•...&quot;</span>);</span><br><span class="line">  &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//æµ‹è¯•æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">  <span class="comment">//å€ŸåŠ©ç±»åè°ƒç”¨staticæ–¹æ³•ï¼Œæ¨èæ–¹å¼</span></span><br><span class="line">  Demo.test();</span><br><span class="line">  <span class="type">Demo</span> <span class="variable">demo</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Demo</span>();</span><br><span class="line">  <span class="comment">//å€ŸåŠ©å¯¹è±¡è°ƒç”¨staticæ–¹æ³•ï¼Œå¯ä»¥è°ƒç”¨ï¼Œä½†ä¸æ¨è</span></span><br><span class="line">  demo.test();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p> staticæ–¹æ³•å’Œæ™®é€šæˆå‘˜æ–¹æ³•åŒºåˆ«ï¼š</p><ul><li>é™æ€æ–¹æ³•<strong>åªèƒ½</strong>è®¿é—®é™æ€çš„æˆå‘˜</li><li>éé™æ€æ–¹æ³•å¯ä»¥è®¿é—®é™æ€çš„æˆå‘˜ï¼Œä¹Ÿå¯ä»¥è®¿é—®éé™æ€çš„æˆå‘˜</li><li><strong>é™æ€æ–¹æ³•ä¸­æ˜¯æ²¡æœ‰thiså…³é”®å­—</strong>ï¼ˆæœ¬è´¨åŒºåˆ«ï¼‰</li></ul></blockquote><blockquote><p>æ€è€ƒï¼šä¸ºä»€ä¹ˆé™æ€æ–¹æ³•ä¸­ä¸èƒ½è®¿é—®æ™®é€šæ•°æ®æˆå‘˜ï¼Ÿ</p><p>é™æ€æ–¹æ³•ä¹Ÿç§°ä¸ºç±»æ–¹æ³•ï¼Œè¯¥ç±»æ–¹æ³•çš„è°ƒç”¨ä¸ä¾èµ–å¯¹è±¡ï¼Œå¯ä»¥ç›´æ¥é€šè¿‡ç±»åè°ƒç”¨ã€‚ </p><p><strong>å‡è®¾</strong>é™æ€æˆå‘˜æ–¹æ³•ä¸­èƒ½å¤Ÿè®¿é—®æ™®é€šæ•°æ®æˆå‘˜ï¼Œé™æ€æ–¹æ³•ä¸­æœ‰thiså¼•ç”¨ï¼Œæˆ‘ ä»¬æ¥çœ‹ä¸‹é¢åœºæ™¯ï¼šæˆ‘ä»¬é€šè¿‡<strong>ç±»åè°ƒç”¨</strong>staticæ–¹æ³•ï¼Œæ­¤æ—¶<strong>æ ¹æœ¬ä¸ä¼šä¼ é€’å¯¹è±¡çš„ åœ°å€å€¼ç»™thiså¼•ç”¨</strong>ï¼Œstaticæ–¹æ³•å†…éƒ¨ä¹Ÿæ— æ³•æ‰¾åˆ°æ™®é€šæ•°æ®æˆå‘˜å¯¹åº”çš„<strong>å†…å­˜ç©ºé—´</strong> è¿›è¡Œå–å€¼ï¼Œè¿™ä¸æˆ‘ä»¬è¦å®ç°çš„åŠŸèƒ½æ˜¯çŸ›ç›¾çš„ã€‚ </p><p>æ•…è€Œï¼Œå¤§å®¶è®°ä½ä»¥ä¸‹ç»“è®ºå³å¯ï¼š<strong>é™æ€åªèƒ½è®¿é—®é™æ€</strong>ã€‚</p></blockquote><h2 id="ä»£ç å—"><a href="#ä»£ç å—" class="headerlink" title="ä»£ç å—"></a>ä»£ç å—</h2><blockquote><p>åœ¨javaä¸­ï¼Œä½¿ç”¨ <code>&#123; &#125;</code>æ‹¬èµ·æ¥çš„ä»£ç è¢«ç§°ä¸º<strong>ä»£ç å—</strong>ï¼Œåˆ†ä¸ºä¸‰ç±»ï¼š</p><ul><li>å±€éƒ¨ä»£ç å—<ul><li>ä½ç½®ï¼š<strong>ç±»çš„æ–¹æ³•ä¸­å®šä¹‰</strong></li><li>æ ¼å¼ï¼š<code>&#123; è¯­å¥ä½“; &#125;</code></li><li>ä½œç”¨ï¼š<strong>ç”¨æˆ·é™å®šå˜é‡çš„ç”Ÿå‘½å‘¨æœŸï¼Œä½¿å…¶å°½æ—©é‡Šæ”¾ï¼Œä»è€Œæé«˜æ ˆç©ºé—´å†…å­˜åˆ©ç”¨ç‡</strong></li><li>é‡è¦ç¨‹åº¦ï¼š<strong>äº†è§£å³å¯ï¼Œä½¿ç”¨ä¸å¤š</strong></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//å±€éƒ¨ä»£ç å—</span></span><br><span class="line">    &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">        System.out.println(a);</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ä¸Šé¢å±€éƒ¨ä»£ç å—ä¸­çš„aæ˜¯å±€éƒ¨å˜é‡ï¼Œé‡åˆ° &#125; å…¶å ç”¨çš„å†…å­˜ç©ºé—´å°±é”€æ¯äº†</span></span><br><span class="line">    <span class="comment">//æ•…è€Œï¼Œä¸‹é¢è¾“å‡ºè¯­å¥ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//System.out.println(a);</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ„é€ ä»£ç å— ï¼ˆ<strong>åŒ¿åä»£ç å—</strong>ï¼‰<ul><li>ä½ç½®ï¼šç±»ä¸­æ–¹æ³•å¤–</li><li>æ ¼å¼ï¼š<code>&#123; è¯­å¥ä½“; &#125;</code></li><li>ç‰¹ç‚¹ï¼šæ¯æ¬¡<strong>æ„é€ æ–¹æ³•æ‰§è¡Œå‰</strong>ï¼Œéƒ½ä¼š<strong>å…ˆæ‰§è¡Œè¯¥ä»£ç å—ä¸­ä»£ç </strong></li><li>ä½œç”¨ï¼š<strong>å¦‚æœå¤šä¸ªæ„é€ æ–¹æ³•ä¸­å‡ºç°ç›¸åŒä»£ç ï¼Œå¯æŠ½å–åˆ°è¯¥å¿«ä¸­ï¼Œä»è€Œæé«˜ä»£ç å¤ç”¨æ€§ã€‚</strong></li><li>é‡è¦ç¨‹åº¦ï¼šæŒæ¡</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Module</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> num;</span><br><span class="line">    &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æ„é€ ä»£ç å—: æ„é€ æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ— å‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Module</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Module...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æœ‰å‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Module</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Module(int) ...&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">//å®ä¾‹åŒ–2ä¸ªå¯¹è±¡ï¼Œè§‚å¯Ÿç¨‹åºè¾“å‡ºæ•ˆæœï¼š</span></span><br><span class="line">    <span class="comment">//æ¯æ¬¡æ„é€ æ–¹æ³•æ‰§è¡Œå‰ï¼Œéƒ½ä¼šè‡ªåŠ¨æ‰§è¡Œæ„é€ ä»£ç å—</span></span><br><span class="line">    <span class="type">Module</span> <span class="variable">m1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Module</span>();</span><br><span class="line">    <span class="type">Module</span> <span class="variable">m2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Module</span>(<span class="number">10</span>);</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è¾“å‡ºå¦‚ä¸‹ï¼š</span></span><br><span class="line"><span class="comment">// æ„é€ ä»£ç å—: æ„é€ æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œ...</span></span><br><span class="line"><span class="comment">// Module...</span></span><br><span class="line"><span class="comment">// æ„é€ ä»£ç å—: æ„é€ æ–¹æ³•æ‰§è¡Œå‰æ‰§è¡Œ...</span></span><br><span class="line"><span class="comment">// Module(int) ...</span></span><br></pre></td></tr></table></figure><ul><li>é™æ€ä»£ç å—<ul><li>ä½ç½®ï¼šç±»ä¸­æ–¹æ³•å¤–</li><li>æ ¼å¼ï¼š<code>static &#123; è¯­å¥ä½“; &#125;</code></li><li>ç‰¹ç‚¹ï¼šéœ€è¦é€šè¿‡staticå…³é”®å­—ä¿®é¥°ï¼Œ<strong>éšç€ç±»çš„åŠ è½½è€ŒåŠ è½½ï¼Œåªæ‰§è¡Œä¸€æ¬¡</strong></li><li>ä½œç”¨ï¼š<strong>ç±»åŠ è½½æ—¶åšä¸€äº›æ•°æ®çš„åˆå§‹åŒ–æ“ä½œï¼ˆä¸€èˆ¬ç»™staticæˆå‘˜èµ‹å€¼ï¼‰</strong></li><li>é‡è¦ç¨‹åº¦ï¼šæŒæ¡</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//staticæˆå‘˜ç¬¬ä¸€ç§åˆå§‹åŒ–æ–¹å¼ï¼šæ˜¾å¼åˆå§‹åŒ–</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">String</span> <span class="variable">library</span> <span class="operator">=</span> <span class="string">&quot;æ ‹æ¢å›¾ä¹¦é¦†&quot;</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">//staticæˆå‘˜ç¬¬äºŒç§åˆå§‹åŒ–æ–¹å¼</span></span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    <span class="comment">//library = &quot;å‡Œäº‘å›¾ä¹¦é¦†&quot;;</span></span><br><span class="line">    System.out.println(<span class="string">&quot;staticä»£ç å—æ‰§è¡Œ...&quot;</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p><strong>è¡¥å……å†…å®¹ï¼šstaticæˆå‘˜æ˜¾ç¤ºåˆå§‹åŒ–å’Œé™æ€ä»£ç å—ï¼Œæ‰§è¡Œé¡ºåºé—®é¢˜</strong></p><ul><li>æƒ…å½¢ä¸€ï¼šæŠŠæ˜¾å¼åˆå§‹åŒ–æ”¾åœ¨é™æ€ä»£ç å—å‰é¢</li></ul><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731190051098.png" alt="image-20230731190051098"></p><ul><li>æƒ…å½¢äºŒï¼šæŠŠé™æ€ä»£ç å—æ”¾åœ¨æ˜¾å¼åˆå§‹åŒ–å‰é¢</li></ul><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731190155337.png" alt="image-20230731190155337"></p><p><font color="skyblue">ç»“è®ºï¼šæ˜¾å¼åˆå§‹åŒ–å’Œé™æ€ä»£ç å—ï¼Œè°åœ¨ä¸Šé¢ï¼Œè°å…ˆæ‰§è¡Œï¼</font></p></blockquote><h2 id="ç±»åŠ è½½æ—¶æœº"><a href="#ç±»åŠ è½½æ—¶æœº" class="headerlink" title="ç±»åŠ è½½æ—¶æœº"></a>ç±»åŠ è½½æ—¶æœº</h2><blockquote><p>åŠ è½½ç±»çš„å«ä¹‰ï¼šJVMè™šæ‹Ÿæœºå°†è¯¥ç±»çš„classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜çš„æ–¹æ³•åŒºä¸­ã€‚</p><p>å½“Javaä»£ç ä¸­<strong>ç”¨åˆ°æŸä¸ªç±»çš„æ—¶å€™ï¼Œå°±ä¼šåŠ è½½è¯¥ç±»ã€‚</strong></p><p>åŠ è½½æ—¶æœºï¼ˆä¸€å…±æœ‰ä¸ƒç§ï¼‰ï¼š</p><ul><li>ç¨‹åºå¯åŠ¨ï¼Œæ‰¾åˆ°<strong>mainæ–¹æ³•è¿è¡Œ</strong>ï¼Œæ­¤æ—¶ç”¨åˆ°<strong>mainæ–¹æ³•æ‰€å±çš„ç±»</strong>ï¼Œåº”è¯¥åŠ è½½è¯¥ç±»ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//è¿è¡Œç¨‹åºï¼Œå…ˆåŠ è½½Test.class</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//...</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸€æ¬¡ä½¿ç”¨ç±»å»å®ä¾‹åŒ–å¯¹è±¡æ—¶<ul><li><code>å¦‚ï¼š School s1 = new School();</code></li></ul></li><li>é€šè¿‡ç±»åè®¿é—®å…¶é™æ€æ•°æ®æˆå‘˜<ul><li><code>School.library = &quot;å‡Œå¿—æ¥¼&quot;;</code></li></ul></li><li>é€šè¿‡ç±»åè°ƒç”¨å…¶é™æ€æˆå‘˜æ–¹æ³•<ul><li><code> School.setLibrary(&quot;é€¸å¤«æ¥¼&quot;);</code></li></ul></li></ul></blockquote><h2 id="å¯¹è±¡åˆ›å»ºè¿‡ç¨‹"><a href="#å¯¹è±¡åˆ›å»ºè¿‡ç¨‹" class="headerlink" title="å¯¹è±¡åˆ›å»ºè¿‡ç¨‹"></a>å¯¹è±¡åˆ›å»ºè¿‡ç¨‹</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> <span class="type">School</span> <span class="variable">s</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">School</span>(<span class="string">&quot;ä¸€ä¸­&quot;</span>,<span class="number">3000</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>è¯·æè¿° Schoolç±»å¯¹è±¡s çš„åˆ›å»ºå’Œåˆå§‹åŒ–è¿‡ç¨‹ï¼š</p><ul><li>å¯¹Schoolç±»<strong>è¿›è¡Œç±»åŠ è½½</strong></li><li>å»<strong>æ–¹æ³•åŒºä¸­çš„é™æ€åŒº</strong>ä¸ºSchool.libary<strong>åˆ†é…å†…å­˜ç©ºé—´</strong>ï¼Œå¹¶åš<strong>é»˜è®¤åˆå§‹åŒ–ï¼ˆnullï¼‰</strong></li><li>å¯¹School.libraryï¼ˆé™æ€æˆå‘˜ï¼‰è¿›è¡Œ<strong>æ˜¾ç¤ºåˆå§‹åŒ–</strong>ï¼Œæ‰§è¡ŒSchoolç±»ä¸­çš„<strong>é™æ€ä»£ç å—</strong> (<strong>è°åœ¨ä¸Šé¢ï¼Œè°å…ˆæ‰§è¡Œï¼</strong>)</li><li>åœ¨<strong>æ ˆç©ºé—´ï¼ˆmainæ–¹æ³•å‡½æ•°å¸§ï¼‰å¼€è¾Ÿä¸€å—å†…å­˜</strong>ï¼Œç”¨ <strong>sï¼ˆå¼•ç”¨å˜é‡ï¼‰æ ‡è¯†</strong></li><li><strong>å †åŒºä¸­åˆ†é…å¯¹è±¡çš„å†…å­˜ç©ºé—´ï¼ŒåŒæ—¶è¿›è¡Œé»˜è®¤åˆå§‹åŒ–</strong></li><li>å¯¹Schoolä¸­çš„å±æ€§è¿›è¡Œæ˜¾å¼åˆå§‹åŒ– <code>public int num = 2000;</code></li><li>æ‰§è¡ŒSchoolç±»çš„æ„é€ ä»£ç å—ï¼ˆ&#x3D;åŒ¿åä»£ç å—ï¼‰</li><li>æ‰§è¡ŒSchoolç±»çš„æ„é€ æ–¹æ³•</li><li>æŠŠå¯¹è±¡å †ç©ºé—´çš„å†…å­˜åœ°å€èµ‹ç»™å˜é‡sï¼ˆå†™å…¥sé‚£å—å†…å­˜åŒºåŸŸä¸­ï¼‰</li></ul><p>è‡³æ­¤ï¼šå¯¹è±¡æˆåŠŸåˆ›å»ºï¼Œå¹¶åˆå§‹åŒ–æˆåŠŸå•¦~~</p></blockquote><h2 id="é™æ€å¯¼å…¥"><a href="#é™æ€å¯¼å…¥" class="headerlink" title="é™æ€å¯¼å…¥"></a>é™æ€å¯¼å…¥</h2><blockquote><p>JDK1.5ä¸­å¢åŠ äº†é™æ€å¯¼å…¥çš„åŠŸèƒ½ï¼Œå…·ä½“æè¿°å¦‚ä¸‹ï¼š</p><ul><li>åœ¨è‡ªå®šä¹‰ç±»ä¸­ï¼Œè¦ä½¿ç”¨å¦ä¸€ä¸ªç±»ä¸­çš„é™æ€å±æ€§å’Œé™æ€æ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨é™æ€å¯¼ å…¥ã€‚ </li><li>å¯¼å…¥å®Œæˆåï¼Œå¯ä»¥ç›´æ¥ä½¿ç”¨è¿™ä¸ªç±»ä¸­çš„é™æ€å±æ€§å’Œé™æ€æ–¹æ³•ï¼Œè€Œä¸ç”¨åœ¨å‰é¢ åŠ ä¸Šç±»åã€‚</li></ul><p>é™æ€å¯¼å…¥æ ¼å¼ï¼š</p><ul><li>å¯¼å…¥é™æ€æˆå‘˜ï¼š import static ç±»çš„å…¨åŒ…å.staticæ•°æ®æˆå‘˜å; </li><li>å¯¼å…¥é™æ€æ–¹æ³•ï¼š import static ç±»çš„å…¨åŒ…å.staticæˆå‘˜æ–¹æ³•å;</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.PI; <span class="comment">// å¯¼å…¥åå°±ä¸å†éœ€è¦ä½¿ç”¨ç±»å.PI, ç›´æ¥ä½¿ç”¨PIå³å¯</span></span><br><span class="line"><span class="keyword">import</span> <span class="keyword">static</span> java.lang.Math.random;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test0107_StaticImport</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//è®¿é—®Mathç±»ä¸­çš„é™æ€å±æ€§PIï¼Œè¡¨ç¤ºåœ†å‘¨ç‡Ï€</span></span><br><span class="line">        System.out.println(PI);</span><br><span class="line">        <span class="comment">//è®¿é—®Mathç±»ä¸­çš„é™æ€æ–¹æ³•random(),ç”Ÿæˆéšæœºæ•°</span></span><br><span class="line">        System.out.println(random());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="ç»§æ‰¿"><a href="#ç»§æ‰¿" class="headerlink" title="ç»§æ‰¿"></a>ç»§æ‰¿</h1><blockquote><p>ç±»å’Œç±»ä¹‹é—´çš„å…³ç³»æœ‰å¾ˆå¤šä¸­ï¼Œç»§æ‰¿å°±æ˜¯å…¶ä¸­ä¸€ç§å…³ç³»ï¼Œé™¤æ­¤ä¹‹å¤–è¿˜æœ‰<strong>ä¾èµ–ã€ ç»„åˆã€èšåˆ</strong>ç­‰</p></blockquote><h2 id="æ¦‚å¿µç†è§£"><a href="#æ¦‚å¿µç†è§£" class="headerlink" title="æ¦‚å¿µç†è§£"></a>æ¦‚å¿µç†è§£</h2><blockquote><p>ç»§æ‰¿æ˜¯é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼Œå¯ä»¥æœ‰æ•ˆçš„æé«˜ä»£ç çš„å¤ç”¨æ€§ã€‚</p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731192908315.png" alt="image-20230731192908315"></p><p><strong>ç»§æ‰¿å…³ç³»ä½“ç°çš„æ˜¯ä¸€ç§ â€œis aâ€ çš„å…³ç³»ï¼</strong></p><p>è›‡ is a çˆ¬è¡ŒåŠ¨ç‰©ï¼Œçˆ¬è¡ŒåŠ¨ç‰©æ˜¯åŠ¨ç‰©ä¸­çš„ä¸€ç§ã€‚</p></blockquote><h2 id="ç»§æ‰¿å®ç°"><a href="#ç»§æ‰¿å®ç°" class="headerlink" title="ç»§æ‰¿å®ç°"></a>ç»§æ‰¿å®ç°</h2><blockquote><p>å›ºå®šæ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">public</span>] class å­ç±»å extends çˆ¶ç±»å &#123;</span><br><span class="line"> å­ç±»æ–°å¢å†…å®¹;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ä¾‹å¦‚</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> Dog <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;&#125;</span><br></pre></td></tr></table></figure><p>åœ¨ç»§æ‰¿å…³ç³»ä¸­ï¼Œ<strong>çˆ¶ç±»ï¼Œä¹Ÿç§°åŸºç±»ã€è¶…ç±»</strong>ï¼›<strong>å­ç±»ï¼Œä¹Ÿç§°æ´¾ç”Ÿç±»ã€‚</strong></p></blockquote><h2 id="ç»§æ‰¿ç‰¹ç‚¹"><a href="#ç»§æ‰¿ç‰¹ç‚¹" class="headerlink" title="ç»§æ‰¿ç‰¹ç‚¹"></a>ç»§æ‰¿ç‰¹ç‚¹</h2><blockquote><ul><li>Javaåªæ”¯æŒå•ç»§æ‰¿ï¼Œä¸æ”¯æŒå¤šç»§æ‰¿</li></ul><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731193627426.png" alt="image-20230731193627426"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¼–è¯‘æŠ¥é”™ï¼Œä¸€ä¸ªç±»åªèƒ½æœ‰ä¸”åªæœ‰ä¸€ä¸ªçˆ¶ç±»ï¼Œä¸èƒ½åŒæ—¶ç»§æ‰¿ä¿©ä¸ªçˆ¶ç±»</span></span><br><span class="line"><span class="keyword">public</span> class å„¿å­ extends çˆ¶<span class="number">1</span>,çˆ¶<span class="number">2</span> &#123;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Javaæ”¯æŒå¤šå±‚ç»§æ‰¿</li></ul><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731193806868.png" alt="image-20230731193806868"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Grandpa</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">drinking</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çˆ·çˆ·å–œæ¬¢å–èŒ¶&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Father</span> <span class="keyword">extends</span> <span class="title class_">Grandpa</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">fishing</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;çˆ¸çˆ¸å–œæ¬¢é’“é±¼&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Son</span> <span class="keyword">extends</span> <span class="title class_">Father</span> &#123;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">programing</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;æˆ‘å–œæ¬¢æ•²ä»£ç &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Son</span> <span class="variable">son</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Son</span>();</span><br><span class="line">    son.drinking();</span><br><span class="line">    son.fishing();</span><br><span class="line">    son.programing();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731194440075.png" alt="image-20230731194440075"></p></blockquote><h2 id="ç»§æ‰¿ç»†èŠ‚"><a href="#ç»§æ‰¿ç»†èŠ‚" class="headerlink" title="ç»§æ‰¿ç»†èŠ‚"></a>ç»§æ‰¿ç»†èŠ‚</h2><blockquote><p><font color="skyblue">å­ç±»åªèƒ½ç»§æ‰¿çˆ¶ç±»æ‰€æœ‰éç§æœ‰çš„æˆå‘˜ï¼ˆå«æˆå‘˜æ–¹æ³•å’Œæˆå‘˜å˜é‡ï¼‰</font></p><p>Javaå®˜æ–¹æ–‡æ¡£æè¿°ï¼š<strong>ä»ç»§æ‰¿çš„æ¦‚å¿µæ¥è¯´ï¼Œprivateä¿®é¥°çš„æˆå‘˜ä¸è¢«ç»§æ‰¿</strong></p><p>å®˜ç½‘æè¿°ï¼š</p><p><a href="https://docs.oracle.com/javase/tutorial/java/IandI/subclasses.html">Inheritance (The Javaâ„¢ Tutorials &gt; Learning the Java Language &gt; Interfaces and Inheritance) (oracle.com)</a></p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731195332572.png" alt="image-20230731195332572"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// çˆ¶ç±» Animal</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> <span class="keyword">extends</span> <span class="title class_">Object</span> &#123;</span><br><span class="line"> <span class="keyword">private</span> String color;</span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> age;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">getColor</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> color;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setColor</span><span class="params">(String color)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.color = color;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="type">int</span> <span class="title function_">getAge</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setAge</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.age = age;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;Animal [color=&quot;</span> + color + <span class="string">&quot;, age=&quot;</span> + age + <span class="string">&quot;]&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å­ç±» Dog</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// çˆ¶ç±»ä¸­çš„privateæˆå‘˜ï¼Œå­ç±»ä¸­ä¸å¯ä»¥ç›´æ¥æ“ä½œï¼ˆæ— ç›´æ¥è®¿é—®æƒé™ï¼‰</span></span><br><span class="line"> <span class="comment">// Animal: private String color;</span></span><br><span class="line"> <span class="comment">// çˆ¶ç±»ä¸­çš„éprivateæˆå‘˜ï¼Œå­ç±»ä¸­å¯ä»¥ç›´æ¥æ“ä½œ</span></span><br><span class="line"> <span class="comment">// Animal: public int age;</span></span><br><span class="line"> <span class="comment">// å­ç±»æ–°å¢å±æ€§</span></span><br><span class="line"> <span class="keyword">private</span> String name;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> String <span class="title function_">getName</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="keyword">return</span> name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setName</span><span class="params">(String name)</span> &#123;</span><br><span class="line">     <span class="built_in">this</span>.name = name;</span><br><span class="line"> &#125;</span><br><span class="line"></span><br><span class="line"> <span class="comment">// å­ç±»æ–°å¢æ–¹æ³•ï¼šè¾“å‡ºå­ç±»å¯¹è±¡æ‰€æœ‰å±æ€§(å«æ–°å¢å±æ€§ã€ä»çˆ¶ç±»ç»§æ‰¿)</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">disp</span><span class="params">()</span> &#123;</span><br><span class="line">     <span class="comment">// å­ç±»æ–¹æ³•ä¸­ ä¸èƒ½ç›´æ¥æ“ä½œ çˆ¶ç±»privateæˆå‘˜</span></span><br><span class="line">     <span class="comment">// System.out.println(&quot;ç»§æ‰¿ color: &quot; + color); error</span></span><br><span class="line">     <span class="comment">// å­ç±»æ–¹æ³•ä¸­ å¯ä»¥é—´æ¥æ“ä½œ(å€ŸåŠ©publicçš„get|set) çˆ¶ç±»privateæˆå‘˜</span></span><br><span class="line">     System.out.println(<span class="string">&quot;ç»§æ‰¿ color: &quot;</span> + getColor());</span><br><span class="line">     <span class="comment">// å­ç±»æ–¹æ³•ä¸­ å¯ä»¥ç›´æ¥æ“ä½œ çˆ¶ç±»éprivateæˆå‘˜</span></span><br><span class="line">     System.out.println(<span class="string">&quot;ç»§æ‰¿ age: &quot;</span> + age);</span><br><span class="line">     System.out.print(<span class="string">&quot;æ–°å¢ï¼š&quot;</span> + name);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test0204_AccessMember</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="type">Animal</span> <span class="variable">a</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Animal</span>();</span><br><span class="line">     a.setColor(<span class="string">&quot;black&quot;</span>);</span><br><span class="line">     a.setAge(<span class="number">3</span>);</span><br><span class="line">     a.show();</span><br><span class="line">     System.out.println(<span class="string">&quot;------------&quot;</span>);</span><br><span class="line">     <span class="type">Dog</span> <span class="variable">d</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">     <span class="comment">// å­ç±»å¯¹è±¡è°ƒç”¨ä»çˆ¶ç±»ç»§æ‰¿çš„publicæ–¹æ³•</span></span><br><span class="line">     d.setColor(<span class="string">&quot;yellow&quot;</span>);</span><br><span class="line">     d.setAge(<span class="number">2</span>);</span><br><span class="line">     <span class="comment">// å­ç±»å¯¹è±¡è°ƒç”¨æ–°å¢çš„æ–¹æ³•</span></span><br><span class="line">     d.setName(<span class="string">&quot;è™å­&quot;</span>);</span><br><span class="line">     d.disp();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731201842212.png" alt="image-20230731201842212"></p><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>ä»å†…å­˜è§’åº¦æ¥åˆ†æï¼Œçˆ¶ç±»ä¸­çš„privateæˆå‘˜ï¼Œå­ç±»å®é™…ä¸Šä¹Ÿå®Œå…¨ç»§æ‰¿ä¸‹æ¥äº†ï¼ˆéä¸“ä¸šæè¿°ï¼‰</li><li>çˆ¶ç±»privateæˆå‘˜ä¸ºçˆ¶ç±»ç§æœ‰ï¼Œåœ¨çˆ¶ç±»æˆå‘˜æ–¹æ³•ä¸­å¯ä»¥ç›´æ¥è®¿é—®ï¼Œåœ¨å…¶ä»–ç±»ä¸­ï¼ˆå«å­ç±»ï¼‰ï¼Œä¸èƒ½ç›´æ¥æ“ä½œã€‚</li><li>å­ç±»ä¸­ä¸èƒ½ç›´æ¥æ“ä½œçˆ¶ç±»privateæˆå‘˜ï¼Œä½†æ˜¯å¯ä»¥é€šè¿‡é—´æ¥æ–¹å¼ï¼ˆæ¯”å¦‚å€ŸåŠ©çˆ¶ç±»publicçš„get or setæ–¹æ³•ï¼‰æ“ä½œ</li></ul><p><font color="skyblue">æ€»ç»“ï¼šå­ç±»ç»§æ‰¿äº†çˆ¶ç±»çš„æ‰€æœ‰æˆå‘˜ï¼ŒåŒ…æ‹¬ç§æœ‰æˆå‘˜ã€‚ä½†å­ç±»æ— æ³•ç›´æ¥è®¿é—®çˆ¶ç±»çš„ç§æœ‰æˆå‘˜ï¼Œåªèƒ½é€šè¿‡è°ƒç”¨çˆ¶ç±»çš„å…¬æœ‰æ–¹æ³•æˆ–å—ä¿æŠ¤æ–¹æ³•æ¥é—´æ¥è®¿é—®è¿™äº›ç§æœ‰æˆå‘˜</font></p></blockquote><blockquote><p>é¢å¤–è¡¥å……ï¼š</p><p>Javaä¸­çš„ç±»ï¼Œå¦‚æœç±»å®šä¹‰æ—¶æ²¡æœ‰æŒ‡å®šçˆ¶ç±»ï¼Œé‚£ä¹ˆè¿™ä¸ªç±»ä¼šé»˜è®¤ç»§æ‰¿Objectç±»ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é»˜è®¤ç»§æ‰¿äº†Objectï¼Œç¼–è¯‘åä¼šè‡ªåŠ¨ç”Ÿæˆ extends Object çš„ä»£ç è¯­å¥</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Animal</span> &#123;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230731203009277.png" alt="image-20230731203009277"></p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801083927833.png" alt="image-20230801083927833"></p><p>ä¸Šå›¾æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>Objectç±»ä¸­æ²¡æœ‰å±æ€§</li><li><strong>ç»¿è‰²åœ†ç‚¹</strong>è¡¨ç¤ºpublicä¿®é¥°æ–¹æ³•</li><li><strong>é»„è‰²è±å½¢</strong>è¡¨ç¤ºprotectedä¿®é¥°æ–¹æ³•</li><li><strong>çº¢è‰²æ–¹å—</strong>è¡¨ç¤ºprivateä¿®é¥°æ–¹æ³•</li></ul><p><strong>Javaä¸­çš„æ¯ä¸ªç±»éƒ½ç›´æ¥æˆ–é—´æ¥ç»§æ‰¿Objectç±»ï¼ŒObjectç±»æ˜¯Javaç»§æ‰¿ä½“ç³»ä¸­çš„æœ€é¡¶å±‚çˆ¶ç±»ã€‚</strong></p></blockquote><h2 id="åº”ç”¨åœºæ™¯"><a href="#åº”ç”¨åœºæ™¯" class="headerlink" title="åº”ç”¨åœºæ™¯"></a>åº”ç”¨åœºæ™¯</h2><blockquote><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801084506136.png" alt="image-20230801084506136"></p></blockquote><h2 id="ä¼˜ç¼ºç‚¹"><a href="#ä¼˜ç¼ºç‚¹" class="headerlink" title="ä¼˜ç¼ºç‚¹"></a>ä¼˜ç¼ºç‚¹</h2><blockquote><p>ä¼˜ç‚¹ï¼š</p><ul><li>æé«˜ä»£ç çš„<strong>å¤ç”¨æ€§</strong></li><li>æé«˜äº†ä»£ç çš„<strong>å¯ç»´æŠ¤æ€§</strong>ï¼ˆçˆ¶ç±»ä¿®æ”¹åï¼Œå­ç±»å…¨éƒ¨ç”Ÿæ•ˆï¼‰</li><li>è®©ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿäº† is a çš„å…³ç³»ï¼Œæ˜¯å¤šæ€çš„å‰æ</li></ul><p>å¼Šç«¯ï¼š</p><ul><li>ç»§æ‰¿æ˜¯<strong>ä¾µå…¥æ€§</strong>çš„</li><li>ç»§æ‰¿è®©ç±»ä¸ç±»ä¹‹é—´äº§ç”Ÿäº†å…³ç³»ï¼Œç±»çš„<strong>è€¦åˆæ€§å¢å¼º</strong>äº†ï¼ˆä»£ç ä¸ä»£ç ä¹‹é—´å­˜åœ¨å…³è”éƒ½å¯ä»¥å°†å…¶ç§°ä¹‹ä¸ºâ€œè€¦åˆâ€ï¼‰</li><li>é™ä½äº†ä»£ç çš„<strong>çµæ´»æ€§</strong>ï¼ˆå½“çˆ¶ç±»å‘ç”Ÿå˜åŒ–æ—¶å­ç±»å®ç°ä¹Ÿä¸å¾—ä¸è·Ÿç€å˜åŒ–ï¼Œå‰Šå¼±äº†å­ç±»çš„<strong>ç‹¬ç«‹æ€§</strong>ï¼‰</li></ul></blockquote><h1 id="super"><a href="#super" class="headerlink" title="super"></a>super</h1><blockquote><p>é—®é¢˜å¼•å…¥ï¼š</p><p>ä»çˆ¶ç±»ç»§æ‰¿çš„éprivateæˆå‘˜ï¼Œå’Œå­ç±»æ–°å¢çš„æˆå‘˜é‡åï¼Œå¦‚ä½•åœ¨å­ç±»æˆå‘˜æ–¹æ³•ä¸­åŒºåˆ†ä¸¤ä¸ªæˆå‘˜ï¼Ÿï¼ˆä½¿ç”¨superï¼‰</p><p>superè¡¨ç¤ºå­ç±»å¯¹è±¡ä¸­ä»çˆ¶ç±»ç»§æ‰¿çš„é‚£éƒ¨åˆ†<strong>ï¼ˆå¯ä»¥çœ‹æˆä¸€ä¸ªçˆ¶ç±»å¯¹è±¡ï¼‰å¼•ç”¨</strong>ï¼</p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801103723306.png" alt="image-20230801103723306"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">memberAccess</span><span class="params">(<span class="type">int</span> age)</span> &#123;</span><br><span class="line"> System.out.println(<span class="string">&quot;age: &quot;</span> + age); <span class="comment">// å±€éƒ¨å˜é‡</span></span><br><span class="line"> System.out.println(<span class="string">&quot;this.age: &quot;</span> + <span class="built_in">this</span>.age); <span class="comment">// å½“å‰å¯¹è±¡çš„æˆå‘˜å˜é‡</span></span><br><span class="line"> System.out.println(<span class="string">&quot;super.age: &quot;</span> + <span class="built_in">super</span>.age); <span class="comment">// çˆ¶ç±»çš„æˆå‘˜å˜é‡</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801193638834.png" alt="image-20230801193638834"></p><p>åœ¨å­ç±»æ–¹æ³•ä¸­è®¿é—®ä¸€ä¸ªå˜é‡ï¼Œä¼šæ ¹æ®<strong>å°±è¿‘åŸåˆ™</strong>ï¼š</p><ul><li>å…ˆåœ¨å­ç±»å±€éƒ¨èŒƒå›´ä¸­æ‰¾<strong>å±€éƒ¨å˜é‡</strong></li><li>å†åœ¨å­ç±»æ–°å¢çš„èŒƒå›´ä¸­æŸ¥æ‰¾ <strong>ï¼ˆç±»å†…ï¼Œæ–¹æ³•å¤–ï¼šå­ç±»æˆå‘˜å˜é‡ï¼‰</strong></li><li>æœ€åä»<strong>çˆ¶ç±»ç»§æ‰¿çš„æˆå‘˜èŒƒå›´</strong>ä¸­æŸ¥æ‰¾</li></ul><p><font color="skyblue">å¦‚æœä¸€å®šè¦ä½¿ç”¨ä»çˆ¶ç±»ç»§æ‰¿çš„æˆå‘˜ï¼Œå¯ä»¥é€šè¿‡superå…³é”®å­—ï¼Œè¿›è¡ŒåŒºåˆ†ã€‚</font></p><p>superæ€»ç»“ï¼š</p><ul><li>superå…³é”®å­—çš„ç”¨æˆ·å’Œthiså…³é”®å­—çš„ç”¨æ³•ç›¸ä¼¼</li><li>thisï¼šä»£è¡¨<strong>æœ¬ç±»å¯¹è±¡çš„å¼•ç”¨</strong></li><li>superï¼š<strong>ä»£è¡¨çˆ¶ç±»å­˜å‚¨ç©ºé—´çš„æ ‡è¯†ï¼ˆå¯ä»¥ç†è§£ä¸ºçˆ¶ç±»å¯¹è±¡å¼•ç”¨ï¼‰</strong></li></ul></blockquote><h1 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h1><blockquote><p>æ€è€ƒï¼šå¦‚ä½•ç»™å­ç±»å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–ï¼Ÿ </p><p>å­ç±»å¯¹è±¡çš„æ•°æ®æˆå‘˜åŒ…å«ä¸¤éƒ¨åˆ†ï¼š<strong>ç»§æ‰¿éƒ¨åˆ†ï¼Œæ–°å¢éƒ¨åˆ†</strong></p><ul><li>æ–°å¢éƒ¨åˆ†ï¼šå­ç±»æ„é€ æ–¹æ³•ä¸­ <code>this.æ–°å¢æ•°æ®æˆå‘˜ = å€¼</code></li><li>å¯¹ç»§æ‰¿éƒ¨åˆ†æ•°æ®æˆå‘˜åˆå§‹åŒ–<ul><li><strong>super(å®é™…å‚æ•°åˆ—è¡¨)</strong></li><li>å­ç±»æ„é€ æ–¹æ³•å‰ï¼Œ<strong>ä¼šä¼˜å…ˆ</strong>æ‰¾åˆ°çˆ¶ç±»æ„é€ æ–¹æ³•è°ƒç”¨ï¼Œå¯¹çˆ¶ç±»ç»§æ‰¿éƒ¨åˆ†æˆå‘˜è¿›è¡Œåˆå§‹åŒ–</li><li>çˆ¶ç±»éƒ¨åˆ†åˆå§‹åŒ–å®Œæˆåï¼Œå†æ‰§è¡Œå­ç±»æ„é€ æ–¹æ³•ä»£ç </li><li>å¦‚æœå­ç±»æ„é€ æ–¹æ³•ä¸­æ²¡æœ‰æ˜¾ç¤ºè°ƒç”¨<strong>super(å®å‚åˆ—è¡¨)<strong>ï¼Œåˆ™ç³»ç»Ÿé»˜è®¤è°ƒç”¨</strong>super()</strong></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å­ç±»æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Zi</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="comment">//å¦‚æœä¸æ˜¾å¼è°ƒç”¨super,åˆ™é»˜è®¤è°ƒç”¨çˆ¶ç±»æ— å‚æ„é€ å™¨</span></span><br><span class="line">    <span class="comment">//super();</span></span><br><span class="line">    System.out.println(<span class="string">&quot;in Zi() ...&quot;</span>);</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Zi</span><span class="params">(<span class="type">int</span> f, <span class="type">int</span> z)</span> &#123; <span class="comment">// æ„</span></span><br><span class="line">    <span class="comment">//ä¸‹é¢è¿™è¡Œæ³¨é‡Šçš„ä»£ç ï¼Œæ”¾å¼€åˆ™ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line">    <span class="comment">//System.out.println(&quot;in Zi(int,int) ...&quot;);</span></span><br><span class="line">    <span class="comment">//superè°ƒç”¨ï¼Œå¿…é¡»ä¸ºå­ç±»æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œæœ‰æ•ˆä»£ç </span></span><br><span class="line">    <span class="built_in">super</span>(f);</span><br><span class="line">    System.out.println(<span class="string">&quot;in Zi(int,int) ...&quot;</span>);</span><br><span class="line">    <span class="built_in">this</span>.z = z;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// æ–°å¢æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">disp</span><span class="params">()</span> &#123; </span><br><span class="line">    <span class="comment">//å€ŸåŠ©superå¯ä»¥ç›´æ¥è®¿é—®çˆ¶ç±»ç»§æ‰¿éƒ¨åˆ†çš„æˆå‘˜</span></span><br><span class="line">    System.out.println(<span class="string">&quot;super.f: &quot;</span> + <span class="built_in">super</span>.getF());</span><br><span class="line">    <span class="comment">//å€ŸåŠ©thisï¼Œä¼šå…ˆå»æ‰¾å­ç±»æ–°å¢getF(),å¦‚æœæ‰¾ä¸åˆ°ï¼Œå†å»çˆ¶ç±»ç»§æ‰¿éƒ¨åˆ†æŸ¥æ‰¾</span></span><br><span class="line">    System.out.println(<span class="string">&quot;this.f: &quot;</span> + <span class="built_in">this</span>.getF());</span><br><span class="line">    System.out.println(<span class="string">&quot;Zi.z: &quot;</span> + z);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801200249153.png" alt="image-20230801200249153"></p><p><font color="skyblue">attention1ï¼šå­ç±»æ„é€ æ–¹æ³•ä¸­å¦‚æœæ˜¾å¼è°ƒç”¨super(å®å‚åˆ—è¡¨), åˆ™è¯¥ä»£ç å¿…é¡»ä¸º<strong>ç¬¬ä¸€è¡Œæœ‰æ•ˆä»£ç </strong>!</font></p><p><font color="skyblue">attention2ï¼šå­ç±»æ„é€ æ–¹æ³•ä¸­æ˜¾å¼è°ƒç”¨çš„super(å®å‚åˆ—è¡¨),<strong>çˆ¶ç±»ä¸­å¿…é¡»æä¾›</strong>ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼</font></p></blockquote><h1 id="è®¿é—®æ§åˆ¶"><a href="#è®¿é—®æ§åˆ¶" class="headerlink" title="è®¿é—®æ§åˆ¶"></a>è®¿é—®æ§åˆ¶</h1><blockquote><p>æ¦‚è¿°ï¼šç±»ä¸­çš„å±æ€§å’Œæ–¹æ³•ï¼Œå¯ä»¥ä½¿ç”¨ä»¥ä¸‹<strong>å››ç§æƒé™ä¿®é¥°ç¬¦</strong>è¿›è¡Œè®¿é—®æ§åˆ¶ï¼š</p><p><strong>public &gt; protected &gt; default(ä¸å†™) &gt; private</strong></p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801201033645.png" alt="image-20230801201033645"></p></blockquote><h1 id="æ–¹æ³•é‡å†™"><a href="#æ–¹æ³•é‡å†™" class="headerlink" title="æ–¹æ³•é‡å†™"></a>æ–¹æ³•é‡å†™</h1><blockquote><ul><li>é‡å†™åº”ç”¨åœºæ™¯</li></ul><p>çˆ¶å­ç±»ç»§æ‰¿å…³ç³»ä¸­ï¼Œå½“å­ç±»éœ€è¦çˆ¶ç±»çš„åŠŸèƒ½ï¼Œè€Œ<strong>ç»§æ‰¿çš„æ–¹æ³•ä¸èƒ½å®Œå…¨æ»¡è¶³å­ç±»çš„éœ€æ±‚</strong>ï¼Œå­ç±»é‡Œé¢æœ‰ç‰¹æ®Šçš„åŠŸèƒ½ï¼Œæ­¤æ—¶å¯ä»¥é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œè¿™æ ·ï¼Œå³æ²¿è¢­äº† çˆ¶ç±»çš„åŠŸèƒ½ï¼Œåˆå®šä¹‰äº†å­ç±»ç‰¹æœ‰çš„å†…å®¹ã€‚</p><ul><li>æ–¹æ³•é‡å†™ç»†èŠ‚ (<strong>ä¸¤åŒä¸¤å°ä¸€å¤§</strong>)<ul><li>ä¸¤åŒï¼š<strong>æ–¹æ³•åç›¸åŒï¼Œå½¢å‚åˆ—è¡¨ç›¸åŒ</strong></li><li>ä¸¤å°<ul><li>å­ç±»æ–¹æ³•<strong>è¿”å›å€¼ç±»å‹</strong>åº”è¯¥æ¯”çˆ¶ç±»è¿”å›å€¼ç±»å‹<strong>æ›´å°æˆ–ç›¸ç­‰</strong>ï¼ˆ<strong>è¿™ä¸ªæ˜¯å¯¹å¼•ç”¨ç±»å‹æ¥é”çš„ï¼ŒåŸºæœ¬æ•°æ®ç±»å‹è¿”å›å€¼å¿…é¡»æ˜¯ç›¸ç­‰çš„</strong>ï¼‰</li><li>å­ç±»æ–¹æ³•å£°æ˜æŠ›å‡ºçš„<strong>å¼‚å¸¸ç±»å‹</strong>åº”æ¯”çˆ¶æ–¹æ³•å£°æ˜æŠ›å‡ºçš„å¼‚å¸¸ç±»å‹<strong>æ›´å°æˆ–ç›¸ç­‰</strong></li></ul></li><li>ä¸€å¤§ï¼šå­ç±»æ–¹æ³•çš„<strong>è®¿é—®æƒé™</strong>åº”æ¯”çˆ¶ç±»æ–¹æ³•çš„è®¿é—®æƒé™æ›´å¤§æˆ–ç›¸ç­‰</li></ul></li></ul><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801201906588.png" alt="image-20230801201906588"></p><p>ç»“è®ºï¼šå­ç±»ç»§æ‰¿çˆ¶ç±»ï¼Œåœ¨è°ƒç”¨æ–¹æ³•çš„æ—¶å€™ï¼Œ<strong>å¦‚æœå­ç±»ä¸­æ²¡ç”¨é‡å†™ï¼Œé‚£ä¹ˆè°ƒç”¨ä»çˆ¶ç±»ç»§æ‰¿çš„æ–¹æ³•ï¼Œå¦‚æœå­ç±»é‡å†™äº†è¿™ä¸ªæ–¹æ³•ï¼Œé‚£ä¹ˆè°ƒç”¨åˆ°å­ç±»é‡å†™çš„æ–¹æ³•</strong>ã€‚ï¼ˆ éå¸¸é‡è¦ ï¼‰</p><p>ç‰¹æ®Šæƒ…å†µï¼š</p><ul><li>çˆ¶ç±»ä¸­çš„<strong>é™æ€æ–¹æ³•ï¼ˆå±äºç±»æ–¹æ³•ï¼‰ä¸èƒ½è¢«å­ç±»é‡å†™</strong>ï¼ˆstaticä¹Ÿæ˜¯çˆ¶ç±»ç§æœ‰çš„ï¼‰</li><li>çˆ¶ç±»ä¸­çš„<strong>ç§æœ‰æ–¹æ³•ï¼ˆæœªè¢«ç»§æ‰¿ï¼‰ä¸èƒ½è¢«å­ç±»é‡å†™</strong></li></ul></blockquote><blockquote><p>é‡å†™Objectç±»ä¸­toString()</p><ul><li>Javaä¸­çš„ç±»ï¼Œå¦‚æœç±»å®šä¹‰æ—¶æ²¡æœ‰æŒ‡å®šçˆ¶ç±»ï¼Œé‚£ä¹ˆè¿™ä¸ª<strong>ç±»é»˜è®¤ç»§æ‰¿Objectç±»</strong></li><li>Javaä¸­çš„æ¯ä¸ªç±»éƒ½<strong>ç›´æ¥æˆ–é—´æ¥ç»§æ‰¿Objectç±»</strong>ï¼ŒObjectç±»æ˜¯Javaç»§æ‰¿ä½“ç³»ä¸­çš„<strong>æœ€é¡¶å±‚çˆ¶ç±»</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Object</span>&#123;</span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//è¿”å› &quot;ç±»çš„å…¨åŒ…å@è¯¥å¯¹è±¡å †ç©ºé—´åœ°å€(åå…­è¿›åˆ¶å½¢å¼)&quot;</span></span><br><span class="line">        <span class="keyword">return</span> getClass().getName() + <span class="string">&quot;@&quot;</span> + Integer.toHexString(hashCode());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// com.briup.chap06.test.Game@659e0bfd</span></span><br></pre></td></tr></table></figure><p>å½“è¾“å‡ºå¯¹è±¡æ—¶ï¼Œä¼šå…ˆæ‰§è¡Œ <strong>å¯¹è±¡.toString()</strong> è·å¾—å¯¹è±¡çš„å­—ç¬¦ä¸²å½¢å¼ï¼Œç„¶åè¾“å‡º è¯¥å­—ç¬¦ä¸²ï¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é‡å†™toStringæ–¹æ³•</span></span><br><span class="line"><span class="meta">@Override</span></span><br><span class="line"><span class="keyword">public</span> String <span class="title function_">toString</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="string">&quot;Teacher [name=&quot;</span> + name + <span class="string">&quot;, balance=&quot;</span> + balance + <span class="string">&quot;]&quot;</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Teacher [name=jack,balance=12345.6]</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="final"><a href="#final" class="headerlink" title="final"></a>final</h1><h2 id="ä¿®é¥°ç±»"><a href="#ä¿®é¥°ç±»" class="headerlink" title="ä¿®é¥°ç±»"></a>ä¿®é¥°ç±»</h2><blockquote><p><strong>ç”¨finalä¿®é¥°çš„ç±»ä¸èƒ½è¢«ç»§æ‰¿ï¼Œä¹Ÿå°±æ˜¯è¯´è¿™ä¸ªç±»æ˜¯æ²¡æœ‰å­ç±»çš„ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">class</span> <span class="title class_">Animal</span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span>&#123;&#125; <span class="comment">// æŠ¥é”™</span></span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801210930969.png" alt="image-20230801210930969"></p><p>JDKå†…ç½®çš„ç±»å’Œå¤§é‡æ¡†æ¶ç±»éƒ½æœ‰finalä¿®é¥°ï¼Œä¸èƒ½è¿›è¡Œé‡å†™ã€‚ä¿æŠ¤æºç ï¼</p></blockquote><h2 id="ä¿®é¥°æ–¹æ³•"><a href="#ä¿®é¥°æ–¹æ³•" class="headerlink" title="ä¿®é¥°æ–¹æ³•"></a>ä¿®é¥°æ–¹æ³•</h2><blockquote><p>ç”¨finalä¿®é¥°çš„æ–¹æ³•<strong>å¯ä»¥è¢«å­ç±»ç»§æ‰¿</strong>ï¼Œä½†æ˜¯<strong>ä¸èƒ½</strong>è¢«å­ç±»çš„é‡å†™</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">final</span> <span class="keyword">void</span> <span class="title function_">print</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¼–è¯‘æŠ¥é”™</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Student</span> <span class="keyword">extends</span> <span class="title class_">Person</span> &#123;</span><br><span class="line"> <span class="comment">//ä»çˆ¶ç±»ç»§æ‰¿çš„finalæ–¹æ³•ï¼Œä¸å¯ä»¥è¢«é‡å†™</span></span><br><span class="line"> <span class="comment">//public void print() &#123;</span></span><br><span class="line"> <span class="comment">//&#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801211444023.png" alt="image-20230801211444023"></p></blockquote><h2 id="ä¿®é¥°å˜é‡"><a href="#ä¿®é¥°å˜é‡" class="headerlink" title="ä¿®é¥°å˜é‡"></a>ä¿®é¥°å˜é‡</h2><blockquote><p>ç”¨finalä¿®é¥°çš„å˜é‡å°±å˜æˆäº†å¸¸é‡ï¼Œå¹¶ä¸”å®ƒåªèƒ½è¢«èµ‹ä¸€æ¬¡å€¼ï¼Œç¬¬äºŒæ¬¡èµ‹å€¼å°±ä¼š æŠ¥é”™</p><ul><li>finalä¿®é¥°<strong>å±€éƒ¨å˜é‡</strong><ul><li>åˆ™å±€éƒ¨å˜é‡èµ‹åˆå€¼åï¼Œä¸èƒ½å†æ¬¡èµ‹å€¼ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™ï¼</li></ul></li></ul><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801211708288.png" alt="image-20230801211708288"></p><ul><li><p>finalä¿®é¥°<strong>éé™æ€æˆå‘˜å˜é‡</strong></p><ul><li><p>æ˜¾å¼åˆå§‹åŒ–</p></li><li><p>åŒ¿åä»£ç å—ä¸­åˆå§‹åŒ–</p></li><li><p>æ„é€ å™¨ä¸­åˆå§‹åŒ–</p><p><strong>æ³¨æ„ï¼šç±»ä¸­å‡ºç°çš„æ‰€æœ‰æ„é€ å™¨éƒ½è¦å¯¹finalæˆå‘˜è¿›è¡Œåˆå§‹åŒ–ï¼Œå¦åˆ™ç¼–è¯‘æŠ¥é”™</strong></p></li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">F</span> &#123;</span><br><span class="line">    <span class="comment">//ç¬¬ä¸€ç§åˆå§‹åŒ–æ–¹å¼ï¼šæ˜¾å¼åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">//private final int num = 10;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¬¬äºŒç§åˆå§‹åŒ–æ–¹å¼ï¼šæ„é€ ä»£ç å—åˆå§‹åŒ–</span></span><br><span class="line">    <span class="comment">// private final int num;</span></span><br><span class="line">    <span class="comment">// &#123;</span></span><br><span class="line">    <span class="comment">// num = 20;</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line"></span><br><span class="line">    <span class="comment">//ç¬¬ä¸‰ç§åˆå§‹åŒ–æ–¹å¼ï¼šæ‰€æœ‰æ„é€ å™¨ä¸­éƒ½å¯¹finalæˆå‘˜è¿›è¡Œåˆå§‹åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">final</span> <span class="type">int</span> num;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">F</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="comment">//å¿…é¡»ç»™numåˆå§‹åŒ–</span></span><br><span class="line">        <span class="built_in">this</span>.num = <span class="number">30</span>;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">F</span><span class="params">(<span class="type">int</span> num)</span> &#123;</span><br><span class="line">        <span class="comment">//å¿…é¡»ç»™numåˆå§‹åŒ–</span></span><br><span class="line">        <span class="built_in">this</span>.num = num;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>finalä¿®é¥°<strong>é™æ€æˆå‘˜å˜é‡</strong><ul><li>æ˜¾å¼åˆå§‹åŒ–ï¼šå£°æ˜çš„åŒæ—¶èµ‹å€¼</li><li>é™æ€ä»£ç å—ä¸­èµ‹å€¼</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§åˆå§‹åŒ–æ–¹å¼ï¼šæ˜¾å¼åˆå§‹åŒ–</span></span><br><span class="line"><span class="comment">//private final static int num = 10;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§åˆå§‹åŒ–æ–¹å¼</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">final</span> <span class="keyword">static</span> <span class="type">int</span> num;</span><br><span class="line"><span class="keyword">static</span> &#123;</span><br><span class="line">    num = <span class="number">20</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ä¿®é¥°å¼•ç”¨"><a href="#ä¿®é¥°å¼•ç”¨" class="headerlink" title="ä¿®é¥°å¼•ç”¨"></a>ä¿®é¥°å¼•ç”¨</h2><blockquote><p>finalä¿®é¥°å¼•ç”¨ç±»å‹å˜é‡æ—¶ï¼Œåˆ™<strong>å˜é‡å¼•ç”¨å€¼ä¸èƒ½æ”¹å˜</strong>ï¼Œä½†æ˜¯<strong>å¼•ç”¨åœ°å€é‡Œé¢çš„å†…å®¹æ˜¯å¯ä»¥å‘ç”Ÿæ”¹å˜</strong>çš„</p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801213243311.png" alt="image-20230801213243311"></p><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801213422820.png" alt="image-20230801213422820"></p></blockquote><h1 id="å¤šæ€"><a href="#å¤šæ€" class="headerlink" title="å¤šæ€"></a>å¤šæ€</h1><blockquote><p>**å¤šæ€(Polymorphism)**çš„å­—é¢æ„æ€ä¸ºâ€<strong>ä¸€ç§äº‹ç‰©ï¼Œå¤šç§å½¢æ€</strong>â€œã€‚</p><p>Javaå¤šæ€ç†è§£ï¼š å¼•ç”¨å˜é‡.æ–¹æ³•(å®å‚åˆ—è¡¨) å®Œå…¨<strong>ç›¸åŒçš„è¿™è¡Œä»£ç </strong>ï¼Œå‡ºç°åœ¨<strong>ä¸åŒçš„ä½ç½®</strong>ï¼Œå…¶æ‰§è¡Œçš„<strong>ç»“æœæ˜¯ä¸åŒçš„</strong>ã€‚</p><p>å³ï¼š<strong>åŒä¸€çˆ¶ç±»çš„ ä¸åŒå­ç±» è°ƒç”¨ç›¸åŒçš„æ–¹æ³• å»åšä¸åŒçš„äº‹æƒ…</strong>ã€‚</p><p>å¤šæ€å‰æï¼š</p><ul><li>å­ç±»ç»§æ‰¿çˆ¶ç±»</li><li>å­ç±»é‡å†™çˆ¶ç±»ä¸­çš„æ–¹æ³•</li><li>çˆ¶ç±»çš„å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</li></ul><p><font color="skyblue">æ³¨æ„ï¼Œä¸€ä¸ªçˆ¶ç±»å‹çš„å¼•ç”¨ï¼Œå¯ä»¥æŒ‡å‘å®ƒçš„ä»»ä½•ä¸€ä¸ªå­ç±»å¯¹è±¡</font></p><p>å¤šæ€ä¼˜ç¼ºç‚¹ï¼š</p><ul><li>ä¼˜ç‚¹<ul><li>æé«˜ç¨‹åºçš„æ‰©å±•æ€§ã€çµæ´»æ€§</li><li>å®šä¹‰æ–¹æ³•æ—¶å€™ï¼Œä½¿ç”¨çˆ¶ç±»å‹ä½œä¸ºå‚æ•°ï¼Œåœ¨ä½¿ç”¨çš„æ—¶å€™ï¼Œä½¿ç”¨å…·ä½“çš„å­ç±»å‹å‚ä¸æ“ä½œï¼ˆè‡ªåŠ¨åŒ¹é…ï¼‰</li></ul></li><li>å¼Šç«¯<ul><li>ä¸èƒ½ä½¿ç”¨å­ç±»çš„ç‰¹æœ‰æˆå‘˜</li></ul></li></ul></blockquote><blockquote><ul><li>ä¸ä½¿ç”¨å¤šæ€</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¯®çƒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasketBall</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹ç¯®çƒæ¸¸æˆ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//è¶³çƒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Football</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹è¶³çƒæ¸¸æˆ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼šæ–°å¢ä¹’ä¹“çƒç±»</span></span><br><span class="line"><span class="comment">//class PingPong &#123;</span></span><br><span class="line"><span class="comment">// public void play() &#123;</span></span><br><span class="line"><span class="comment">// System.out.println(&quot;å¼€å§‹ä¹’ä¹“çƒæ¸¸æˆ...&quot;);</span></span><br><span class="line"><span class="comment">// &#125;</span></span><br><span class="line"><span class="comment">//&#125;</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//å®šä¹‰æ¸¸æˆç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Game</span> &#123;</span><br><span class="line">    <span class="comment">//å¯åŠ¨ç¯®çƒæ¸¸æˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(BasketBall basketBall)</span> &#123;</span><br><span class="line">        basketBall.play();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//å¯åŠ¨è¶³çƒæ¸¸æˆ</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Football football)</span> &#123;</span><br><span class="line">        football.play();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//ç¬¬äºŒæ­¥ï¼šGameç±»æ–°å¢é‡è½½startæ–¹æ³•</span></span><br><span class="line">    <span class="comment">// public void start(PingPong pingpong) &#123;</span></span><br><span class="line">    <span class="comment">// pingpong.play();</span></span><br><span class="line">    <span class="comment">// &#125;</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ä¼ ç»Ÿæ–¹å¼å®ç°ï¼ˆéå¤šæ€ï¼‰ï¼šä»£ç çš„æ‰©å±•æ€§å¾ˆå·®</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test08_Game</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//1.åˆ›å»ºæ¸¸æˆå¯¹è±¡</span></span><br><span class="line">        <span class="type">Game</span> <span class="variable">game</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Game</span>();</span><br><span class="line">        <span class="comment">//2.åˆ›å»ºç¯®çƒå¯¹è±¡ï¼Œç„¶åå¼€å§‹æ¸¸æˆ</span></span><br><span class="line">        <span class="type">BasketBall</span> <span class="variable">basketBall</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BasketBall</span>();</span><br><span class="line">        game.start(basketBall);</span><br><span class="line">        <span class="comment">//3.åˆ›å»ºè¶³çƒå¯¹è±¡ï¼Œç„¶åå¼€å§‹æ¸¸æˆ</span></span><br><span class="line">        <span class="type">Football</span> <span class="variable">football</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Football</span>();</span><br><span class="line">        game.start(football);</span><br><span class="line">        <span class="comment">//ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•ç±»åˆ›å»ºä¹’ä¹“çƒå¯¹è±¡ï¼Œç„¶åå¼€å§‹æ¸¸æˆ</span></span><br><span class="line">        <span class="comment">// PingPong pingpong = new PingPong();</span></span><br><span class="line">        <span class="comment">// game.start(pingpong);</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>é—®é¢˜åˆ†æï¼šå¦‚æœåç»­è¦ä¸æ–­æ‰©å±•æ¸¸æˆç§ç±»ï¼Œåˆ™æ¯æ¬¡éƒ½è¦é¢å¤–ä¿®æ”¹Gameç±»ä¸­çš„ä»£ ç ï¼Œè¿™å¾ˆä¸æ–¹ä¾¿ï¼Œä¸”ä¸å®‰å…¨ï¼ˆæ¯æ¬¡è¦æ”¹åŠ¨ä¹‹å‰çš„ä»£ç ï¼Œå®¹æ˜“å‡ºBugï¼‰ï¼Œ<strong>è¿åäº†å¼€ é—­åŸåˆ™</strong>ï¼</p><blockquote><p>å¼€é—­åŸåˆ™ï¼ˆ<strong>Open-Closed Principleï¼ŒOCP</strong>ï¼‰æ˜¯é¢å‘å¯¹è±¡è®¾è®¡ä¸­çš„ä¸€æ¡åŸºæœ¬åŸ åˆ™ã€‚æŒ‡çš„æ˜¯â€è½¯ä»¶å®ä½“ï¼ˆç±»ã€æ¨¡å—ã€å‡½æ•°ç­‰ï¼‰åº”è¯¥å¯¹æ‰©å±•å¼€æ”¾ã€å¯¹ä¿®æ”¹å…³ é—­â€ã€‚ æ¢å¥è¯è¯´ï¼Œå½“éœ€æ±‚å‘ç”Ÿå˜åŒ–æ—¶ï¼Œåº”è¯¥<strong>é€šè¿‡å¢åŠ æ–°çš„ä»£ç æ¥æ‰©å±•ç°æœ‰åŠŸèƒ½ï¼Œè€Œä¸æ˜¯ç›´æ¥ä¿®æ”¹ç°æœ‰ä»£ç </strong>ã€‚</p></blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æŠ½å–çˆ¶ç±»ï¼šçƒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Ball</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰å­ç±»ï¼šç¯®çƒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">BasketBall2</span> <span class="keyword">extends</span> <span class="title class_">Ball</span> &#123;</span><br><span class="line">    <span class="comment">//é‡å†™æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹ç¯®çƒæ¸¸æˆ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å®šä¹‰å­ç±»ï¼šè¶³çƒç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Football2</span> <span class="keyword">extends</span> <span class="title class_">Ball</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹è¶³çƒæ¸¸æˆ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç¬¬ä¸€æ­¥ï¼šæ–°å¢ä¹’ä¹“çƒå­ç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">PingPong2</span> <span class="keyword">extends</span> <span class="title class_">Ball</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">play</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;å¼€å§‹ä¹’ä¹“çƒæ¸¸æˆ...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å®šä¹‰æ¸¸æˆç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Game2</span> &#123;</span><br><span class="line">    <span class="comment">//è¿™é‡Œåªéœ€è¦å®šä¹‰ä¸€ä¸ªæ–¹æ³•å³å¯ï¼Œè¦æ±‚å‚æ•°ç±»å‹æ˜¯çˆ¶ç±»Ball</span></span><br><span class="line">    <span class="comment">//è°ƒç”¨è¯¥æ–¹æ³•æ—¶ï¼Œéœ€è¦ä¼ é€’ä¸€ä¸ªè¯¥çˆ¶ç±»å¼•ç”¨å€¼ï¼Œå¯ä»¥æŒ‡å‘ä»»ä½•ä¸€ä¸ªå­ç±»å¯¹è±¡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">start</span><span class="params">(Ball ball)</span>&#123;</span><br><span class="line">        ball.play();</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//Gameç±»ä¸­ä»£ç ä¸éœ€è¦ä»»ä½•æ”¹åŠ¨</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//å¤šæ€å®ç°ï¼šä»£ç çš„æ‰©å±•æ€§å¾ˆå¼º</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test08_Game2</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// 1.åˆ›å»ºæ¸¸æˆå¯¹è±¡</span></span><br><span class="line">        <span class="type">Game2</span> <span class="variable">game</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Game2</span>();</span><br><span class="line">        <span class="comment">// 2.åˆ›å»ºç¯®çƒå¯¹è±¡ï¼Œç„¶åå¼€å§‹æ¸¸æˆ</span></span><br><span class="line">        <span class="type">BasketBall2</span> <span class="variable">basketBall</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">BasketBall2</span>();</span><br><span class="line">        game.start(basketBall);</span><br><span class="line">        <span class="comment">// 3.åˆ›å»ºè¶³çƒå¯¹è±¡ï¼Œç„¶åå¼€å§‹æ¸¸æˆ</span></span><br><span class="line">        <span class="type">Football2</span> <span class="variable">football</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Football2</span>();</span><br><span class="line">        game.start(football);</span><br><span class="line">        <span class="comment">// ç¬¬ä¸‰æ­¥ï¼šæµ‹è¯•ç±»åˆ›å»ºä¹’ä¹“çƒå¯¹è±¡ï¼Œç„¶åå¼€å§‹æ¸¸æˆ</span></span><br><span class="line">        <span class="type">PingPong2</span> <span class="variable">pingpong</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">PingPong2</span>();</span><br><span class="line">        game.start(pingpong);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç”¨å¤šæ€å®ç°åŠŸèƒ½æ—¶ï¼Œå¦‚æœåç»­è¦ä¸æ–­æ‰©å±•æ¸¸æˆç§ç±»ï¼Œ<strong>æ ¹æœ¬ä¸éœ€è¦ä¿®æ”¹Gameç±»ä¸­çš„ä»£ç ï¼Œç¬¦åˆå¼€é—­åŸåˆ™</strong>ï¼Œå¤§å¤§æé«˜äº†ç¨‹åºçš„æ‰©å±•æ€§å’Œçµæ´»æ€§ï¼</p></blockquote><h1 id="å¼•ç”¨ç±»å‹è½¬æ¢"><a href="#å¼•ç”¨ç±»å‹è½¬æ¢" class="headerlink" title="å¼•ç”¨ç±»å‹è½¬æ¢"></a>å¼•ç”¨ç±»å‹è½¬æ¢</h1><blockquote><ul><li>å‘ä¸Šè½¬å‹ï¼ˆéšå¼è½¬æ¢ï¼‰<ul><li><strong>çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡</strong>ï¼Œå¤šæ€éƒ¨åˆ†æˆ‘ä»¬å·²ç»å¤§é‡ä½¿ç”¨ <code>Person p = new Student();</code></li></ul></li><li>å‘ä¸‹è½¬å‹ï¼ˆæ˜¾å¼è½¬æ¢ï¼‰<ul><li><strong>å­ç±»å¼•ç”¨æŒ‡å‘çˆ¶ç±»å¯¹è±¡</strong></li><li>æ ¼å¼ï¼š<code>å­ç±»å‹ å¯¹è±¡å = (å­ç±»å‹)çˆ¶ç±»å¼•ç”¨ï¼›</code></li><li>å‰æï¼šçˆ¶ç±»å¯¹è±¡æœ¬èº«å°±æ˜¯å­ç±»ç±»å‹<ul><li><code>Person p = new Student();</code></li><li><code>Student s = (Student)p; //å‘ä¸‹è½¬å‹</code></li></ul></li></ul></li></ul><p><font color="skyblue">æ³¨æ„äº‹é¡¹ï¼šå…ˆæœ‰å‘ä¸Šè½¬å‹ï¼Œç„¶åæ‰èƒ½æœ‰å‘ä¸‹è½¬å‹</font></p></blockquote><blockquote><p>å‘ä¸Šè½¬å‹è®¿é—®ç‰¹ç‚¹ï¼šï¼ˆé‡ç‚¹ï¼‰</p><p>å‰æï¼šä½¿ç”¨çˆ¶ç±»å¼•ç”¨æŒ‡å‘å­ç±»å¯¹è±¡ï¼Œç„¶åé€šè¿‡çˆ¶ç±»å¼•ç”¨è®¿é—®æˆå‘˜å˜é‡æˆ–æˆå‘˜æ–¹æ³•</p><ul><li>æ“ä½œ<strong>æˆå‘˜å˜é‡</strong>ï¼šç¼–è¯‘çœ‹å·¦è¾¹<strong>ï¼ˆçˆ¶ç±»ï¼‰</strong>ï¼Œè¿è¡Œçœ‹å·¦è¾¹<strong>ï¼ˆçˆ¶ç±»ï¼‰</strong></li></ul><blockquote><p>åœ¨ç¼–è¯‘æ—¶ï¼ŒJavaç¼–è¯‘å™¨åªçœ‹å·¦è¾¹ï¼ˆçˆ¶ç±»ï¼‰çš„ç±»å‹ã€‚<strong>è¿™æ„å‘³ç€å¦‚æœä½ é€šè¿‡çˆ¶ç±»å¼•ç”¨è®¿é—®æˆå‘˜å˜é‡ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥è¿™ä¸ªæˆå‘˜å˜é‡åœ¨çˆ¶ç±»ä¸­æ˜¯å¦å­˜åœ¨</strong>ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™é€šè¿‡ç¼–è¯‘ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><p>åœ¨è¿è¡Œæ—¶ï¼Œä¹Ÿæ˜¯çœ‹å·¦è¾¹ï¼ˆçˆ¶ç±»ï¼‰çš„ç±»å‹ã€‚<strong>è¿™æ„å‘³ç€æ— è®ºå®é™…å¯¹è±¡æ˜¯çˆ¶ç±»è¿˜æ˜¯å­ç±»ï¼Œéƒ½ä¼šè®¿é—®çˆ¶ç±»ä¸­çš„æˆå‘˜å˜é‡ã€‚è¿™æ˜¯å› ä¸ºç¼–è¯‘æ—¶å·²ç»ç¡®å®šäº†è®¿é—®çš„æ˜¯çˆ¶ç±»æˆå‘˜å˜é‡ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line"> <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line"> <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Parent</span> <span class="variable">parentRef</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Child</span>();</span><br><span class="line">System.out.println(parentRef.x); <span class="comment">// ç¼–è¯‘é€šè¿‡ï¼Œè¾“å‡º 10</span></span><br><span class="line">System.out.println(parentRef.y); <span class="comment">// ç¼–è¯‘é”™è¯¯ï¼Œçˆ¶ç±»æ²¡æœ‰ y æˆå‘˜å˜é‡</span></span><br></pre></td></tr></table></figure></blockquote><ul><li>æ“ä½œ<strong>æˆå‘˜æ–¹æ³•</strong>ï¼šç¼–è¯‘çœ‹å·¦è¾¹<strong>ï¼ˆçˆ¶ç±»ï¼‰</strong>ï¼Œè¿è¡Œçœ‹å³è¾¹<strong>ï¼ˆå­ç±»ï¼‰</strong></li></ul><blockquote><p>åœ¨ç¼–è¯‘æ—¶ï¼ŒJavaç¼–è¯‘å™¨åªçœ‹å·¦è¾¹ï¼ˆçˆ¶ç±»ï¼‰çš„ç±»å‹ã€‚<strong>è¿™æ„å‘³ç€å¦‚æœä½ é€šè¿‡çˆ¶ç±»å¼•ç”¨è°ƒç”¨æˆå‘˜æ–¹æ³•ï¼Œç¼–è¯‘å™¨ä¼šæ£€æŸ¥è¿™ä¸ªæ–¹æ³•åœ¨çˆ¶ç±»ä¸­æ˜¯å¦å­˜åœ¨</strong>ï¼Œå¦‚æœå­˜åœ¨ï¼Œåˆ™é€šè¿‡ç¼–è¯‘ï¼Œå¦åˆ™æŠ¥é”™ã€‚</p><p>åœ¨è¿è¡Œæ—¶ï¼Œå´æ˜¯çœ‹å³è¾¹ï¼ˆå­ç±»ï¼‰çš„ç±»å‹ã€‚<strong>è¿™æ„å‘³ç€æ— è®ºå®é™…å¯¹è±¡æ˜¯çˆ¶ç±»è¿˜æ˜¯å­ç±»ï¼Œéƒ½ä¼šè°ƒç”¨å­ç±»ä¸­çš„æˆå‘˜æ–¹æ³•ã€‚è¿™æ˜¯å› ä¸ºç¼–è¯‘æ—¶åªç¡®å®šäº†è°ƒç”¨çš„æ˜¯çˆ¶ç±»ä¸­çš„æ–¹æ³•ï¼Œä½†å®é™…è¿è¡Œæ—¶ï¼Œå®é™…å¯¹è±¡æ˜¯å­ç±»å¯¹è±¡ï¼Œæ‰€ä»¥ä¼šè°ƒç”¨å­ç±»ä¸­çš„æ–¹æ³•ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;Parent&#x27;s display&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Child</span> <span class="keyword">extends</span> <span class="title class_">Parent</span> &#123;</span><br><span class="line"> <span class="keyword">void</span> <span class="title function_">display</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;Child&#x27;s display&quot;</span>);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="type">Parent</span> <span class="variable">parentRef</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Child</span>();</span><br><span class="line">parentRef.display(); <span class="comment">// è¿è¡Œæ—¶è¾“å‡º &quot;Child&#x27;s display&quot;</span></span><br></pre></td></tr></table></figure></blockquote></blockquote><blockquote><p>å‘ä¸‹è½¬å‹åŠŸèƒ½æµ‹è¯•:</p><p><strong>æ³¨æ„ï¼šå…ˆæœ‰å‘ä¸Šè½¬å‹ï¼Œç„¶åæ‰èƒ½æœ‰å‘ä¸‹è½¬å‹</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test09_Trans</span> &#123;</span><br><span class="line"> <span class="comment">// æ³¨æ„äº‹é¡¹ï¼šå…ˆæœ‰å‘ä¸Šè½¬å‹ï¼Œç„¶åæ‰èƒ½æœ‰å‘ä¸‹è½¬å‹</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="comment">//1.å‘ä¸Šè½¬å‹ï¼šç”¨å­å¯¹è±¡ ç»™ çˆ¶ç±»å¼•ç”¨èµ‹å€¼</span></span><br><span class="line">     <span class="type">Base</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Derived</span>();</span><br><span class="line">     <span class="comment">//çˆ¶ç±»ä¸­æ²¡æœ‰vè¿™ä¸ªæˆå‘˜ï¼Œç¼–è¯‘å¤±è´¥</span></span><br><span class="line">     <span class="comment">//System.out.println(b.v); //error</span></span><br><span class="line">     <span class="comment">//çˆ¶ç±»ä¸­æ²¡æœ‰disp()æ–¹æ³•ï¼Œç¼–è¯‘å¤±è´¥</span></span><br><span class="line">     <span class="comment">//b.disp();                //error</span></span><br><span class="line">     <span class="comment">//2.å€ŸåŠ©å‘ä¸‹è½¬å‹å¯ä»¥è§£å†³ä¸Šè¿°é—®é¢˜</span></span><br><span class="line">     <span class="type">Derived</span> <span class="variable">d</span> <span class="operator">=</span> (Derived)b;</span><br><span class="line">     <span class="comment">//æ“ä½œå­ç±»ç‹¬æœ‰æˆå‘˜</span></span><br><span class="line">     System.out.println(d.v);</span><br><span class="line">     <span class="comment">//æ“ä½œå­ç±»ç‹¬æœ‰æ–¹æ³•</span></span><br><span class="line">     d.disp();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><blockquote><p>å¼•ç”¨ç±»å‹å¼ºæ¢å¼‚å¸¸</p><p>åœ¨ç±»å‹å¼ºåˆ¶è½¬æ¢çš„è¿‡ç¨‹ä¸­ï¼Œå¯èƒ½ä¼šé‡åˆ°ç±»å‹è½¬æ¢å¼‚å¸¸ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ–°å¢æ´¾ç”Ÿç±»</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Fork</span> <span class="keyword">extends</span> <span class="title class_">Base</span> &#123;</span><br><span class="line"> <span class="comment">//æ–°å¢ç‹¬æœ‰æ–¹æ³•</span></span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">out</span><span class="params">()</span> &#123;</span><br><span class="line">     System.out.println(<span class="string">&quot;in Fork, nï¼š&quot;</span> + n);</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æµ‹è¯•ä»£ç </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test09_Trans</span> &#123;</span><br><span class="line"> <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">     <span class="comment">//1.å‘ä¸Šè½¬å‹</span></span><br><span class="line">     <span class="type">Base</span> <span class="variable">b</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Derived</span>();</span><br><span class="line">     <span class="comment">//2.å‘ä¸‹è½¬å‹ï¼Œæ€è€ƒï¼šç¼–è¯‘èƒ½å¦æˆåŠŸï¼Œè¿è¡Œèƒ½å¦æˆåŠŸï¼Ÿ</span></span><br><span class="line">     <span class="type">Fork</span> <span class="variable">f</span> <span class="operator">=</span> (Fork)b; <span class="comment">// java.lang.ClassCastException</span></span><br><span class="line">     <span class="comment">//3.è°ƒç”¨ç‹¬æœ‰æ–¹æ³•</span></span><br><span class="line">     f.out();</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/31/06-static-%E7%BB%A7%E6%89%BF-%E9%87%8D%E5%86%99-%E5%A4%9A%E6%80%81/image-20230801225634271.png" alt="image-20230801225634271"></p><p>æŠ¥é”™åˆ†æï¼š</p><p>å¦‚æœè¢«è½¬çš„å¼•ç”¨ç±»å‹å˜é‡ï¼Œå¯¹åº”çš„å®<strong>é™…ç±»å‹å’Œç›®æ ‡ç±»å‹ä¸æ˜¯åŒä¸€ç§ç±»å‹</strong>ï¼Œé‚£ä¹ˆåœ¨è½¬æ¢çš„æ—¶å€™å°±ä¼šå‡ºç°ClassCastExceptionå¼‚å¸¸</p><p>Fork f &#x3D; (Fork)b; å¼ºåˆ¶è½¬æ¢æ—¶ï¼Œbå®é™…æŒ‡å‘Derivedå¯¹è±¡ï¼ŒDerivedå’ŒForkç±» å‹ä¸æ˜¯å­çˆ¶ç±»å…³ç³»ï¼Œæ‰€ä»¥å®ƒæ˜¯ä¸èƒ½è½¬ä¸ºForkå¯¹è±¡çš„ï¼</p></blockquote><blockquote><p>instanceofå…³é”®å­—</p><p>instanceofå…³é”®å­—èƒ½å‘Šè¯‰æˆ‘ä»¬ï¼Œ<strong>å½“å‰çˆ¶ç±»çš„å¼•ç”¨ï¼Œåˆ°åº•æ˜¯æ‰§è¡Œçš„å“ªä¸€ä¸ªå­ç±» å¯¹è±¡</strong></p><p>æ ¼å¼ï¼š</p><ul><li><code>å¼•ç”¨å instanceof ç±»å‹å</code></li></ul><p>ä½œç”¨ï¼š</p><ul><li><strong>åˆ¤æ–­å·¦è¾¹å¼•ç”¨åå®é™…æŒ‡å‘çš„å¯¹è±¡ï¼Œå…¶æ‰€å±ç±»å‹æ˜¯å¦ä¸ºå³è¾¹çš„ç±»å‹å</strong>ï¼Œè¿”å›booleanç±»å‹ç»“æœ</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">class</span> <span class="title class_">Animal</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Dog</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Cat</span> <span class="keyword">extends</span> <span class="title class_">Animal</span> &#123;&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Main</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Dog</span>();</span><br><span class="line">        <span class="type">Animal</span> <span class="variable">animal2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Cat</span>();</span><br><span class="line"></span><br><span class="line">        System.out.println(animal1 <span class="keyword">instanceof</span> Dog); <span class="comment">// è¾“å‡º true</span></span><br><span class="line">        System.out.println(animal1 <span class="keyword">instanceof</span> Animal); <span class="comment">// è¾“å‡º true</span></span><br><span class="line">        System.out.println(animal2 <span class="keyword">instanceof</span> Dog); <span class="comment">// è¾“å‡º false</span></span><br><span class="line">        System.out.println(animal2 <span class="keyword">instanceof</span> Cat); <span class="comment">// è¾“å‡º true</span></span><br><span class="line">        System.out.println(animal2 <span class="keyword">instanceof</span> Animal); <span class="comment">// è¾“å‡º true</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>å®å‰‘é”‹ä»ç£¨ç ºå‡ºï¼Œæ¢…èŠ±é¦™è‡ªè‹¦å¯’æ¥ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>â‘ Linux-æ“ä½œç³»ç»Ÿ-3</title>
      <link href="/2023/07/30/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-3/"/>
      <url>/2023/07/30/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-3/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>Linux æœåŠ¡çš„åŸºæœ¬æ“ä½œ-3 </p><p>å±äºæ‰©å±•çŸ¥è¯†</p><p>è¿™ä¸ªå¤ªéš¾å†™äº†ï¼Œæš‚æ—¶åœä½äº†ï¼Œä¸»è¦æ„Ÿè§‰è¿˜æœªåˆ°æ—¶å€™ï¼Œéœ€è¦çš„æ—¶å€™çœ‹giteeé‡Œé¢çš„pdfæ–‡æ¡£å•¦~~</p></blockquote><h1 id="æ–‡ä»¶å†…å®¹"><a href="#æ–‡ä»¶å†…å®¹" class="headerlink" title="æ–‡ä»¶å†…å®¹"></a>æ–‡ä»¶å†…å®¹</h1><blockquote><ul><li>head ï¼šé€šè¿‡headå‘½ä»¤æŸ¥çœ‹æ–‡æ¡£çš„<strong>å‰å‡ è¡Œ</strong>å†…å®¹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># head -n æ•°å­— æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">head</span> -5 /etc/passwd</span><br><span class="line"><span class="comment"># -nè¡¨ç¤ºæ˜¾å¼å‡ è¡Œå†…å®¹</span></span><br></pre></td></tr></table></figure><ul><li>tailï¼šé€šè¿‡tailå‘½ä»¤æŸ¥çœ‹æ–‡æ¡£ï¼ˆæ—¥å¿—ï¼‰çš„<strong>åå‡ è¡Œ</strong>å†…å®¹</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># tail -n æ•°å­— æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">tail</span> -5 /etc/passwd</span><br><span class="line"></span><br><span class="line"><span class="comment"># tailåŠ¨æ€æ˜¾ç¤ºæ–‡æ¡£çš„æœ€åå†…å®¹ï¼Œä¸€èˆ¬ç”¨æ¥æŸ¥çœ‹æ—¥å¿—</span></span><br><span class="line"><span class="comment"># tail -f æ–‡ä»¶</span></span><br><span class="line"><span class="built_in">tail</span> -f web.log <span class="comment"># å®æ—¶ç›‘æ§æ–‡ä»¶web.log</span></span><br></pre></td></tr></table></figure><ul><li>grep</li><li>cut</li><li>sort</li><li>wc</li><li>uniq</li><li>tee</li><li>tr</li><li>Split</li><li>æ–‡ä»¶æ‰€å±</li></ul></blockquote><h1 id="æœç´¢å‘½ä»¤"><a href="#æœç´¢å‘½ä»¤" class="headerlink" title="æœç´¢å‘½ä»¤"></a>æœç´¢å‘½ä»¤</h1><h1 id="ç³»ç»Ÿä¿¡æ¯"><a href="#ç³»ç»Ÿä¿¡æ¯" class="headerlink" title="ç³»ç»Ÿä¿¡æ¯"></a>ç³»ç»Ÿä¿¡æ¯</h1><h2 id="ç£ç›˜å’Œç›®å½•ç©ºé—´"><a href="#ç£ç›˜å’Œç›®å½•ç©ºé—´" class="headerlink" title="ç£ç›˜å’Œç›®å½•ç©ºé—´"></a>ç£ç›˜å’Œç›®å½•ç©ºé—´</h2><h2 id="è¿›ç¨‹ä¿¡æ¯"><a href="#è¿›ç¨‹ä¿¡æ¯" class="headerlink" title="è¿›ç¨‹ä¿¡æ¯"></a>è¿›ç¨‹ä¿¡æ¯</h2><h1 id="awk"><a href="#awk" class="headerlink" title="awk"></a>awk</h1><h2 id="é»˜è®¤åˆ†æ®µ"><a href="#é»˜è®¤åˆ†æ®µ" class="headerlink" title="é»˜è®¤åˆ†æ®µ"></a>é»˜è®¤åˆ†æ®µ</h2><h2 id="è¿æ¥ç¬¦OFS"><a href="#è¿æ¥ç¬¦OFS" class="headerlink" title="è¿æ¥ç¬¦OFS"></a>è¿æ¥ç¬¦OFS</h2><h2 id="åˆ†éš”ç¬¦"><a href="#åˆ†éš”ç¬¦" class="headerlink" title="åˆ†éš”ç¬¦"></a>åˆ†éš”ç¬¦</h2><h2 id="å†…å®¹åŒ¹é…"><a href="#å†…å®¹åŒ¹é…" class="headerlink" title="å†…å®¹åŒ¹é…"></a>å†…å®¹åŒ¹é…</h2><h2 id="æ®µå†…å®¹åˆ¤æ–­"><a href="#æ®µå†…å®¹åˆ¤æ–­" class="headerlink" title="æ®µå†…å®¹åˆ¤æ–­"></a>æ®µå†…å®¹åˆ¤æ–­</h2><h1 id="å…¶ä»–"><a href="#å…¶ä»–" class="headerlink" title="å…¶ä»–"></a>å…¶ä»–</h1><h2 id="ç®¡é“"><a href="#ç®¡é“" class="headerlink" title="ç®¡é“"></a>ç®¡é“</h2><h2 id="echo"><a href="#echo" class="headerlink" title="echo"></a>echo</h2><h2 id="å’Œ"><a href="#å’Œ" class="headerlink" title="&amp;&amp;å’Œ||"></a>&amp;&amp;å’Œ||</h2><h2 id="è½¯è¿æ¥"><a href="#è½¯è¿æ¥" class="headerlink" title="è½¯è¿æ¥"></a>è½¯è¿æ¥</h2><h2 id="å†å²å‘½ä»¤"><a href="#å†å²å‘½ä»¤" class="headerlink" title="å†å²å‘½ä»¤"></a>å†å²å‘½ä»¤</h2><h2 id="å®šæ—¶æœåŠ¡"><a href="#å®šæ—¶æœåŠ¡" class="headerlink" title="å®šæ—¶æœåŠ¡"></a>å®šæ—¶æœåŠ¡</h2><h2 id="sshæœåŠ¡"><a href="#sshæœåŠ¡" class="headerlink" title="sshæœåŠ¡"></a>sshæœåŠ¡</h2><h3 id="è¿œç¨‹ç™»å½•"><a href="#è¿œç¨‹ç™»å½•" class="headerlink" title="è¿œç¨‹ç™»å½•"></a>è¿œç¨‹ç™»å½•</h3><h3 id="æ–‡ä»¶åˆ†å‘"><a href="#æ–‡ä»¶åˆ†å‘" class="headerlink" title="æ–‡ä»¶åˆ†å‘"></a>æ–‡ä»¶åˆ†å‘</h3><h3 id="è¿œç¨‹å‘½ä»¤"><a href="#è¿œç¨‹å‘½ä»¤" class="headerlink" title="è¿œç¨‹å‘½ä»¤"></a>è¿œç¨‹å‘½ä»¤</h3><h1 id="NFSæœåŠ¡ç®¡ç†"><a href="#NFSæœåŠ¡ç®¡ç†" class="headerlink" title="NFSæœåŠ¡ç®¡ç†"></a>NFSæœåŠ¡ç®¡ç†</h1><h2 id="ç®€ä»‹"><a href="#ç®€ä»‹" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h2 id="åè®®"><a href="#åè®®" class="headerlink" title="åè®®"></a>åè®®</h2><h2 id="RPC"><a href="#RPC" class="headerlink" title="RPC"></a>RPC</h2><h2 id="ç»“æ„"><a href="#ç»“æ„" class="headerlink" title="ç»“æ„"></a>ç»“æ„</h2><h2 id="å®ˆæŠ¤è¿›ç¨‹"><a href="#å®ˆæŠ¤è¿›ç¨‹" class="headerlink" title="å®ˆæŠ¤è¿›ç¨‹"></a>å®ˆæŠ¤è¿›ç¨‹</h2><h2 id="å·¥å…·"><a href="#å·¥å…·" class="headerlink" title="å·¥å…·"></a>å·¥å…·</h2><h2 id="å®‰è£…"><a href="#å®‰è£…" class="headerlink" title="å®‰è£…"></a>å®‰è£…</h2><h2 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h2><h3 id="æœåŠ¡ç«¯é…ç½®"><a href="#æœåŠ¡ç«¯é…ç½®" class="headerlink" title="æœåŠ¡ç«¯é…ç½®"></a>æœåŠ¡ç«¯é…ç½®</h3><h2 id="NFSå®¢æˆ·ç«¯"><a href="#NFSå®¢æˆ·ç«¯" class="headerlink" title="NFSå®¢æˆ·ç«¯"></a>NFSå®¢æˆ·ç«¯</h2><h1 id="Shell"><a href="#Shell" class="headerlink" title="Shell"></a>Shell</h1><h2 id="ç®€ä»‹-1"><a href="#ç®€ä»‹-1" class="headerlink" title="ç®€ä»‹"></a>ç®€ä»‹</h2><h2 id="è§£æå™¨"><a href="#è§£æå™¨" class="headerlink" title="è§£æå™¨"></a>è§£æå™¨</h2><h2 id="åŸºç¡€è„šæœ¬"><a href="#åŸºç¡€è„šæœ¬" class="headerlink" title="åŸºç¡€è„šæœ¬"></a>åŸºç¡€è„šæœ¬</h2><h2 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h2><h3 id="ç³»ç»Ÿå˜é‡"><a href="#ç³»ç»Ÿå˜é‡" class="headerlink" title="ç³»ç»Ÿå˜é‡"></a>ç³»ç»Ÿå˜é‡</h3><h3 id="ç”¨æˆ·å˜é‡"><a href="#ç”¨æˆ·å˜é‡" class="headerlink" title="ç”¨æˆ·å˜é‡"></a>ç”¨æˆ·å˜é‡</h3><h3 id="ç‰¹æ®Šå˜é‡"><a href="#ç‰¹æ®Šå˜é‡" class="headerlink" title="ç‰¹æ®Šå˜é‡"></a>ç‰¹æ®Šå˜é‡</h3><h2 id="è¿ç®—ç¬¦"><a href="#è¿ç®—ç¬¦" class="headerlink" title="è¿ç®—ç¬¦"></a>è¿ç®—ç¬¦</h2><h2 id="æ¡ä»¶åˆ¤æ–­"><a href="#æ¡ä»¶åˆ¤æ–­" class="headerlink" title="æ¡ä»¶åˆ¤æ–­"></a>æ¡ä»¶åˆ¤æ–­</h2><h2 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h2><h3 id="ifåˆ¤æ–­"><a href="#ifåˆ¤æ–­" class="headerlink" title="ifåˆ¤æ–­"></a>ifåˆ¤æ–­</h3><blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span>[æ¡ä»¶1]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">å‘½ä»¤1</span><br><span class="line">e1if[æ¡ä»¶2]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line">å‘½ä»¤2</span><br><span class="line"><span class="keyword">else</span></span><br><span class="line">å‘½ä»¤3</span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹1ï¼šè„šæœ¬æ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœä¸º1è¾“å…¥ok,å¦‚æœä¸º2è¾“å‡ºn0</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi six.sh</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">if</span> [ <span class="variable">$1</span> -eq <span class="string">&quot;1&quot;</span> ] <span class="comment"># ä½¿ç”¨çš„æ—¶å€™è®°å¾—å¸¦å‚æ•°</span></span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line"><span class="keyword">elif</span> [ <span class="variable">$1</span> -eq <span class="string">&quot;2&quot;</span> ]</span><br><span class="line"><span class="keyword">then</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line"><span class="keyword">fi</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 777 six.sh</span><br><span class="line">./six.sh 1</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>if å elif åéœ€è¦æœ‰ç©ºæ ¼</li><li>æ¡ä»¶å‰åéœ€è¦ç©ºæ ¼</li></ul></blockquote><h3 id="caseè¯­å¥"><a href="#caseè¯­å¥" class="headerlink" title="caseè¯­å¥"></a>caseè¯­å¥</h3><blockquote><p>æ¡ˆä¾‹1ï¼šè„šæœ¬æ‰§è¡Œç¬¬ä¸€ä¸ªå‚æ•°å¦‚æœä¸º1è¾“å…¥ok,å¦‚æœä¸º2è¾“å‡ºn0</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi seven.sh</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="keyword">case</span> <span class="variable">$1</span> <span class="keyword">in</span></span><br><span class="line"><span class="string">&quot;1&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;ok&quot;</span></span><br><span class="line">;;</span><br><span class="line"><span class="string">&quot;2&quot;</span>)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;no&quot;</span></span><br><span class="line">;;</span><br><span class="line">*)</span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;default&quot;</span></span><br><span class="line">;;</span><br><span class="line"><span class="keyword">esac</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 777 seven.sh</span><br><span class="line">./seven.sh 1</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼š</p><ul><li>caseè¡Œå°¾å¿…é¡»ä¸ºå•è¯ â€œinâ€</li><li>æ¨¡å¼åŒ¹é…å¿…é¡»ä»¥å³æ‹¬å·ï¼‰ç»“æŸ</li><li>åŒåˆ†å·ï¼›ï¼›è¡¨ç¤ºå‘½ä»¤åºåˆ—ç»“æŸï¼Œç›¸å½“äºjavaä¸­çš„break</li><li>æœ€å*ï¼‰è¡¨ç¤ºé»˜è®¤æ¨¡å¼ï¼Œç›¸å½“äºjavaä¸­çš„default</li></ul></blockquote><h3 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h3><blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> å˜é‡å <span class="keyword">in</span> åˆ—è¡¨</span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">å‘½ä»¤</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line">æˆ–</span><br><span class="line"><span class="keyword">for</span> (( åˆå§‹å€¼;å¾ªç¯æ§åˆ¶æ¡ä»¶;å˜é‡å˜åŒ– ))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line">ç¨‹åº</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><ul><li>æ¡ˆä¾‹1ï¼šä»1åŠ åˆ°100</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi eight.sh</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">sum</span>=0</span><br><span class="line"><span class="keyword">for</span>((i=<span class="number">0</span>;i&lt;=<span class="number">100</span>;i++))</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"> <span class="built_in">sum</span>=$[ <span class="variable">$sum</span> + <span class="variable">$i</span> ]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$sum</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 777 eight.sh</span><br><span class="line">./eight.sh</span><br></pre></td></tr></table></figure><ul><li>æ¡ˆä¾‹2ï¼šæ‰“å°æ‰€æœ‰è¾“å‡ºå‚æ•°</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi nine.sh</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line"><span class="built_in">sum</span>=0</span><br><span class="line"><span class="keyword">for</span> i <span class="keyword">in</span> $*</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$i</span></span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 777 nine.sh</span><br><span class="line">./nine.sh 1 2 3 4 5 9 10</span><br></pre></td></tr></table></figure></blockquote><h3 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h3><blockquote><p>è¯­æ³•ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">while</span> [ æ¡ä»¶ ]</span><br><span class="line"><span class="keyword">do</span> </span><br><span class="line">å‘½ä»¤</span><br><span class="line"><span class="keyword">done</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ten.sh</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/bash</span></span><br><span class="line">i=0</span><br><span class="line"><span class="built_in">sum</span>=0</span><br><span class="line"><span class="keyword">while</span> [ <span class="variable">$i</span> -le 100 ]</span><br><span class="line"><span class="keyword">do</span></span><br><span class="line"><span class="built_in">sum</span>=$[ <span class="variable">$sum</span> + <span class="variable">$i</span> ]</span><br><span class="line">i=$[ <span class="variable">$i</span> + 1 ]</span><br><span class="line"><span class="keyword">done</span></span><br><span class="line"><span class="built_in">echo</span> <span class="variable">$sum</span></span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> 777 ten.sh</span><br><span class="line">./ten.sh</span><br></pre></td></tr></table></figure></blockquote></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>05-é¢å‘å¯¹è±¡åŸºç¡€</title>
      <link href="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/"/>
      <url>/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p><p>æœ¬èŠ‚ç†è®ºè¾ƒå¤šï¼Œæ³¨æ„ä¸è¦ç¡ç€äº†å“ˆğŸ’¦ğŸ’¦ğŸ’¦</p></blockquote><h1 id="é¢å‘å¯¹è±¡"><a href="#é¢å‘å¯¹è±¡" class="headerlink" title="é¢å‘å¯¹è±¡"></a>é¢å‘å¯¹è±¡</h1><blockquote><ul><li>OOPï¼ˆobject oriented programming), é¢å‘å¯¹è±¡ç¼–ç¨‹<ul><li>æ˜¯ä¸€ç§ä»¥<strong>å¯¹è±¡ä¸ºä¸­å¿ƒ</strong>çš„ç¼–ç¨‹æ€æƒ³ï¼Œé€šè¿‡å€ŸåŠ©å¯¹è±¡å®ç°<strong>å…·ä½“çš„åŠŸèƒ½</strong></li><li>å°†<strong>å¤§é—®é¢˜æ‹†åˆ†ä¸ºå°é—®é¢˜</strong>ï¼Œç„¶åå€ŸåŠ©<strong>ä¸åŒå¯¹è±¡åˆ†åˆ«è§£å†³</strong>ï¼Œæœ€ç»ˆå®ç°åŠŸèƒ½</li></ul></li><li>POPï¼ˆprocedure oriented Programmingï¼‰ï¼Œé¢å‘è¿‡ç¨‹ç¼–ç¨‹<ul><li>æ˜¯ä¸€ç§ä»¥è¿‡ç¨‹ä¸ºä¸­å¿ƒçš„ç¼–ç¨‹æ€æƒ³ï¼Œé è‡ªå·±ä¸€æ­¥ä¸€æ­¥å»å®ç°åŠŸèƒ½ï¼Œéœ€è¦å¯¹æ¯ä¸ªæ­¥éª¤ç²¾ç¡®æ§åˆ¶</li><li>å¼ºè°ƒæŒ‰æ­¥éª¤å®ç°åŠŸèƒ½ï¼Œå…ˆåˆ†æè§£å†³é—®é¢˜é”éœ€æ­¥éª¤ï¼Œå†å®šä¹‰æ–¹æ³•å®ç°æ¯ä¸ªæ­¥éª¤åŠŸèƒ½ï¼Œç„¶åä¾æ¬¡è°ƒç”¨æ–¹æ³•ï¼Œæœ€ç»ˆå®ç°åŠŸèƒ½</li></ul></li></ul></blockquote><h2 id="é¢å‘å¯¹è±¡è¯­è¨€ç‰¹å¾"><a href="#é¢å‘å¯¹è±¡è¯­è¨€ç‰¹å¾" class="headerlink" title="é¢å‘å¯¹è±¡è¯­è¨€ç‰¹å¾"></a>é¢å‘å¯¹è±¡è¯­è¨€ç‰¹å¾</h2><blockquote><ul><li>å°è£…ï¼ˆencapsulationï¼‰ä¿¡æ¯éšè”½</li><li>ç»§æ‰¿ï¼ˆinheritanceï¼‰ä»£ç é‡ç”¨</li><li>å¤šæ€ï¼ˆpolymorphismï¼‰çµæ´»ã€æ¥å£ç»Ÿä¸€</li></ul><p>Javaè¯­è¨€ã€C++ã€Pythonç­‰éƒ½æ˜¯é¢å‘å¯¹è±¡ç¨‹åºè®¾è®¡è¯­è¨€ä¸­çš„ä¸€ç§ï¼Œæ‰€ä»¥éƒ½å…·æœ‰è¿™ä¸‰ç§ç‰¹å¾</p><p><strong>ä¸“ä¸šçš„äººå»åšä¸“ä¸šçš„äº‹æƒ… â€“&gt; åˆé€‚çš„å¯¹è±¡å»è°ƒç”¨åˆé€‚çš„æ–¹æ³•</strong></p></blockquote><h2 id="é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š"><a href="#é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š" class="headerlink" title="é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š"></a>é¢å‘å¯¹è±¡çš„ç‰¹ç‚¹ï¼š</h2><blockquote><ul><li>æ›´ç¬¦åˆäººç±»æ€æƒ³ä¹ æƒ¯çš„æ€æƒ³</li><li>åˆ©ç”¨å¯¹è±¡å»å®ç°åŠŸèƒ½</li><li>å¯ä»¥å°†å¤æ‚äº‹æƒ…ç®€å•åŒ–ï¼ˆé’ˆå¯¹è¦è§£å†³é—®é¢˜çš„ç”¨æˆ·è€Œè¨€ï¼‰</li><li>æˆ‘ä»¬çš„è§’è‰²ç”±æ‰§è¡Œè€…å˜æˆäº†æŒ‡æŒ¥è€…</li></ul></blockquote><h1 id="å¯¹è±¡ç†è§£"><a href="#å¯¹è±¡ç†è§£" class="headerlink" title="å¯¹è±¡ç†è§£"></a>å¯¹è±¡ç†è§£</h1><blockquote><p>è‡ªç„¶ç•Œä¸­å®¢è§‚å­˜åœ¨çš„äº‹ç‰©çš†ä¸ºå¯¹è±¡ ï¼Œ<strong>ä¸‡ç‰©çš†å¯¹è±¡</strong></p><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230727202424066.png" alt="image-20230727202424066"></p><p>ç†è§£å¯¹è±¡</p><ul><li>ä»»ä½•äº‹ç‰©éƒ½æ˜¯ä¸€ä¸ªå¯¹è±¡ï¼ˆobjectï¼‰</li><li>å¯¹è±¡ç”±å¯¹è±¡ç»„æˆ</li><li>æ¯ä¸ªå¯¹è±¡éƒ½æœ‰<strong>å±æ€§ï¼ˆé™æ€çš„æè¿°ä¿¡æ¯ï¼‰</strong>ã€<strong>è¡Œä¸ºï¼ˆåŠ¨æ€çš„åŠŸèƒ½æè¿°ï¼‰</strong></li><li><strong>å…·æœ‰ç›¸ä¼¼å’Œè¡Œä¸º</strong>çš„å¯¹è±¡å¯ä»¥å½’ä¸ºä¸€ç±»</li></ul></blockquote><h1 id="ç±»çš„å®šä¹‰"><a href="#ç±»çš„å®šä¹‰" class="headerlink" title="ç±»çš„å®šä¹‰"></a>ç±»çš„å®šä¹‰</h1><blockquote><p>å…·æœ‰ç›¸åŒå±æ€§å’Œè¡Œä¸ºçš„å¯¹è±¡å¯ä»¥æŠ½è±¡ä¸ºç±»ï¼ˆæ•°æ®ç±»å‹çš„ä¸€ç§ï¼‰</p><p>ç±»çš„ç»„æˆï¼š</p><ul><li>å±æ€§ï¼šæŒ‡äº‹ç‰©çš„ç‰¹å¾ï¼Œé™æ€æè¿°ï¼Œä¾‹å¦‚ï¼šæ‰‹æœºå“ç‰Œï¼Œä»·æ ¼ï¼Œå°ºå¯¸</li><li>è¡Œä¸ºï¼šæŒ‡äº‹ç‰©æ‰€å…·æœ‰çš„åŠŸèƒ½ï¼ŒåŠ¨æ€æè¿°ï¼›ä¾‹å¦‚ï¼šæ‰‹æœºå¯ä»¥æ‰“ç”µè¯ï¼Œä¹Ÿå¯ä»¥å‘çŸ­ä¿¡</li></ul><p>ç±»çš„ç†è§£ï¼š</p><ul><li>ç±»æ˜¯å¯¹ç°å®ç”Ÿæ´»ä¸­ä¸€ç±»å…·æœ‰å…±åŒå±æ€§å’Œè¡Œä¸ºçš„äº‹ç‰©çš„æŠ½è±¡</li><li>ç±»æ˜¯å¯¹è±¡çš„æ•°æ®ç±»å‹ï¼Œç±»æ˜¯å…·æœ‰ç›¸åŒå±æ€§å’Œè¡Œä¸ºçš„ä¸€ç»„å¯¹è±¡çš„é›†åˆ</li><li>ç®€å•ç†è§£ï¼šç±»å°±æ˜¯å¯¹ç°å®äº‹ç‰©çš„ä¸€ç§æè¿°</li><li>ç±»æ˜¯å¼•ç”¨æ•°æ®ç±»å‹ä¸­çš„ä¸€ç§</li></ul><p><font color="skyblue">ç»“è®ºï¼šç±»æ˜¯å¯¹è±¡çš„æŠ½è±¡ï¼Œå¯¹è±¡æ˜¯ç±»çš„å®ä¾‹</font></p><p>ç±»å®šä¹‰çš„æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">[<span class="keyword">public</span>] class ç±»å &#123;</span><br><span class="line">    <span class="comment">//å±æ€§ï¼Œå¯ä»¥åŒ…å«å¤šä¸ª</span></span><br><span class="line">    [æƒé™ä¿®é¥°ç¬¦] æ•°æ®ç±»å‹ æˆå‘˜å˜é‡å;</span><br><span class="line">    <span class="comment">//è¡Œä¸ºï¼Œå¯ä»¥åŒ…å«å¤šä¸ª</span></span><br><span class="line">    [æƒé™ä¿®é¥°ç¬¦] è¿”å›å€¼ç±»å‹ æˆå‘˜æ–¹æ³•å(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">        å…·ä½“åŠŸèƒ½å®ç°</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//æ„é€ å™¨</span></span><br><span class="line">    [æƒé™ä¿®é¥°ç¬¦] ç±»å(å½¢å‚åˆ—è¡¨) &#123;</span><br><span class="line">        åˆå§‹åŒ–è¯­å¥</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»å®šä¹‰æ­¥éª¤ï¼š</p><ul><li>å®šä¹‰ç±»</li><li>ç¼–å†™ç±»çš„æˆå‘˜å˜é‡</li><li>ç¼–å†™ç±»çš„æˆå‘˜æ–¹æ³•</li></ul></blockquote><h1 id="å¯¹è±¡ä½¿ç”¨"><a href="#å¯¹è±¡ä½¿ç”¨" class="headerlink" title="å¯¹è±¡ä½¿ç”¨"></a>å¯¹è±¡ä½¿ç”¨</h1><blockquote><p>åˆ›å»ºå¯¹è±¡æ ¼å¼ï¼š</p><ul><li><code>ç±»å å¯¹è±¡å = new ç±»å();</code></li></ul><p>è°ƒç”¨æˆå‘˜æ ¼å¼ï¼š</p><ul><li><code>å¯¹è±¡å.æˆå‘˜å˜é‡</code></li><li><code>å¯¹è±¡å.æˆå‘˜æ–¹æ³•()</code></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test04_Student</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">        System.out.println(stu.name); <span class="comment">// null</span></span><br><span class="line">        System.out.println(stu.sid); <span class="comment">// 0</span></span><br><span class="line"></span><br><span class="line">        stu.name = <span class="string">&quot;lwsj&quot;</span>;</span><br><span class="line">        stu.sid = <span class="number">1001</span>;</span><br><span class="line">        System.out.println(stu.name); <span class="comment">// lwsj</span></span><br><span class="line">        System.out.println(stu.sid); <span class="comment">// 1001</span></span><br><span class="line"></span><br><span class="line">        stu.sleep(<span class="number">100</span>, <span class="string">&quot;èººç€&quot;</span>);</span><br><span class="line"></span><br><span class="line">        <span class="comment">// å…¨ç±»åï¼šåŒ…å.ç±»å</span></span><br><span class="line">        <span class="comment">// com.briup.chap05.pojo.Student@659e0bfd</span></span><br><span class="line">        System.out.println(stu);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç±»ä½¿ç”¨æ€»ç»“ï¼š</p><ul><li>ä¸€èˆ¬Javaç¨‹åºä¼šå†™ä¸¤ä¸ªç±»ï¼š<strong>åŸºç¡€ç±»ï¼Œæµ‹è¯•ç±»</strong></li><li>åŸºç¡€ç±»å°±æ˜¯æˆ‘ä»¬è¦å®ç°å°è£…å‡ºæ¥çš„é‚£ä¸ªç±»</li><li>æµ‹è¯•ç±»å°±æ˜¯åŒ…å«mainæ–¹æ³•çš„ç±»</li><li>æ³¨æ„ï¼šåªèƒ½åœ¨ä¸€ä¸ªç±»ä¸­å®šä¹‰mainæ–¹æ³•ï¼Œå…¶æ˜¯ç¨‹åºçš„å…¥å£ï¼Œ<strong>å¿…é¡»å”¯ä¸€</strong></li></ul></blockquote><h3 id="æ•°æ®ç±»å‹ç†è§£ï¼š"><a href="#æ•°æ®ç±»å‹ç†è§£ï¼š" class="headerlink" title="æ•°æ®ç±»å‹ç†è§£ï¼š"></a>æ•°æ®ç±»å‹ç†è§£ï¼š</h3><blockquote><p>Javaä¸­å¯¹æ•°æ®ç±»å‹çš„æè¿°å’Œå®šä¹‰ï¼Œéƒ½æ˜¯æŠ½è±¡çš„ï¼Œæ¯ä¸€ç§æ•°æ®ç±»å‹ï¼Œéƒ½æ˜¯å¯¹<strong>ä¸€ç±»æ•°æ®</strong>çš„<strong>æŠ½è±¡æè¿°</strong>ï¼Œæè¿°è¿™ç§æ•°æ®çš„åŸºæœ¬ç‰¹ç‚¹ã€‚</p><p>intã€Stringå’ŒStudentéƒ½æ˜¯å¯¹æ•°æ®çš„æŠ½è±¡æè¿°ï¼Œä¸èƒ½å½“åšå…·ä½“çš„æ•°æ®ä½¿ç”¨ï¼Œå¦‚æœæƒ³ä½¿ç”¨çš„è¿™äº›æ•°æ®çš„è¯ï¼Œå¦‚æœæƒ³ä½¿ç”¨çš„è¿™äº›æ•°æ®çš„è¯ï¼Œå¿…é¡»ä½¿ç”¨intæˆ–Stringç±»å‹å®šä¹‰å˜é‡ï¼Œä½¿ç”¨Studentå®ä¾‹åŒ–å¯¹è±¡ï¼Œç„¶å<strong>ä½¿ç”¨å˜é‡æˆ–å¯¹è±¡æ¥å‚ä¸è¿ç®—</strong>ã€‚</p></blockquote><h3 id="ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼š"><a href="#ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼š" class="headerlink" title="ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼š"></a>ç±»å’Œå¯¹è±¡çš„å…³ç³»ï¼š</h3><blockquote><p>ç±»æ˜¯ä¸€ç»„ç›¸å…³å±æ€§å’Œè¡Œä¸ºçš„é›†åˆï¼Œå®ƒæ˜¯å¯¹æŸä¸€ç§å…·ä½“äº‹ç‰©çš„æŠ½è±¡æè¿°ã€‚</p><p>ä¹Ÿå¯ä»¥å§ç±»çœ‹åšä¸€ä¸ªæ¨¡æ¿ï¼Œæˆ‘ä»¬ä½¿ç”¨çš„å¯¹è±¡ï¼Œå°±æ˜¯æŒ‰ç…§è¿™ä¸ªæ¨¡æ¿ä¸­çš„å®šä¹‰ï¼Œæ¥è¿›è¡Œåˆ›å»ºçš„ã€‚</p><ul><li><strong>ç±»æ˜¯å¯¹ä¸€ç±»äº‹ç‰©çš„æè¿°ï¼Œæ˜¯æŠ½è±¡çš„</strong></li><li><strong>å¯¹è±¡æ˜¯ä¸€ç±»äº‹ç‰©çš„å®ä¾‹ï¼Œæ˜¯å…·ä½“çš„</strong></li><li><strong>ç±»æ˜¯å¯¹è±¡çš„æ¨¡æ¿ï¼Œå¯¹è±¡æ˜¯ç±»çš„å®ä½“</strong></li></ul><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730093610186.png" alt="image-20230730093610186"></p><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730093702082.png" alt="image-20230730093702082"></p><p><font color="skyblue">ç»“è®ºï¼šç±»æ˜¯ä¸€ç§æŠ½è±¡çš„æ•°æ®æè¿°ï¼Œå¯¹è±¡æ˜¯ç±»çš„ä¸€ä¸ªå…·ä½“çš„å®ä¾‹ã€‚</font></p></blockquote><h1 id="å¯¹è±¡å†…å­˜"><a href="#å¯¹è±¡å†…å­˜" class="headerlink" title="å¯¹è±¡å†…å­˜"></a>å¯¹è±¡å†…å­˜</h1><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="comment">// å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">    <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">    stu.name = <span class="string">&quot;tom&quot;</span>;</span><br><span class="line">    stu.age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">    stu.sayHello();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å•ä¸ªå¯¹è±¡å†…å­˜å›¾</li></ul><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730095335408.png" alt="image-20230730095335408"></p><ul><li>ç¨‹åºè¿è¡Œè¿‡ç¨‹ï¼š<ul><li>åŠ è½½Studentç±»ï¼šæŠŠ<strong>Student.classæ–‡ä»¶å†…å®¹åŠ è½½åˆ°æ–¹æ³•åŒº</strong>ä¸­</li><li>åŠ è½½mainæ–¹æ³•å¹¶è¿è¡Œï¼šæ•´ä¸ª<strong>mainæ–¹æ³•çš„ä»£ç éƒ½è¢«åŠ è½½åˆ°æ ˆåŒº</strong>ä¸­</li><li>åˆ›å»ºå¼•ç”¨ç±»å‹å˜é‡ï¼šåœ¨æ ˆç©ºé—´ä¸­å¼€è¾Ÿä¸€å—å†…å­˜ç©ºé—´ï¼Œç”¨stuæ ‡è¯†</li><li>åœ¨å †ä¸­å¼€è¾Ÿå†…å­˜åˆ›å»ºå¯¹è±¡ï¼Œå¹¶ç»™å±æ€§èµ‹ä¸Š<strong>é»˜è®¤åˆå§‹å€¼</strong></li><li>å°†å †ç©ºé—´å¯¹è±¡å†…å­˜åœ°å€å€¼æ”¾å…¥stuæ ‡è¯†çš„å†…å­˜åŒºåŸŸä¸­</li><li>å¯¹è±¡å±æ€§èµ‹å€¼ï¼šå°†â€œtomâ€å’Œ20æ”¾å…¥å †ç©ºé—´å¯¹è±¡å†…å­˜åŒºåŸŸå†…</li><li>å¯¹è±¡æ–¹æ³•è°ƒç”¨ï¼šæ‰¾åˆ°æ–¹æ³•åŒºsayHelloæ–¹æ³•å¯¹åº”çš„ä»£ç ï¼Œæ‰§è¡Œ</li><li>mainæ–¹æ³•ç»§ç»­æ‰§è¡Œï¼Œé‡åˆ° } ï¼Œç¨‹åºæ‰§è¡Œç»“æŸ</li></ul></li></ul><p>å¼•ç”¨ç±»å‹ç†è§£ï¼šä¸Šè¿°æ¡ˆä¾‹ä¸­ï¼Œstuæ˜¯ä¸€ä¸ª<strong>å¼•ç”¨ç±»å‹å˜é‡</strong>ï¼Œå…¶å¯¹åº”<strong>æ ˆåŒºçš„ä¸€å—å†…å­˜åŒºåŸŸ</strong>ï¼Œå…¶ä¸­æ”¾çš„æ˜¯ä¸€ä¸ª<strong>å¼•ç”¨å€¼ï¼ˆåœ°å€å€¼ï¼‰</strong>ï¼Œé€šè¿‡è¿™ä¸ªå¼•ç”¨å€¼ï¼Œç³»ç»Ÿå¯ä»¥æ‰¾åˆ°å¯¹<strong>è±¡å®é™…å¼€è¾Ÿçš„å†…å­˜ç©ºé—´ï¼ˆå †åŒºï¼‰</strong>ï¼Œè¿›è€Œè¿›è¡Œå¯¹è±¡å±æ€§æ“ä½œæˆ–æ–¹æ³•è°ƒç”¨ã€‚</p></blockquote><blockquote><ul><li>å¤šä¸ªå¯¹è±¡</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">   <span class="type">Student</span> <span class="variable">s1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">   s1.name = <span class="string">&quot;lucy&quot;</span>;</span><br><span class="line"></span><br><span class="line">   <span class="type">Student</span> <span class="variable">s2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>();</span><br><span class="line">   s2.name = <span class="string">&quot;jack&quot;</span>;</span><br><span class="line">   s2.age = <span class="number">20</span>;</span><br><span class="line"></span><br><span class="line">   s1.sayHello();</span><br><span class="line">   s2.study(<span class="number">100</span>, <span class="string">&quot;flay&quot;</span>);</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730101539516.png" alt="image-20230730101539516"></p><p>å¯¹è±¡å†…å­˜ç»“è®ºï¼š</p><ul><li>ç³»ç»Ÿä¼šä¸ºæ¯ä¸ª<strong>å¯¹è±¡</strong>å¼€è¾Ÿå•ç‹¬çš„<strong>å†…å­˜ç©ºé—´ï¼ˆå †ç©ºé—´ï¼‰</strong>ï¼Œç”¨æ¥<strong>å­˜å‚¨å¯¹è±¡çš„å±æ€§</strong>ã€‚</li><li>ç±»çš„<strong>æˆå‘˜æ–¹æ³•å­˜å‚¨åœ¨æ–¹æ³•åŒº</strong>ï¼Œåªä¿ç•™ä¸€ä»½ï¼Œåªè¦æ˜¯è¯¥ç±»çš„å¯¹è±¡ï¼Œéƒ½å¯ä»¥è°ƒç”¨ã€‚</li></ul></blockquote><h1 id="å˜é‡å¯¹æ¯”"><a href="#å˜é‡å¯¹æ¯”" class="headerlink" title="å˜é‡å¯¹æ¯”"></a>å˜é‡å¯¹æ¯”</h1><blockquote><p>åˆ°ç›®å‰ä¸ºæ­¢ï¼Œæˆ‘ä»¬å­¦ä¹ äº†ä¸¤ç§å˜é‡ï¼š<strong>æˆå‘˜å˜é‡ã€å±€éƒ¨å˜é‡ã€‚</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test06_Variate</span> &#123;</span><br><span class="line">    <span class="type">int</span> num; <span class="comment">// æˆå‘˜å˜é‡</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setNum</span><span class="params">(<span class="type">int</span> newNum)</span> &#123;</span><br><span class="line">        num = newNum; <span class="comment">// newNum å±€éƒ¨å˜é‡</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123; <span class="comment">// args å±€éƒ¨å˜é‡</span></span><br><span class="line">        <span class="type">Scanner</span> <span class="variable">sc</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Scanner</span>(System.in);  <span class="comment">// sc å±€éƒ¨å˜é‡</span></span><br><span class="line">        System.out.println(<span class="string">&quot;input a num: &quot;</span>);</span><br><span class="line">        <span class="type">int</span> <span class="variable">number</span> <span class="operator">=</span> sc.nextInt(); <span class="comment">// å±€éƒ¨å˜é‡</span></span><br><span class="line"></span><br><span class="line">        <span class="type">Test06_Variate</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Test06_Variate</span>(); <span class="comment">// å±€éƒ¨å˜é‡</span></span><br><span class="line">        t.setNum(number);</span><br><span class="line"></span><br><span class="line">        System.out.println(t.num);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æˆå‘˜ã€å±€éƒ¨å˜é‡åŒºåˆ«ï¼š</p><ul><li>å®šä¹‰ä½ç½®ä¸åŒ<ul><li>æˆå‘˜å˜é‡ï¼šåœ¨ç±»ä¸­ï¼Œæ–¹æ³•å¤–</li><li>å±€éƒ¨å˜é‡ï¼šæ–¹æ³•å†…éƒ¨æˆ–æ–¹æ³•å£°æ˜ä¸Šï¼ˆå½¢å‚åˆ—è¡¨ï¼‰</li></ul></li><li>å†…å­˜ä¸­ä½ç½®ä¸åŒ<ul><li>æˆå‘˜å˜é‡ï¼š<strong>å †å†…å­˜</strong></li><li>å±€éƒ¨å˜é‡ï¼š<strong>æ ˆå†…å­˜</strong>ï¼ˆæ–¹æ³•å†…ï¼‰</li></ul></li><li>ç”Ÿå‘½å‘¨æœŸä¸åŒ<ul><li>æˆå‘˜å˜é‡ï¼šéšç€å¯¹è±¡çš„å­˜åœ¨è€Œå­˜åœ¨ï¼Œéšç€å¯¹è±¡çš„æ¶ˆå¤±è€Œæ¶ˆå¤±</li><li>å±€éƒ¨å˜é‡ï¼šéšç€æ–¹æ³•çš„è°ƒç”¨è€Œå­˜åœ¨ï¼Œéšç€æ–¹æ³•çš„è°ƒç”¨å®Œæ¯•è€Œæ¶ˆå¤±</li></ul></li><li>åˆå§‹åŒ–å€¼ä¸åŒ<ul><li>æˆå‘˜å˜é‡ï¼š<strong>æœ‰é»˜è®¤åˆå§‹å€¼</strong></li><li>å±€éƒ¨å˜é‡ï¼š<strong>æ²¡æœ‰é»˜è®¤åˆå§‹å€¼ï¼Œå¿…é¡»å…ˆå®šä¹‰ï¼Œèµ‹å€¼æ‰èƒ½ä½¿ç”¨</strong></li></ul></li></ul></blockquote><h1 id="å°è£…ç‰¹æ€§"><a href="#å°è£…ç‰¹æ€§" class="headerlink" title="å°è£…ç‰¹æ€§"></a>å°è£…ç‰¹æ€§</h1><h2 id="æ¦‚å¿µç†è§£"><a href="#æ¦‚å¿µç†è§£" class="headerlink" title="æ¦‚å¿µç†è§£"></a>æ¦‚å¿µç†è§£</h2><blockquote><p>å°è£…æ˜¯é¢å‘å¯¹è±¡ä¸‰å¤§ç‰¹å¾ä¹‹ä¸€ï¼Œå¦å¤–ä¸¤ä¸ªæ˜¯<strong>ç»§æ‰¿ï¼Œå¤šæ€</strong></p><p>å°è£…æ˜¯æŒ‡éšè—å¯¹è±¡çš„å±æ€§å’Œå®ç°ç»†èŠ‚ï¼Œä»…å¯¹å¤–æä¾›å…¬å…±è®¿é—®æ–¹å¼ã€‚</p><p>å…¶ä¼˜ç‚¹å¦‚ä¸‹ï¼š</p><ul><li>é€šè¿‡<strong>æ–¹æ³•æ¥æ§åˆ¶æˆå‘˜å˜é‡çš„æ“ä½œ</strong>ï¼Œ<strong>æé«˜äº†ä»£ç çš„å®‰å…¨æ€§</strong></li><li>æŠŠ<strong>ä»£ç ç”¨æ–¹æ³•è¿›è¡Œå°è£…</strong>ï¼Œ<strong>æé«˜äº†ä»£ç çš„å¤ç”¨æ€§</strong></li><li><strong>éšè—ä»£ç å®ç°ç»†èŠ‚</strong>ï¼Œæä¾›<strong>å…¬å…±è®¿é—®æ–¹å¼</strong>ï¼Œ<strong>ç®€åŒ–æ“ä½œ</strong></li></ul></blockquote><blockquote><p>ä¾‹å­ï¼š</p><p>æˆ‘è§‰å¾—æœ€èƒ½ä½“å…ˆ å°è£… çš„ä¾‹å­å°±æ˜¯ <strong>é€‚é…å™¨æ¨¡å¼</strong></p><p>æ¯”å¦‚æˆ‘ä»¬æœ‰ä¸¤ç§å……ç”µå™¨ï¼Œä¸€ä¸ª<strong>ä¸‰è§’ä¸‰å£çš„</strong>ï¼Œä¸€ä¸ªæ˜¯<strong>ä¸¤ä¸ªç›´å£çš„</strong>ã€‚</p><p>æˆ‘ä»¬ç°åœ¨åªæœ‰ä¸€ä¸ªæ³°å›½ç‰Œå­çš„ æ’åº§ ï¼Œå°±æ˜¯<strong>ä¸¤ä¸ªå­”çš„</strong>ã€‚</p><p>è¿™ä¸ªæ—¶å€™æˆ‘ä»¬å°±å¯ä»¥é€šè¿‡ä¸€ä¸ª<strong>è½¬æ¢å™¨</strong>  <strong>ä¸¤å­”å£ â€”&gt; (ä¸€ä¸ªä¸‰å£+ä¸¤ä¸ªç›´å£çš„)</strong></p><p>è¿™ä¸ªæ—¶å€™å¯¹äº<strong>ä¸¤è¾¹ï¼ˆç”¨æˆ·å’Œæä¾›æ–¹ï¼‰</strong>æ¥è¯´éƒ½ä¸éœ€è¦çŸ¥é“è½¬æ¢å™¨å…·ä½“çš„å†…éƒ¨ç»†èŠ‚ï¼Œ<strong>åªéœ€è¦</strong>çŸ¥é“<strong>é€‚é…å™¨</strong>æä¾›äº†æ€ä¹ˆæ ·çš„æ¥å£</p><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730103830911.png" alt="image-20230730103830911"></p><p>å°è£…åŸåˆ™ï¼š</p><ul><li>æŠŠä¸éœ€è¦å¯¹å‘æä¾›çš„å†…å®¹éšè—èµ·æ¥</li><li>æŠŠå±æ€§éšè—ï¼Œæä¾›å…¬å…±æ–¹æ³•å¯¹å…¶è®¿é—®</li></ul></blockquote><h2 id="private"><a href="#private" class="headerlink" title="private"></a>private</h2><blockquote><p>privateã€publicéƒ½æ˜¯æƒé™ä¿®é¥°ç¬¦ï¼Œå¯ä»¥ç”¨æ¥ä¿®é¥°æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•å’Œæ„é€ æ–¹æ³•ï¼›</p><ul><li>private(ç§æœ‰)ï¼Œç”¨å®ƒä¿®é¥°ç±»çš„æˆå‘˜ï¼ˆå«æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ï¼‰ï¼Œåˆ™è¿™äº›æˆå‘˜åªèƒ½åœ¨<strong>ç±»å†…ï¼ˆç±»çš„æˆå‘˜å‡½æ•°å†…éƒ¨ï¼‰</strong>å»ä½¿ç”¨ï¼Œå…¶ä»–åœ°æ–¹ä¸å¯ä»¥æ“ä½œï¼›</li><li>publicè¡¨ç¤ºå…¬æœ‰ï¼Œç”¨å®ƒä¿®é¥°ç±»çš„æˆå‘˜ï¼ˆå«æˆå‘˜å˜é‡ã€æˆå‘˜æ–¹æ³•ï¼‰ï¼Œåˆ™è¿™äº›æˆå‘˜åœ¨ç±»å†…ã€ç±»å¤–éƒ½å¯ä»¥æ“ä½œ</li></ul></blockquote><h2 id="å°è£…å®ç°"><a href="#å°è£…å®ç°" class="headerlink" title="å°è£…å®ç°"></a>å°è£…å®ç°</h2><blockquote><ul><li>ä½¿ç”¨privateä¿®é¥°æˆå‘˜å˜é‡</li><li>æä¾›å¯¹åº”setXxx()ã€getXxx()æ–¹æ³•ï¼Œç”¨publicä¿®é¥°</li><li>å…·ä½“ä½¿ç”¨æ—¶ï¼Œå€ŸåŠ©å¯¹è±¡çš„setXxxæ–¹æ³•ç»™å±æ€§èµ‹å€¼ï¼ŒgetXxxæ–¹æ³•è·å–å±æ€§å€¼</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap05.pojo;</span><br><span class="line"></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment"> * è´¦æˆ·ç±» å°è£…ç‰ˆ</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * public æ‰€æœ‰ä½ç½®</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * protected</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * ï¼ˆä¸å†™ï¼‰</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * private ï¼ˆæœ€å°ï¼Œåªèƒ½åœ¨ç±»ä¸­ä½¿ç”¨ï¼‰</span></span><br><span class="line"><span class="comment"> * </span></span><br><span class="line"><span class="comment"> * <span class="doctag">@author</span> luozongwei</span></span><br><span class="line"><span class="comment"> *</span></span><br><span class="line"><span class="comment"> */</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String id;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.id = id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> String <span class="title function_">getId</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> id;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="type">double</span> <span class="title function_">getBalance</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> balance;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBalance</span><span class="params">(<span class="type">double</span> balance)</span> &#123;</span><br><span class="line">        <span class="built_in">this</span>.balance = balance;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test2_AccountTest</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">Account</span> <span class="variable">account</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Account</span>();</span><br><span class="line">        System.out.println(account.getId());</span><br><span class="line">        System.out.println(account.getBalance());</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="thiså…³é”®å­—"><a href="#thiså…³é”®å­—" class="headerlink" title="thiså…³é”®å­—"></a>thiså…³é”®å­—</h1><blockquote><p>åœ¨ç±»ä¸­çš„<strong>æ™®é€šæˆå‘˜æ–¹æ³•</strong>ä¸­ï¼Œå¯ä»¥ä½¿ç”¨thiså…³é”®å­—ï¼Œ<strong>å…¶è¡¨ç¤ºè°ƒç”¨å½“å‰æ–¹æ³•çš„å¯¹è±¡å¼•ç”¨ï¼Œå³å“ªä¸ªå¯¹è±¡è°ƒç”¨è¯¥æ–¹æ³•ï¼Œthiså°±ä»£è¡¨å“ªä¸€ä¸ªå¯¹è±¡ã€‚</strong></p><p>thiså…³é”®å­—ç”¨æ³•ï¼š</p><ul><li>å¯¹æˆå‘˜å˜é‡å’Œå±€éƒ¨å˜é‡è¿›è¡ŒåŒºåˆ†ï¼š<code>this.æ•°æ®æˆå‘˜</code></li><li>è°ƒç”¨ç±»ä¸­çš„æˆå‘˜æ–¹æ³•ï¼š<code>this.æˆå‘˜æ–¹æ³•(å®é™…å‚æ•°åˆ—è¡¨)</code></li><li>è°ƒç”¨ç±»ä¸­çš„å…¶ä»–æ„é€ å™¨ï¼šthis.æ„é€ å‡½æ•°(å®å‚)</li></ul><p>æˆå‘˜å˜é‡ä¸å±€éƒ¨å˜é‡çš„åŒºåˆ†ï¼š</p><ul><li>æ–¹æ³•çš„å½¢å‚å¦‚æœä¸æˆå‘˜å˜é‡åŒå<ul><li>ä¸å¸¦thisä¿®é¥°çš„å˜é‡æŒ‡çš„æ˜¯å½¢å‚</li><li>å¦‚æœè¦è¡¨ç¤ºæˆå‘˜å˜é‡ï¼Œåˆ™å¿…é¡»åŠ thisä¿®é¥°</li></ul></li><li>æ–¹æ³•çš„å½¢å‚ä¸æˆå‘˜å˜é‡ä¸åŒå<ul><li>åˆ™ä¸å¸¦thisä¿®é¥°çš„å˜é‡æŒ‡çš„å°±æ˜¯æˆå‘˜å˜é‡</li></ul></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> String id;</span><br><span class="line"><span class="keyword">private</span> <span class="type">double</span> balance;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setId</span><span class="params">(String id)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.id = id;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">setBalance</span><span class="params">(<span class="type">double</span> balance)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.balance = balance;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ„é€ æ–¹æ³•</span></span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String id, <span class="type">double</span> balance)</span> &#123;</span><br><span class="line">    <span class="built_in">this</span>.id = id;</span><br><span class="line">    <span class="built_in">this</span>.balance = balance;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="title function_">Account</span><span class="params">(String id)</span> &#123;</span><br><span class="line">    <span class="comment">// ä½¿ç”¨thiså…³é”®å­—åœ¨æ„é€ å™¨é‡Œè°ƒç”¨å…¶ä»–çš„é‡è½½æ„é€ å™¨</span></span><br><span class="line">    <span class="comment">// ä¸€èˆ¬æ˜¯å°‘çš„è°ƒç”¨å¤šçš„</span></span><br><span class="line">    <span class="built_in">this</span>(id, <span class="number">100.0</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="thiså†…å­˜æ„æˆç†è§£"><a href="#thiså†…å­˜æ„æˆç†è§£" class="headerlink" title="thiså†…å­˜æ„æˆç†è§£"></a>thiså†…å­˜æ„æˆç†è§£</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Student</span> <span class="variable">stu1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zs&quot;</span>,<span class="number">21</span>);</span><br><span class="line">    stu1.sayHello();</span><br><span class="line">    <span class="type">Student</span> <span class="variable">stu2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;tom&quot;</span>,<span class="number">19</span>);</span><br><span class="line">    stu2.sayHello();</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å•ä¸ªå¯¹è±¡å†…å­˜å›¾</li></ul><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730111719952.png" alt="image-20230730111719952"></p><ul><li>å¤šä¸ªå¯¹è±¡å†…å­˜å›¾</li></ul><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730111911521.png" alt="image-20230730111911521"></p><p>è§‚å¯Ÿä¸Šå›¾å¯çŸ¥ï¼š<strong>æ¯ä¸€ä¸ªå¯¹è±¡ä¸­ï¼Œéƒ½æœ‰è‡ªå·±çš„thisï¼Œå’Œå…¶ä»–å¯¹è±¡ä¸­çš„äº’ä¸å½±å“ã€‚</strong> </p><ul><li><p>å½“å‰æ‰§è¡Œstu1.sayHello()ä»£ç çš„æ—¶å€™ï¼Œthisä»£è¡¨çš„å°±æ˜¯stu1 </p></li><li><p>å½“å‰æ‰§è¡Œstu2.sayHello()ä»£ç çš„æ—¶å€™ï¼Œthisä»£è¡¨çš„å°±æ˜¯stu2</p></li></ul><p><font color="skyblue">ç»“è®ºï¼šæˆå‘˜æ–¹æ³•è¢«å“ªä¸ªå¯¹è±¡è°ƒç”¨ï¼Œæ–¹æ³•ä¸­çš„thiså°±ä»£è¡¨é‚£ä¸ªå¯¹è±¡ã€‚å³è°è°ƒç”¨ï¼Œthiså°±ä»£è¡¨è°ã€‚</font></p></blockquote><h1 id="æ„é€ æ–¹æ³•"><a href="#æ„é€ æ–¹æ³•" class="headerlink" title="æ„é€ æ–¹æ³•"></a>æ„é€ æ–¹æ³•</h1><blockquote><p>æ„é€ æ–¹æ³•å¯ä»¥å¯¹å¯¹è±¡è¿›è¡Œåˆå§‹åŒ–æ“ä½œï¼Œå³ä¸º<strong>å¯¹è±¡å¼€è¾Ÿå†…å­˜ç©ºé—´çš„æ—¶å€™ï¼Œç»™å¯¹è±¡çš„æˆå‘˜æˆå‘˜èµ‹åˆå€¼</strong>ã€‚</p><p>æ„é€ æ–¹æ³•æ ¼å¼ï¼š</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">[ä¿®é¥°ç¬¦] ç±»å(å‚æ•°åˆ—è¡¨) &#123;</span><br><span class="line">åˆå§‹åŒ–è¯­å¥s;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æ„é€ æ–¹æ³•ä¸€èˆ¬ä½¿ç”¨publicä¿®é¥°</li><li>æ„é€ æ–¹æ³•æ²¡æœ‰è¿”å›å€¼ç±»å‹ï¼Œè¿voidéƒ½æ²¡æœ‰</li><li>æ„é€ æ–¹æ³•åå’Œç±»åç›¸åŒï¼ˆåŒºåˆ†å¤§å°å†™ï¼‰</li><li>æ„é€ æ–¹æ³•å¯ä»¥é‡è½½</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">package</span> com.briup.chap05.pojo;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> String name;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">double</span> salary;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// æ— å‚æ„é€ </span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Teacher()...&quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(String name, <span class="type">double</span> salary)</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;Teacher(String, double)...&quot;</span>);</span><br><span class="line">        <span class="built_in">this</span>.name = name;</span><br><span class="line">        <span class="built_in">this</span>.salary = salary;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">show</span><span class="params">()</span> &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;name: &quot;</span> + name);</span><br><span class="line">        System.out.println(<span class="string">&quot;salaryï¼š&quot;</span> + salary);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ‰§è¡Œæ—¶æœºï¼š</p><ul><li>åˆ›å»ºå¯¹è±¡çš„æ—¶å€™è°ƒç”¨ï¼Œæ¯åˆ›å»ºä¸€æ¬¡å¯¹è±¡ï¼Œå°±ä¼šæ‰§è¡Œä¸€æ¬¡æ„é€ æ–¹æ³•</li><li>ä¸èƒ½æ‰‹åŠ¨è°ƒç”¨æ„é€ æ–¹æ³•</li></ul></blockquote><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line"> <span class="type">Teacher</span> <span class="variable">t1</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>();</span><br><span class="line"> t1.show();</span><br><span class="line"> System.out.println(<span class="string">&quot;--------------------------&quot;</span>);</span><br><span class="line"> <span class="type">Teacher</span> <span class="variable">t2</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="string">&quot;kevin&quot;</span>, <span class="number">13099.5</span>);</span><br><span class="line"> t2.show();</span><br><span class="line"> <span class="comment">// æ‰‹åŠ¨è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œé”™è¯¯ç”¨æ³•ï¼Œæ— æ³•é€šè¿‡ç¼–è¯‘</span></span><br><span class="line"> <span class="comment">// t2.Teacher();</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/27/05-%E9%9D%A2%E5%90%91%E5%AF%B9%E8%B1%A1%E5%9F%BA%E7%A1%80/image-20230730115815946.png" alt="image-20230730115815946"></p><p>åˆ›å»ºå¯¹è±¡æ—¶æ„é€ å™¨ä¼šè¢«<strong>è‡ªåŠ¨è°ƒç”¨</strong>ï¼ˆ<strong>å®ä¾‹åŒ–å¯¹è±¡æ—¶æŒ‡å®šçš„é‚£ ä¸ªæ„é€ æ–¹æ³•</strong>ï¼‰ï¼Œå…¶å®Œæˆäº†å¯¹è±¡å±æ€§çš„åˆå§‹åŒ–ã€‚</p><p>æ³¨æ„äº‹é¡¹è¡¥å……ï¼š</p><ul><li>ç”¨æˆ·ä¸å®šä¹‰æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿä¼šæä¾›ä¸€ä¸ªæ— å‚æ„é€ æ–¹æ³•</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> ç±»å()&#123;</span><br><span class="line">    <span class="comment">// nothing to do</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ç”¨æˆ·å®šä¹‰æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿåˆ™ä¸å†æä¾›æ— å‚æ„é€ æ–¹æ³•</li><li>ç”¨æˆ·ä¸éœ€è¦ä¹Ÿä¸å¯ä»¥ä¸»åŠ¨è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œç³»ç»Ÿä¼šè‡ªåŠ¨è°ƒç”¨</li></ul><p>å¯¹è±¡åˆ›å»ºæ­¥éª¤ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">Student</span> <span class="variable">stu</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Student</span>(<span class="string">&quot;zhang&quot;</span>, <span class="number">23</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å°†Student.classæ–‡ä»¶åŠ è½½åˆ°å†…å­˜æ–¹æ³•åŒº</li><li>åœ¨mainæ ˆå¸§å¼€è¾Ÿä¸€å—å†…å­˜ï¼Œç”¨stuæ ‡è¯†</li><li>åœ¨å †ä¸­å¼€è¾Ÿå†…å­˜åˆ›å»ºå¯¹è±¡</li><li>ç»™å±æ€§ä»¥é»˜è®¤åˆå§‹å€¼ï¼ˆnull,0ï¼‰</li><li>å±æ€§è¿›è¡Œæ˜¾å¼åˆå§‹åŒ–ï¼ˆå¦‚æœå­˜åœ¨çš„è¯ï¼Œæ¯”å¦‚private int age &#x3D; 10;ï¼‰</li><li>è°ƒç”¨æ„é€ æ–¹æ³•ï¼Œç”¨ï¼ˆâ€œzhangâ€, 23ï¼‰ç»™å±æ€§èµ‹å€¼</li><li>å°†å †ä¸­å¯¹è±¡çš„å†…å­˜åœ°å€èµ‹å€¼ç»™stuï¼Œå¯¹è±¡åˆ›å»ºå®Œæˆ</li></ul></blockquote><h1 id="thisè¡¥å……"><a href="#thisè¡¥å……" class="headerlink" title="thisè¡¥å……"></a>thisè¡¥å……</h1><blockquote><p>thisç‰¹æ®Šç”¨æ³•ï¼š </p><p>åœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œå¯ä»¥å€ŸåŠ©thiså…³é”®å­—è°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³• </p><p>å…·ä½“æ ¼å¼ä¸ºï¼š this(å®é™…å‚æ•°åˆ—è¡¨);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Teacher</span> &#123;</span><br><span class="line">    <span class="comment">//...çœç•¥</span></span><br><span class="line">    <span class="comment">//è¯¥ç±»å·²ç»æˆåŠŸå®šä¹‰2å‚æ„é€ å™¨ï¼Œå®šä¹‰è¿‡ç¨‹çœç•¥</span></span><br><span class="line">    <span class="comment">//public Teacher(String name, double salary);</span></span><br><span class="line">    <span class="comment">//thisç‰¹æ®Šç”¨æ³•ï¼šåœ¨æ„é€ æ–¹æ³•ä¸­ï¼Œè°ƒç”¨å…¶ä»–æ„é€ æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="title function_">Teacher</span><span class="params">(String name)</span> &#123;</span><br><span class="line">        <span class="comment">//å¿…é¡»æ˜¯æ„é€ æ–¹æ³•çš„ç¬¬ä¸€è¡Œæœ‰æ•ˆä»£ç </span></span><br><span class="line">        <span class="built_in">this</span>(name,<span class="number">0</span>);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test10_This</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">//è°ƒç”¨Teacher(String)æ„é€ æ–¹æ³•å®ä¾‹åŒ–å¯¹è±¡</span></span><br><span class="line">        <span class="comment">//åº•å±‚å€ŸåŠ©Teacher(String, double)å®ç°</span></span><br><span class="line">        <span class="type">Teacher</span> <span class="variable">t</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Teacher</span>(<span class="string">&quot;larry&quot;</span>); </span><br><span class="line">        t.show(); <span class="comment">// </span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Teacher(String, double)...</span></span><br><span class="line"><span class="comment">// name: lucy</span></span><br><span class="line"><span class="comment">// salaryï¼š0.0</span></span><br></pre></td></tr></table></figure><p>æ„é€ æ–¹æ³•Teacher(String)åº•å±‚å€ŸåŠ©Teacher(String, double)å®ç°äº† åŠŸèƒ½ã€‚</p><p><font color="skyblue">æ³¨æ„ï¼š this(å®é™…å‚æ•°åˆ—è¡¨) å¿…é¡»æ˜¯æ„é€ æ–¹æ³•ä¸­çš„ç¬¬ä¸€è¡Œæœ‰æ•ˆä»£ç ã€‚</font></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ç››å¹´ä¸å†æ¥ï¼Œä¸€æ—¥éš¾å†æ™¨ï¼ŒåŠæ—¶å½“å‹‰åŠ±ï¼Œå²æœˆä¸å¾…äººã€‚â€”- é™¶æ¸Šæ˜ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>utools</title>
      <link href="/2023/07/26/utools/"/>
      <url>/2023/07/26/utools/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šbriup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>å†ç»­å‰ç¼˜ï¼š<a href="https://www.lzwgxust.top/post/9506ea9e.html">è¶…çº§å¥½ç”¨çš„å·¥å…·é›†åˆ</a></p></blockquote><h1 id="ğŸŒğŸŒğŸŒutools"><a href="#ğŸŒğŸŒğŸŒutools" class="headerlink" title="ğŸŒğŸŒğŸŒutools"></a>ğŸŒğŸŒğŸŒutools</h1><blockquote><p>utoolsä¸»è¦æ˜¯ç”¨äºæœ¬åœ°æœç´¢+å„ç§å„æ ·çš„æ¡Œé¢è„šæœ¬ã€‚</p><p>å®˜ç½‘åœ°å€å¦‚ä¸‹ï¼š<a href="https://u.tools/">uToolså®˜ç½‘ - æ–°ä¸€ä»£æ•ˆç‡å·¥å…·å¹³å°</a></p><p>ä¸»è¦ä½¿ç”¨çš„ä¸¤ä¸ªå¿«æ·é”®ï¼š</p><ul><li>alt + ç©ºæ ¼ ï¼ˆå¿«é€Ÿæ‰“å¼€utoolsé¢æ¿ï¼‰</li><li>ctrl + d ï¼ˆå°†é¢æ¿å®šåœ¨æ¡Œé¢ï¼‰</li></ul></blockquote><blockquote><p><font color="skyblue">æ—¢æ˜¯æ’ä»¶ä¹Ÿæ˜¯åº”ç”¨</font></p><p><font color="skyblue"> uTools æ’ä»¶åº”ç”¨: è½»é‡ã€å®‰å…¨ã€ç®€æ´ã€æ— å¹¿å‘Š</font></p></blockquote><iframe width="800" height="450" src="https://res.u-tools.cn/home_page-2.mp4" frameborder="0" allowfullscreen></iframe><blockquote><p><font color="skyblue">æŒ‰ä¸‹é¼ æ ‡ä¸­é”®ï¼Œå¼¹å‡º uTools è¶…çº§é¢æ¿</font></p><p><font color="skyblue">éšå¿ƒæ‰€æ¬²ï¼Œä¿¡æ‰‹æ‹ˆæ¥</font></p></blockquote><p><img src="/2023/07/26/utools/image-20230527101934154.png" alt="image-20230527101934154"></p><blockquote><p><font color="skyblue">å¿«æ·é”®ã€ŒAlt + ç©ºæ ¼ã€ï¼Œå‘¼å‡º uTools æœç´¢æ¡†</font></p><p><font color="skyblue">å‘¼ä¹‹å³æ¥ï¼Œç”¨å®Œå³èµ°</font></p></blockquote><p><img src="/2023/07/26/utools/image-20230527102501575.png" alt="image-20230527102501575"></p><h2 id="ğŸ™å„å¤§åŠŸèƒ½"><a href="#ğŸ™å„å¤§åŠŸèƒ½" class="headerlink" title="ğŸ™å„å¤§åŠŸèƒ½"></a>ğŸ™å„å¤§åŠŸèƒ½</h2><h3 id="ğŸŒæœç´¢"><a href="#ğŸŒæœç´¢" class="headerlink" title="ğŸŒæœç´¢"></a>ğŸŒæœç´¢</h3><p><img src="/2023/07/26/utools/image-20230527102632306.png" alt="image-20230527102632306"></p><blockquote><p>æœç´¢æœ‰å¼ºå¤§çš„æœ¬åœ°æœç´¢åŠŸèƒ½ï¼ŒåŒæ—¶èƒ½å¤Ÿå¯¹ä¸åŒçš„æ–‡ä»¶ç±»å‹è¿›è¡Œåˆ†ç±»</p></blockquote><p><img src="/2023/07/26/utools/image-20230527102822467.png" alt="image-20230527102822467"></p><h3 id="ğŸ¥¡è¶…çº§é¢æ¿"><a href="#ğŸ¥¡è¶…çº§é¢æ¿" class="headerlink" title="ğŸ¥¡è¶…çº§é¢æ¿"></a>ğŸ¥¡è¶…çº§é¢æ¿</h3><blockquote><p>å¯¹æ–‡ä»¶å¤¹ã€å›¾ç‰‡ã€æ–‡ä»¶ ç‚¹å‡»é¼ æ ‡ä¸­é”®åæœ‰æƒŠå–œğŸŒŸ</p></blockquote><p><img src="/2023/07/26/utools/image-20230527103143268.png" alt="image-20230527103143268"></p><blockquote><p>å¦‚æœæ˜¯ä½¿ç”¨è§¦æ‘¸æ¿çš„è¯ï¼Œå¯ä»¥è®¾ç½®å››æŒ‡ç‚¹å‡»ä¸ºé¼ æ ‡ä¸­é”®</p></blockquote><p><img src="/2023/07/26/utools/image-20230920091822449.png" alt="image-20230920091822449"></p><h3 id="ğŸŒµæ·»åŠ æœ¬åœ°æ–‡ä»¶å¯åŠ¨"><a href="#ğŸŒµæ·»åŠ æœ¬åœ°æ–‡ä»¶å¯åŠ¨" class="headerlink" title="ğŸŒµæ·»åŠ æœ¬åœ°æ–‡ä»¶å¯åŠ¨"></a>ğŸŒµæ·»åŠ æœ¬åœ°æ–‡ä»¶å¯åŠ¨</h3><blockquote><p>å¯¹äºç»å¸¸ä½¿ç”¨çš„æ–‡ä»¶å¤¹ã€åº”ç”¨ç¨‹åºå¯æ·»åŠ åˆ°æœ¬åœ°æ–‡ä»¶å¯åŠ¨ã€‚</p></blockquote><p><img src="/2023/07/26/utools/image-20230527103643949.png" alt="image-20230527103643949"></p><p><img src="/2023/07/26/utools/image-20230919091028273.png" alt="image-20230919091028273"></p><p> <img src="/2023/07/26/utools/image-20230527103750652.png" alt="image-20230527103750652"></p><h3 id="ğŸ¦¸â€â™‚å›¾åºŠ"><a href="#ğŸ¦¸â€â™‚å›¾åºŠ" class="headerlink" title="ğŸ¦¸â€â™‚å›¾åºŠ"></a>ğŸ¦¸â€â™‚å›¾åºŠ</h3><blockquote><p>å¯ä»¥å°†æœ¬åœ°å›¾ç‰‡ä¸Šä¼ åˆ°å›¾åºŠï¼ˆé“¾æ¥è®¿é—®ï¼‰</p><p>å‰ææ˜¯åœ¨æ’ä»¶åº”ç”¨å¸‚åœºå·²ç»å®‰è£…</p><p>å¦‚æœæƒ³è¦æœ‰ä¸“å±äºè‡ªå·±çš„å›¾åºŠçš„è¯ï¼š<a href="https://www.lzwgxust.top/post/a4a8d6a4.html">githubæ­å»ºä¸ªäººå›¾åºŠ</a></p></blockquote><p><img src="/2023/07/26/utools/image-20230527104057928.png" alt="image-20230527104057928"></p><p><img src="/2023/07/26/utools/image-20230527104119676.png" alt="20230527104119676"></p><p><img src="/2023/07/26/utools/image-20230527104307977.png" alt="image-20230527104307977"></p><blockquote><p>è¿™æ ·å°±å¯ä»¥ä½¿ç”¨å¤–é“¾è¿›è¡Œè®¿é—®å•¦</p></blockquote><p><img src="/2023/07/26/utools/image-20230527104358763.png" alt="image-20230527104358763"></p><h3 id="ğŸ”¥ChatGPT"><a href="#ğŸ”¥ChatGPT" class="headerlink" title="ğŸ”¥ChatGPT"></a>ğŸ”¥ChatGPT</h3><blockquote><p>å¯ä»¥åˆ°æ’ä»¶åº”ç”¨å¸‚åœºä¸‹è½½chatGPT</p></blockquote><p><img src="/2023/07/26/utools/image-20230527202123099.png" alt="image-20230527202123099"></p><blockquote><p>ä½†æ˜¯éœ€è¦<font color="skyblue">ç§‘å­¦ä¸Šç½‘+ChatGptè´¦å·</font>ï¼ˆè¿™ä¸ªå¤§å®¶è‡ªå·±åˆ°ç½‘ä¸Šæ‰¾å“ˆï¼Œæˆ‘ç›¸ä¿¡ä½ ä»¬å¯ä»¥çš„ï¼‰</p><p>å¯ä»¥é€šè¿‡utoolsé¢æ¿å¿«é€Ÿæ‰“å¼€ChatGPTäº†ï¼Œä¸ç”¨è€æ˜¯ç™»å½•æµè§ˆå™¨å“ˆå“ˆã€‚</p></blockquote><p><img src="/2023/07/26/utools/image-20230527202552136.png" alt="image-20230527202552136"></p><h3 id="ğŸ‹curl"><a href="#ğŸ‹curl" class="headerlink" title="ğŸ‹curl"></a>ğŸ‹curl</h3><blockquote><p>æœ‰äº†curlï¼Œå¦ˆå¦ˆå†ä¹Ÿä¸ç”¨æ‹…å¿ƒæˆ‘ä¸ä¼šå‘é€è¯·æ±‚äº†å“ˆå“ˆï¼ï¼</p><p>ä½¿ç”¨æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li>F12æ‰“å¼€æµè§ˆå™¨è°ƒè¯•å·¥å…· &gt; Network &gt; é€‰ä¸­æŸæ¡è¯·æ±‚å³é”® &gt; copy &gt; copy as curl (bash) &gt;è¿™æ ·å°±å¾—åˆ°äº†ä¸€æ¡curlå‘½ä»¤</li><li>alt+space &gt; å‘¼å‡ºutools</li><li>å›è½¦è¿›å…¥æ’ä»¶å³å¯</li></ul></blockquote><p><img src="/2023/07/26/utools/image-20230614171313201.png" alt="image-20230614171313201"></p><p><img src="/2023/07/26/utools/image-20230614171411175.png" alt="image-20230614171411175"></p><blockquote><p>è°ä¾¿é€‰æ‹©ä¸€ä¸ªè¯·æ±‚ Donâ€™t care</p></blockquote><p><img src="/2023/07/26/utools/image-20230614171522427.png" alt="image-20230614171522427"></p><blockquote><p>alt + ç©ºæ ¼ å‘¼å”¤å‡ºutool é€‰æ‹©curlï¼ˆå‰ææ˜¯ä½ å·²ç»ä¸‹è½½è¯¥æ’ä»¶äº†ï¼‰</p></blockquote><p><img src="/2023/07/26/utools/image-20230614171713221.png" alt="image-20230614171713221"></p><blockquote><p>ç‚¹è¿›å»ï¼Œå³å¯çœ‹å¾…åˆšæ‰å¤åˆ¶çš„ curlï¼ˆbashï¼‰å·²ç»è¿›å»äº†</p></blockquote><p><img src="/2023/07/26/utools/image-20230614171842059.png" alt="image-20230614171842059"></p><p><img src="/2023/07/26/utools/image-20230614171811663.png" alt="image-20230614171811663"></p><blockquote><p>å°†ipï¼športæ¢æˆè‡ªå·±çš„</p></blockquote><p><img src="/2023/07/26/utools/image-20230614172013761.png" alt="image-20230614172013761"></p><p><img src="/2023/07/26/utools/image-20230614172131835.png" alt="image-20230614172131835"></p><blockquote><p>å½“ç„¶ä¹Ÿå¯ä»¥æ¢æˆè‡ªå·±çš„åŸŸå~</p></blockquote><h3 id="ğŸ­ä¹¦ç­¾ä¸å†å²è®°å½•"><a href="#ğŸ­ä¹¦ç­¾ä¸å†å²è®°å½•" class="headerlink" title="ğŸ­ä¹¦ç­¾ä¸å†å²è®°å½•"></a>ğŸ­ä¹¦ç­¾ä¸å†å²è®°å½•</h3><blockquote><p>ä»Šå¤©ç»§ç»­ä»‹ç»utoolsç”¨è¶…çº§å¥½ç”¨çš„æ’ä»¶â€”â€”ä¹¦ç­¾ä¸å†å²è®°å½•(èª<strong>æ˜çš„å°ç‹ç‹¸)</strong></p><p>ä¸»è¦åŠŸèƒ½å°±æ˜¯ï¼šæ›´åŠ <strong>ç²¾å‡†æŸ¥æ‰¾</strong>ä¸€ä¸ª<strong>è½¯ä»¶å†…éƒ¨</strong>çš„<strong>æ–‡ä»¶æˆ–é¡¹ç›®</strong>ã€‚</p><p><img src="/2023/07/26/utools/image-20230726151143596.png" alt="image-20230726151143596"></p></blockquote><h4 id="é…ç½®"><a href="#é…ç½®" class="headerlink" title="é…ç½®"></a>é…ç½®</h4><p><img src="/2023/07/26/utools/image-20230726151917586.png" alt="image-20230726151917586"></p><p><img src="/2023/07/26/utools/image-20230726152106203.png" alt="image-20230726152106203"></p><blockquote><p>ä¸‹é¢æ˜¯æˆ‘å¸¸ç”¨çš„è½¯ä»¶ï¼šä¸»è¦æ˜¯å¼€å‘è½¯ä»¶å’ŒTypora</p></blockquote><p><img src="/2023/07/26/utools/image-20230726152454375.png" alt="image-20230726152454375"></p><blockquote><p>ä¸‹é¢æˆ‘ä»¥ Clionä¸ºä¾‹å­è¿›è¡Œæ¼”ç¤ºå¦‚ä½•é…ç½®+å¦‚ä½•æœç´¢ï¼š</p></blockquote><p><img src="/2023/07/26/utools/image-20230726152711360.png" alt="image-20230726152711360"></p><blockquote><p>é€šè¿‡utoolså¼ºå¤§çš„æœç´¢åŠŸèƒ½è¿›è¡Œå…¨åŒºæŸ¥æ‰¾ã€‚</p></blockquote><p><img src="/2023/07/26/utools/image-20230726152635929.png" alt="image-20230726152635929"></p><p><img src="/2023/07/26/utools/image-20230726152839677.png" alt="image-20230726152839677"></p><p><img src="/2023/07/26/utools/image-20230726152916510.png" alt="image-20230726152916510"></p><h4 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h4><blockquote><p>é¦–å…ˆè¦äº†è§£å…¶ä¸­æ¶‰åŠåˆ°çš„å…³é”®å­—ã€‚</p><p>æˆ‘åªæŠŠæˆ‘å¸¸ç”¨çš„åˆ—äº†å‡ºæ¥å“ˆ~ï¼Œå…·ä½“çœ‹è‡ªå·±éœ€æ±‚ã€‚</p></blockquote><p><img src="/2023/07/26/utools/image-20230726155913390.png" alt="image-20230726155913390"></p><p><img src="/2023/07/26/utools/image-20230726160122471.png" alt="image-20230726160122471"></p><h4 id="å…·ä½“ä½¿ç”¨"><a href="#å…·ä½“ä½¿ç”¨" class="headerlink" title="å…·ä½“ä½¿ç”¨"></a>å…·ä½“ä½¿ç”¨</h4><blockquote><p>IDE é¡¹ç›®é›†åˆ</p></blockquote><p><img src="/2023/07/26/utools/image-20230726160335424.png" alt="image-20230726160335424"></p><blockquote><p>Typora</p></blockquote><p><img src="/2023/07/26/utools/image-20230726160940161.png" alt="image-20230726160940161"></p><blockquote><p>Brower Bookmarkï¼šæµè§ˆå™¨ä¹¦ç­¾</p></blockquote><p><img src="/2023/07/26/utools/image-20230726160916034.png" alt="image-20230726160916034"></p><blockquote><p>Browser Historyï¼šæµè§ˆå™¨å†å²</p></blockquote><p><img src="/2023/07/26/utools/image-20230726160825032.png" alt="image-20230726160825032"></p><h3 id="jdk1-8æ–‡æ¡£ä½¿ç”¨"><a href="#jdk1-8æ–‡æ¡£ä½¿ç”¨" class="headerlink" title="jdk1.8æ–‡æ¡£ä½¿ç”¨"></a>jdk1.8æ–‡æ¡£ä½¿ç”¨</h3><blockquote><p>é¦–å…ˆä¸‹è½½æ’ä»¶</p></blockquote><p><img src="/2023/07/26/utools/image-20230809181542027.png" alt="image-20230809181542027"></p><blockquote><p><strong>å…³é”®å­—jdk1.8</strong></p></blockquote><p><img src="/2023/07/26/utools/image-20230809181636288.png" alt="image-20230809181636288"></p><p><img src="/2023/07/26/utools/image-20230809181817252.png" alt="image-20230809181817252"></p><p><img src="/2023/07/26/utools/image-20230809181937161.png" alt="image-20230809181937161"></p><p><img src="/2023/07/26/utools/image-20230809182106171.png" alt="image-20230809182106171"></p><h3 id="hosts"><a href="#hosts" class="headerlink" title="hosts"></a>hosts</h3><blockquote><p>hostsåˆ‡æ¢æ’ä»¶å¯ä»¥è½»æ¾åˆ›å»ºå¤šå¥— hosts æ–¹æ¡ˆï¼Œå¹¶å¿«é€Ÿè¿›è¡Œåˆå¹¶åˆ‡æ¢ã€‚</p></blockquote><blockquote><p>ä»¥ä¸Šæ˜¯æˆ‘å¯¹utoolsæœ€å¸¸ä½¿ç”¨çš„åŠŸèƒ½ï¼Œutoolsæ˜¯çœŸçš„å¾ˆå¥½ç”¨çš„ï¼Œç‰¹åˆ«æ˜¯æœç´¢åŠŸèƒ½ï¼Œåœ¨å¾ˆå¤§ç¨‹åº¦ä¸Šå‡è½»äº†æˆ‘ä»¬å¯¹æ–‡ä»¶çš„æŸ¥æ‰¾è¿‡ç¨‹ï¼Œæå¤§æé«˜äº†å·¥ä½œæ•ˆç‡ã€‚ğŸ‘»</p></blockquote><blockquote><p>æœªå®Œç»“æ•¬è¯·æœŸå¾…å“¦ï¼ğŸ’•ğŸ’•ğŸ’•</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> utools </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>04-æ•°ç»„</title>
      <link href="/2023/07/25/04-%E6%95%B0%E7%BB%84/"/>
      <url>/2023/07/25/04-%E6%95%B0%E7%BB%84/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="æ•°ç»„æ¦‚è¿°"><a href="#æ•°ç»„æ¦‚è¿°" class="headerlink" title="æ•°ç»„æ¦‚è¿°"></a>æ•°ç»„æ¦‚è¿°</h1><blockquote><p>â€‹æ•°ç»„ï¼Œè¡¨ç¤ºä¸€å—<strong>è¿ç»­çš„å†…å­˜ç©ºé—´</strong>ï¼Œå¯ç”¨æ¥å­˜å‚¨<strong>å¤šä¸ªæ•°æ®(å…ƒç´ )<strong>ï¼Œè¦æ±‚</strong>å…ƒç´ ç±»å‹è¦ä¸€è‡´</strong>ã€‚</p></blockquote><h1 id="æ•°ç»„å®šä¹‰"><a href="#æ•°ç»„å®šä¹‰" class="headerlink" title="æ•°ç»„å®šä¹‰"></a>æ•°ç»„å®šä¹‰</h1><blockquote><ul><li><p>æ•°æ®ç±»å‹[] æ•°ç»„åï¼ˆæ¨èï¼‰</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr1;</span><br></pre></td></tr></table></figure></li><li><p>æ•°æ®ç±»å‹ æ•°ç»„å[]</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> arr1[];</span><br></pre></td></tr></table></figure></li></ul></blockquote><h2 id="æ•°ç»„å†…å­˜ç†è§£"><a href="#æ•°ç»„å†…å­˜ç†è§£" class="headerlink" title="æ•°ç»„å†…å­˜ç†è§£"></a>æ•°ç»„å†…å­˜ç†è§£</h2><blockquote><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727084436861.png" alt="image-20230727084436861"></p><p>attention:</p><ul><li>æ•°ç»„æ˜¯<strong>å¼•ç”¨æ•°æ®ç±»å‹</strong>ï¼Œç”¨æ¥å­˜å‚¨ä¸€ä¸ª<strong>å¼•ç”¨å€¼</strong>ï¼ˆå¯ç†è§£ä¸º<strong>åœ°å€å€¼</strong>ï¼‰</li><li>æ•°ç»„&#x2F;å˜é‡ æ²¡æœ‰è¿›è¡Œåˆå§‹åŒ–ï¼Œä¸å¯ç›´æ¥ä½¿ç”¨</li></ul></blockquote><h1 id="æ•°ç»„åˆå§‹åŒ–"><a href="#æ•°ç»„åˆå§‹åŒ–" class="headerlink" title="æ•°ç»„åˆå§‹åŒ–"></a>æ•°ç»„åˆå§‹åŒ–</h1><blockquote><p>å®šä¹‰æ•°ç»„(<strong>å¼€è¾Ÿæ ˆç©ºé—´å†…å­˜</strong>)çš„åŒæ—¶ï¼Œç»™å…¶èµ‹ä¸Šåˆå€¼ï¼Œå°±å«åšæ•°ç»„çš„åˆå§‹åŒ–ï¼</p></blockquote><h2 id="åŠ¨æ€åˆå§‹åŒ–"><a href="#åŠ¨æ€åˆå§‹åŒ–" class="headerlink" title="åŠ¨æ€åˆå§‹åŒ–"></a>åŠ¨æ€åˆå§‹åŒ–</h2><blockquote><ul><li><p>æ ¼å¼ï¼š<code>æ•°æ®ç±»å‹[] æ•°ç»„å = new æ•°æ®ç±»å‹[æ•°ç»„é•¿åº¦]</code></p></li><li><p>æ¡ˆä¾‹ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br></pre></td></tr></table></figure></li><li><p>æ³¨æ„ï¼š</p><ul><li>newæ˜¯ä¸€ä¸ªå…³é”®å­—ï¼Œè¡¨ç¤ºæ•°ç»„åœ¨<strong>å †å†…å­˜åŒºåŸŸ</strong>å¼€è¾Ÿå†…å­˜ç©ºé—´</li><li>ç­‰å·ä¸¤è¾¹çš„æ•°æ®ç±»å‹è¦ä¸€è‡´ï¼ˆç»§æ‰¿ã€å®ç°ä¸ä¸€å®šï¼‰</li><li>æ•°ç»„é•¿åº¦å¿…é¡»è¦æœ‰ï¼Œå¯ä»¥&gt;&#x3D;0(ä¸€èˆ¬å¤§äº0)ï¼Œä½†<strong>ä¸èƒ½ä¸ºè´Ÿæ•°</strong></li></ul></li></ul></blockquote><h2 id="å†…å­˜æ„æˆ"><a href="#å†…å­˜æ„æˆ" class="headerlink" title="å†…å­˜æ„æˆ"></a>å†…å­˜æ„æˆ</h2><blockquote><p>æ•°ç»„åæ ‡è¯†çš„é‚£å—å†…å­˜ï¼ˆ<strong>æ ˆç©ºé—´</strong>ï¼‰ï¼Œå­˜æ”¾äº†ä¸€ä¸ª<strong>å¼•ç”¨å€¼ï¼ˆåœ°å€å€¼ï¼‰</strong>ï¼Œé€šè¿‡è¯¥åœ°å€å€¼å¯ä»¥æ‰¾åˆ°<strong>å †ç©ºé—´</strong>ç›¸åº”å†…å­˜ï¼ˆç”¨æ¥å­˜æ”¾æ•°ç»„ä¸­æ‰€æœ‰å…ƒç´ ï¼‰</p><p>å †ç©ºé—´å†…å­˜å­˜åœ¨é»˜è®¤åˆå§‹åŒ–ï¼š<font color="skyblue">æ•´æ•°å‹&#x3D;0ï¼Œæµ®ç‚¹æ•°&#x3D;0.0ï¼Œå¼•ç”¨ç±»å‹&#x3D;nullï¼Œå­—ç¬¦ç±»å‹&#x3D;\u0000</font></p><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727090320003.png" alt="image-20230727090320003"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">/* è¾“å‡ºç»“æœä¸ºï¼š[I@15db9742</span></span><br><span class="line"><span class="comment">* [ : å½“å‰çš„ç©ºé—´æ˜¯ä¸€ä¸ªæ•°ç»„ç±»å‹</span></span><br><span class="line"><span class="comment">* I : å½“å‰æ•°ç»„å®¹å™¨ä¸­æ‰€å­˜å‚¨çš„æ•°æ®ç±»å‹</span></span><br><span class="line"><span class="comment">* @ : åˆ†éš”ç¬¦</span></span><br><span class="line"><span class="comment">* 15db9742 : å †ç©ºé—´åå…­è¿›åˆ¶å†…å­˜åœ°å€</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="æ•°ç»„ä¸‹æ ‡"><a href="#æ•°ç»„ä¸‹æ ‡" class="headerlink" title="æ•°ç»„ä¸‹æ ‡"></a>æ•°ç»„ä¸‹æ ‡</h2><blockquote><p>æ•°ç»„çš„ä¸‹æ ‡çš„åŒºé—´ä¸º[0, æ•°ç»„é•¿åº¦-1]</p><p>minIndex &#x3D; 0, maxIndex &#x3D; length - 1</p><ul><li><p>é€šè¿‡ä¸‹æ ‡å¯ä»¥è®¿é—®æ•°ç»„ä¸­å…ƒç´ </p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> arr[<span class="number">1</span>];</span><br></pre></td></tr></table></figure></li><li><p>é€šè¿‡æ•°ç»„ä¸‹æ ‡ç»™æ•°ç»„å…ƒç´ èµ‹å€¼</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">arr[<span class="number">1</span>] = <span class="number">100</span>;</span><br></pre></td></tr></table></figure></li><li><p>ç»“åˆå¾ªç¯æ¥èµ‹å€¼æˆ–è€…å–å€¼</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123; <span class="comment">// å¾ªç¯èµ‹å€¼</span></span><br><span class="line">    arr[i] = i + <span class="number">1</span>;</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">4</span>; i++) &#123; <span class="comment">// å¾ªç¯å–å€¼</span></span><br><span class="line">    System.out.println(arr[i]);</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> i: arr) &#123;  <span class="comment">// foreachä¸»è¦ç”¨æ¥éå†ï¼Œèµ‹å€¼ä¸ä¼šå¯¹åŸæ¥çš„æ•°æ®äº§ç”Ÿå½±å“</span></span><br><span class="line">    System.out.println(arr[i]);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></blockquote><h2 id="æ•°ç»„é•¿åº¦"><a href="#æ•°ç»„é•¿åº¦" class="headerlink" title="æ•°ç»„é•¿åº¦"></a>æ•°ç»„é•¿åº¦</h2><blockquote><p>æ•°ç»„é•¿åº¦ï¼šæ˜¯æŒ‡åœ¨ä¸€ä¸ªæ•°ç»„ä¸­ï¼Œå¯ä»¥å­˜æ”¾<strong>åŒä¸€ç±»å‹å…ƒç´ </strong>çš„<strong>æœ€å¤§æ•°é‡</strong>ã€‚</p><p>è·å–æ•°ç»„é•¿åº¦å›ºå®šæ ¼å¼ï¼š<code>æ•°ç»„å.length</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">intp[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">System.out.println(arr.length);</span><br></pre></td></tr></table></figure><p>æ•°ç»„é•¿åº¦æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æ•°ç»„é•¿åº¦ï¼Œå¿…é¡»åœ¨åˆ›å»ºæ•°ç»„å¯¹è±¡çš„æ—¶å€™å°±æ˜ç¡®æŒ‡å®š</li><li>æ•°ç»„é•¿åº¦ï¼Œä¸€æ—¦ç¡®å®šï¼Œå°±æ— æ³•å†æ”¹å˜</li><li>æ•°ç»„é•¿åº¦ï¼Œå¯ä»¥&gt;&#x3D;0 (ä¸€èˆ¬å¤§äº0)ï¼Œä½†<strong>ä¸èƒ½ä¸ºè´Ÿæ•°</strong></li></ul></blockquote><h2 id="æ•°ç»„é»˜è®¤å€¼"><a href="#æ•°ç»„é»˜è®¤å€¼" class="headerlink" title="æ•°ç»„é»˜è®¤å€¼"></a>æ•°ç»„é»˜è®¤å€¼</h2><blockquote><p>æ•°ç»„åœ¨åˆ›å»ºæ—¶ï¼Œä¼šå¼€è¾Ÿ2å—å†…å­˜ï¼Œæ•°ç»„åå¯¹åº”æ ˆç©ºé—´é‚£å—å†…å­˜ï¼Œæ•°ç»„å…ƒç´ ä¼š å­˜æ”¾åœ¨å †ç©ºé—´ã€‚ </p><p>å †ç©ºé—´æ•°ç»„æ¯ä¸€ä¸ªå…ƒç´ ä½ç½®ä¸Šï¼Œå­˜åœ¨ç›¸åº”çš„é»˜è®¤å€¼ï¼Œè¦ä¹ˆä¸º0ï¼Œè¦ä¹ˆä¸º0.0ï¼Œ è¦ä¹ˆä¸ºnullã€‚</p><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727155812190.png" alt="image-20230727155812190"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// byteã€shortã€intã€longç±»å‹æ•°ç»„ä¸­çš„é»˜è®¤å€¼ä¸º0</span></span><br><span class="line"><span class="type">int</span>[] a = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>]; <span class="comment">// é»˜è®¤4ä¸ªæ•°æ®å…¨æ˜¯0</span></span><br><span class="line"><span class="comment">// floatã€doubleç±»å‹æ•°ç»„ä¸­çš„é»˜è®¤å€¼ä¸º 0.0</span></span><br><span class="line"><span class="type">double</span>[] d = <span class="keyword">new</span> <span class="title class_">double</span>[<span class="number">4</span>]; <span class="comment">// é»˜è®¤4ä¸ªæ•°æ®å…¨æ˜¯0.0</span></span><br><span class="line"><span class="comment">// booleanç±»å‹æ•°ç»„ä¸­çš„é»˜è®¤å€¼ä¸ºfalse</span></span><br><span class="line"><span class="type">boolean</span>[] d = <span class="keyword">new</span> <span class="title class_">boolean</span>[<span class="number">4</span>]; <span class="comment">// é»˜è®¤4ä¸ªæ•°æ®å…¨æ˜¯false</span></span><br><span class="line"><span class="comment">// charç±»å‹æ•°ç»„ä¸­çš„é»˜è®¤å€¼ä¸º &#x27;\u0000&#x27;</span></span><br><span class="line"><span class="type">char</span>[] d = <span class="keyword">new</span> <span class="title class_">char</span>[<span class="number">4</span>]; <span class="comment">// é»˜è®¤4ä¸ªæ•°æ®å…¨æ˜¯ &#x27;\u0000&#x27;</span></span><br><span class="line"><span class="comment">// å¼•ç”¨ç±»å‹æ•°ç»„ä¸­çš„é»˜è®¤å€¼ä¸ºnull</span></span><br><span class="line">String[] d = <span class="keyword">new</span> <span class="title class_">String</span>[<span class="number">4</span>]; <span class="comment">// é»˜è®¤4ä¸ªæ•°æ®å…¨æ˜¯null</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="é™æ€åˆå§‹åŒ–"><a href="#é™æ€åˆå§‹åŒ–" class="headerlink" title="é™æ€åˆå§‹åŒ–"></a>é™æ€åˆå§‹åŒ–</h2><blockquote><p>åœ¨åˆ›å»ºæ•°ç»„çš„åŒæ—¶ï¼Œç›´æ¥åˆå§‹åŒ–æ•°ç»„å…ƒç´ çš„å€¼ï¼Œå°±ç§°ä¸ºæ•°ç»„çš„é™æ€åˆå§‹ã€‚</p><p>é™æ€åˆå§‹åŒ–æ ¼å¼ï¼š</p><ul><li><p>å®Œæ•´ç‰ˆæ ¼å¼ï¼š</p> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®ç±»å‹[] æ•°ç»„å = new æ•°æ®ç±»å‹[]&#123;å…ƒç´ 1,å…ƒç´ 2,...&#125;;</span></span><br><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure></li><li><p>ç®€åŒ–ç‰ˆæ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°æ®ç±»å‹[] æ•°ç»„å = &#123;å…ƒç´ 1,å…ƒç´ 2,...&#125;;</span></span><br><span class="line"><span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>,<span class="number">5</span>&#125;;</span><br></pre></td></tr></table></figure></li></ul><p><font color="skyblue">æ³¨æ„ï¼šæ•°ç»„é™æ€åˆå§‹åŒ–ä¹¦å†™æ–¹å¼è¦ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°ä¸¤ç§æ–¹å¼ï¼</font></p><p>é”™è¯¯å±•ç¤ºï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é”™è¯¯æ–¹å¼1ï¼šä¸èƒ½æ˜ç¡®æ•°ç»„é•¿åº¦</span></span><br><span class="line"><span class="type">int</span>[] arr4 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>]&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line"><span class="comment">//é”™è¯¯æ–¹å¼2ï¼šç®€åŒ–ç‰ˆæ ¼å¼å¿…é¡»ä¸¥æ ¼æŒ‰ç…§ä¸Šè¿°æ ¼å¼ä¹¦å†™ï¼Œä¸èƒ½åˆ†ä¸¤è¡Œä¹¦å†™</span></span><br><span class="line"><span class="type">int</span>[] arr5;</span><br><span class="line">arr5 = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å†…å­˜è¡¥å……"><a href="#å†…å­˜è¡¥å……" class="headerlink" title="å†…å­˜è¡¥å……"></a>å†…å­˜è¡¥å……</h2><blockquote><ul><li>ä¸¤ä¸ªæ•°ç»„å†…å­˜ç»“æ„å›¾</li></ul><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727162110852.png" alt="image-20230727162110852"></p><ul><li>ä½¿ç”¨æ•°ç»„èµ‹å€¼</li></ul><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727162213670.png" alt="image-20230727162213670"></p></blockquote><h1 id="æ•°ç»„å¼‚å¸¸"><a href="#æ•°ç»„å¼‚å¸¸" class="headerlink" title="æ•°ç»„å¼‚å¸¸"></a>æ•°ç»„å¼‚å¸¸</h1><h2 id="ç´¢å¼•è¶Šç•Œå¼‚å¸¸"><a href="#ç´¢å¼•è¶Šç•Œå¼‚å¸¸" class="headerlink" title="ç´¢å¼•è¶Šç•Œå¼‚å¸¸"></a>ç´¢å¼•è¶Šç•Œå¼‚å¸¸</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">System.out.println(arr[<span class="number">4</span>]); <span class="comment">// java.lang.ArrayIndexOutOfBoundsException: 4</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="ç©ºæŒ‡é’ˆå¼‚å¸¸"><a href="#ç©ºæŒ‡é’ˆå¼‚å¸¸" class="headerlink" title="ç©ºæŒ‡é’ˆå¼‚å¸¸"></a>ç©ºæŒ‡é’ˆå¼‚å¸¸</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">4</span>];</span><br><span class="line">arr = <span class="literal">null</span>;</span><br><span class="line">System.out.println(arr[<span class="number">0</span>]); <span class="comment">// java.lang.NullPointerException</span></span><br></pre></td></tr></table></figure><p><strong>arr &#x3D; null</strong> è¿™è¡Œä»£ç ï¼Œæ„å‘³ç€å˜é‡arrå°†ä¸ä¼šåœ¨ä¿å­˜æ•°ç»„çš„å†…å­˜åœ°å€ï¼Œæˆ‘ ä»¬é€šè¿‡arrè¿™ä¸ªæ ‡è¯†ç¬¦å†ä¹Ÿæ‰¾ä¸åˆ°å †ç©ºé—´æ•°ç»„å…ƒç´ ï¼Œå› æ­¤è¿è¡Œçš„æ—¶å€™ä¼šæŠ›å‡º NullPointerException ç©ºæŒ‡é’ˆå¼‚å¸¸ã€‚</p></blockquote><h1 id="å·¥å…·ç±»"><a href="#å·¥å…·ç±»" class="headerlink" title="å·¥å…·ç±»"></a>å·¥å…·ç±»</h1><blockquote><p><strong>java.util.Arrays ç±»</strong>ï¼Œæ˜¯JavaSE APIä¸­æä¾›ç»™æˆ‘ä»¬ä½¿ç”¨çš„ä¸€ä¸ªå·¥å…·ç±»ï¼Œè¿™ä¸ªç±» ä¸­åŒ…å«äº†<strong>æ“ä½œæ•°ç»„</strong>çš„å¸¸ç”¨æ–¹æ³•ï¼Œæ¯”å¦‚<strong>æ’åºã€æŸ¥è¯¢ã€å¤åˆ¶ã€å¡«å……æ•°æ®</strong>ç­‰ï¼Œå€ŸåŠ©å®ƒæˆ‘ ä»¬åœ¨ä»£ç ä¸­æ“ä½œæ•°ç»„ä¼šæ›´æ–¹ä¾¿ã€‚</p><p>Arraysä¸­çš„å¸¸ç”¨æ–¹æ³•ï¼š </p><ul><li>toStringæ–¹æ³• <ul><li>å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„å˜ä¸ºå¯¹åº”çš„Stringå½¢å¼</li></ul></li><li>copyOfæ–¹æ³• <ul><li>å¯ä»¥æŠŠä¸€ä¸ªæ•°ç»„è¿›è¡Œå¤åˆ¶ è¯¥æ–¹æ³•ä¸­ä¹Ÿæ˜¯é‡‡ç”¨äº†arraycopyæ–¹æ³•æ¥å®ç°çš„åŠŸèƒ½</li></ul></li><li>sortæ–¹æ³• <ul><li>å¯ä»¥å¯¹æ•°ç»„è¿›è¡Œæ’åº</li></ul></li><li>binarySearchæ–¹æ³• <ul><li>åœ¨æ•°ç»„ä¸­ï¼ŒæŸ¥æ‰¾æŒ‡å®šçš„å€¼ï¼Œè¿”å›è¿™ä¸ªæŒ‡å®šçš„å€¼åœ¨æ•°ç»„ä¸­çš„ä¸‹æ ‡ï¼Œä½†æ˜¯æŸ¥æ‰¾ä¹‹ å‰éœ€è¦åœ¨æ•°ç»„ä¸­å…ˆè¿›è¡Œæ’åºï¼Œå¯ä»¥ä½¿ç”¨sortæ–¹æ³•å…ˆè¿›è¡Œæ’åº</li></ul></li><li>copyOfRangeæ–¹æ³•ï¼ˆäº†è§£ï¼‰ <ul><li>ä¹Ÿæ˜¯å¤åˆ¶æ•°ç»„çš„æ–¹æ³•ï¼Œä½†æ˜¯å¯ä»¥æŒ‡å®šä»å“ªä¸€ä¸ªä¸‹æ ‡ä½ç½®å¼€å§‹å¤åˆ¶ è¯¥æ–¹æ³•ä¸­ä¹Ÿæ˜¯é‡‡ç”¨äº†arraycopyæ–¹æ³•æ¥å®ç°çš„åŠŸèƒ½</li></ul></li><li>fillï¼ˆäº†è§£ï¼‰ <ul><li>å¯ä»¥ä½¿ç”¨ä¸€ä¸ªç‰¹å®šçš„å€¼ï¼ŒæŠŠæ•°ç»„ä¸­çš„ç©ºé—´å…¨éƒ½èµ‹æˆè¿™ä¸ªå€¼</li></ul></li></ul></blockquote><h1 id="æ‰©å±•æ¡ˆä¾‹"><a href="#æ‰©å±•æ¡ˆä¾‹" class="headerlink" title="æ‰©å±•æ¡ˆä¾‹"></a>æ‰©å±•æ¡ˆä¾‹</h1><h2 id="é€‰æ‹©æ’åº"><a href="#é€‰æ‹©æ’åº" class="headerlink" title="é€‰æ‹©æ’åº"></a>é€‰æ‹©æ’åº</h2><h2 id="æ’å…¥æ’åº"><a href="#æ’å…¥æ’åº" class="headerlink" title="æ’å…¥æ’åº"></a>æ’å…¥æ’åº</h2><h2 id="å¸Œå°”æ’åº"><a href="#å¸Œå°”æ’åº" class="headerlink" title="å¸Œå°”æ’åº"></a>å¸Œå°”æ’åº</h2><blockquote><p>çœ‹æˆ‘çš„è¿™ç¯‡åšå®¢å³å¯ï¼š<a href="https://www.lzwgxust.top/post/30d7e4ab.html">åŸºç¡€ç¯‡-interview-heima</a></p></blockquote><h1 id="æ•°ç»„æ‹·è´"><a href="#æ•°ç»„æ‹·è´" class="headerlink" title="æ•°ç»„æ‹·è´"></a>æ•°ç»„æ‹·è´</h1><blockquote><p>æ•°ç»„çš„é•¿åº¦ç¡®å®šåä¾¿ä¸èƒ½ä¿®æ”¹ï¼Œå¦‚æœéœ€è¦æ•°ç»„å­˜æ”¾æ›´å¤šå…ƒç´ ï¼Œå¯ä»¥é€šè¿‡<strong>åˆ›å»ºé•¿åº¦æ›´é•¿çš„æ–°æ•°ç»„</strong>ï¼Œç„¶å<strong>å…ˆå¤åˆ¶è€æ•°ç»„å†…å®¹åˆ°æ–°æ•°ç»„</strong>ä¸­ï¼Œå†å¾€æ–°æ•°ç»„ä¸­æ”¾å…¥é¢å¤–çš„å…ƒç´ ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// java.lang.System arraycopy() å¤åˆ¶æ•°ç»„åŠŸèƒ½</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">arraycopy</span><span class="params">(Object src,  <span class="type">int</span>  srcPos,</span></span><br><span class="line"><span class="params">                                 Object dest, <span class="type">int</span> destPos,</span></span><br><span class="line"><span class="params">                                 <span class="type">int</span> length)</span>;</span><br><span class="line"><span class="comment">// src: éœ€è¦ è¢« å¤åˆ¶çš„ç›®æ ‡æ•°ç»„</span></span><br><span class="line"><span class="comment">// srcPos: ä»ç›®æ ‡æ•°ç»„çš„å“ªä¸€ä¸ªä½ç½®å¼€å§‹å¤åˆ¶</span></span><br><span class="line"><span class="comment">// dest: éœ€è¦æŠŠæ•°æ®å¤åˆ¶åˆ°å¦å¤–ä¸€ä¸ªæ–°çš„æ•°ç»„ä¸­</span></span><br><span class="line"><span class="comment">// destPos: æŠŠæ•°æ®å¤åˆ¶åˆ°æ–°æ•°ç»„çš„æ—¶å€™ï¼Œéœ€è¦æŠŠæ•°æ®ä»ä»€ä¹ˆä½ç½®å¼€å§‹å¤åˆ¶è¿›å»</span></span><br><span class="line"><span class="comment">// length: å¤åˆ¶çš„ç›®æ ‡æ•°ç»„çš„é•¿åº¦</span></span><br></pre></td></tr></table></figure><p>æ¡ˆä¾‹ï¼šå®šä¹‰ä¸€ä¸ªæ–¹æ³•ï¼Œä¼ é€’ä¸€ä¸ªæ•°ç»„å¯¹è±¡ç»™å®ƒï¼Œå…¶å°†æ•°ç»„é•¿åº¦<strong>æ‰©å¤§åˆ°åŸæ¥çš„2å€</strong>è¿”å›ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] arr = <span class="keyword">new</span> <span class="title class_">int</span>[] &#123; <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span> &#125;;</span><br><span class="line">    <span class="type">int</span>[] newArr = dilatation(arr);</span><br><span class="line">    System.out.println(Arrays.toString(newArr));</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span>[] dilatation(<span class="type">int</span>[] arr) &#123;</span><br><span class="line">    <span class="comment">// TODO Auto-generated method stub</span></span><br><span class="line">    <span class="type">int</span>[] b = <span class="keyword">new</span> <span class="title class_">int</span>[arr.length * <span class="number">2</span>];</span><br><span class="line">    System.arraycopy(arr, <span class="number">0</span>, b, <span class="number">0</span>, arr.length);</span><br><span class="line">    <span class="keyword">return</span> b;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="äºŒç»´æ•°ç»„"><a href="#äºŒç»´æ•°ç»„" class="headerlink" title="äºŒç»´æ•°ç»„"></a>äºŒç»´æ•°ç»„</h1><h2 id="å®šä¹‰æ ¼å¼"><a href="#å®šä¹‰æ ¼å¼" class="headerlink" title="å®šä¹‰æ ¼å¼"></a>å®šä¹‰æ ¼å¼</h2><blockquote><p>æ ¼å¼1ï¼š</p><ul><li><strong><code>æ•°æ®ç±»å‹[][] æ•°ç»„å = new æ•°æ®ç±»å‹[ä¸€ç»´é•¿åº¦m][äºŒç»´é•¿åº¦n];</code></strong></li><li>è¡¨ç¤ºäºŒç»´æ•°ç»„çš„å…ƒç´ æ•°é‡ï¼Œå³å¯ä»¥å­˜æ”¾å¤šå°‘ä¸ªä¸€ç»´æ•°ç»„</li><li>è¡¨ç¤ºæ¯ä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œå¯ä»¥å­˜æ”¾å¤šå°‘ä¸ªå…ƒç´ </li></ul><p>æ ¼å¼2ï¼š</p><ul><li><strong><code>æ•°æ®ç±»å‹[][] æ•°ç»„å = new æ•°æ®ç±»å‹[ä¸€ç»´é•¿åº¦m][];</code></strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç¬¬ä¸€ç§æ ¼å¼</span></span><br><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line">System.out.println(arr); <span class="comment">// [[I@b684286</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">* [[I@b684286</span></span><br><span class="line"><span class="comment">* </span></span><br><span class="line"><span class="comment">* [[: 2ä¸ªä¸­æ‹¬å·å°±ä»£è¡¨çš„æ˜¯2ç»´æ•°ç»„ </span></span><br><span class="line"><span class="comment">* I: æ•°ç»„ä¸­å­˜å‚¨çš„æ•°æ®ç±»å‹ä¸º</span></span><br><span class="line"><span class="comment">* int 15db9742: åå…­è¿›åˆ¶å†…å­˜åœ°å€</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// äºŒç»´æ•°ç»„çš„æ¯ä¸€ä¸ª å…ƒç´ éƒ½å¯¹åº”ç€ï¼ˆä¸€ç»´æ•°ç»„ï¼‰åœ°å€</span></span><br><span class="line">System.out.println(arr[<span class="number">0</span>]); <span class="comment">// [I@2a139a55</span></span><br><span class="line">System.out.println(arr[<span class="number">1</span>]); <span class="comment">// [I@15db9742</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§å®šä¹‰æ ¼å¼</span></span><br><span class="line"><span class="type">int</span>[][] arr2 = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][];</span><br><span class="line"><span class="comment">//è¾“å‡ºarr2ä¸­2ä¸ªå…ƒç´ å€¼ï¼Œé»˜è®¤ä¸ºnullã€null</span></span><br><span class="line">System.out.println(Arrays.toString(arr2));</span><br><span class="line"><span class="comment">//ç»™äºŒç»´æ•°ç»„çš„æ¯ä¸ªå…ƒç´ èµ‹å€¼</span></span><br><span class="line">arr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>];</span><br><span class="line">arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>];</span><br></pre></td></tr></table></figure></blockquote><h2 id="å†…å­˜ç»“æ„"><a href="#å†…å­˜ç»“æ„" class="headerlink" title="å†…å­˜ç»“æ„"></a>å†…å­˜ç»“æ„</h2><blockquote><ul><li>ä¸€ç»´æ•°ç»„å†…å­˜ç»“æ„ï¼š</li></ul><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727184008037.png" alt="image-20230727184008037"></p><ul><li>äºŒç»´æ•°ç»„å†…å­˜ç»“æ„ï¼š</li></ul><p>å¯ä»¥æŠŠäºŒç»´æ•°ç»„çœ‹æˆä¸€ä¸ªä¸€ç»´æ•°ç»„ï¼Œæ•°ç»„çš„æ¯ä¸ªå…ƒç´ å¯¹åº”çš„å†…å­˜åŒºåŸŸä¸­ï¼Œ<strong>å­˜æ”¾çš„æ˜¯ä¸€ç»´æ•°ç»„å¼•ç”¨å€¼</strong></p><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727184440900.png" alt="image-20230727184440900"></p><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727184620416.png" alt="image-20230727184620416"></p></blockquote><h2 id="å…ƒç´ è®¿é—®"><a href="#å…ƒç´ è®¿é—®" class="headerlink" title="å…ƒç´ è®¿é—®"></a>å…ƒç´ è®¿é—®</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// int arr[m][n];</span></span><br><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">2</span>][<span class="number">3</span>];</span><br><span class="line"><span class="comment">// å­˜æ•°</span></span><br><span class="line">arr[<span class="number">0</span>][<span class="number">0</span>] = <span class="number">11</span>;</span><br><span class="line">arr[<span class="number">0</span>][<span class="number">1</span>] = <span class="number">22</span>;</span><br><span class="line">arr[<span class="number">0</span>][<span class="number">2</span>] = <span class="number">33</span>;</span><br><span class="line">arr[<span class="number">1</span>][<span class="number">0</span>] = <span class="number">11</span>;</span><br><span class="line">arr[<span class="number">1</span>][<span class="number">1</span>] = <span class="number">22</span>;</span><br><span class="line">arr[<span class="number">1</span>][<span class="number">2</span>] = <span class="number">33</span>;</span><br><span class="line"><span class="comment">// å–æ•°</span></span><br><span class="line"><span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; arr.length; i++) &#123;</span><br><span class="line">    <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; arr[i].length; j++) &#123;</span><br><span class="line">        System.out.print(arr[i][j] + <span class="string">&quot; &quot;</span>);</span><br><span class="line">    &#125;</span><br><span class="line">    System.out.println();</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ³¨æ„ï¼šmã€nçš„å–å€¼éƒ½æ˜¯ [0ï¼Œlength-1] ï¼Œæ³¨æ„ä¸è¦è¶Šç•Œï¼Œå¦åˆ™ä¼šå‡ºç°å¼‚å¸¸ ArrayIndexOutOfBoundsException</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="åˆå§‹åŒ–"><a href="#åˆå§‹åŒ–" class="headerlink" title="åˆå§‹åŒ–"></a>åˆå§‹åŒ–</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€ç§ï¼šå®Œæ•´æ ¼å¼</span></span><br><span class="line"><span class="type">int</span>[][] arr1 = <span class="keyword">new</span> <span class="title class_">int</span>[][]&#123;&#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;,&#123;<span class="number">4</span>,<span class="number">5</span>&#125;&#125;;</span><br><span class="line"></span><br><span class="line"><span class="comment">//ç¬¬äºŒç§ï¼šç®€åŒ–æ ¼å¼</span></span><br><span class="line"><span class="type">int</span>[][] arr2 = &#123;&#123;<span class="number">11</span>, <span class="number">22</span>, <span class="number">33</span>&#125;, &#123;<span class="number">44</span>, <span class="number">55</span>&#125;&#125;;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç»¼åˆæ¡ˆä¾‹"><a href="#ç»¼åˆæ¡ˆä¾‹" class="headerlink" title="ç»¼åˆæ¡ˆä¾‹"></a>ç»¼åˆæ¡ˆä¾‹</h2><blockquote> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span>[][] arr = <span class="keyword">new</span> <span class="title class_">int</span>[<span class="number">3</span>][];</span><br><span class="line">arr[<span class="number">0</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">10</span>&#125;;</span><br><span class="line">arr[<span class="number">1</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">20</span>,<span class="number">20</span>&#125;;</span><br><span class="line">arr[<span class="number">2</span>] = <span class="keyword">new</span> <span class="title class_">int</span>[]&#123;<span class="number">30</span>,<span class="number">30</span>,<span class="number">30</span>&#125;;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727190043114.png" alt="image-20230727190043114"></p><p><img src="/2023/07/25/04-%E6%95%B0%E7%BB%84/image-20230727190216546.png" alt="image-20230727190216546"></p></blockquote><h1 id="å¯å˜å‚æ•°åˆ—è¡¨"><a href="#å¯å˜å‚æ•°åˆ—è¡¨" class="headerlink" title="å¯å˜å‚æ•°åˆ—è¡¨"></a>å¯å˜å‚æ•°åˆ—è¡¨</h1><blockquote><p><strong>JDK1.5æˆ–è€…ä»¥ä¸Š</strong>ç‰ˆæœ¬ä¸­ï¼Œå¯ä»¥ä½¿ç”¨å¯å˜å‚æ•°åˆ—è¡¨</p><p>æ ¼å¼ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(æ•°æ®ç±»å‹... å‚æ•°å) &#123;</span><br><span class="line">    æ–¹æ³•ä½“è¯­å¥;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//æ™®é€šæ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">fun</span><span class="params">(<span class="type">int</span>[] a)</span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">//å¯å˜å‚æ•°åˆ—è¡¨ æ–¹æ³•å®šä¹‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span>... a)</span>&#123;</span><br><span class="line">    <span class="comment">//...</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span>[] arr = &#123;<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>&#125;;</span><br><span class="line">    <span class="comment">//æ™®é€šæ–¹æ³•çš„è°ƒç”¨ï¼Œåªæœ‰ä¸‹é¢ä¸€ç§å½¢å¼</span></span><br><span class="line">    fun(arr);</span><br><span class="line">    <span class="comment">//å¯å˜å‚æ•°åˆ—è¡¨æ–¹æ³•çš„è°ƒç”¨ï¼Œä¸‹é¢å½¢å¼éƒ½å¯ä»¥</span></span><br><span class="line">    test(); <span class="comment">//ä¸ä¼ å‚</span></span><br><span class="line">    test(<span class="number">1</span>); <span class="comment">//ä¼ é€’1ä¸ªå…ƒç´ </span></span><br><span class="line">    test(<span class="number">1</span>,<span class="number">2</span>,<span class="number">3</span>,<span class="number">4</span>); <span class="comment">//ä¼ é€’å¤šä¸ªå…ƒç´ </span></span><br><span class="line">    test(arr); <span class="comment">//ä¼ é€’æ•°ç»„</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼šå¯å˜å‚æ•°åˆ—è¡¨æœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªæ•°ç»„ï¼Œæ–¹æ³•ä¸­ä½¿ç”¨å¯å˜å‚æ•°åˆ—è¡¨ï¼Œæ¯”ç”¨æ•°ç»„ä½œå‚æ•°åŠŸèƒ½æ›´å¼ºå¤§</p><p>è¡¥å……ï¼šæ–¹æ³•ä¸­æœ‰ä¸€ä¸ªå¯å˜å‚æ•°åŒæ—¶ï¼Œè¿˜å¯ä»¥å­˜åœ¨å…¶ä»–å‚æ•°</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">test</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span>... b)</span> &#123;</span><br><span class="line">    System.out.println(a);</span><br><span class="line">    System.out.println(Arrays.toString(b));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="skyblue">æ³¨æ„äº‹é¡¹ï¼šå¯å˜å‚æ•°å’Œæ™®é€šå‚æ•°å…±å­˜çš„æ—¶å€™ï¼Œå¯å˜å‚æ•°å¿…é¡»æ”¾åˆ°æœ€åä¸€ä¸ªå‚æ•°çš„ä½ç½®ã€‚</font></p><p>æ€»ç»“ï¼š</p><ul><li>å¯å˜å‚æ•°åˆ—è¡¨å¯ä»¥æ¥å— <strong>0-nä¸ªå‚æ•°</strong></li><li>å¯å˜å‚æ•°åˆ—è¡¨è¿˜å¯ä»¥æ¥å—æ•°ç»„</li><li>å¯å˜å‚æ•°åˆ—è¡¨å¿…é¡»æ”¾åœ¨å‡½æ•°å‚æ•°åˆ—è¡¨çš„<strong>æœ€å³ç«¯ï¼Œä¸”åªèƒ½å‡ºç°1æ¬¡</strong></li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¸šç²¾äºå‹¤ï¼Œè’äºå¬‰ï¼›è¡Œæˆäºæ€ï¼Œæ¯äºéšã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>03-æ“ä½œç¬¦-æµç¨‹æ§åˆ¶-æ–¹æ³•</title>
      <link href="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/"/>
      <url>/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="æ“ä½œç¬¦"><a href="#æ“ä½œç¬¦" class="headerlink" title="æ“ä½œç¬¦"></a>æ“ä½œç¬¦</h1><blockquote><p><strong>æ“ä½œç¬¦</strong>ï¼šå¯¹å­—é¢å€¼å¸¸é‡æˆ–å˜é‡è¿›è¡Œæ“ä½œçš„ç¬¦å·ï¼Œä¹Ÿç§° è¿ç®—ç¬¦ ã€‚<br><strong>è¡¨è¾¾å¼</strong>ï¼šç”¨æ“ä½œç¬¦æŠŠå­—é¢å€¼å¸¸é‡æˆ–å˜é‡è¿æ¥èµ·æ¥çš„å¼å­ï¼ˆç¬¦åˆJavaè¯­æ³•ï¼‰ï¼Œå°±<br>ç§°ä¹‹ä¸ºè¡¨è¾¾å¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> b + c; <span class="comment">// + è¿ç®—ç¬¦  (b+c)è¡¨è¾¾å¼</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="è¿ç®—ç¬¦åˆ†ç±»"><a href="#è¿ç®—ç¬¦åˆ†ç±»" class="headerlink" title="è¿ç®—ç¬¦åˆ†ç±»"></a>è¿ç®—ç¬¦åˆ†ç±»</h2><blockquote><ul><li>ç®—æœ¯è¿ç®—ç¬¦</li><li>èµ‹å€¼è¿ç®—ç¬¦</li><li>æ¯”è¾ƒ|å…³ç³»|æ¡ä»¶ è¿ç®—ç¬¦</li><li>é€»è¾‘è¿ç®—ç¬¦</li><li>ä½è¿ç®—ç¬¦</li></ul></blockquote><h2 id="ç®—æœ¯è¿ç®—ç¬¦"><a href="#ç®—æœ¯è¿ç®—ç¬¦" class="headerlink" title="ç®—æœ¯è¿ç®—ç¬¦"></a>ç®—æœ¯è¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105409028.png" alt="image-20230724105409028"></p></blockquote><h3 id="æ±‚ä½™è¿ç®—ç¬¦"><a href="#æ±‚ä½™è¿ç®—ç¬¦" class="headerlink" title="% æ±‚ä½™è¿ç®—ç¬¦"></a>% æ±‚ä½™è¿ç®—ç¬¦</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> <span class="number">13</span> % <span class="number">5</span>;</span><br><span class="line">System.out.println(n); <span class="comment">// 3</span></span><br><span class="line">n = <span class="number">13</span> % -<span class="number">5</span>;</span><br><span class="line">System.out.println(n); <span class="comment">// 3</span></span><br><span class="line">n = -<span class="number">13</span> % <span class="number">5</span>;</span><br><span class="line">System.out.println(n); <span class="comment">// -3</span></span><br><span class="line">n = -<span class="number">13</span> % -<span class="number">5</span>;</span><br><span class="line">System.out.println(n); <span class="comment">// -3</span></span><br></pre></td></tr></table></figure><p>ç»“è®ºï¼š<strong>æ±‚ä½™è¿ç®—ï¼Œç»“æœç¬¦å·åªè·Ÿå·¦æ“ä½œæ•°çš„ç¬¦å·æœ‰å…³</strong></p></blockquote><h3 id="å­—ç¬¦ä¸²ç›¸åŠ "><a href="#å­—ç¬¦ä¸²ç›¸åŠ " class="headerlink" title="å­—ç¬¦ä¸²ç›¸åŠ "></a>å­—ç¬¦ä¸²ç›¸åŠ </h3><blockquote><p>+é™¤äº†å¯ä»¥ä½œä¸ºåŠ æ³•è¿ç®—ç¬¦ï¼Œä¹Ÿå¯ä»¥ä½œä¸ºå­—ç¬¦ä¸²è¿æ¥ç¬¦ã€‚ </p><p><strong>å­—ç¬¦ä¸² + å…¶ä»–ä»»æ„ç±»å‹æ•°æ®ï¼Œå¾—åˆ°çš„ç»“æœéƒ½æ˜¯å­—ç¬¦ä¸²ã€‚</strong></p></blockquote><h3 id="è‡ªå¢è‡ªå‡"><a href="#è‡ªå¢è‡ªå‡" class="headerlink" title="è‡ªå¢è‡ªå‡"></a>è‡ªå¢è‡ªå‡</h3><blockquote><ul><li>å˜é‡å++ï¼Œå˜é‡åâ€“</li><li>++å˜é‡åï¼Œâ€“å˜é‡å</li></ul><p>å¦‚æœå•ç‹¬ä½¿ç”¨ï¼Œç›®çš„æ˜¯å¯¹å˜é‡è¿›è¡Œè‡ªå¢æˆ–è‡ªå‡ï¼Œæ•ˆæœç›¸åŒ</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">a++; <span class="comment">// æ•ˆæœä¸€æ ·</span></span><br><span class="line">++a;</span><br></pre></td></tr></table></figure><p>å¦‚æœä½œä¸ºè¡¨è¾¾å¼ä½¿ç”¨ï¼Œåˆ™ä¸¤è€…æœ‰æ˜æ˜¾åŒºåˆ«ï¼š</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a++; <span class="comment">// 10</span></span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">c</span> <span class="operator">=</span> ++a; <span class="comment">// 11</span></span><br></pre></td></tr></table></figure><p><strong>â€“è‡ªå‡ çš„ä½¿ç”¨æ–¹å¼ä¸è‡ªå¢ç±»ä¼¼ã€‚</strong></p></blockquote><h3 id="é¢è¯•é¢˜"><a href="#é¢è¯•é¢˜" class="headerlink" title="é¢è¯•é¢˜"></a>é¢è¯•é¢˜</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">x</span> <span class="operator">=</span> <span class="number">4</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">y</span> <span class="operator">=</span> (x--) + (--x) + (x * <span class="number">10</span>); <span class="comment">// 4 + 2 + 2*10 = 26</span></span><br><span class="line">    System.out.println(<span class="string">&quot;x: &quot;</span> + x); <span class="comment">// x: 2</span></span><br><span class="line">    System.out.println(<span class="string">&quot;y: &quot;</span> + y); <span class="comment">// y: 26</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 2</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    b++;  <span class="comment">// b++ç³»ç»Ÿè‡ªåŠ¨å®ç°äº†ï¼ˆå¼ºåˆ¶è½¬æ¢ï¼‰å³ b = (byte) (b+1)</span></span><br><span class="line">    b = b + <span class="number">1</span>; <span class="comment">// x b = (byte)(b+1) éœ€è¦æ‰‹åŠ¨å®ç°</span></span><br><span class="line">    <span class="comment">//é—®å“ªå¥ä¼šæŠ¥é”™,ä¸ºä»€ä¹ˆï¼Ÿ</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="èµ‹å€¼è¿ç®—ç¬¦"><a href="#èµ‹å€¼è¿ç®—ç¬¦" class="headerlink" title="èµ‹å€¼è¿ç®—ç¬¦"></a>èµ‹å€¼è¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105429428.png" alt="image-20230724105429428"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//é¢è¯•é¢˜</span></span><br><span class="line"><span class="type">short</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="comment">//s = s + 5; //error</span></span><br><span class="line">s += <span class="number">5</span>; <span class="comment">// ç­‰ä»·äº s = (short)(s+5);</span></span><br><span class="line">s++; <span class="comment">// ç­‰ä»·äº s = (short)(s+5); ç³»ç»Ÿå†…éƒ¨è‡ªåŠ¨å¼ºè½¬äº†</span></span><br><span class="line">System.out.println(<span class="string">&quot;s: &quot;</span> + s);</span><br></pre></td></tr></table></figure><p><em><em>æ³¨æ„ï¼š+&#x3D;ã€-&#x3D;ã€</em>&#x3D;ã€&#x2F;&#x3D;ã€++ã€â€“ ç­‰æ‰©å±•çš„èµ‹å€¼è¿ç®—ç¬¦ï¼Œéšå«äº†å¼ºåˆ¶ç±»å‹è½¬æ¢ï¼</em>*</p></blockquote><h2 id="æ¯”è¾ƒè¿ç®—ç¬¦"><a href="#æ¯”è¾ƒè¿ç®—ç¬¦" class="headerlink" title="æ¯”è¾ƒè¿ç®—ç¬¦"></a>æ¯”è¾ƒè¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105444486.png" alt="image-20230724105444486"></p></blockquote><h2 id="é€»è¾‘è¿ç®—ç¬¦"><a href="#é€»è¾‘è¿ç®—ç¬¦" class="headerlink" title="é€»è¾‘è¿ç®—ç¬¦"></a>é€»è¾‘è¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105610175.png" alt="image-20230724105610175"></p><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230725153310444.png" alt="image-20230725153310444"></p></blockquote><h2 id="ç§»ä½è¿ç®—ç¬¦"><a href="#ç§»ä½è¿ç®—ç¬¦" class="headerlink" title="ç§»ä½è¿ç®—ç¬¦"></a>ç§»ä½è¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105512039.png" alt="image-20230724105512039"></p><p>å¦‚æœè¦è¿›è¡Œç§»ä½æ“ä½œï¼Œ åˆ™éœ€è¦å…ˆè·å–æ“ä½œæ•°çš„äºŒè¿›åˆ¶å½¢å¼ï¼ˆ<strong>è¡¥ç </strong>ï¼‰ ï¼Œç„¶åæŒ‰ ä½è¿›è¡Œæ“ä½œã€‚</p><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230725155418566.png" alt="image-20230725155418566"></p></blockquote><h3 id="å³ç§»"><a href="#å³ç§»" class="headerlink" title="å³ç§»"></a>å³ç§»</h3><blockquote><ul><li>&gt;&gt; ä½ä½æŠ›å¼ƒï¼Œé«˜ä½è¡¥ã€ç¬¦å·ä½çš„å€¼ã€‘</li><li>&gt;&gt;&gt; ä½ä½æŠ›å¼ƒï¼Œé«˜ä½è¡¥0</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£æ•° [å€¼]è¡¨ç¤ºè¢«æŠ›å¼ƒçš„å€¼</span></span><br><span class="line"><span class="comment">// 0 0(23) 0000 1010 åŸ=å=è¡¥</span></span><br><span class="line"><span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;a: &quot;</span> + a);</span><br><span class="line"><span class="comment">// 0 0(23) 0000 1010</span></span><br><span class="line"><span class="comment">// 00 0(23) 000 0101 [0] ==&gt; 5</span></span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> a &gt;&gt; <span class="number">1</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;a &gt;&gt; 1: &quot;</span> + b);</span><br><span class="line"></span><br><span class="line"><span class="comment">// 000 0(23) 0000 10 ==&gt; 2</span></span><br><span class="line">b = a &gt;&gt; <span class="number">2</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;a &gt;&gt; 2: &quot;</span> + b);</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è´Ÿæ•°</span></span><br><span class="line">a = -<span class="number">10</span>;</span><br><span class="line"><span class="comment">// è·å–-10çš„äºŒè¿›åˆ¶è¡¥ç ï¼š</span></span><br><span class="line"><span class="comment">// åŸ 1 0(23) 0000 1010</span></span><br><span class="line"><span class="comment">// å 1 1(23) 1111 0101</span></span><br><span class="line"><span class="comment">// è¡¥ 1 1(23) 1111 0110</span></span><br><span class="line"><span class="comment">// è¿ç®—: 111 1(23) 1111 01 [10] </span></span><br><span class="line">b = a &gt;&gt; <span class="number">2</span>; <span class="comment">// é«˜ä½è¡¥1 è´Ÿ</span></span><br><span class="line"><span class="comment">// ç»“æœæ¨å¯¼ï¼šè¡¥ 1 1(23) 1111 1101</span></span><br><span class="line"><span class="comment">// - 1</span></span><br><span class="line"><span class="comment">// å 1 1(23) 1111 1100</span></span><br><span class="line"><span class="comment">// ä¿ç•™ç¬¦å·ä½ï¼Œå…¶ä»–ä½å–å</span></span><br><span class="line"><span class="comment">// åŸ 1 0(23) 0000 0011</span></span><br><span class="line"><span class="comment">// ç»“æœï¼š-3</span></span><br><span class="line">System.out.println(<span class="string">&quot;-10 &gt;&gt; 2: &quot;</span> + b);</span><br><span class="line"></span><br><span class="line">b = a &gt;&gt;&gt; <span class="number">2</span>;</span><br><span class="line"><span class="comment">// -10è¡¥ï¼š 1 1(23) 1111 0110</span></span><br><span class="line"><span class="comment">// &gt;&gt;&gt; 2ä½ï¼Œé«˜ä½è¡¥0</span></span><br><span class="line"><span class="comment">// 00 1 1(23) 1111 01</span></span><br><span class="line"><span class="comment">// ç»“æœ: å¾ˆå¤§çš„ä¸€ä¸ªæ­£æ•´æ•° 1073741821</span></span><br><span class="line">System.out.println(<span class="string">&quot;-10 &gt;&gt;&gt; 2: &quot;</span> + b);</span><br></pre></td></tr></table></figure></blockquote><h3 id="å·¦ç§»"><a href="#å·¦ç§»" class="headerlink" title="å·¦ç§»"></a>å·¦ç§»</h3><blockquote><ul><li>&lt;&lt; é«˜ä½æŠ›å¼ƒï¼Œä½ä½è¡¥0</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line">a = -<span class="number">10</span>;</span><br><span class="line">b = a &lt;&lt; <span class="number">2</span>;</span><br><span class="line"><span class="comment">// -10è¡¥ç ï¼š1 1(23) 1111 0110</span></span><br><span class="line"><span class="comment">// å·¦ç§»2ä½ï¼Œç»“æœï¼š</span></span><br><span class="line"><span class="comment">// 1(22) 1111 011000</span></span><br><span class="line"><span class="comment">// å³ï¼š 1 1(23) 1101 1000 è¡¥ç </span></span><br><span class="line"><span class="comment">// -1 å¾—åç ï¼š 1 1(23) 1101 0111</span></span><br><span class="line"><span class="comment">// ä¿ç•™ç¬¦å·ä½ï¼Œå…¶ä»–ä¸ºå–åï¼Œå¾—åŸç ï¼š</span></span><br><span class="line"><span class="comment">// åŸ: 1 0(23) 0010 1000 ==&gt; -40</span></span><br><span class="line">System.out.println(<span class="string">&quot;a &lt;&lt; 2: &quot;</span> + b); <span class="comment">// -40</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// å¦‚æœå·¦ç§»ä½æ•°å¤ªå¤šï¼Œè¶…å‡ºäº†æ•°å€¼è¡¨ç¤ºèŒƒå›´ï¼Œå¦‚ä½•å¤„ç†ï¼Ÿ</span></span><br><span class="line"><span class="comment">// æ•°å€¼ &lt;&lt; n ç­‰åŒ æ•°å€¼ &lt;&lt; (n%å½“å‰æ•°å€¼ç±»å‹æ‰€å æ¯”ç‰¹ä½æ•°) æ¯”å¦‚intä¸º32ä½</span></span><br><span class="line">b = a &lt;&lt; <span class="number">33</span>;</span><br><span class="line">System.out.println(<span class="string">&quot;a &lt;&lt; 33: &quot;</span> + b); <span class="comment">// -20</span></span><br><span class="line">System.out.println(<span class="string">&quot;a &lt;&lt; (33%32): &quot;</span> + b); <span class="comment">// -20</span></span><br></pre></td></tr></table></figure><p>å°ç»“ï¼š</p><ul><li>æ¯å·¦ç§»1ä½ï¼Œç­‰åŒäº <code>å€¼*2</code></li><li>æ•°å€¼å·¦ç§»nä½ï¼ˆ&gt;&#x3D;æœ€é«˜ä½ï¼‰ï¼Œç­‰åŒäº<code>æ•°å€¼&lt;&lt;(n%å½“å‰å€¼æ‰€å±ç±»å‹æ‰€å æ¯”ç‰¹ä½)</code></li></ul></blockquote><h2 id="ä½è¿ç®—ç¬¦"><a href="#ä½è¿ç®—ç¬¦" class="headerlink" title="ä½è¿ç®—ç¬¦"></a>ä½è¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105713689.png" alt="image-20230724105713689"></p><ul><li>~ è¿é€š<strong>ç¬¦å·ä½éƒ½è¿›è¡Œå–å</strong></li></ul></blockquote><h3 id="ç‰¹æ®Šç”¨æ³•"><a href="#ç‰¹æ®Šç”¨æ³•" class="headerlink" title="^ç‰¹æ®Šç”¨æ³•"></a>^ç‰¹æ®Šç”¨æ³•</h3><blockquote><p>ä¸ä½¿ç”¨<strong>ä¸­é—´å˜é‡</strong>å¾—å‰æä¸‹ï¼Œäº¤æ¢2ä¸ªå˜é‡çš„å€¼ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">    System.out.println(x + <span class="string">&quot; &quot;</span> + y); <span class="comment">// 10 11</span></span><br><span class="line">    <span class="comment">// 10 11</span></span><br><span class="line">    x = x ^ y; <span class="comment">// 1010 1011 = 0001</span></span><br><span class="line">    y = x ^ y; <span class="comment">// 0001 1011 = 1010</span></span><br><span class="line">    x = x ^ y; <span class="comment">// 0001 1010 = 1011</span></span><br><span class="line">    System.out.println(x + <span class="string">&quot; &quot;</span> + y); <span class="comment">// 11 10</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    swap(<span class="number">10</span>, <span class="number">11</span>);</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="æ‰©å±•ç»ƒä¹ "><a href="#æ‰©å±•ç»ƒä¹ " class="headerlink" title="æ‰©å±•ç»ƒä¹ "></a>æ‰©å±•ç»ƒä¹ </h3><blockquote><p>ä½¿ç”¨ä½æ“ä½œç¬¦ï¼Œå¯¹å˜é‡aï¼ˆ10ï¼‰è¿›è¡ŒæŸä¸€ä½<strong>ç½®0æˆ–ç½®1</strong>æ“ä½œã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‡å®šä½ç½®ä¸º 1</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test3_SetOne</span> &#123;</span><br><span class="line">    <span class="comment">// â½…æ³•å£°æ˜å¦‚ä¸‹ï¼š</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">setBit</span><span class="params">(<span class="type">int</span> v,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="comment">// æç¤ºï¼šä½¿â½¤ | åŠ &lt;&lt;</span></span><br><span class="line">        <span class="comment">// è¡¥å…¨ä»£ç </span></span><br><span class="line">        v = v | (<span class="number">1</span> &lt;&lt; (n - <span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> setBit(<span class="number">10</span>,<span class="number">3</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;r: &quot;</span> + r); <span class="comment">// 14</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æŒ‡å®šä½ç½®ä¸º 0 </span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test4_SetZero</span> &#123;</span><br><span class="line">    <span class="comment">// â½…æ³•å£°æ˜å¦‚ä¸‹ï¼š</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">setZero</span><span class="params">(<span class="type">int</span> v,<span class="type">int</span> n)</span>&#123;</span><br><span class="line">        <span class="comment">// æç¤ºï¼šä½¿â½¤ ~ åŠ &lt;&lt;</span></span><br><span class="line">        <span class="comment">// è¡¥å…¨ä»£ç </span></span><br><span class="line">        v = v &amp; ~(<span class="number">1</span> &lt;&lt; (n-<span class="number">1</span>));</span><br><span class="line">        <span class="keyword">return</span> v;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">r</span> <span class="operator">=</span> setZero(<span class="number">10</span>,<span class="number">2</span>);</span><br><span class="line">        System.out.println(<span class="string">&quot;r: &quot;</span> + r); <span class="comment">// 8</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ä¸‰ç›®è¿ç®—ç¬¦"><a href="#ä¸‰ç›®è¿ç®—ç¬¦" class="headerlink" title="ä¸‰ç›®è¿ç®—ç¬¦"></a>ä¸‰ç›®è¿ç®—ç¬¦</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230724105648128.png" alt="image-20230724105648128"></p><p>ä¸‰ç›®è¿ç®—ç¬¦ä¹Ÿç§°<strong>æ¡ä»¶è¿ç®—ç¬¦</strong></p><p>æ ¼å¼ï¼š</p><ul><li>ï¼ˆå…³ç³»è¡¨è¾¾å¼ï¼‰ï¼Ÿè¡¨è¾¾å¼1 ï¼šè¡¨è¾¾å¼2ï¼›</li><li>å…³ç³»è¡¨è¾¾å¼æˆç«‹ï¼Œè¿”å›è¡¨è¾¾å¼1ï¼Œå¦åˆ™è¿”å›è¡¨è¾¾å¼2ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> (a &gt; b) ? a : b;</span><br><span class="line"><span class="type">int</span> <span class="variable">min</span> <span class="operator">=</span> (a &lt; b) ? a : b;</span><br></pre></td></tr></table></figure></blockquote><h1 id="æµç¨‹æ§åˆ¶"><a href="#æµç¨‹æ§åˆ¶" class="headerlink" title="æµç¨‹æ§åˆ¶"></a>æµç¨‹æ§åˆ¶</h1><blockquote><ul><li>é¡ºåºç»“æ„</li><li>åˆ†æ”¯ç»“æ„<ul><li>ifè¯­å¥</li><li>switchåˆ†æ”¯è¯­å¥</li></ul></li><li>å¾ªç¯ç»“æ„<ul><li>for</li><li>while</li><li>do while</li></ul></li></ul></blockquote><h2 id="é¡ºåºç»“æ„"><a href="#é¡ºåºç»“æ„" class="headerlink" title="é¡ºåºç»“æ„"></a>é¡ºåºç»“æ„</h2><blockquote><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230725163505288.png" alt="image-20230725163505288"></p></blockquote><h2 id="ifåˆ¤æ–­"><a href="#ifåˆ¤æ–­" class="headerlink" title="ifåˆ¤æ–­"></a>ifåˆ¤æ–­</h2><h2 id="switchåˆ†æ”¯"><a href="#switchåˆ†æ”¯" class="headerlink" title="switchåˆ†æ”¯"></a>switchåˆ†æ”¯</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">switch</span> (è¡¨è¾¾å¼) &#123; <span class="comment">//è¡¨è¾¾å¼å¯ä»¥ä¸ºbyteã€shortã€intã€charï¼ŒJDK5åŠ </span></span><br><span class="line">        å…¥æšä¸¾ï¼ŒJDK7åŠ å…¥String</span><br><span class="line">            <span class="keyword">case</span> <span class="number">1</span>: <span class="comment">//åˆ†æ”¯å…¥å£</span></span><br><span class="line">        è¯­å¥ä½“<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">    <span class="keyword">case</span> <span class="number">2</span>: <span class="comment">//åˆ†æ”¯å…¥å£</span></span><br><span class="line">        è¯­å¥ä½“<span class="number">2</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">        ...</span><br><span class="line">            <span class="keyword">default</span>:</span><br><span class="line">        è¯­å¥ä½“n+<span class="number">1</span>;</span><br><span class="line">        <span class="keyword">break</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230725164031143.png" alt="image-20230725164031143"></p><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230725164131609.png" alt="image-20230725164131609"></p></blockquote><h2 id="forå¾ªç¯"><a href="#forå¾ªç¯" class="headerlink" title="forå¾ªç¯"></a>forå¾ªç¯</h2><h2 id="whileå¾ªç¯"><a href="#whileå¾ªç¯" class="headerlink" title="whileå¾ªç¯"></a>whileå¾ªç¯</h2><h2 id="do-while"><a href="#do-while" class="headerlink" title="do-while"></a>do-while</h2><h2 id="åŒºåˆ«"><a href="#åŒºåˆ«" class="headerlink" title="åŒºåˆ«"></a>åŒºåˆ«</h2><blockquote><ul><li>forå’Œwhileå¾ªç¯<strong>å…ˆåˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹</strong>ï¼Œç„¶åå†³å®šæ˜¯å¦æ‰§è¡Œå¾ªç¯ä½“ï¼ˆå…ˆåˆ¤æ–­å æ‰§è¡Œï¼‰</li><li>doâ€¦while<strong>å…ˆæ‰§è¡Œä¸€æ¬¡å¾ªç¯ä½“</strong>ï¼Œç„¶ååˆ¤æ–­æ¡ä»¶æ˜¯å¦æˆç«‹ï¼Œæ˜¯å¦ç»§ç»­æ‰§è¡Œå¾ªç¯ä½“ ï¼ˆå…ˆæ‰§è¡Œååˆ¤æ–­ï¼‰</li></ul></blockquote><h2 id="break"><a href="#break" class="headerlink" title="break"></a>break</h2><h2 id="continue"><a href="#continue" class="headerlink" title="continue"></a>continue</h2><h1 id="å¾ªç¯åµŒå¥—"><a href="#å¾ªç¯åµŒå¥—" class="headerlink" title="å¾ªç¯åµŒå¥—"></a>å¾ªç¯åµŒå¥—</h1><h1 id="label"><a href="#label" class="headerlink" title="label"></a>label</h1><blockquote><p>ä»£ç ä¸­å‡ºç°å¤šå±‚å¾ªç¯åµŒå¥—ï¼Œlabelæ ‡ç­¾é…åˆbreakå…³é”®å­—ï¼Œå¯ä»¥ä½¿ç¨‹åºä»å†…éƒ¨å¾ª ç¯ä¸­è·³å‡ºã€‚</p><p><strong>æ³¨æ„ï¼šlabelä¸æ˜¯å…³é”®å­—</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    lable1:<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; <span class="number">3</span>; i++)&#123;<span class="comment">//å¤–å±‚å¾ªç¯</span></span><br><span class="line">        lable2:<span class="keyword">for</span>(<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; <span class="number">5</span>; j++)&#123;<span class="comment">//å†…å±‚å¾ªç¯</span></span><br><span class="line">            <span class="keyword">if</span>(j == <span class="number">2</span>)&#123;</span><br><span class="line">                <span class="keyword">break</span> lable1; <span class="comment">// æ­¤æ—¶å¯ä»¥è·³å‡ºæœ€å¤–å±‚forå¾ªç¯</span></span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œé»˜è®¤æƒ…å†µä¸‹ï¼Œåœ¨åµŒå¥—å¾ªç¯ä¸­ï¼Œbreakå’Œcontinueåªèƒ½å¯¹<strong>å½“å‰å¾ªç¯</strong>èµ·ä½œç”¨ã€‚</p></blockquote><h1 id="Random"><a href="#Random" class="headerlink" title="Random"></a>Random</h1><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//ç¬¬ä¸€æ­¥ï¼Œå¯¼åŒ…</span></span><br><span class="line"><span class="keyword">import</span> java.util.Random</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test05_Random</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span>&#123;</span><br><span class="line">        <span class="comment">//ç¬¬äºŒæ­¥ï¼Œåˆ›å»ºå¯¹è±¡</span></span><br><span class="line">        <span class="type">Random</span> <span class="variable">r</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Random</span>();</span><br><span class="line">        <span class="keyword">for</span>(<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt;= <span class="number">10</span>; i++)&#123; </span><br><span class="line">            <span class="comment">// nextInt() é»˜è®¤[0,1)</span></span><br><span class="line">            <span class="comment">// nextInt(n) [0,n)</span></span><br><span class="line">            <span class="comment">//ç¬¬ä¸‰æ­¥ï¼Œè°ƒç”¨nextInt(max-min+1) + min; äº§ç”Ÿéšæœºæ•°</span></span><br><span class="line">            <span class="type">int</span> <span class="variable">num</span> <span class="operator">=</span> r.nextInt(<span class="number">20</span>-<span class="number">10</span>+<span class="number">1</span>) + <span class="number">10</span>; <span class="comment">// 10-20 =  [10,21)</span></span><br><span class="line">            System.out.println(num);</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ³¨æ„ï¼šè·å–[min,max]èŒƒå›´éšæœºæ•°çš„å…¬å¼å¦‚ä¸‹ </li><li><code>int number = r.nextInt(max-min+1) + min;</code></li></ul></blockquote><h1 id="æ–¹æ³•"><a href="#æ–¹æ³•" class="headerlink" title="æ–¹æ³•"></a>æ–¹æ³•</h1><blockquote><p>æ–¹æ³•ï¼ˆmethodï¼‰: å°±æ˜¯å®Œæˆç‰¹å®šåŠŸèƒ½çš„ä»£ç å—ï¼ æé«˜äº†ä»£ç çš„å¤ç”¨æ€§ä¸å¯è¯»æ€§</p></blockquote><h2 id="å®šä¹‰"><a href="#å®šä¹‰" class="headerlink" title="å®šä¹‰"></a>å®šä¹‰</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">ä¿®é¥°ç¬¦ è¿”å›å€¼ç±»å‹ æ–¹æ³•å(å½¢å¼å‚æ•°åˆ—è¡¨) &#123;</span><br><span class="line">    æ–¹æ³•ä½“è¯­å¥;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¿®é¥°ç¬¦ï¼špublicã€staticã€privateã€protectã€final</li><li>è¿”å›å€¼ç±»å‹ï¼šæ ¹æ®è¯¥æ–¹æ³•çš„å…·ä½“åŠŸèƒ½è€Œå®š<ul><li>å¦‚æœæ–¹æ³•çš„ä½œç”¨ä»…ä½œè¾“å‡ºï¼Œä¸éœ€è¦è¿”å›æ•°æ®ï¼Œåˆ™ä¸ºvoid</li><li>å¦‚æœæ–¹æ³•éœ€è¦è®¡ç®—ä¸€ä¸ªç»“æœå¹¶è¿”å›ï¼Œåˆ™ä¸ºç»“æœç±»å‹ï¼ˆintã€doubleã€Stringç­‰ï¼‰</li></ul></li><li>æ–¹æ³•å<ul><li><strong>è§åçŸ¥æ„</strong>ï¼Œæ–¹æ³•åçš„æè¿°æ€§è¦å¥½</li><li><strong>é©¼å³°å‘½åæ³•</strong>ï¼Œå¦‚æœåªæœ‰ä¸€ä¸ªå•è¯å…¨å°å†™ï¼ˆå°é©¼å³°ï¼‰<ul><li>ä¾‹ï¼šdisplay() sum()</li></ul></li><li>å¦‚æœå¤šä¸ªå•è¯æ„æˆï¼Œåˆ™ç¬¬ä¸€ä¸ªå•è¯å…¨å°å†™ï¼Œåç»­å•è¯é¦–å­—æ¯å¤§å†™<ul><li>ä¾‹ï¼šsayHello() getMax() findStudentById()</li></ul></li></ul></li><li>å½¢å¼å‚æ•°åˆ—è¡¨<ul><li>æ ¹æ®è¯¥æ–¹æ³•çš„å…·ä½“åŠŸèƒ½è€Œå®š</li><li>å…·ä½“æ¡ˆä¾‹å¦‚ä¸‹ï¼š<ul><li>è®¡ç®—2ä¸ªintæ•°çš„å’Œï¼Œåˆ™ <code>int getSum(int a, int b)</code></li><li>è®¡ç®—3ä¸ªæ•°çš„å¹³å‡æ•°ï¼Œåˆ™ <code>double getAvg(int x, int y, int z)</code></li><li>éå†ä¸€ä¸ªæ•°ç»„ï¼Œåˆ™ <code>void outArray(int[] array)</code></li></ul></li></ul></li><li>æ–¹æ³•ä½“è¯­å¥ï¼šæ–¹æ³•çš„å…·ä½“å®ç°ï¼Œè¦æ ¹æ®æ–¹æ³•åŠŸèƒ½ä¹¦å†™ä»£ç </li></ul></blockquote><h2 id="è°ƒç”¨"><a href="#è°ƒç”¨" class="headerlink" title="è°ƒç”¨"></a>è°ƒç”¨</h2><blockquote><p>æ–¹æ³•è°ƒç”¨æ ¼å¼ï¼š æ–¹æ³•å(å®é™…å‚æ•°åˆ—è¡¨);</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> <span class="variable">max</span> <span class="operator">=</span> getMax(<span class="number">10</span>, <span class="number">20</span>);</span><br></pre></td></tr></table></figure><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>æ–¹æ³•å¿…é¡»<strong>å…ˆå®šä¹‰ï¼Œå†è°ƒç”¨</strong></li><li>å®é™…å‚æ•°åˆ—è¡¨å¯ä»¥æ˜¯å¸¸é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯å˜é‡ï¼Œä¹Ÿå¯ä»¥æ˜¯è¡¨è¾¾å¼</li><li>å®é™…å‚æ•°ç±»å‹è¦åŒ¹é…å½¢å¼å‚æ•°ç±»å‹ï¼ˆ<strong>è¦ä¹ˆå®Œå…¨ç›¸åŒï¼Œè¦ä¹ˆèƒ½è‡ªåŠ¨éšå¼ç±»å‹è½¬æ¢</strong>ï¼‰</li><li>mainæ–¹æ³•æ˜¯å…¥å£æ–¹æ³•ï¼Œä¸€ä¸ªç¨‹åºä¸­å”¯ä¸€ï¼Œå…¶å¯ä»¥è°ƒç”¨å…¶ä»–æ™®é€šæ–¹æ³•</li><li>å…¶ä»–æ–¹æ³•ä¸èƒ½è°ƒç”¨mainæ–¹æ³•ï¼Œæ™®é€šæ–¹æ³•å¯ä»¥ç›¸äº’è°ƒç”¨</li></ul></blockquote><h3 id="ä¼ å€¼è°ƒç”¨"><a href="#ä¼ å€¼è°ƒç”¨" class="headerlink" title="ä¼ å€¼è°ƒç”¨"></a>ä¼ å€¼è°ƒç”¨</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">    System.out.println(<span class="string">&quot;äº¤æ¢å‰ï¼Œx: &quot;</span> + x + <span class="string">&quot; y: &quot;</span> + y); <span class="comment">// 10 20</span></span><br><span class="line">    x = x ^ y;</span><br><span class="line">    y = x ^ y;</span><br><span class="line">    x = x ^ y;</span><br><span class="line">    System.out.println(<span class="string">&quot;äº¤æ¢åï¼Œx: &quot;</span> + x + <span class="string">&quot; y: &quot;</span> + y); <span class="comment">// 20 10s</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">a</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line">    <span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>;</span><br><span class="line">    <span class="comment">//è°ƒç”¨æ–¹æ³•</span></span><br><span class="line">    swap(a,b);</span><br><span class="line">    System.out.println(<span class="string">&quot;äº¤æ¢åï¼Œa: &quot;</span> + a + <span class="string">&quot; b: &quot;</span> + b); <span class="comment">// 10 20</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="skyblue">æ€è€ƒï¼šä¸ºä»€ä¹ˆaã€bä¸¤ä¸ªå…ƒç´ çš„å€¼æ²¡æœ‰äº¤æ¢ï¼Ÿ</font></p><p><img src="/2023/07/24/03-%E6%93%8D%E4%BD%9C%E7%AC%A6-%E6%B5%81%E7%A8%8B%E6%8E%A7%E5%88%B6-%E6%96%B9%E6%B3%95/image-20230725185034968.png" alt="image-20230725185034968"></p></blockquote><h2 id="é‡è½½"><a href="#é‡è½½" class="headerlink" title="é‡è½½"></a>é‡è½½</h2><blockquote><p>æ–¹æ³•é‡è½½ï¼šæŒ‡åŒä¸€ä¸ªç±»ä¸­å®šä¹‰çš„å¤šä¸ªæ–¹æ³•ä¹‹é—´çš„å…³ç³»ï¼Œå¦‚æœå¤šä¸ªæ–¹æ³•è¦æ„æˆé‡è½½ï¼Œåˆ™éœ€è¦åŒæ—¶æ»¡è¶³ä¸‹é¢æ¡ä»¶~</p><ul><li>å¤šä¸ªæ–¹æ³•åœ¨<strong>åŒä¸€ä¸ªç±»</strong>ä¸­</li><li>å¤šä¸ªæ–¹æ³•å…·æœ‰<strong>ç›¸åŒçš„æ–¹æ³•å</strong></li><li>å¤šä¸ªæ–¹æ³•çš„<strong>å‚æ•°åˆ—è¡¨ä¸ç›¸åŒ</strong>ï¼ˆ<strong>ç±»å‹ä¸åŒ</strong>æˆ–è€…<strong>æ•°é‡ä¸åŒ</strong>ï¼‰</li><li>é‡è½½è·Ÿå‡½æ•°çš„<strong>è¿”å›å€¼ç±»å‹</strong>æ— å…³</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Test</span> &#123;</span><br><span class="line">    <span class="comment">//é‡è½½1ï¼šæ±‚ä¸¤ä¸ªintç±»å‹æ•°æ®å’Œçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é‡è½½2ï¼šæ±‚ä¸¤ä¸ªdoubleç±»å‹æ•°æ®å’Œçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">double</span> <span class="title function_">sum</span><span class="params">(<span class="type">double</span> a, <span class="type">double</span> b)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="comment">//é‡è½½3ï¼šæ±‚ä¸‰ä¸ªintç±»å‹æ•°æ®å’Œçš„æ–¹æ³•</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">sum</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b, <span class="type">int</span> c)</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> a + b + c;</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="comment">// è°ƒç”¨æ–¹æ³•æ—¶ï¼ŒJavaè™šæ‹Ÿæœºä¼šé€šè¿‡å®é™…å‚æ•°çš„ä¸åŒæ¥åŒºåˆ†åŒåçš„æ–¹æ³•ï¼Œä»è€Œå®ç°ç²¾å‡†è°ƒç”¨</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">result</span> <span class="operator">=</span> sum(<span class="number">10</span>, <span class="number">20</span>);</span><br><span class="line">        System.out.println(result);</span><br><span class="line">        <span class="type">double</span> <span class="variable">result2</span> <span class="operator">=</span> sum(<span class="number">10.0</span>, <span class="number">20.0</span>);</span><br><span class="line">        System.out.println(result2);</span><br><span class="line">        <span class="type">int</span> <span class="variable">result3</span> <span class="operator">=</span> sum(<span class="number">10</span>, <span class="number">20</span>, <span class="number">30</span>);</span><br><span class="line">        System.out.println(result3);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>åƒæ·˜ä¸‡æµªè™½è¾›è‹¦ï¼Œå¹å°½é»„æ²™å§‹åˆ°é‡‘ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>02-æ ‡ç¤ºç¬¦-å…³é”®å­—-å˜é‡</title>
      <link href="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/"/>
      <url>/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="æ³¨é‡Š"><a href="#æ³¨é‡Š" class="headerlink" title="æ³¨é‡Š"></a>æ³¨é‡Š</h1><blockquote><p>Javaä¸­çš„æ³¨é‡Šï¼Œåˆ†ä¸ºä¸‰ç§ï¼š</p><ul><li>å•è¡Œæ³¨é‡Š</li><li>å¤šè¡Œæ³¨é‡Š</li><li>æ–‡æ¡£æ³¨é‡Š</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å•è¡Œ</span></span><br><span class="line"><span class="comment">/*</span></span><br><span class="line"><span class="comment">å¤šè¡Œ</span></span><br><span class="line"><span class="comment">*/</span></span><br><span class="line"><span class="comment">/**</span></span><br><span class="line"><span class="comment">æ–‡æ¡£æ³¨é‡Š</span></span><br><span class="line"><span class="comment">*/</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><p>æ€è€ƒï¼šJavaæºä»£ç ä¸­å¦‚æœæ·»åŠ äº†æ³¨é‡Šï¼Œä¼šä¸ä¼šå¯¼è‡´å­—èŠ‚ç æ–‡ä»¶ä¼šè‡ƒè‚¿å˜ å¤§ï¼Ÿ</p><p>å›ç­”ï¼š<strong>ä¸ä¼šçš„</strong>ã€‚å› ä¸ºæºä»£ç æ–‡ä»¶ï¼šXxxx.Java é€šè¿‡<strong>ç¼–è¯‘</strong>ç”Ÿæˆ<strong>å­—èŠ‚ç æ–‡ä»¶</strong>ï¼š Xxxx.classçš„è¿‡ç¨‹ä¸­ï¼Œç¼–è¯‘å™¨ä¼š<strong>å¿½ç•¥æ‰</strong>æºç ä¸­çš„<strong>æ³¨é‡Šéƒ¨åˆ†</strong>ã€‚</p></blockquote><h1 id="å…³é”®å­—"><a href="#å…³é”®å­—" class="headerlink" title="å…³é”®å­—"></a>å…³é”®å­—</h1><blockquote><p>å…³é”®å­—æ¦‚è¿°ï¼š</p><ul><li>è¢«Javaè¯­è¨€èµ‹äºˆ<strong>ç‰¹å®šå«ä¹‰</strong>çš„å•è¯</li></ul><p>å…³é”®å­—ç‰¹ç‚¹ï¼š</p><ul><li>ç»„æˆå…³é”®å­—çš„<strong>å­—æ¯å…¨éƒ¨å°å†™</strong>ï¼Œå¸¸ç”¨çš„ä»£ç ç¼–è¾‘å™¨å¯¹å…³é”®å­—éƒ½æœ‰<strong>é«˜äº®æ˜¾ç¤º</strong></li></ul></blockquote><blockquote><p>Keywords in Java:</p><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723094304824.png" alt="image-20230723094304824"></p><ul><li><p>instanceof</p><ul><li>å®ƒçš„ä½œç”¨æ˜¯æ£€æŸ¥ä¸€ä¸ª<strong>å¯¹è±¡</strong>æ˜¯å¦æ˜¯æŒ‡å®š<strong>ç±»æˆ–æ¥å£</strong>ç±»å‹çš„<strong>å®ä¾‹</strong>ï¼Œæˆ–è€…æ˜¯å¦æ˜¯è¯¥<strong>ç±»çš„å­ç±»å®ä¾‹</strong></li></ul> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> (obj <span class="keyword">instanceof</span> MyClass) &#123;</span><br><span class="line">    <span class="comment">// objæ˜¯MyClassæˆ–å…¶å­ç±»çš„å®ä¾‹</span></span><br><span class="line">    <span class="type">MyClass</span> <span class="variable">myObj</span> <span class="operator">=</span> (MyClass) obj; <span class="comment">// å¯ä»¥å®‰å…¨åœ°è¿›è¡Œç±»å‹è½¬æ¢</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>native</p><ul><li>æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦å…³é”®å­—ï¼Œç”¨äºå£°æ˜ä¸€ä¸ªæ–¹æ³•æ˜¯ç”±<strong>éJavaä»£ç </strong>å®ç°çš„ï¼Œé€šå¸¸æ˜¯ç”±<strong>æœ¬åœ°ä»£ç </strong>ï¼ˆå¦‚Cæˆ–C++ï¼‰å®ç°çš„ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">native</span> <span class="keyword">void</span> <span class="title function_">nativeMethod</span><span class="params">()</span>; <span class="comment">// æœ¬åœ°æ–¹æ³•å£°æ˜</span></span><br></pre></td></tr></table></figure></li><li><p>synchronized</p><ul><li>æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦å…³é”®å­—ï¼Œç”¨äºæ§åˆ¶å¯¹<strong>å…±äº«èµ„æº</strong>çš„è®¿é—®ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">synchronizedMethod</span><span class="params">()</span>&#123;</span><br><span class="line">    <span class="comment">// è¿™é‡Œä»£ç åœ¨åŒä¸€æ—¶åˆ»åªèƒ½è¢«ä¸€ä¸ªçº¿ç¨‹ æ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">synchronized</span> <span class="keyword">void</span> <span class="title function_">staticSynchronizedMethod</span><span class="params">()</span> &#123; <span class="comment">// ç±»å¯¹è±¡é”</span></span><br><span class="line">    <span class="comment">// é™æ€æ–¹æ³•çš„é”æ˜¯ç±»å¯¹è±¡ï¼Œåœ¨åŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œ</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">private</span> <span class="type">Object</span> <span class="variable">lock</span> <span class="operator">=</span> <span class="keyword">new</span> <span class="title class_">Object</span>();</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">someMethod</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">synchronized</span>(lock) &#123; <span class="comment">// æŒ‡å®šå¯¹è±¡é”</span></span><br><span class="line">        <span class="comment">// ä½¿ç”¨æŒ‡å®šçš„å¯¹è±¡ä½œä¸ºé”ï¼ŒåŒä¸€æ—¶åˆ»åªèƒ½æœ‰ä¸€ä¸ªçº¿ç¨‹æ‰§è¡Œè¿™ä¸ªä»£ç å—</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>transientt</p><ul><li>æ˜¯ä¸€ä¸ªä¿®é¥°ç¬¦å…³é”®å­—ï¼Œç”¨äºæ ‡è®°ç±»çš„æˆå‘˜å˜é‡ï¼Œè¡¨ç¤ºè¿™äº›å˜é‡åœ¨<strong>åºåˆ—åŒ–è¿‡ç¨‹</strong>ä¸­å°†ä¼šè¢«å¿½ç•¥ï¼Œ<strong>ä¸ä¼š</strong>è¢«å†™å…¥<strong>å¯¹è±¡çš„æŒä¹…åŒ–å­˜å‚¨</strong>ä¸­ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">MyClass</span> <span class="keyword">implements</span> <span class="title class_">Serializable</span>&#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="type">int</span> normalField; <span class="comment">// è¿™ä¸ªå­—æ®µä¼šè¢«åºåˆ—åŒ–</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">transient</span> <span class="type">int</span> tempField; <span class="comment">// è¿™ä¸ªå­—æ®µåœ¨åºåˆ—åŒ–æ—¶ä¼šè¢«å¿½ç•¥</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li><li><p>volatile</p><ul><li>å®ƒçš„ä½œç”¨æ˜¯å‘Šè¯‰ç¼–è¯‘å™¨å’Œè™šæ‹Ÿæœºï¼Œè¢« <code>volatile</code> ä¿®é¥°çš„å˜é‡åœ¨<strong>å¤šçº¿ç¨‹ç¯å¢ƒ</strong>ä¸‹å¯èƒ½ä¼šè¢«<strong>å¹¶å‘ä¿®æ”¹</strong>ï¼Œå› æ­¤éœ€è¦<strong>ç‰¹æ®Šå¯¹å¾…</strong>ï¼Œç¡®ä¿å¯¹è¯¥å˜é‡çš„<strong>è¯»å†™æ“ä½œ</strong>æ˜¯å…·æœ‰<strong>å¯è§æ€§</strong>çš„å’Œ<strong>æŒ‰ç…§é¡ºåºæ‰§è¡Œ</strong>çš„ã€‚</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">SharedData</span> &#123;</span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">volatile</span> <span class="type">int</span> count; <span class="comment">// ä»€ä¹ˆå£°æ˜ä¸€ä¸ªvolatileå˜é‡</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">increment</span><span class="params">()</span> &#123;</span><br><span class="line">        count++; <span class="comment">// å¯¹volatileå˜é‡è¿›è¡Œå†™å…¥æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">void</span> get <span class="title function_">Count</span><span class="params">()</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> count; <span class="comment">// å¯¹volatileå˜é‡è¿›è¡Œè¯»å–æ“ä½œ</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></li></ul></blockquote><h1 id="æ ‡è¯†ç¬¦"><a href="#æ ‡è¯†ç¬¦" class="headerlink" title="æ ‡è¯†ç¬¦"></a>æ ‡è¯†ç¬¦</h1><blockquote><p>åœ¨Javaä¸­ï¼Œç»™ç±»ã€æ–¹æ³•ã€å˜é‡èµ·çš„åå­—ï¼Œå°±æ˜¯æ ‡è¯†ç¬¦ï¼Œå…¶å¯ä»¥ç”¨æ¥<strong>æ ‡è¯†</strong> è¿™ä¸ªç±»ã€æ–¹æ³•ã€å˜é‡</p></blockquote><h2 id="å‘½åè§„åˆ™ï¼š"><a href="#å‘½åè§„åˆ™ï¼š" class="headerlink" title="å‘½åè§„åˆ™ï¼š"></a>å‘½åè§„åˆ™ï¼š</h2><blockquote><ul><li>å­—æ¯ã€æ•°å­—ã€ä¸‹åˆ’çº¿_ã€ç¾å…ƒç¬¦å·$ç»„æˆ</li><li>å¼€å¤´ä¸èƒ½æ˜¯æ•°å­—</li><li>å­—ç¬¦å¤§å°å†™æ•æ„Ÿ</li><li>é•¿åº¦æ²¡æœ‰é™åˆ¶</li><li>ä¸èƒ½ä½¿ç”¨Javaä¸­çš„å…³é”®å­—æˆ–ä¿ç•™å­—</li></ul><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723101741054.png" alt="image-20230723101741054"></p></blockquote><h2 id="å‘½åçº¦å®š"><a href="#å‘½åçº¦å®š" class="headerlink" title="å‘½åçº¦å®š"></a>å‘½åçº¦å®š</h2><blockquote><p>é‡‡ç”¨é©¼å³°å‘½åæ³•ï¼š</p><ul><li><p>é¡¹ç›®å</p><ul><li>å…¨éƒ¨å°å†™ã€‚å¦‚ï¼šworkdeskã€jobserverã€‚</li></ul></li><li><p>åŒ…å</p><ul><li>å…¨éƒ¨å°å†™ï¼Œåè¯ã€‚å¦‚ï¼šjava.awt.eventã€‚</li></ul></li><li><p>ç±»å’Œæ¥å£</p><ul><li>ä¸ç®¡æ˜¯1ä¸ªè¿˜æ˜¯å¤šä¸ªå•è¯ï¼Œæ¯ä¸ªå•è¯é¦–å­—æ¯éƒ½å¤§å†™ï¼ˆå¤§é©¼å³°ï¼‰</li></ul> <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">Account</span>&#123;&#125;</span><br><span class="line"><span class="keyword">public</span> <span class="keyword">interface</span> <span class="title class_">AccountBase</span>&#123;&#125;</span><br></pre></td></tr></table></figure></li><li><p>æ–¹æ³•å’Œå˜é‡</p><ul><li>é¦–å­—æ¯å°å†™ï¼Œç¬¬äºŒä¸ªå•è¯å¼€å§‹æ¯ä¸ªå•è¯çš„é¦–å­—æ¯å¤§å†™ï¼ˆå°é©¼å³°ï¼‰</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">getStudentName</span><span class="params">()</span>&#123;&#125;</span><br><span class="line"><span class="type">int</span> <span class="variable">personNum</span> <span class="operator">=</span> <span class="number">1</span>;</span><br></pre></td></tr></table></figure></li><li><p>å¸¸é‡</p><ul><li>å…¨éƒ¨å­—ç¬¦å¤§å†™ï¼Œå¦‚æœæ˜¯å¤šä¸ªå•è¯ï¼Œå•è¯ä¸å•è¯é—´ä½¿ç”¨ä¸‹åˆ’çº¿åˆ†éš”</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">final</span> <span class="type">int</span> <span class="variable">MAX_NUM</span> <span class="operator">=</span> <span class="number">10</span>;</span><br></pre></td></tr></table></figure></li><li><p>å°½é‡ä½¿ç”¨æœ‰æ„ä¹‰çš„åå­—ï¼Œå°½é‡åšåˆ°<strong>è§åçŸ¥æ„</strong></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">  <span class="type">int</span> <span class="variable">numOfStudent</span> <span class="operator">=</span> <span class="number">10</span>;</span><br><span class="line"><span class="type">String</span> <span class="variable">userName</span> <span class="operator">=</span> <span class="string">&quot;tom&quot;</span>;</span><br></pre></td></tr></table></figure></li></ul></blockquote><h1 id="å¸¸é‡"><a href="#å¸¸é‡" class="headerlink" title="å¸¸é‡"></a>å¸¸é‡</h1><blockquote><p>æ¦‚å¿µï¼šåœ¨ç¨‹åºè¿è¡Œè¿‡è½¦ä¸­ï¼Œå…¶å€¼ä¸å¯ä»¥å‘ç”Ÿæ”¹å˜çš„é‡ï¼Œç§°ä¸ºå¸¸é‡ã€‚</p><p>åˆ†ç±»ï¼š<strong>å­—é¢å€¼å¸¸é‡</strong> å’Œ <strong>è‡ªå®šä¹‰å¸¸é‡</strong></p></blockquote><blockquote><p>å­—é¢å€¼å¸¸é‡</p><ul><li><strong>å­—ç¬¦ä¸²å¸¸é‡</strong>ï¼šç”¨åŒå¼•å·æ‹¬èµ·æ¥çš„å¤šä¸ªå­—ç¬¦ï¼ˆå¯ä»¥åŒ…å«0ä¸ªã€ä¸€ä¸ªæˆ–å¤šä¸ªï¼‰ã€‚<code> &quot;&quot;ã€&quot;a&quot;ã€&quot;abc&quot;ã€&quot;ä¸­å›½&quot;</code></li><li><strong>æ•´æ•°å¸¸é‡</strong>ï¼š æ•´æ•°  <code>-10ã€0ã€88</code></li><li><strong>å°æ•°å¸¸é‡</strong>ï¼šå°æ•° <code>-5.5ã€1.0.88.88</code></li><li><strong>å¸ƒå°”å¸¸é‡</strong>ï¼šå¸ƒå°”å€¼ï¼Œè¡¨ç¤ºçœŸå‡ï¼Œåªæœ‰trueå’Œfalse</li><li><strong>ç©ºå¸¸é‡</strong>ï¼šä¸€ä¸ªç‰¹æ®Šçš„å€¼ï¼Œç©ºç½®ï¼Œå€¼ä¸ºnull</li></ul></blockquote><h1 id="å˜é‡"><a href="#å˜é‡" class="headerlink" title="å˜é‡"></a>å˜é‡</h1><blockquote><ul><li>æ ¼å¼1<ul><li>æ•°æ®ç±»å‹ å˜é‡åï¼›</li><li>å˜é‡å &#x3D; æ•°æ®å€¼ï¼›</li></ul></li><li>æ ¼å¼2<ul><li>æ•°æ®ç±»å‹ å˜é‡å &#x3D; æ•°æ®å€¼ï¼› ï¼ˆæ¨èï¼‰</li></ul></li></ul><p><font color="skyblue">å˜é‡ä¸€å®šæ˜¯è¦æ±‚å…ˆå£°æ˜ã€å†èµ‹å€¼ã€å†ä½¿ç”¨</font></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">int</span> a;</span><br><span class="line">a = <span class="number">10</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">20</span>; <span class="comment">// å£°æ˜+èµ‹å€¼</span></span><br></pre></td></tr></table></figure><p>ç†è§£ï¼š</p><ul><li>æ•°æ®ç±»å‹ï¼š<strong>Javaæ˜¯å¼ºç±»å‹è¯­è¨€</strong>ï¼Œæ¯ä¸ªå¸¸é‡æˆ–å˜é‡éƒ½æœ‰å¯¹åº”çš„æ•°æ®ç±»å‹</li><li>å˜é‡åï¼šä¸€ä¸ªæ ‡è¯†ç¬¦ï¼Œæ ‡è¯†<strong>å†…å­˜ä¸Šçš„ä¸€å—ç©ºé—´</strong></li><li>æ•°æ®å€¼ï¼šå³å˜é‡å€¼ï¼Œè¯¥å€¼ä¼š<strong>å­˜å‚¨</strong>åˆ°å˜é‡åæ ‡è¯†çš„é‚£å—<strong>ç©ºé—´</strong></li></ul></blockquote><h2 id="å†…å­˜åŸºç¡€çŸ¥è¯†ï¼š"><a href="#å†…å­˜åŸºç¡€çŸ¥è¯†ï¼š" class="headerlink" title="å†…å­˜åŸºç¡€çŸ¥è¯†ï¼š"></a>å†…å­˜åŸºç¡€çŸ¥è¯†ï¼š</h2><blockquote><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723105926602.png" alt="image-20230723105926602"></p></blockquote><h2 id="ç¨‹åºæ‰§è¡Œæµç¨‹"><a href="#ç¨‹åºæ‰§è¡Œæµç¨‹" class="headerlink" title="ç¨‹åºæ‰§è¡Œæµç¨‹"></a>ç¨‹åºæ‰§è¡Œæµç¨‹</h2><blockquote><ol><li>æ‰§è¡Œjavaå‘½ä»¤ï¼Œç³»ç»Ÿä¼šæŠŠ<strong>ç¼–è¯‘ç”Ÿæˆçš„classæ–‡ä»¶</strong>å†…å®¹è£…å…¥<strong>å†…å­˜ä¸­çš„æ–¹æ³•åŒº</strong></li><li>æ¥ä¸‹æ¥æ‰¾åˆ°é‡Œé¢çš„<strong>mainæ–¹æ³•ï¼ˆç¨‹åºå…¥å£ï¼‰</strong></li><li>å†åœ¨<strong>æ–¹æ³•æ ˆ</strong>ç©ºé—´ç”³è¯·ä¸€å—åŒºåŸŸï¼ˆ<strong>å­˜å‚¨æ–¹æ³•ä¸­å˜é‡</strong>ï¼‰æ¥ä¿è¯mainæ–¹æ³•çš„æ‰§è¡Œ</li><li>æœ€å<strong>é¡ºåºæ‰§è¡Œ</strong>mainæ–¹æ³•ä¸­çš„ä»£ç </li><li>é‡åˆ°mainæ–¹æ³•çš„<strong>â€œ}â€æˆ–return</strong>è¯­å¥ï¼Œæ–¹æ³•æ‰§è¡Œç»“æŸï¼Œ<strong>mainæ–¹æ³•å‡½æ•°å¸§å†…å­˜é‡Šæ”¾</strong></li></ol></blockquote><h2 id="å˜é‡å†…å­˜"><a href="#å˜é‡å†…å­˜" class="headerlink" title="å˜é‡å†…å­˜"></a>å˜é‡å†…å­˜</h2><blockquote><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723110823912.png" alt="image-20230723110823912"></p><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723111248748.png" alt="image-20230723111248748"></p></blockquote><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><blockquote><ul><li>å˜é‡åæ˜¯æ ‡è¯†ç¬¦ä¸­çš„ä¸€ç§ï¼Œç”¨æ¥æ ‡è¯†ä¸€å—å†…å­˜åŒºåŸŸ</li><li>å˜é‡å®šä¹‰åæ²¡æœ‰èµ‹åˆå€¼ï¼Œä¸èƒ½ç›´æ¥ä½¿ç”¨ï¼Œç¼–è¯‘æŠ¥é”™</li><li>å˜é‡å€¼çš„ç±»å‹åº”è¯¥è·Ÿå˜é‡çš„ç±»å‹ä¸€è‡´</li></ul></blockquote><h1 id="æ•°æ®ç±»å‹"><a href="#æ•°æ®ç±»å‹" class="headerlink" title="æ•°æ®ç±»å‹"></a>æ•°æ®ç±»å‹</h1><h2 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h2><blockquote><p>Javaæ˜¯å¼ºç±»å‹è¯­è¨€ï¼Œå¯¹äºæ¯ä¸€ç§æ•°æ®éƒ½å®šä¹‰äº†æ˜ç¡®çš„æ•°æ®ç±»å‹ï¼Œ<strong>ä¸åŒç±»å‹</strong> å˜é‡åœ¨å†…å­˜ä¸­å¯¹åº”çš„<strong>ç©ºé—´å¤§å°ä¸åŒ</strong>ã€‚</p><p>åˆ†ç±»ï¼š</p><ul><li>åŸºæœ¬æ•°æ®ç±»å‹<ul><li>æ•´æ•°å‹ byte short int long</li><li>æµ®ç‚¹å‹ float double</li><li>å­—ç¬¦å‹ char</li><li>å¸ƒå°”å‹ boolean</li></ul></li><li>å¼•ç”¨æ•°æ®ç±»å‹</li></ul><p><strong>æ€è€ƒï¼šä¸ºä»€ä¹ˆæ•°æ®ç±»å‹æœ‰è¿™ä¹ˆå¤šç§å‘¢ï¼Ÿ</strong></p><ul><li><strong>ä¸åŒçš„æ•°æ®</strong>å ç”¨çš„<strong>å†…å­˜ç©ºé—´æ˜¯ä¸åŒ</strong>çš„</li><li><strong>ä¸åŒçš„å†…å­˜ç©ºé—´</strong>ï¼Œæ‰€<strong>å­˜å‚¨çš„æ•°æ®çš„å¤§å°èŒƒå›´</strong>æ˜¯ä¸ä¸€æ ·</li></ul><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723113817432.png" alt="image-20230723113817432"></p></blockquote><h2 id="å­—èŠ‚"><a href="#å­—èŠ‚" class="headerlink" title="å­—èŠ‚"></a>å­—èŠ‚</h2><blockquote><p>æ¯”ç‰¹ä½ï¼šï¼šbit ï¼Œæ˜¯<strong>è®¡ç®—æœºå­˜å‚¨ä¿¡æ¯çš„æœ€å°å•ä½</strong>ï¼Œå­˜æ”¾ä¸€ä½äºŒè¿›åˆ¶æ•°ï¼Œå³ <strong>0 æˆ– 1</strong>ã€‚</p><p>å­—èŠ‚ï¼šbyteï¼Œæ˜¯è®¡ç®—æœº<strong>å­˜å‚¨å®¹é‡çš„æœ€å°å•ä½</strong>ï¼Œé€šå¸¸ç”¨å¤§å†™å­—æ¯â€œBâ€è¡¨ç¤ºï¼Œ **<code>1byte == 8bits</code>**ã€‚</p><p>è®¡ç®—å™¨å­˜å‚¨å®¹é‡çš„å•ä½ï¼Œå¸¸è§çš„è¿˜æœ‰<strong>KBã€Mã€Gã€T</strong>ï¼Œæ¢ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><ul><li>1KB (Kilobyte åƒå­—èŠ‚) &#x3D; 1024Bï¼Œå…¶ä¸­1024&#x3D;2^10 ( 2 çš„10æ¬¡æ–¹) </li><li>1MB (Megabyte å…†å­—èŠ‚ ç®€ç§°â€œå…†â€) &#x3D; 1024KB </li><li>1GB (Gigabyte å‰å­—èŠ‚ åˆç§°â€œåƒå…†â€) &#x3D; 1024MB </li><li>1TB (Trillionbyte ä¸‡äº¿å­—èŠ‚ å¤ªå­—èŠ‚) &#x3D; 1024GB</li></ul></blockquote><h2 id="è¿›åˆ¶"><a href="#è¿›åˆ¶" class="headerlink" title="è¿›åˆ¶"></a>è¿›åˆ¶</h2><blockquote><ul><li>äºŒè¿›åˆ¶ <strong>0b|Bå¼€å¤´</strong>ï¼Œç”±0å’Œ1ç»„æˆ </li><li>å…«è¿›åˆ¶ <strong>0å¼€å¤´</strong>ï¼Œ0ã€1â€¦6ã€7ç»„æˆ </li><li>åè¿›åˆ¶ å¸¸è§æ•´æ•°ï¼Œ0ã€1â€¦8ã€9ç»„æˆ </li><li>åå…­è¿›åˆ¶ <strong>0xæˆ–0Xå¼€å¤´</strong>ï¼Œ0ã€1â€¦8ã€9ã€aã€bã€cã€dã€eã€fç»„æˆï¼Œ<strong>å¤§å°å†™ ä¸åŒºåˆ†</strong></li></ul></blockquote><h2 id="è¿›åˆ¶è½¬æ¢"><a href="#è¿›åˆ¶è½¬æ¢" class="headerlink" title="è¿›åˆ¶è½¬æ¢"></a>è¿›åˆ¶è½¬æ¢</h2><h3 id="ä»»æ„è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶"><a href="#ä»»æ„è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶" class="headerlink" title="ä»»æ„è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶"></a>ä»»æ„è¿›åˆ¶è½¬æ¢ä¸º10è¿›åˆ¶</h3><blockquote><ul><li><code>ç»“æœå€¼ = ç³»æ•°*åŸºæ•°çš„æƒæ¬¡å¹‚ç›¸åŠ </code></li><li><code>0x61ï¼š1*16^0 + 6*16^1 = 1 + 96 = 97</code></li></ul><p>å˜é‡å†…å­˜ç†è§£ï¼š</p><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723151444575.png" alt="image-20230723151444575"></p></blockquote><h3 id="åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶"><a href="#åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶" class="headerlink" title="åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶"></a>åè¿›åˆ¶è½¬æ¢ä¸ºå…¶ä»–è¿›åˆ¶</h3><blockquote><p><strong>é™¤ç§¯å€’å–ä½™</strong> ï¼Œå…·ä½“è®¡ç®—è¿‡ç¨‹å¦‚ä¸‹ï¼š</p><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723151810133.png" alt="image-20230723151810133"></p></blockquote><h3 id="åè¿›åˆ¶åˆ°äºŒè¿›åˆ¶çš„å¿«é€Ÿè½¬æ¢"><a href="#åè¿›åˆ¶åˆ°äºŒè¿›åˆ¶çš„å¿«é€Ÿè½¬æ¢" class="headerlink" title="åè¿›åˆ¶åˆ°äºŒè¿›åˆ¶çš„å¿«é€Ÿè½¬æ¢"></a>åè¿›åˆ¶åˆ°äºŒè¿›åˆ¶çš„å¿«é€Ÿè½¬æ¢</h3><blockquote><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723152006996.png" alt="image-20230723152006996"></p><p>ä¸Šå›¾è¿ç®—æ­¥éª¤è§£æï¼š</p><ul><li>æ‹†è§£<strong>æ­£æ•´æ•°</strong>ï¼Œå°†å…¶åˆ†è§£ä¸º<strong>2çš„æŒ‡æ•°</strong>å€ç›¸åŠ </li><li>æ‰¾å‡º2çš„æŒ‡æ•°å€ å¯¹åº”çš„äºŒè¿›åˆ¶1</li><li>æ ¹æ®å˜é‡ç±»å‹ç¡®å®šå ç”¨çš„å­—èŠ‚æ•°åŠæ¯”ç‰¹ä½ï¼Œç»„åˆå¾—åˆ°æœ€ç»ˆçš„äºŒè¿›åˆ¶å½¢å¼</li></ul></blockquote><h3 id="äºŒè¿›åˆ¶è½¬æ¢ä¸º8ã€16è¿›åˆ¶"><a href="#äºŒè¿›åˆ¶è½¬æ¢ä¸º8ã€16è¿›åˆ¶" class="headerlink" title="äºŒè¿›åˆ¶è½¬æ¢ä¸º8ã€16è¿›åˆ¶"></a>äºŒè¿›åˆ¶è½¬æ¢ä¸º8ã€16è¿›åˆ¶</h3><blockquote><ul><li>2è¿›åˆ¶è½¬åŒ–ä¸º8è¿›åˆ¶<ul><li>ä»æœ€å³è¾¹å¼€å§‹ï¼Œæ¯<strong>3ä½åˆ†ä¸€ç»„</strong>ï¼Œä¸è¶³3ä½çš„è¯é«˜ä½è¡¥0</li><li>å°†å¾—åˆ°çš„æ•°å­—ç»„åˆåˆ°ä¸€èµ·ï¼Œæœ€å‰é¢ä»¥<strong>0å¼€å¤´</strong></li></ul></li><li>2è¿›åˆ¶è½¬åŒ–ä¸º16è¿›åˆ¶<ul><li>ä»æœ€å³è¾¹å¼€å§‹ï¼Œæ¯<strong>4ä½åˆ†ä¸€ç»„</strong>ï¼Œä¸è¶³4ä½çš„è¯é«˜ä½è¡¥0</li><li>å°†å¾—åˆ°çš„æ•°å­—ç»„åˆåˆ°ä¸€èµ·ï¼Œæœ€å‰é¢ä»¥<strong>0x or 0X</strong>å¼€å¤´</li></ul></li></ul></blockquote><h2 id="åŸåè¡¥ç "><a href="#åŸåè¡¥ç " class="headerlink" title="åŸåè¡¥ç "></a>åŸåè¡¥ç </h2><blockquote><p><font color="skyblue">è®¡ç®—æœºè¿ç®—æ—¶éƒ½æ˜¯ä»¥è¡¥ç æ–¹å¼è¿›è¡Œ</font></p></blockquote><h3 id="åŸç "><a href="#åŸç " class="headerlink" title="åŸç "></a>åŸç </h3><blockquote><p>å°±æ˜¯äºŒè¿›åˆ¶å®šç‚¹è¡¨ç¤ºæ³•ï¼Œå³æœ€<strong>é«˜ä½ä¸ºç¬¦å·ä½</strong>ï¼Œ<strong>â€œ0â€è¡¨ç¤ºæ­£ï¼Œâ€œ1â€è¡¨ç¤ºè´Ÿ</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">10</span>çš„åŸç ï¼š<span class="number">0</span> <span class="number">0</span>(<span class="number">23</span>) <span class="number">0000</span> <span class="number">1010</span></span><br><span class="line">-<span class="number">10</span>çš„åŸç ï¼š<span class="number">1</span> <span class="number">0</span>(<span class="number">23</span>) <span class="number">0000</span> <span class="number">1010</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="åç "><a href="#åç " class="headerlink" title="åç "></a>åç </h3><blockquote><ul><li><strong>æ­£æ•°çš„åç ä¸å…¶åŸç ç›¸åŒ</strong></li><li>è´Ÿæ•°çš„åç ï¼Œåœ¨åŸç çš„åŸºç¡€ä¸Šï¼Œ<strong>ä¿ç•™äº†ç¬¦å·ä½ï¼Œå…¶ä»–ä½é€ä½å–å</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">10</span>çš„åç ï¼š è·Ÿ<span class="number">10</span>çš„åŸç ç›¸åŒ  <span class="number">0</span> <span class="number">0</span>(<span class="number">23</span>) <span class="number">0000</span> <span class="number">1010</span></span><br><span class="line">-<span class="number">10</span>çš„åç ï¼š æ‹¿åˆ°-<span class="number">10</span>çš„åŸç ï¼Œ <span class="number">1</span> <span class="number">0</span>(<span class="number">23</span>) <span class="number">0000</span> <span class="number">1010</span></span><br><span class="line">       ä¿ç•™ç¬¦å·ä½å…¶ä»–ä½å–å <span class="number">1</span> <span class="number">1</span>(<span class="number">23</span>) <span class="number">1111</span> <span class="number">0101</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="è¡¥ç "><a href="#è¡¥ç " class="headerlink" title="è¡¥ç "></a>è¡¥ç </h3><blockquote><ul><li>æ­£æ•°çš„è¡¥ç ä¸å…¶åŸç ç›¸åŒ</li><li>è´Ÿæ•°çš„è¡¥ç æ˜¯åœ¨å…¶åç çš„æœ«ä½åŠ 1</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"> <span class="number">10</span>çš„è¡¥ç ï¼š è·Ÿ<span class="number">10</span>çš„åŸç ç›¸åŒ  <span class="number">0</span> <span class="number">0</span>(<span class="number">23</span>) <span class="number">0000</span> <span class="number">1010</span></span><br><span class="line">-<span class="number">10</span>çš„è¡¥ç ï¼š æ‹¿åˆ°-<span class="number">10</span>çš„åç ï¼Œ <span class="number">1</span> <span class="number">1</span>(<span class="number">23</span>) <span class="number">1111</span> <span class="number">0101</span></span><br><span class="line">           åœ¨åç åŸºç¡€ä¸ŠåŠ   <span class="number">1</span> <span class="number">1</span>(<span class="number">23</span>) <span class="number">1111</span> <span class="number">0110</span></span><br></pre></td></tr></table></figure></blockquote><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//charå–å€¼èŒƒå›´æ¨å¯¼è¿‡ç¨‹</span></span><br><span class="line"><span class="number">1.</span><span class="type">char</span>ç±»å‹åªèƒ½è¡¨ç¤º<span class="number">0</span>æˆ–æ­£æ•´æ•°ï¼Œå…¶æœ€é«˜ä½ä¸è¡¨ç¤ºç¬¦å·ä½</span><br><span class="line"><span class="number">2.</span><span class="type">char</span>ç±»å‹å ç”¨<span class="number">2</span>ä¸ªå­—èŠ‚ï¼Œ<span class="number">16</span>ä¸ªæ¯”ç‰¹ä½</span><br><span class="line"><span class="number">3.</span>æœ€å°å€¼ <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> <span class="number">0000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">4.</span>æœ€å¤§å€¼ <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> <span class="number">1111</span> -&gt; <span class="number">65535</span>ï¼ˆå¤§å®¶å¯å€ŸåŠ©è®¡ç®—å™¨ï¼Œä¹Ÿå¯</span><br><span class="line">ä»¥æ‰‹ç®—ï¼‰</span><br><span class="line"><span class="comment">//byteå–å€¼èŒƒå›´æ¨å¯¼è¿‡ç¨‹</span></span><br><span class="line"><span class="number">1.</span><span class="type">byte</span>ç±»å‹å¯ä»¥è¡¨ç¤ºæ­£è´Ÿæ•´æ•°å’Œ<span class="number">0</span></span><br><span class="line"><span class="number">2.</span><span class="type">byte</span>ç±»å‹å ç”¨<span class="number">1</span>ä¸ªå­—èŠ‚ï¼Œ<span class="number">8</span>ä¸ªæ¯”ç‰¹ä½</span><br><span class="line"><span class="number">3.8</span>ä¸ªæ¯”ç‰¹ä½ <span class="number">1111</span> <span class="number">1111</span> èƒ½å¤Ÿè¡¨ç¤ºçš„æ•°å­—æœ‰ <span class="number">256</span>ä¸ª</span><br><span class="line"><span class="number">4.</span>æœ€å¤§å€¼ <span class="number">0111</span> <span class="number">1111</span> -&gt; <span class="number">127</span></span><br><span class="line"><span class="number">5.</span>ä¸­é—´å€¼ <span class="number">0000</span> <span class="number">0000</span> -&gt; <span class="number">0</span></span><br><span class="line"><span class="number">6.</span>å…¶ä»–å€¼ <span class="number">8</span>ä¸ªbitsèƒ½å¤Ÿè¡¨ç¤º<span class="number">256</span>ä¸ªæ•°ï¼Œå…¶ä¸­[<span class="number">0</span>,<span class="number">127</span>]å ç”¨äº†<span class="number">128</span>ä¸ªï¼Œå‰©ä½™çš„</span><br><span class="line">æ•°éƒ½æ˜¯å°äº<span class="number">0</span>çš„ï¼Œå…±<span class="number">128</span>ä¸ªï¼Œç»“æœå¯æ¨ç†å‡ºæ¥ä¸º[-<span class="number">128</span>,-<span class="number">1</span>]</span><br><span class="line"><span class="number">7.</span>æ€»ç»“ï¼Œè¡¨ç¤ºèŒƒå›´[-<span class="number">128</span>,<span class="number">127</span>]</span><br></pre></td></tr></table></figure><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723153632160.png" alt="image-20230723153632160"></p></blockquote><h1 id="å¸¸é‡è¡¥å……"><a href="#å¸¸é‡è¡¥å……" class="headerlink" title="å¸¸é‡è¡¥å……"></a>å¸¸é‡è¡¥å……</h1><blockquote><p>æ³¨æ„ï¼šæ•´å½¢å­—é¢å€¼ï¼Œä¸è®ºæ˜¯äºŒè¿›åˆ¶ã€å…«è¿›åˆ¶è¿˜æ˜¯åè¿›åˆ¶ã€åå…­è¿›åˆ¶ï¼Œ<strong>é»˜è®¤ éƒ½æ˜¯intç±»å‹å¸¸é‡</strong>ã€‚</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸‹é¢é»˜è®¤éƒ½æ˜¯intç±»å‹å¸¸é‡</span></span><br><span class="line">System.out.println(<span class="number">97</span>);</span><br><span class="line">System.out.println(<span class="number">0x61</span>);</span><br><span class="line">System.out.println(<span class="number">0141</span>);</span><br><span class="line">System.out.println(<span class="number">0b01100001</span>);</span><br></pre></td></tr></table></figure></blockquote><h1 id="ç±»å‹è½¬æ¢"><a href="#ç±»å‹è½¬æ¢" class="headerlink" title="ç±»å‹è½¬æ¢"></a>ç±»å‹è½¬æ¢</h1><blockquote><p>åŸºæœ¬æ•°æ®ç±»å‹è¡¨ç¤ºèŒƒå›´å¤§å°æ’åºï¼š</p><p><img src="/2023/07/23/02-%E6%A0%87%E7%A4%BA%E7%AC%A6-%E5%85%B3%E9%94%AE%E5%AD%97-%E5%8F%98%E9%87%8F/image-20230723161321124.png" alt="image-20230723161321124"></p></blockquote><h2 id="éšå¼ç±»å‹è½¬æ¢"><a href="#éšå¼ç±»å‹è½¬æ¢" class="headerlink" title="éšå¼ç±»å‹è½¬æ¢"></a>éšå¼ç±»å‹è½¬æ¢</h2><blockquote><ul><li>èµ‹å€¼è¿‡ç¨‹ä¸­ï¼Œ<strong>å°æ•°æ®ç±»å‹å€¼æˆ–å˜é‡å¯ä»¥ç›´æ¥èµ‹å€¼ç»™å¤§ç±»å‹å˜é‡</strong>ï¼Œç±»å‹ä¼š<strong>è‡ªåŠ¨è¿›è¡Œè½¬æ¢</strong></li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">long</span> = num = <span class="number">10</span>; <span class="comment">// int ---&gt; long</span></span><br><span class="line"><span class="type">double</span> <span class="variable">price</span> <span class="operator">=</span> <span class="number">7.0F</span>; <span class="comment">// float ---&gt; double</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="string">&#x27;a&#x27;</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> c; <span class="comment">// char ---&gt; int</span></span><br></pre></td></tr></table></figure><ul><li>byteã€shortã€charç±»å‹çš„æ•°æ®åœ¨è¿›è¡Œç®—æœ¯è¿ç®—æ˜¯ï¼Œ<strong>ä¼šå…ˆè‡ªåŠ¨æå‡ä¸ºint</strong>ï¼Œç„¶åå†è¿›è¡Œè¿ç®—</li><li>å…¶ä»–ç±»å‹ç›¸äº’è¿ç®—æ—¶ï¼Œè¡¨ç¤º<strong>èŒƒå›´å°çš„ä¼šè‡ªåŠ¨æå‡ä¸ºèŒƒå›´å¤§çš„</strong>ï¼Œç„¶åå†è¿ç®—</li></ul><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">10</span>; </span><br><span class="line"><span class="type">short</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">5</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">sum</span> <span class="operator">=</span> b + s; <span class="comment">// ä½¿ç”¨å˜é‡åè¿›è¡Œè¿ç®—çš„æ—¶å€™ï¼Œä¸Šå‡ä¸ºint</span></span><br><span class="line"><span class="comment">// (byte -&gt; int) + (short -&gt; int)</span></span><br><span class="line"><span class="comment">//    int   +  int = int </span></span><br><span class="line"><span class="type">short</span> <span class="variable">sum2</span> <span class="operator">=</span> b + s; <span class="comment">// X int æ— æ³•è‡ªåŠ¨è½¬æ¢ä¸º short</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="æ˜¾ç¤ºç±»å‹è½¬æ¢"><a href="#æ˜¾ç¤ºç±»å‹è½¬æ¢" class="headerlink" title="æ˜¾ç¤ºç±»å‹è½¬æ¢"></a>æ˜¾ç¤ºç±»å‹è½¬æ¢</h2><blockquote><p><code>æ•°æ®ç±»å‹ å˜é‡å = ï¼ˆç›®æ ‡æ•°æ®ç±»å‹ï¼‰ï¼ˆæ•°æ®å€¼æˆ–å˜é‡æˆ–è¡¨è¾¾å¼ï¼‰</code></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">float</span> <span class="variable">f1</span> <span class="operator">=</span> (<span class="type">float</span>)<span class="number">3.14</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">size</span> <span class="operator">=</span> (<span class="type">int</span>)<span class="number">123L</span>;</span><br><span class="line"></span><br><span class="line"><span class="comment">// å˜é‡èµ‹å€¼ å¼ºåˆ¶ç±»å‹è½¬æ¢</span></span><br><span class="line"><span class="type">double</span> <span class="variable">len</span> <span class="operator">=</span> <span class="number">178.5</span>;</span><br><span class="line"><span class="type">int</span> <span class="variable">length</span> <span class="operator">=</span> (<span class="type">int</span>)len;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ç‰¹æ®Šæƒ…å†µ"><a href="#ç‰¹æ®Šæƒ…å†µ" class="headerlink" title="ç‰¹æ®Šæƒ…å†µ"></a>ç‰¹æ®Šæƒ…å†µ</h2><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="type">byte</span> <span class="variable">b</span> <span class="operator">=</span> <span class="number">10</span>; <span class="comment">// int --&gt; byte</span></span><br><span class="line"><span class="type">short</span> <span class="variable">s</span> <span class="operator">=</span> <span class="number">20</span>; <span class="comment">// int --&gt; short</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c</span> <span class="operator">=</span> <span class="number">97</span>; <span class="comment">// int --&gt; char</span></span><br><span class="line"></span><br><span class="line"><span class="type">byte</span> <span class="variable">b2</span> <span class="operator">=</span> <span class="number">127</span>; <span class="comment">// [-128, 127]</span></span><br><span class="line"><span class="type">byte</span> <span class="variable">b3</span> <span class="operator">=</span> <span class="number">128</span>; <span class="comment">// x </span></span><br><span class="line"></span><br><span class="line"><span class="type">short</span> <span class="variable">s2</span> <span class="operator">=</span> -<span class="number">32768</span>; <span class="comment">//  [-32,768ï¼ˆ-2^15ï¼‰åˆ°32,767ï¼ˆ2^15 - 1ï¼‰]</span></span><br><span class="line"><span class="type">short</span> <span class="variable">s3</span> <span class="operator">=</span> -<span class="number">32769</span>; <span class="comment">// x</span></span><br><span class="line"></span><br><span class="line"><span class="type">char</span> <span class="variable">c2</span> <span class="operator">=</span> <span class="number">65535</span>; <span class="comment">// [0, 65535]</span></span><br><span class="line"><span class="type">char</span> <span class="variable">c3</span> <span class="operator">=</span> <span class="number">65536</span>; <span class="comment">// x </span></span><br></pre></td></tr></table></figure><p><strong>æ•´å½¢å¸¸é‡ä¼˜åŒ–æœºåˆ¶</strong></p><ul><li>å¸¸é‡å€¼ &gt; èµ‹å€¼ç±»å‹çš„å–å€¼èŒƒå›´  fail</li><li>å¸¸é‡å€¼ &lt;&#x3D; èµ‹å€¼ç±»å‹çš„å–å€¼èŒƒå›´ success</li></ul><p>æ³¨æ„äº‹é¡¹ï¼š</p><ul><li>å¸¸é‡ä¼˜åŒ–æœºåˆ¶<strong>åªé€‚ç”¨äºå¸¸é‡</strong>ï¼Œå¦‚æœæ˜¯å˜é‡ï¼Œåˆ™ä¸å¯ä»¥</li><li><strong>è¯¥ä¼˜åŒ–æœºåˆ¶åªé’ˆå¯¹intç±»å‹å¸¸é‡</strong>ï¼Œå¯¹äºlongã€floatã€doubleç­‰å¸¸é‡ï¼Œåˆ™ä¸å¯ä»¥ã€‚</li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>åšè§‚è€Œçº¦å–ï¼Œåšç§¯è€Œè–„å‘ã€‚â€”â€”è‹è½¼ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>01-JavaåŸºç¡€å…¥é—¨</title>
      <link href="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/"/>
      <url>/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç›®æ ‡ï¼šJavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</p></blockquote><h1 id="æ¦‚è¿°"><a href="#æ¦‚è¿°" class="headerlink" title="æ¦‚è¿°"></a>æ¦‚è¿°</h1><h2 id="Javaæ˜¯ä»€ä¹ˆï¼Ÿ"><a href="#Javaæ˜¯ä»€ä¹ˆï¼Ÿ" class="headerlink" title="Javaæ˜¯ä»€ä¹ˆï¼Ÿ"></a>Javaæ˜¯ä»€ä¹ˆï¼Ÿ</h2><blockquote><ul><li>Javaæ˜¯ä¸€é—¨éå¸¸ä¼˜ç§€çš„è®¡ç®—æœºç¼–ç¨‹è¯­è¨€ (Goä¹Ÿå¾ˆä¼˜ç§€)</li><li>Javaä¹‹çˆ¶ï¼šè©¹å§†æ–¯Â·é«˜æ–¯æ—ï¼ˆJames Goslingï¼‰</li></ul><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230721083637158.png" alt="image-20230721083637158"></p></blockquote><h1 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h1><h2 id="ä¸–ç•Œè¯­è¨€æ’å"><a href="#ä¸–ç•Œè¯­è¨€æ’å" class="headerlink" title="ä¸–ç•Œè¯­è¨€æ’å"></a>ä¸–ç•Œè¯­è¨€æ’å</h2><blockquote><p>2023å¹´7æœˆ21æ—¥ï¼š</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230721083931094.png" alt="image-20230721083931094"></p></blockquote><h2 id="Javaå…³é”®æ—¶é—´"><a href="#Javaå…³é”®æ—¶é—´" class="headerlink" title="Javaå…³é”®æ—¶é—´"></a>Javaå…³é”®æ—¶é—´</h2><blockquote><ul><li><strong>1991å¹´4æœˆ</strong>ï¼Œç”± <strong>James Gosling</strong> åšå£«é¢†å¯¼çš„<strong>ç»¿è‰²è®¡åˆ’Green</strong> å¯åŠ¨ é¡¹ç›®ç›®çš„æ˜¯å¼€å‘ä¸€ç§èƒ½å¤Ÿåœ¨å„ç§æ¶ˆè´¹æ€§ç”µå­äº§å“ï¼ˆå¦‚æœºé¡¶ç›’ã€å†°ç®±ç­‰ï¼‰ä¸Š è¿è¡Œçš„ç¨‹åºæ¶æ„ è¯¥é¡¹ç›®æœ€ç»ˆçš„äº§å“æ˜¯ <strong>Oakï¼ˆæ©¡æ ‘ï¼‰</strong> ï¼Œå³Javaè¯­è¨€çš„å‰èº«</li><li><strong>1995å¹´5æœˆ23æ—¥</strong>ï¼Œ<strong>Oakè¯­è¨€æ”¹åä¸ºJava</strong>ï¼Œå¹¶ä¸”åœ¨SunWorldå¤§ä¼šä¸Šæ­£å¼å‘å¸ƒ Java 1.0ç‰ˆæœ¬ Javaè¯­è¨€ç¬¬ä¸€æ¬¡æå‡ºäº†<strong>Write Onceï¼ŒRun Anywhere</strong>çš„å£å·</li><li><strong>1996å¹´1æœˆ23æ—¥</strong>ï¼ŒJDK 1.0å‘å¸ƒï¼ŒJavaè¯­è¨€æœ‰äº† ç¬¬ä¸€ä¸ªæ­£å¼ç‰ˆæœ¬ çš„è¿è¡Œç¯å¢ƒ JDK 1.0æä¾›äº†ä¸€ä¸ª<strong>çº¯è§£é‡Šæ‰§è¡Œçš„Javaè™šæ‹Ÿæœº</strong>å®ç°ï¼ˆSun Classic VMï¼‰ JDK 1.0ç‰ˆæœ¬çš„ä»£è¡¨æŠ€æœ¯åŒ…æ‹¬ï¼š<strong>Javaè™šæ‹Ÿæœºã€Appletã€AWT</strong>ç­‰ã€‚</li><li><strong>1997å¹´2æœˆ19æ—¥</strong>ï¼ŒSunå…¬å¸å‘å¸ƒäº†JDK 1.1 JavaæŠ€æœ¯çš„ä¸€äº›æœ€åŸºç¡€çš„æ”¯æ’‘ç‚¹ï¼ˆå¦‚JDBCç­‰ï¼‰éƒ½æ˜¯åœ¨JDK 1.1ç‰ˆæœ¬ä¸­å‘å¸ƒçš„Javaè¯­æ³•ä¹Ÿæœ‰äº†ä¸€å®šçš„å‘å±•ï¼Œå¦‚<strong>å†…éƒ¨ç±»å’Œåå°„</strong></li><li><strong>1999å¹´4æœˆ8æ—¥</strong>ï¼ŒJDK 1.1åœ¨æ­¤æœŸé—´ä¸€å…±å‘å¸ƒäº†1.1.0ï½1.1.8ä¹ä¸ªç‰ˆæœ¬ ä»<strong>1.1.4ä¹‹å</strong>ï¼Œæ¯ä¸ªJDKç‰ˆæœ¬éƒ½æœ‰ä¸€ä¸ª<strong>è‡ªå·±çš„åå­—ï¼ˆå·¥ç¨‹ä»£å·ï¼‰</strong>ä¾‹å¦‚ï¼šJDK 1.1.4 - Sparklerï¼ˆå®çŸ³ï¼‰ã€JDK 1.1.5 - Pumpkinï¼ˆå—ç“œï¼‰</li><li><strong>1998å¹´12æœˆ4æ—¥</strong>ï¼ŒJDKè¿æ¥äº†é‡Œç¨‹ç¢‘å¼çš„ç‰ˆæœ¬JDK1.2ï¼Œä»£å·Playgroundï¼ˆç«æŠ€ åœºï¼‰ Sunå…¬å¸åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­æŠŠJavaæŠ€æœ¯ä½“ç³»æ‹†åˆ†ä¸º<strong>3ä¸ªæ–¹å‘</strong>ï¼š<ul><li>é¢å‘æ¡Œé¢åº”ç”¨å¼€å‘çš„J2SEï¼ˆJava 2 Platform, Standard Editionï¼‰</li><li>é¢å‘ä¼ä¸šçº§å¼€å‘çš„J2EEï¼ˆJava 2 Platform, Enterprise Editionï¼‰</li><li>é¢å‘æ‰‹æœºç§»åŠ¨ç»ˆç«¯å¼€å‘çš„J2MEï¼ˆJava 2 Platform, Micro Editionï¼‰</li></ul></li><li><strong>1999å¹´4æœˆ27æ—¥</strong>ï¼Œ <strong>HotSpotè™šæ‹Ÿæœº</strong> <ul><li>å‘å¸ƒ HotSpotæœ€åˆç”±ä¸€å®¶åä¸ºâ€Longview Technologiesâ€çš„å°å…¬å¸å¼€å‘ï¼Œå› ä¸ºHotSpotçš„ä¼˜å¼‚è¡¨ç°ï¼Œè¿™å®¶å…¬å¸åœ¨1997å¹´è¢«Sunå…¬å¸æ”¶è´­äº† </li><li>HotSpotè™šæ‹Ÿæœºå‘å¸ƒæ—¶æ˜¯ä½œä¸ºJDK 1.2çš„é™„åŠ ç¨‹åºæä¾›çš„ï¼Œåæ¥å®ƒæˆä¸ºäº†JDK 1.3åŠä¹‹åæ‰€æœ‰ç‰ˆæœ¬çš„Sun JDKçš„é»˜è®¤è™šæ‹Ÿæœº</li></ul></li><li><strong>2004å¹´9æœˆ30æ—¥</strong>ï¼Œ JDK1.5 å‘å¸ƒï¼Œä»£å·Tigerï¼ˆè€è™ï¼‰ <ul><li>ä»JDK 1.2ä»¥æ¥ï¼ŒJavaåœ¨è¯­æ³•å±‚é¢ä¸Šçš„å˜æ¢ä¸€ç›´å¾ˆå°ï¼Œè€ŒJDK1.5åœ¨Javaè¯­æ³• æ˜“ç”¨æ€§ä¸Šåšå‡ºäº†éå¸¸å¤§çš„æ”¹è¿› ä¾‹å¦‚ï¼Œ<strong>è‡ªåŠ¨è£…ç®±ã€æ³›å‹ã€åŠ¨æ€æ³¨è§£ã€æšä¸¾ã€å¯å˜é•¿å‚æ•°ã€éå†å¾ªç¯ ï¼ˆforeachå¾ªç¯ï¼‰</strong>ç­‰è¯­æ³•ç‰¹æ€§éƒ½æ˜¯åœ¨JDK 1.5ä¸­åŠ å…¥çš„</li></ul></li><li><strong>2006å¹´12æœˆ11æ—¥</strong>ï¼ŒJDK 1.6å‘å¸ƒï¼Œä»£å·Mustangï¼ˆé‡é©¬ï¼‰ </li><li>åœ¨è¿™ä¸ªç‰ˆæœ¬ä¸­ï¼ŒSunç»ˆç»“äº†ä»JDK 1.2å¼€å§‹å·²ç»æœ‰8å¹´å†å²çš„J2EEã€J2SEã€ J2MEçš„å‘½åæ–¹å¼ å¯ç”¨ <strong>Java SE 6ã€Java EE 6ã€Java ME 6</strong> çš„å‘½åæ–¹å¼ã€‚</li><li><strong>2006å¹´11æœˆ13æ—¥</strong>ï¼Œåœ¨JavaOneå¤§ä¼šä¸Šï¼ŒSunå…¬å¸å®£å¸ƒæœ€ç»ˆä¼šå°†Java<strong>å¼€æº</strong></li><li><strong>2009å¹´2æœˆ19æ—¥</strong>ï¼Œå·¥ç¨‹ä»£å·ä¸ºDolphinï¼ˆæµ·è±šï¼‰çš„JDK 1.7å®Œæˆäº†å…¶ç¬¬ä¸€ä¸ªé‡Œ ç¨‹ç¢‘ç‰ˆæœ¬</li><li><strong>2009å¹´4æœˆ20æ—¥</strong>ï¼ŒOracleå…¬å¸å®£å¸ƒæ­£å¼ä»¥74äº¿ç¾å…ƒçš„ä»·æ ¼æ”¶è´­Sunå…¬å¸ï¼ŒJava å•†æ ‡ä»æ­¤æ­£å¼å½’Oracleæ‰€æœ‰</li></ul></blockquote><h2 id="å…·ä½“ç‰ˆæœ¬"><a href="#å…·ä½“ç‰ˆæœ¬" class="headerlink" title="å…·ä½“ç‰ˆæœ¬"></a>å…·ä½“ç‰ˆæœ¬</h2><blockquote><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230721105254095.png" alt="image-20230721105254095"></p></blockquote><h1 id="å¹³å°"><a href="#å¹³å°" class="headerlink" title="å¹³å°"></a>å¹³å°</h1><blockquote><p>1998å¹´12æœˆ4æ—¥ï¼ŒSunå…¬å¸åœ¨å‘å¸ƒçš„JDK1.2ä¸­ï¼Œå°†JavaæŠ€æœ¯ä½“ç³»æ‹†åˆ†ä¸º3ä¸ªæ–¹å‘ ï¼ˆå¹³å°ï¼‰ï¼š</p><ul><li>J2SE ï¼ˆJava 2 Platformï¼Œ Standard Editionï¼‰ï¼Œé¢å‘æ¡Œé¢åº”ç”¨å¼€å‘</li><li>J2ME ï¼ˆJava 2 Platformï¼Œ Micro Editionï¼‰ï¼Œé¢å‘æ‰‹æœºç­‰ç§»åŠ¨ç»ˆç«¯å¼€å‘</li><li>J2EE ï¼ˆJava 2 Platformï¼Œ Enterprise Editionï¼‰ï¼Œé¢å‘ä¼ä¸šçº§å¼€å‘</li></ul></blockquote><h2 id="Javaå…·ä½“åº”ç”¨"><a href="#Javaå…·ä½“åº”ç”¨" class="headerlink" title="Javaå…·ä½“åº”ç”¨"></a>Javaå…·ä½“åº”ç”¨</h2><blockquote><p>å…¨çƒè¶…è¿‡30äº¿å°å„æ ·è®¾å¤‡ä¸Šçš„åº”ç”¨ç¨‹åºæ˜¯ç”¨Javaå¼€å‘çš„ï¼Œè€³ç†Ÿèƒ½è¯¦çš„æœ‰ï¼š</p><ul><li>Adobe PDF é˜…è¯»å™¨ï¼ŒGuiå¼€å‘</li><li>Googleã€Facebookã€Amazonã€æ·˜å®ã€ç™¾åº¦ã€æºç¨‹ç­‰Webç½‘ç«™</li><li>Tomcatã€JBossã€WebLogicç­‰WebæœåŠ¡å™¨</li><li>æŠ–éŸ³ã€æ·˜å®ã€å¾®ä¿¡ç­‰æ‰‹æœºAPPï¼Œä½¿ç”¨Androidå¼€å‘ç»„ä»¶Android SDKï¼ˆåŸºäº Javaï¼‰</li><li>ERPï¼ˆä¼ä¸šèµ„æºè§„åˆ’ï¼‰CRMï¼ˆå®¢æˆ·èµ„æºç®¡ç†ï¼‰ç­‰ä¼ä¸šçº§åº”ç”¨</li><li>æ¸¸æˆåç«¯ï¼Œå¦‚è‹±é›„è”ç›Ÿã€åƒé¸¡</li></ul></blockquote><h1 id="JDK"><a href="#JDK" class="headerlink" title="JDK"></a>JDK</h1><h2 id="ç›¸å…³åè¯"><a href="#ç›¸å…³åè¯" class="headerlink" title="ç›¸å…³åè¯"></a>ç›¸å…³åè¯</h2><blockquote><ul><li>SDKï¼ˆsoftware development kitï¼‰ï¼Œè½¯ä»¶å¼€å‘åŒ…ï¼Œä¸»è¦åŒ…å«å‡½æ•°åº“æˆ–è€…å·¥å…·ç­‰ï¼ˆå®‰å“ï¼‰</li><li>JDKï¼ˆjava develoment kitï¼‰ï¼ŒJavaç¨‹åºå¼€å‘å·¥å…·åŒ…ï¼Œé¢å‘Javaç¨‹åºçš„å¼€å‘è€…</li><li>JREï¼ˆjava runtime enviromentï¼‰ï¼ŒJavaç¨‹åºè¿è¡Œç¯å¢ƒï¼Œé¢å‘Javaç¨‹åºçš„ä½¿ç”¨è€…</li><li>APIï¼ˆapplication program interfaceï¼‰ï¼Œåº”ç”¨ç¨‹åºç¼–ç¨‹æ¥å£</li><li>API Documentationï¼ŒAPIè¯´æ˜æ–‡æ¡£ï¼Œæè¿°APIä¸­çš„ç±»ã€æ–¹æ³•ç­‰ä½¿ç”¨çš„æ–¹å¼</li></ul><blockquote><p><strong>å¼€å‘äººå‘˜</strong>éœ€è¦å®‰è£…JDKï¼Œå†…éƒ¨è‡ªå¸¦ä¸€ä¸ªJREï¼ˆç¨‹åºå‘˜ç”¨JDKå®Œæˆå¼€å‘åï¼Œç”¨ JREæµ‹è¯•è¿è¡Œï¼‰</p><p><strong>å®æ–½äººå‘˜ï¼ˆéƒ¨ç½²ï¼‰</strong>å¯ä»¥å®‰è£…ç‹¬ç«‹çš„JREï¼Œç”¨äºè¿è¡ŒJavaç¨‹åº</p></blockquote></blockquote><h2 id="JDKä¸‹è½½"><a href="#JDKä¸‹è½½" class="headerlink" title="JDKä¸‹è½½"></a>JDKä¸‹è½½</h2><blockquote><p>Oracleï¼š<a href="https://www.lzwgxust.top/post/97f5ff5d.html?highlight=windows">windows-jdkç‰ˆæœ¬åˆ‡æ¢</a></p><p>APIåœ¨çº¿æ–‡æ¡£ï¼š<a href="https://docs.oracle.com/javase/8/index.html">Home: Java Platform, Standard Edition (Java SE) 8 Release 8 (oracle.com)</a></p><p>JDK8-APIæ–‡æ¡£ä¸‹è½½åœ°å€ï¼š<a href="https://www.oracle.com/java/technologies/javase-jdk8-doc-downloads.html">Java Development Kit 8 Documentation (oracle.com)</a></p></blockquote><h2 id="JDKå®‰è£…"><a href="#JDKå®‰è£…" class="headerlink" title="JDKå®‰è£…"></a>JDKå®‰è£…</h2><blockquote><p><a href="https://blog.csdn.net/m0_50217781/article/details/112414571">Linux å®‰è£…jdk ä¸¤ç§æ–¹æ³•</a></p><p><a href="https://blog.csdn.net/ACE_U_005A/article/details/114840497">WindowsJDKå®‰è£…</a></p></blockquote><h2 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h2><blockquote><p>éœ€è¦é…ç½®ä¸‰ä¸ªç¯å¢ƒå˜é‡ï¼šJAVA_HOMEã€PATHã€CLASSPATHã€‚<strong>å…¶ä¸­PATHå¿…é¡» é…ç½®</strong>ï¼Œå¦å¤–ä¸¤ä¸ªå»ºè®®é…ç½®ã€‚</p><ul><li>JAVA_HOME: æŒ‡å®šJDKå®‰è£…è·¯å¾„<ul><li><code>JAVA_HOME=E:\Java\jdk1.8.0_45</code></li></ul></li><li>PATHï¼šå‘½ä»¤æœç´ è·¯å¾„ï¼Œå»ºè®®ä½¿ç”¨<code>%JAVA_HOME%</code>å¼•ç”¨JAVA_HOMEçš„å˜é‡å€¼<ul><li><code>PATH=%JAVA_HOME%\bin</code></li></ul></li><li>CLASSPATHï¼šæŒ‡å®šå°†æ¥è¦è¿è¡Œæˆ–åŠ è½½çš„classæ–‡ä»¶çš„æ‰€åœ¨è·¯å¾„ã€‚æš‚æ—¶é…ç½®ä¸ºå½“å‰è·¯å¾„ï¼ˆä¹Ÿå¯ä»¥ä¸é…ç½®ï¼Œå› ä¸ºé»˜è®¤å€¼å°±æ˜¯å½“å‰è·¯å¾„ï¼‰<ul><li><code>CLASSPATH=.</code></li></ul></li></ul></blockquote><h3 id="Linuxä¸­çš„ç¯å¢ƒé…ç½®"><a href="#Linuxä¸­çš„ç¯å¢ƒé…ç½®" class="headerlink" title="Linuxä¸­çš„ç¯å¢ƒé…ç½®"></a>Linuxä¸­çš„ç¯å¢ƒé…ç½®</h3><blockquote><p>ä½¿ç”¨viæ‰“å¼€ .&#x2F;bashrc æ–‡ä»¶è¿›è¡Œé…ç½®ï¼ˆ<strong>ç”¨æˆ·çº§åˆ«çš„ç¯å¢ƒå˜é‡</strong>ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">vi ~/.bashrc</span><br></pre></td></tr></table></figure><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722124036678.png" alt="image-20230722124036678"></p></blockquote><h2 id="JDKç»“æ„"><a href="#JDKç»“æ„" class="headerlink" title="JDKç»“æ„"></a>JDKç»“æ„</h2><blockquote><ul><li>oracleå®˜æ–¹æ–‡æ¡£ä¸­æä¾›çš„JDKç»“æ„å›¾ï¼š</li></ul><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722124505547.png" alt="image-20230722124505547"></p></blockquote><h2 id="JDKç›®å½•"><a href="#JDKç›®å½•" class="headerlink" title="JDKç›®å½•"></a>JDKç›®å½•</h2><blockquote><p>è¿™é‡Œä»¥Windowsä¸­å®‰è£…åçš„ç›®å½•ä¸ºä¾‹è¯´æ˜ï¼š</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722124634038.png" alt="image-20230722124634038"></p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722124906223.png" alt="image-20230722124906223"></p></blockquote><blockquote><p>å…³äºsrc.zipæ–‡ä»¶ï¼š</p><ul><li>æˆ‘ä»¬å°†æ¥åœ¨ä»£ç ä¸­ï¼Œæ‰€è°ƒç”¨çš„<strong>JavaSE-api</strong>ä¸­çš„ä»£ç ï¼Œå¤§å¤šæ•°çš„æºç å°±å­˜åœ¨è¿™ä¸ªå‹ç¼©åŒ…ä¸­</li><li>è¿™é‡Œé¢éƒ½æ˜¯javaæ–‡ä»¶ï¼Œè¿™äº›javaæ–‡ä»¶ç¼–è¯‘æˆ–ç”Ÿæˆäº†classæ–‡ä»¶ï¼Œéƒ½å­˜åœ¨ä¸€ä¸ªjarä¸­ï¼Œ<code>%JAVA_HOME%\jre\lib\rt.jar</code></li><li><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722125545959.png" alt="image-20230722125545959"></li><li>æˆ‘ä»¬çš„ä»£ç åœ¨è¿è¡Œæ—¶ï¼Œ<strong>JVMä¼šå…ˆä»è¿™ä¸ªrt.jarä¸­åŠ è½½ä¸€äº›æˆ‘ä»¬éœ€è¦ä½¿ç”¨çš„ç±»</strong>ï¼Œä¾‹å¦‚String.classã€Object.classã€System.classç­‰</li></ul></blockquote><blockquote><p>src.zip å’Œ rt.jar çš„å…³ç³»ï¼š</p><p>**sunå…¬å¸ç¨‹åºå‘˜ â€“&gt; ç¼–å†™åŸºç¡€çš„ä»£ç  â€“&gt; <em>.java â€“&gt; å‹ç¼© â€“&gt; src.zip â€“&gt; ç¼– è¯‘ â€“&gt; <em>.class â€“&gt; å½’æ¡£ â€“&gt; rt.jar</em></em></p></blockquote><h1 id="Javaç‰¹ç‚¹"><a href="#Javaç‰¹ç‚¹" class="headerlink" title="Javaç‰¹ç‚¹"></a>Javaç‰¹ç‚¹</h1><blockquote><p>Javaè¯­è¨€æ˜¯ä¸€ç§åˆ†å¸ƒå¼çš„é¢å‘å¯¹è±¡è¯­è¨€ï¼Œå…·æœ‰é¢å‘å¯¹è±¡ã€å¹³å°æ— å…³æ€§ã€ç®€å•æ€§ã€è§£é‡Šæ‰§è¡Œã€å¤šçº¿ç¨‹ã€å®‰å…¨æ€§ç­‰å¾ˆå¤šç‰¹ç‚¹ï¼Œå…·ä½“å¦‚ä¸‹ï¼š</p><ul><li>æ›´çº¯ç²¹çš„é¢å‘å¯¹è±¡ç¼–ç¨‹ï¼ŒåŠ é€Ÿå¼€å‘çš„è¿‡ç¨‹</li><li><strong>ä¸€æ¬¡ç¼–å†™ï¼Œåˆ°å¤„è¿è¡Œï¼ˆWrite Once, Run any Whereï¼‰è·¨å¹³å°</strong></li><li>ç¨‹åºå‘˜å†™å¥½Javaç¨‹åºï¼Œå†å°†å…¶ç¼–è¯‘æˆå­—èŠ‚ç æ–‡ä»¶ï¼Œæœ€åç”±JVMè§£é‡Šæ‰§è¡Œ</li><li><strong>å¼€æº</strong>åŠå¼ºå¤§çš„ç”Ÿæ€ç¯å¢ƒï¼Œç¤¾åŒºæ´»è·ƒï¼Œç¬¬ä¸‰æ–¹ç±»åº“é€‰æ‹©ä¸°å¯Œ</li><li>ç®€å•æ€§ï¼Œå­¦èµ·æ¥ç®€å•ï¼Œç”¨èµ·æ¥æ›´æ–¹ä¾¿ï¼ˆ<strong>åä»°</strong>ï¼‰</li><li>å¼ºå¤§çš„APIï¼Œä½¿å¾—ç¼–ç¨‹å˜å¾—æ›´åŠ å®¹æ˜“å¿«æ·ï¼Œå¤§å¤§é™ä½äº†ç¨‹åºçš„å¼€å‘æˆæœ¬</li><li>å®‰å…¨æ€§ï¼ŒJavaçš„å­˜å‚¨åˆ†é…æ¨¡å‹å¯ä»¥æœ‰æ•ˆé˜²å¾¡æ¶æ„ä»£ç æ”»å‡»</li><li>æ”¯æŒå¤šçº¿ç¨‹å’Œå¤šä»»åŠ¡</li><li>å¼ºç±»å‹ã€å¼‚å¸¸å¤„ç†ã€åƒåœ¾å›æ”¶æœºåˆ¶ç­‰æŠ€æœ¯ï¼Œä¿è¯äº†Javaçš„å¥å£®æ€§</li></ul></blockquote><h1 id="è·¨å¹³å°åŸç†"><a href="#è·¨å¹³å°åŸç†" class="headerlink" title="è·¨å¹³å°åŸç†"></a>è·¨å¹³å°åŸç†</h1><blockquote><p>Javaå±äºé«˜çº§ç¼–ç¨‹è¯­è¨€ï¼Œé«˜çº§è¯­è¨€ç¼–ç è¿è¡Œæ­¥éª¤æœ‰ï¼š</p><ul><li>ç¼–å†™ï¼šæŒ‡ç¨‹åºå‘˜ç¼–å†™æºä»£ç ï¼Œæ¯”å¦‚HelloWorld.java</li><li>ç¼–è¯‘ï¼šæŒ‡å°†æºä»£ç æ–‡ä»¶è½¬åŒ–æˆæœºå™¨è®¤è¯†çš„æœºå™¨è¯­è¨€çš„è¿‡ç¨‹<code>æºä»£ç ---&gt;äºŒè¿›åˆ¶</code></li><li>è¿è¡Œï¼šæŒ‡é€šè¿‡ç¼–è¯‘æˆ–ï¼Œè®©è®¡ç®—æœºæ‰§è¡Œç¼–è¯‘åæŒ‡ä»¤çš„è¿‡ç¨‹</li></ul></blockquote><blockquote><p>é«˜çº§è¯­è¨€çš„ç¼–è¯‘æ–¹å¼åˆ†ä¸ºä¸‰ç§ï¼šç¼–è¯‘å‹ã€è§£é‡Šå‹ã€æ··åˆå‹</p><ul><li>ç¼–è¯‘å‹<ul><li>ä½¿ç”¨ä¸“é—¨çš„ç¼–è¯‘å™¨ï¼Œé’ˆå¯¹ç‰¹å®šå¹³å°ï¼ˆæ“ä½œç³»ç»Ÿï¼‰å°†æŸç§é«˜çº§è¯­è¨€æºä»£ç  <strong>ä¸€æ¬¡ æ€§â€ç¿»è¯‘â€</strong> æˆå¯ä»¥è¢«è¯¥å¹³å°ç¡¬ä»¶æ‰§è¡Œçš„ æœºå™¨ç  ï¼Œå¹¶åŒ…è£…æˆä¸ºè¯¥å¹³å°æ‰€èƒ½è¯†åˆ« çš„å¯æ‰§è¡Œç¨‹åºçš„æ ¼å¼ï¼ˆç”Ÿæˆæ–°æ–‡ä»¶ï¼‰ï¼Œè¿™ä¸ªè½¬æ¢è¿‡ç¨‹å°±æ˜¯â€ç¼–è¯‘â€</li><li>Cã€C++éƒ½å±äºç¼–è¯‘å‹è¯­è¨€</li></ul></li><li>è§£é‡Šå‹<ul><li>ä½¿ç”¨ä¸“é—¨çš„è§£é‡Šå™¨ï¼Œå°†æºç¨‹åº<strong>é€è¡Œè§£é‡Š</strong>æˆç‰¹å®šå¹³å°çš„æœºå™¨ç ï¼Œå¹¶ç«‹å³æ‰§è¡Œ ï¼ˆä¸ä¼šç”Ÿæˆæ–°æ–‡ä»¶ï¼‰</li><li>å¯ä»¥ç†è§£ä¸ºï¼Œè§£é‡Šå‹è¯­è¨€ç›¸å½“äºæŠŠç¼–è¯‘å‹è¯­è¨€é‡Œé¢çš„<strong>ç¼–è¯‘å’Œæ‰§è¡Œåˆå¹¶</strong>åˆ°äº†ä¸€ èµ·ï¼ŒåŒæ—¶è¿›è¡Œ</li><li>ä¼˜ç‚¹æ˜¯è·¨å¹³å°ï¼Œç¼ºç‚¹æ˜¯æ•ˆç‡ä½</li><li>Pythonã€Shellã€Rubyéƒ½å±äºè§£é‡Šå‹è¯­è¨€</li></ul></li><li>æ··åˆå‹<ul><li>Javaè¯­è¨€æ˜¯<strong>æ··åˆå‹ï¼ˆç¼–è¯‘+è§£é‡Šï¼‰</strong>çš„ä»£è¡¨</li><li>é¦–å…ˆå®ƒçš„æºä»£ç éœ€è¦<strong>ç¼–è¯‘</strong>ï¼Œç”Ÿæˆä¸å¹³å°æ— å…³çš„å­—èŠ‚ç ï¼ˆ.classï¼‰æ–‡ä»¶ javac</li><li>å­—èŠ‚ç æ–‡ä»¶ä¸èƒ½ç›´æ¥æ‰§è¡Œï¼Œéœ€è¦äº¤ç»™æ“ä½œç³»ç»Ÿä¸‹çš„Javaè™šæ‹Ÿæœºï¼ˆJVMï¼‰<strong>è§£é‡Š æ‰§è¡Œ</strong></li><li>Javaä¸ºä¸åŒçš„æ“ä½œç³»ç»Ÿæä¾›äº†ä¸åŒçš„JVMè™šæ‹Ÿæœº</li></ul></li></ul></blockquote><h2 id="åŸç†"><a href="#åŸç†" class="headerlink" title="åŸç†"></a>åŸç†</h2><blockquote><p>ä½¿ç”¨Javaè¯­è¨€ç¼–å†™ä¸€ä»½æºä»£ç ï¼Œ<strong>ä¸ç®¡åœ¨ä»€ä¹ˆæ“ä½œç³»ç»Ÿ</strong>ä¸‹ç¼–è¯‘ï¼Œå¾—åˆ°çš„éƒ½æ˜¯<strong>ç›¸åŒçš„å­—èŠ‚ç æ–‡ä»¶</strong>ï¼Œåœ¨ä¸åŒçš„æ“ä½œç³»ç»Ÿä¸‹ä½¿ç”¨<strong>ä¸åŒçš„JVMè§£é‡Šæ‰§è¡Œ</strong>è¿™ä»½å­—èŠ‚ç æ–‡ä»¶ï¼Œ ç¨‹åºæˆåŠŸè¿è¡Œï¼Œå°†ä¼šæœ‰ç›¸åŒçš„è¿è¡Œæ•ˆæœã€‚è¿™å°±æ˜¯è·¨å¹³å°çš„åŸç†ï¼Œ <strong>Write Onceï¼Œ Run any Where ï¼</strong></p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722151743153.png" alt="image-20230722151743153"></p><p>like this!</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722151635776.png" alt="image-20230722151635776"></p></blockquote><h1 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h1><blockquote><p>å­˜æ”¾åœ¨ <code>%JAVA_HOME%bin</code> ä¸‹é¢:</p><ul><li>javac ç¼–è¯‘å‘½ä»¤<ul><li>æ ¼å¼ï¼š<code>javac [-d ç›®æ ‡ç›®å½•è·¯å¾„] *.java</code></li><li>ä½œç”¨ï¼šç¼–è¯‘æºæ–‡ä»¶è·å¾—å­—èŠ‚ç æ–‡ä»¶ï¼ˆå­˜æ”¾åˆ°-dåç›®å½•ä¸‹ï¼‰ï¼Œå¦‚æœä¸è·Ÿ-dï¼Œåˆ™æ”¾åˆ°å½“å‰ç›®å½•ä¸‹</li></ul></li><li>java è¿è¡Œå‘½ä»¤<ul><li>æ ¼å¼ï¼š<code>java [-cp classæ–‡ä»¶å­˜å‚¨ç›®å½•] ç±»çš„å…¨åŒ…å</code></li><li>ä¾‹å¦‚ï¼š<code>java -cp bin/ com.lwsj.chap01.HelloWorld</code></li><li>ä½œç”¨ï¼šä»-cpåé¢çš„è·¯å¾„ä¸­æŸ¥æ‰¾åˆ°éœ€è¦è¿è¡Œçš„classæ–‡ä»¶ï¼Œç„¶åè¿è¡Œ</li><li>æ³¨æ„ï¼š<code>ç±»çš„å…¨åŒ…åæ˜¯æŒ‡åŒ…å.ç±»åï¼Œä¸è¦åŠ .classåç¼€</code> &#x3D; å…¨é™å®šå</li></ul></li><li>javadoc<ul><li>ç”ŸæˆAPIæ–‡æ¡£å‘½ä»¤</li></ul></li><li>javap<ul><li>åè§£æå‘½ä»¤ï¼Œå¯ä»¥è§£æå‡ºclasså­—èŠ‚ç æ–‡ä»¶çš„å†…å®¹</li></ul></li><li>jar<ul><li>æ‰“åŒ…å‘½ä»¤</li></ul></li></ul></blockquote><h1 id="package"><a href="#package" class="headerlink" title="package"></a>package</h1><blockquote><ul><li>packageè¯­å¥å¿…é¡»æ˜¯ç¨‹åºçš„ç¬¬ä¸€æ¡å¯æ‰§è¡Œçš„ä»£ç </li><li>packageè¯­å¥åœ¨ä¸€ä¸ªJavaæ–‡ä»¶ä¸­æœ€å¤šåªèƒ½æœ‰ä¸€ä¸ª</li><li>ç¨‹åºå¯ä»¥ä¸ç”¨packageï¼Œè¡¨ç¤ºæ— åŒ…å</li><li>åŒ…å…¶å®å°±æ˜¯æ–‡ä»¶å¤¹ï¼Œä¸€èˆ¬æ˜¯å…¬å¸åŸŸåå€’ç€å†™ <a href="http://www.baidu.com/">www.baidu.com</a> åŒ…åä¸ºcom.baidu.é¡¹ç›®åï¼Œæœ€åç¼–è¯‘ç”Ÿæˆçš„classæ–‡ä»¶ï¼Œå°±ä¼šæ”¾åˆ°<code>com/baidu/é¡¹ç›®å/</code>ç›®å½•ä¸‹</li></ul></blockquote><blockquote><p>JavaSE-APIä¸­å¸¸ç”¨çš„åŒ…æœ‰ï¼š</p><ul><li>java.lang<ul><li>æœ€å¸¸ç”¨çš„ä¸€ä¸ªåŒ…ï¼Œé‡Œé¢çš„ç±»å¯ä»¥åœ¨æˆ‘ä»¬çš„ç¨‹åºä¸­ç›´æ¥ä½¿ç”¨ï¼Œä¸éœ€è¦<strong>importå¯¼å…¥</strong></li></ul></li><li>java.io<ul><li>ç”¨æˆ·è¾“å…¥è¾“å‡ºæµçš„æ“ä½œã€‚ä¹Ÿå°±æ˜¯è¯»æ•°æ®&#x2F;å†™æ•°æ®</li></ul></li><li>java.net<ul><li>ç”¨æˆ·ç½‘ç»œç¼–ç¨‹ã€‚å¯å®ç°è®¡ç®—æœºAå’ŒBä¹‹é—´å»ºç«‹ç½‘ç»œè¿æ¥è¿›è¡Œä¿¡æ¯ä¼ è¾“</li></ul></li><li>java.util<ul><li>å·¥å…·ç±»ï¼Œå¯ä»¥å¸®æˆ‘ä»¬åœ¨æˆ‘ä»¬ä»£ç ä¸­å®Œæˆä¸€äº›è¾…åŠ©çš„åŠŸèƒ½ï¼Œä¾‹å¦‚è¡¨ç¤ºæ—¥æœŸã€ä½¿ç”¨é›†åˆå­˜å‚¨æ•°æ®ã€ä½¿ç”¨å·¥å…·ç±»æ“ä½œæ•°ç»„ç­‰</li></ul></li></ul></blockquote><h1 id="æ‰©å±•å†…å®¹"><a href="#æ‰©å±•å†…å®¹" class="headerlink" title="æ‰©å±•å†…å®¹"></a>æ‰©å±•å†…å®¹</h1><h2 id="JVMè™šæ‹Ÿæœº"><a href="#JVMè™šæ‹Ÿæœº" class="headerlink" title="JVMè™šæ‹Ÿæœº"></a>JVMè™šæ‹Ÿæœº</h2><blockquote><p>JVMæ˜¯<strong>Java Virtual Machine</strong>ï¼ˆJavaè™šæ‹Ÿæœºï¼‰çš„ç¼©å†™ï¼Œå®ƒæ˜¯ä¸€ä¸ª<strong>è™šæ„</strong>å‡ºæ¥çš„<strong>è®¡ç®—æœºè§„èŒƒç»“æ„</strong>ï¼Œæ˜¯é€šè¿‡åœ¨<strong>å®é™…</strong>çš„è®¡ç®—æœºä¸Šä»¿çœŸæ¨¡æ‹Ÿå„ç§è®¡ç®—æœºåŠŸèƒ½æ¥å®ç°çš„ã€‚</p><p>JVMæ˜¯Javaä¸­æœ€æ ¸å¿ƒçš„ä¸€ä¸ªä¸œè¥¿ï¼Œå®ƒåœ¨è®¡ç®—æœºçš„å†…å­˜ä¸­ï¼Œè™šæ‹Ÿå¹¶æä¾›äº†Javaä»£ç å¯ä»¥å†å…¶ä¸­è¿è¡Œçš„åŸºç¡€ç¯å¢ƒã€‚</p></blockquote><blockquote><p>JVMå†…å­˜ç®¡ç†ç»“æ„å¦‚ä¸‹ï¼š</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722182734788.png" alt="image-20230722182734788"></p><p>å’Œæˆ‘ä»¬ç¨‹åºä¸­å…³ç³»æ¯”è¾ƒç´§å¯†çš„æ˜¯<strong>å †åŒº</strong>ã€<strong>æ ˆåŒº</strong>è¿˜æœ‰<strong>æ–¹æ³•åŒº</strong></p></blockquote><blockquote><p>JVMå°±æ˜¯ java ç¨‹åº å’Œ æ“ä½œç³»ç»Ÿ ä¹‹é—´çš„æ¡¥æ¢ï¼š</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722183134877.png" alt="image-20230722183134877"></p></blockquote><blockquote><p>Javaä»£ç ç¼–è¯‘åï¼Œè®¡ç®—æœºå¹¶ä¸èƒ½ç›´æ¥è¿è¡Œï¼Œå¿…é¡»éœ€è¦ç»è¿‡<strong>JVMè¿›è¡Œè§£é‡Š</strong>åå†è¿›è¡Œè¿è¡Œã€‚</p><p>soï¼Œ<strong>Javaå…¶å®å¹¶ä¸ç®—æ˜¯çœŸæ­£çš„ç¼–è¯‘è¯­è¨€</strong>ã€‚</p></blockquote><blockquote><p><font color="skyblue">æ³¨æ„ï¼šJVMæœ¬è´¨ä¸Šæ˜¯ä¸€ä¸ªè§„èŒƒï¼Œæ¯ä¸ªå…¬å¸éƒ½å¯ä»¥æŒ‰ç…§è¿™ä¸ªè§„èŒƒå®ç°è‡ªå·±çš„JVMè™šæ‹Ÿæœº</font></p><p>ç°åœ¨é»˜è®¤ä½¿ç”¨çš„è™šæ‹Ÿæœºæ˜¯Oracleå…¬å¸æä¾›çš„HotSpot</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230722184135515.png" alt="image-20230722184135515"></p></blockquote><blockquote><p>å½“ä½¿ç”¨Javaå‘½ä»¤æ¥è¿è¡Œç¨‹åºçš„ä½¿ç”¨ï¼Œä¼šå…ˆå¯åŠ¨JVMï¼Œè¿™ä¸ªJVMåœ¨JDKä¸­å¯¹åº”äº†ä¸€ä¸ªddlæˆ–soæ–‡ä»¶ï¼š</p><ul><li>å¦‚æœæ˜¯Windowsç³»ç»Ÿä¸‹ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ï¼š<code>%JAVA_HOME%\jre\bin\server\jvm.dll</code></li><li>å¦‚æœæ˜¯Linuxç³»ç»Ÿä¸‹ï¼Œè¿™ä¸ªæ–‡ä»¶åœ¨ï¼š<code>$JAVA_HOME$/jre/lib/amd64/server/libjvm.so</code></li></ul><p><font color="skybule">æ³¨æ„ï¼šLinuxä¸‹é¢çš„soæ–‡ä»¶å°±ç±»ä¼¼äºWindowsä¸­çš„dllæ–‡ä»¶</font></p></blockquote><h2 id="å­—èŠ‚ç éªŒè¯"><a href="#å­—èŠ‚ç éªŒè¯" class="headerlink" title="å­—èŠ‚ç éªŒè¯"></a>å­—èŠ‚ç éªŒè¯</h2><blockquote><p>å°†ç¼–å†™å¥½J<strong>avaä»£ç ç¼–è¯‘æˆclassæ–‡ä»¶</strong>ï¼ˆå­—èŠ‚ç ï¼‰åï¼Œéœ€è¦è¢«<strong>JVMåŠ è½½åˆ°å†…å­˜</strong>ä¸­æ‰å¯ä»¥è¿è¡Œï¼ŒJVMåŠ è½½æ—¶æ˜¯éœ€è¦åš<strong>å­—èŠ‚ç éªŒè¯</strong>çš„ã€‚</p></blockquote><blockquote><p>Javaä»£ç ç¼–è¯‘åŠè¿è¡Œè¿‡ç¨‹ï¼š</p><p><img src="/2023/07/22/01-Java%E5%9F%BA%E7%A1%80%E5%85%A5%E9%97%A8/image-20230822104912848.png" alt="image-20230822104912848"></p><p>åŠ è½½åˆ°å†…å­˜çš„é€”å¾„æœ‰å¾ˆå¤šï¼Œå¯ä»¥é€šè¿‡<strong>æœ¬åœ°ç£ç›˜</strong>ä¹Ÿå¯ä»¥é€šè¿‡<strong>ç½‘ç»œ</strong>ï¼ˆä¸Šå›¾æ˜¯é€šè¿‡ ç½‘ç»œï¼‰åŠ è½½ã€‚</p></blockquote><blockquote><pre><code>    ä¸€ä¸ªclassæ–‡ä»¶è¢«åŠ è½½åˆ°JVMå†…å­˜ä¹‹åï¼Œé¦–å…ˆè¦ç»è¿‡å­—èŠ‚ç éªŒè¯ï¼ŒéªŒè¯å†…å®¹ä¸»è¦åŒ…å«ï¼š- æ£€æŸ¥å½“å‰classæ–‡ä»¶çš„ç‰ˆæœ¬å’ŒJVMçš„ç‰ˆæœ¬æ˜¯å¦å…¼å®¹- æ£€æŸ¥å½“å‰ä»£ç æ˜¯å¦ä¼šç ´åç³»ç»Ÿçš„å®Œæ•´æ€§- æ£€æŸ¥å½“å‰ä»£ç æ˜¯å¦æœ‰æ ˆæº¢å‡ºçš„æƒ…å†µ- æ£€æŸ¥å½“å‰ä»£ç ä¸­çš„å‚æ•°ç±»å‹æ˜¯å¦æ­£ç¡®- æ£€æŸ¥å½“å‰ä»£ç ä¸­çš„ç±»å‹è½¬æ¢æ“ä½œæ˜¯å¦æ­£ç¡®éªŒè¯é€šè¿‡åï¼Œå†ç¡®å®šå“ªäº›ä»£ç æ˜¯ **è§£é‡Šæ‰§è¡Œ** çš„ï¼Œå“ªäº›ä»£ç æ˜¯ **JITå³æ—¶ç¼–è¯‘æ‰§è¡Œ** çš„ï¼š- è§£é‡Šæ‰§è¡Œ - classæ–‡ä»¶å†…å®¹éœ€è¦äº¤ç»™JVMè¿›è¡Œè§£é‡Šæ‰§è¡Œï¼Œç®€å•ç†è§£å°±æ˜¯**JVMè§£é‡Šä¸€è¡Œå°±æ‰§è¡Œä¸€è¡Œä»£ç **ã€‚æ‰€ä»¥å¦‚æœJavaä»£ç å…¨æ˜¯è¿™æ ·çš„è¿è¡Œæ–¹å¼çš„è¯ï¼Œ**æ•ˆç‡ä¼šç¨ä½**ä¸€äº›ã€‚- JITï¼ˆJust In Timeï¼‰å³æ—¶ç¼–è¯‘ - æ‰§è¡Œä»£ç çš„å¦ä¸€ç§æ–¹å¼ï¼ŒJVMå¯ä»¥æŠŠJavaä¸­çš„ **çƒ­ç‚¹ä»£ç ** ç›´æ¥ç¼–è¯‘æˆè®¡ç®—æœºå¯ä»¥è¿è¡Œçš„äºŒè¿›åˆ¶æŒ‡ä»¤ï¼Œè¿™æ ·åç»­å†è°ƒç”¨è¿™ä¸ªçƒ­ç‚¹ä»£ç çš„æ—¶å€™ï¼Œå°±å¯ä»¥ç›´æ¥è¿è¡Œç¼–è¯‘å¥½çš„æŒ‡ä»¤ï¼Œå¤§å¤§æé«˜è¿è¡Œæ•ˆç‡ã€‚</code></pre></blockquote><h2 id="åƒåœ¾å›æ”¶å™¨"><a href="#åƒåœ¾å›æ”¶å™¨" class="headerlink" title="åƒåœ¾å›æ”¶å™¨"></a>åƒåœ¾å›æ”¶å™¨</h2><blockquote><p>åœ¨<strong>Javaè¯­è¨€</strong>ä¸­ï¼Œç¼–ç¨‹äººå‘˜<strong>ä¸éœ€è¦</strong>åœ¨ä»£ç ä¸­ä¸»åŠ¨çš„å¯¹å†…å­˜è¿›è¡Œç”³è¯·ä¸é‡Šæ”¾ ï¼ˆCã€C++è¯­è¨€ä¸­ï¼Œç¨‹åºå‘˜éœ€è¦è‡ªå·±æ§åˆ¶ï¼‰</p></blockquote><blockquote><p>Javaä»£ç ä¸­ï¼Œå¼€è¾Ÿè¦ä½¿ç”¨çš„å†…å­˜ç©ºé—´ï¼Œä½¿ç”¨<strong>newå…³é”®å­—</strong>å³å¯ã€‚</p><p>ä½¿ç”¨å®Œåï¼Œå¯¹å†…å­˜çš„é‡Šæ”¾ï¼Œåœ¨JVMä¸­ï¼Œç”±åƒåœ¾å›æ”¶å™¨ï¼ˆGarbage Collectionï¼ŒGCï¼‰æ¥å®Œæˆã€‚</p><p><strong>ä¸åŒç±»å‹çš„GC</strong>ï¼Œåœ¨JVMä¸­ï¼Œä¼šæ ¹æ®<strong>ä¸åŒçš„ç®—æ³•</strong>ï¼Œå¯¹<strong>ä¸åŒçš„å†…å­˜åŒºåŸŸ</strong>å†…æ ‡è®°ä¸ºåƒåœ¾çš„ç©ºé—´ï¼Œè¿›è¡Œå›æ”¶é‡Šæ”¾ã€‚åœ¨è¿™ä¸ªè¿‡ç¨‹ä¸­ï¼Œ<strong>æ˜¯ä¸éœ€è¦ç¼–ç¨‹äººå‘˜å¹²é¢„çš„ï¼Œè‡ªåŠ¨å®Œæˆ</strong>ã€‚</p><p>JavaSE-API:</p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">java.lang.System.gc();</span><br><span class="line">java.lang.Runtime.gc();</span><br></pre></td></tr></table></figure><p><font color="skyblue">æ³¨æ„ï¼Œè™½ç„¶å¯ä»¥ä¸»åŠ¨é€šçŸ¥ï¼Œä½†æ˜¯æœ€åGCå¹¶ä¸ä¸€å®šä¼šç«‹åˆ»æ‰§è¡Œï¼Œå› ä¸ºè¿™ä¸ªåƒ åœ¾å›æ”¶çš„è¿‡ç¨‹ä»€ä¹ˆæ—¶å€™æ‰§è¡Œï¼Œæœ€ç»ˆè¿˜æ˜¯è¦æ ¹æ®GCçš„å…·ä½“ç®—æ³•å’Œå½“å‰å†…å­˜çš„ ä½¿ç”¨æƒ…å†µæ¥ç¡®å®šã€‚</font></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ç™¾å°ºç«¿å¤´ç«‹ä¸éš¾ï¼Œä¸€å‹¤å¤©ä¸‹æ— éš¾äº‹ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>â‘ Linux-æ“ä½œç³»ç»Ÿ-2</title>
      <link href="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/"/>
      <url>/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>Linux æœåŠ¡çš„åŸºæœ¬æ“ä½œ-2</p></blockquote><h1 id="å¸¸ç”¨å‘½ä»¤"><a href="#å¸¸ç”¨å‘½ä»¤" class="headerlink" title="å¸¸ç”¨å‘½ä»¤"></a>å¸¸ç”¨å‘½ä»¤</h1><h2 id="touch"><a href="#touch" class="headerlink" title="touch"></a>touch</h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> a.txt</span><br><span class="line"><span class="comment"># å½“a.txtæ–‡ä»¶ä¸å­˜åœ¨çš„æ—¶å€™ï¼Œä¼šåˆ›å»ºè¯¥æ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å½“a.txtæ–‡ä»¶å­˜åœ¨çš„æ—¶å€™ï¼Œä¼šæ›´æ–°æ–‡ä»¶çš„ä¿®æ”¹æ—¶é—´</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">touch</span> a b c d</span><br></pre></td></tr></table></figure></blockquote><h2 id="mkdir"><a href="#mkdir" class="headerlink" title="mkdir"></a>mkdir</h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mkdir</span> teest</span><br><span class="line"><span class="built_in">mkdir</span> test1 test2 test3 <span class="comment"># åˆ›å»ºå¤šä¸ªå¹³çº§ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> ~/test4 <span class="comment"># åœ¨å½“å‰ç”¨æˆ·å®¶è·¯å¾„ä¸‹åˆ›å»ºä¸€ä¸ªå­ç›®å½•</span></span><br><span class="line"><span class="built_in">mkdir</span> -p /test1/test2/test3 <span class="comment"># åˆ›å»ºå¤šçº§å­ç›®å½•ï¼Œ-pè¡¨ç¤ºå¦‚æœå­ç›®å½•ä¸å­˜åœ¨å°±åˆ›å»º</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="cp"><a href="#cp" class="headerlink" title="cp"></a>cp</h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> a.txt b.txt</span><br><span class="line"><span class="comment"># å¦‚æœb.txtä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºb.txtæ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å¦‚æœb.txt å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨è¦†ç›–b.txtæ–‡ä»¶å†…å®¹</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -i a.txt b.txt <span class="comment"># ä½¿ç”¨-iè¿›è¡Œè¦†ç›–æç¤º</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> a.txt b.txt <span class="built_in">test</span> <span class="comment"># å¤åˆ¶å¤šä¸ªæ–‡ä»¶ï¼Œåˆ°ä¸€ä¸ªæŒ‡å®šç›®å½•</span></span><br><span class="line"><span class="comment"># å¤åˆ¶a.txt b.txtæ–‡ä»¶åˆ°testç›®å½•ä¸­ï¼Œè¦æ±‚è¿™äº›æ–‡ä»¶å’Œç›®å½•éƒ½æ˜¯å­˜åœ¨çš„</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r test1 test2 <span class="comment"># å¤åˆ¶æ–‡ä»¶å¤¹å’Œå®ƒçš„å†…å®¹ï¼Œåˆ°å¦ä¸€ä¸ªæ–‡ä»¶å¤¹ä¸­</span></span><br><span class="line"><span class="comment"># å¤åˆ¶test1æ–‡ä»¶åŠå…¶å†…å®¹åˆ°test2ç›®å½•ä¸­</span></span><br><span class="line"><span class="comment"># å¦‚æœtest2ç›®å½•ä¸å­˜åœ¨ï¼Œåˆ™åˆ›å»ºtest2å¹¶æŠŠtest1ç›®å½•ä¸­çš„å†…å®¹å¤åˆ¶è¿›å»ï¼Œä¸åŒ…å«test1ç›®å½•</span></span><br><span class="line"><span class="comment"># å¦‚æœtest2ç›®å½•å­˜åœ¨ï¼Œåˆ™æŠŠæ•´ä¸ªtest1ç›®å½•åŠå…¶å†…å®¹å…¨éƒ¨å¤åˆ¶åˆ°test2ä¸­ï¼ŒåŒ…å«test1ç›®å½•</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cp</span> -r <span class="built_in">test</span>  test4/temp <span class="comment"># æŠŠtestç›®å½•å¤åˆ¶åˆ°test4ç›®å½•ä¸­ï¼Œå¹¶ä¸”ä¿®æ”¹ç›®å½•åå­—ä¸ºtemp</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼Œè¦æ±‚test4ç›®å½•å¿…é¡»æ˜¯å­˜åœ¨çš„</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="mv"><a href="#mv" class="headerlink" title="mv"></a>mv</h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> a.txt <span class="built_in">test</span> <span class="comment"># ç§»åŠ¨ä¸€ä¸ªæ–‡ä»¶</span></span><br><span class="line"><span class="comment"># å°†a.txtç§»åŠ¨åˆ°testç›®å½•ä¸­</span></span><br><span class="line"><span class="comment"># æ³¨æ„ï¼Œä¹Ÿå¯ä»¥åŒæ—¶ç§»åŠ¨å¤šä¸ªæ–‡ä»¶åˆ°ç›®å½•ä¸­</span></span><br><span class="line"><span class="built_in">mv</span> a.txt b.txt c.txt <span class="built_in">test</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> ./test/a.txt . <span class="comment"># å°†testç›®å½•ä¸­çš„a.txtç§»åŠ¨åˆ°å½“å‰ç›®å½•</span></span><br><span class="line"><span class="built_in">mv</span> a.txt b.txt <span class="comment"># ä¿®æ”¹ä¸€ä¸ªæ–‡ä»¶çš„åå­—,å°†a.txtæ”¹ä¸ºb.txt</span></span><br><span class="line"><span class="built_in">mv</span> -i a.txt b.txt <span class="comment"># -iå‚æ•°ï¼Œè¦†ç›–æç¤º</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">mv</span> dir1 dir2 <span class="comment"># ä¿®æ”¹ç›®å½•çš„åå­— ï¼ˆdir2ä¸å­˜åœ¨ï¼‰</span></span><br><span class="line"><span class="built_in">mv</span> dir1 dir2 <span class="comment"># å°†ä¸€ä¸ªç›®å½•ç§»åŠ¨åˆ°å¦ä¸€ä¸ªç›®å½•ä¸­ ï¼ˆdir2å­˜åœ¨ï¼‰</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="rm"><a href="#rm" class="headerlink" title="rm"></a>rm</h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> a.txt</span><br><span class="line"><span class="built_in">rm</span> -i a.txt</span><br><span class="line"><span class="built_in">rm</span> a b c d</span><br><span class="line"><span class="built_in">rmdir</span> <span class="built_in">test</span> <span class="comment"># åˆ é™¤ç©ºç›®å½• ï¼ˆéç©ºæŠ¥é”™ï¼‰</span></span><br><span class="line"><span class="built_in">rm</span> -r <span class="built_in">test</span></span><br><span class="line"><span class="built_in">rm</span> -r -i <span class="built_in">test</span> (or) <span class="built_in">rm</span> -ri <span class="built_in">test</span> </span><br><span class="line"><span class="built_in">rm</span> -r -f <span class="built_in">test</span> (or) <span class="built_in">rm</span> -rf <span class="built_in">test</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="man"><a href="#man" class="headerlink" title="man"></a>man</h2><blockquote><blockquote><p>Linuxæä¾›äº†ä¸°å¯Œçš„å¸®åŠ©æ‰‹å†Œï¼Œå½“éœ€è¦æŸ¥çœ‹æŸä¸ªå‘½ä»¤çš„å‚æ•°æ—¶ï¼Œå¯ä»¥ä½¿ç”¨man å‘½ä»¤ã€‚ </p><p><font color="skyblue">man is your friend</font></p></blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">man <span class="built_in">ls</span></span><br><span class="line"><span class="comment"># ç©ºæ ¼ï¼Œæ¯æ¬¡å¾€ä¸‹ç¿»ä¸€ä¸ªå±å¹•çš„å†…å®¹</span></span><br><span class="line"><span class="comment"># å›è½¦,æ¯æ¬¡å¾€ä¸‹ç¿»ä¸€è¡Œå†…å®¹</span></span><br><span class="line"><span class="comment"># b,æ¯ä¸€æ¬¡å‘ä¸Šç¿»å›ä¸€é¡µ</span></span><br><span class="line"><span class="comment"># f,æ¯æ¬¡å‘ä¸‹ç¿»ä¸€é¡µ</span></span><br><span class="line"><span class="comment"># q,é€€å‡ºå½“å‰æ‰‹å†Œç•Œé¢</span></span><br><span class="line"><span class="comment"># /string,æŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚,/the å°±æ˜¯æŸ¥æ‰¾è¿™ä¸ªå•è¯n,</span></span><br><span class="line"><span class="comment"># é…åˆ/stringå‘½ä»¤ï¼Œå¯ä»¥å¿«é€Ÿè°ƒæ•´è·³åˆ°ä¸‹ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²çš„ä½ç½®</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="telnet"><a href="#telnet" class="headerlink" title="telnet"></a>telnet</h2><blockquote><ul><li>ifconfig, æŸ¥çœ‹ipåœ°å€</li><li>è¦æ±‚ <ul><li>æœ¬æœºæœ‰telnetå®¢æˆ·ç«¯ï¼Œå¯ä»¥ä½¿ç”¨telnetå‘½ä»¤</li><li>æœåŠ¡å™¨ä¸»æœºå®‰è£…äº†telnetæœåŠ¡å™¨ç«¯ï¼Œå¹¶å·²ç»å¼€å¯æœåŠ¡</li><li>æœ¬æœºå¯ä»¥pingé€šæœåŠ¡å™¨ä¸»æœºçš„ipåœ°å€</li></ul></li><li>ä½¿ç”¨<ul><li>telnet + ip + [23]</li></ul></li></ul></blockquote><h1 id="ç‰¹æ®Šå­—ç¬¦"><a href="#ç‰¹æ®Šå­—ç¬¦" class="headerlink" title="ç‰¹æ®Šå­—ç¬¦"></a>ç‰¹æ®Šå­—ç¬¦</h1><h2 id><a href="#" class="headerlink" title="*"></a><code>*</code></h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¡¨ç¤ºé€šé…ï¼Œå¯ä»¥ä»£è¡¨0~nä¸ªå­—ç¬¦</span></span><br><span class="line"><span class="built_in">ls</span> *.txt</span><br><span class="line"><span class="built_in">rm</span> *.txt</span><br></pre></td></tr></table></figure></blockquote><h2 id="-1"><a href="#-1" class="headerlink" title="?"></a><code>?</code></h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¡¨ç¤ºä»»æ„çš„ä¸€ä¸ªå­—ç¬¦ï¼ˆç›¸å½“äºå ä½ç¬¦ï¼‰</span></span><br><span class="line"><span class="built_in">ls</span> a?.txt</span><br></pre></td></tr></table></figure></blockquote><h2 id="-2"><a href="#-2" class="headerlink" title=";"></a><code>;</code></h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¡¨ç¤ºåœ¨ä¸€è¡Œè¯­å¥ä¸­è¿ç»­æ‰§è¡Œå¤šä¸ªå‘½ä»¤ï¼Œå‘½ä»¤ä¹‹é—´ä½¿ç”¨åˆ†å·è¿›è¡Œåˆ†å‰²</span></span><br><span class="line"><span class="built_in">cd</span>;<span class="built_in">ls</span>        <span class="comment"># å…ˆcdå›åˆ°å®¶ç›®å½•ï¼Œç„¶åå†æ‰§è¡Œlså‘½ä»¤</span></span><br><span class="line"><span class="built_in">date</span>;cal;<span class="built_in">pwd</span> <span class="comment"># å…ˆæ˜¾ç¤ºæ—¶é—´ï¼Œå†æ˜¾ç¤ºæ—¥å†ï¼Œå†æ˜¾ç¤ºå½“å‰è·¯å¾„</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="å’Œ"><a href="#å’Œ" class="headerlink" title="&gt; å’Œ &gt;&gt;"></a><code>&gt; å’Œ &gt;&gt;</code></h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># è¾“å‡ºé‡å®šå‘ç¬¦å·ï¼Œå°†æ¥åŸæœ¬è¾“å‡ºåˆ°å‘½ä»¤è¡Œä¸­çš„å†…å®¹ï¼Œé‡å®šå‘è¾“å…¥åˆ°å¦å¤–ä¸€ä¸ªåœ°æ–¹ã€‚</span></span><br><span class="line"><span class="comment"># &gt; è¡¨ç¤ºå¾€æ–‡ä»¶ä¸­å†™å…¥å†…å®¹ï¼Œæ˜¯è¦†ç›–æ“ä½œ</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">&quot;hello&quot;</span> &gt; a <span class="comment"># æŠŠhelloå†™å…¥åˆ°aæ–‡ä»¶ä¸­</span></span><br><span class="line"><span class="comment"># aæ–‡ä»¶å¦‚æœä¸å­˜åœ¨ï¼Œåˆ™è‡ªåŠ¨åˆ›å»ºï¼Œaæ–‡ä»¶å¦‚æœå­˜åœ¨ï¼Œåˆ™è¦†ç›–ä¹‹å‰çš„å†…å®¹</span></span><br><span class="line">cal &gt; a <span class="comment"># calå‘½ä»¤è¾“å‡ºçš„æ—¥å†å†™å…¥åˆ°aæ–‡ä»¶ä¸­</span></span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># &gt;&gt; è¡¨ç¤ºå¾€æ–‡ä»¶ä¸­å†™å…¥å†…å®¹ï¼Œæ˜¯è¿½åŠ æ“ä½œ</span></span><br><span class="line"><span class="built_in">date</span> &gt;&gt; a</span><br><span class="line">cal &gt;&gt; a</span><br><span class="line">cal 7 2023 &gt; a</span><br></pre></td></tr></table></figure></blockquote><h2 id="-3"><a href="#-3" class="headerlink" title="|"></a><code>|</code></h2><blockquote> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç®¡é“ç¬¦ï¼Œå¯ä»¥æŠŠç¬¬ä¸€ä¸ªå‘½ä»¤çš„ç»“æœï¼Œäº¤ç»™ç¬¬äºŒä¸ªå‘½ä»¤ä½œä¸ºå‚æ•°è¿›è¡Œæ“ä½œ</span></span><br><span class="line">cal | lp <span class="comment"># æŠŠå½“å‰æ—¥å†é€šè¿‡æ‰“å°æœºè¿›è¡Œæ‰“å°</span></span><br><span class="line"><span class="comment"># å¦‚æœå½“å‰ç½‘ç»œä¸­é…ç½®å¥½æ‰“å°æœºå¹¶è¿æ¥æˆåŠŸçš„è¯ï¼Œå¯ä»¥æ‰“å°å‡ºæ—¥å†</span></span><br><span class="line"><span class="built_in">cat</span> /etc/passwd | grep <span class="string">&quot;lwsj&quot;</span></span><br><span class="line"><span class="comment"># grepå‘½ä»¤è¿›è¡Œå¯¹ç»“æœè¿›è¡Œè¿‡æ»¤ç­›é€‰</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="æŸ¥çœ‹å†…å®¹"><a href="#æŸ¥çœ‹å†…å®¹" class="headerlink" title="æŸ¥çœ‹å†…å®¹"></a>æŸ¥çœ‹å†…å®¹</h1><h2 id="cat"><a href="#cat" class="headerlink" title="cat"></a>cat</h2><blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> a.txt </span><br><span class="line"><span class="built_in">cat</span> a.txt b.txt &gt; c.txt</span><br><span class="line"><span class="built_in">cat</span> /dev/null &gt; c.txt <span class="comment"># æŠŠc.txtæ–‡ä»¶å†…å®¹ï¼Œè®¾ç½®ä¸ºç©º</span></span><br></pre></td></tr></table></figure><p>Linuxç³»ç»Ÿä¸­ï¼Œ&#x2F;dev&#x2F;nullï¼ˆç©ºè®¾å¤‡æ–‡ä»¶æˆ–é»‘æ´æ–‡ä»¶ï¼‰æ˜¯ä¸€ä¸ªç‰¹æ®Šçš„è®¾å¤‡æ–‡ä»¶ï¼Œæ‰€æœ‰ å†™å…¥å…¶ä¸­çš„æ•°æ®ï¼Œéƒ½ä¼šè¢«ä¸¢å¼ƒçš„æ— å½±æ— è¸ªï¼Œ&#x2F;dev&#x2F;nullé€šå¸¸è¢«ç”¨äºä¸¢å¼ƒä¸éœ€è¦çš„æ•° æ®è¾“å‡ºï¼Œæˆ–ä½œä¸ºç”¨äºè¾“å…¥æµçš„ç©ºæ–‡ä»¶ã€‚è¿™äº›æ“ä½œé€šå¸¸ç”±é‡å®šå‘å®Œæˆã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">cat</span> /dev/null &gt; a <span class="comment"># æ¸…ç©ºaæ–‡ä»¶</span></span><br><span class="line"><span class="built_in">ls</span> -R &gt; /dev/null <span class="comment"># å°†æœ¬æ¥è¦è¾“å‡ºçš„å†…å®¹ç›´æ¥ä¸¢å¼ƒä¸è¦</span></span><br></pre></td></tr></table></figure></blockquote><h2 id="more"><a href="#more" class="headerlink" title="more"></a>more</h2><blockquote><p>moreå’Œcatç±»ä¼¼ï¼Œä¹Ÿæ˜¯æŸ¥çœ‹å†…å®¹çš„å‘½ä»¤ï¼Œä½†moreå‘½ä»¤å¯ä»¥ä¸€ç‚¹ç‚¹æ˜¾ç¤ºå†…å®¹ï¼Œè€Œéä¸€æ¬¡å…¨æ˜¾ç¤ºå‡ºæ¥ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">more /etc/passwd</span><br><span class="line"><span class="comment"># ç©ºæ ¼ï¼Œæ¯æ¬¡å¾€ä¸‹ç¿»ä¸€ä¸ªå±å¹•çš„å†…å®¹</span></span><br><span class="line"><span class="comment"># å›è½¦,æ¯æ¬¡å¾€ä¸‹ç¿»ä¸€è¡Œå†…å®¹</span></span><br><span class="line"><span class="comment"># b,æ¯ä¸€æ¬¡å‘ä¸Šç¿»å›ä¸€é¡µ</span></span><br><span class="line"><span class="comment"># f,æ¯æ¬¡å‘ä¸‹ç¿»ä¸€é¡µ</span></span><br><span class="line"><span class="comment"># q,é€€å‡ºå½“å‰æŸ¥çœ‹å†…å®¹ç•Œé¢</span></span><br><span class="line"><span class="comment"># vï¼Œè¿›å…¥viæ¨¡å¼ï¼ˆåªè¯»ï¼‰ï¼Œåœ¨viæ¨¡å¼ä¸‹ï¼Œè¾“å…¥:q åˆ™é€€å‡ºviæ¨¡å—å›åˆ°moreçš„æŸ¥çœ‹æ¨¡å¼</span></span><br><span class="line"><span class="comment"># åœ¨viæ¨¡å¼ä¸‹ï¼Œä½¿ç”¨/stirngï¼ŒæŸ¥æ‰¾æŒ‡å®šå­—ç¬¦ä¸²ï¼Œä¾‹å¦‚ï¼Œ/the å°±æ˜¯æŸ¥æ‰¾è¿™ä¸ªå•è¯</span></span><br><span class="line"><span class="comment"># åœ¨viæ¨¡å¼ä¸‹ï¼Œnï¼Œé…åˆ/stringå‘½ä»¤ï¼Œå¯ä»¥å¿«é€Ÿè°ƒæ•´è·³åˆ°ä¸‹ä¸€ä¸ªæŒ‡å®šå­—ç¬¦ä¸²çš„ä½ç½®</span></span><br><span class="line"><span class="built_in">ls</span> -R | more <span class="comment"># moreä¹Ÿç»å¸¸å’Œç®¡é“è´¹ | æ­é…ä½¿ç”¨</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="viç¼–è¾‘å™¨"><a href="#viç¼–è¾‘å™¨" class="headerlink" title="viç¼–è¾‘å™¨"></a>viç¼–è¾‘å™¨</h1><blockquote><p>viç¼–è¾‘å™¨æ˜¯æ‰€æœ‰UnixåŠLinuxç³»ç»Ÿä¸‹æ ‡å‡†çš„ç¼–è¾‘å™¨ï¼Œå®ƒç›¸å½“äºwindowsç³»ç»Ÿä¸­çš„è®°äº‹æœ¬ä¸€æ ·ï¼Œå®ƒçš„å¼ºå¤§ä¸é€Šäºä»»ä½•æ–‡æœ¬ç¼–è¾‘å™¨</p></blockquote><h2 id="ä¸‰ç§æ¨¡å¼"><a href="#ä¸‰ç§æ¨¡å¼" class="headerlink" title="ä¸‰ç§æ¨¡å¼"></a>ä¸‰ç§æ¨¡å¼</h2><blockquote><ul><li>å‘½ä»¤æ¨¡å¼ï¼šå¯ä»¥ä½¿ç”¨ç®€å•çš„å‘½ä»¤è¿›è¡Œæ–‡æœ¬å†…å®¹çš„æ“ä½œ</li><li>å‘½ä»¤è¡Œæ¨¡å¼ï¼ˆä½è¡Œæ¨¡å¼ï¼‰ï¼šå¯ä»¥ä½¿ç”¨å¤æ‚ç‚¹çš„å‘½ä»¤è¿›è¡Œæ–‡æœ¬å†…å®¹æ“ä½œ</li><li>ç¼–è¾‘æ¨¡å¼ï¼Œå¯ä»¥ç›´æ¥ç¼–è¾‘æ–‡æœ¬å†…å®¹</li></ul><p>ä¸‰ç§æ¨¡å¼çš„è½¬æ¢å…³ç³»å¦‚ä¸‹ï¼š</p><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719175822402.png" alt="image-20230719175822402"></p></blockquote><h2 id="å‘½ä»¤æ¨¡å¼"><a href="#å‘½ä»¤æ¨¡å¼" class="headerlink" title="å‘½ä»¤æ¨¡å¼"></a>å‘½ä»¤æ¨¡å¼</h2><blockquote><p>åŸºæœ¬æŒ‡ä»¤çš„ä½œç”¨ä»‹ç»ï¼š</p><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719175950429.png" alt="image-20230719175950429"></p><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719180020841.png" alt="image-20230719180020841"></p></blockquote><h2 id="å‘½ä»¤è¡Œæ¨¡å¼"><a href="#å‘½ä»¤è¡Œæ¨¡å¼" class="headerlink" title="å‘½ä»¤è¡Œæ¨¡å¼"></a>å‘½ä»¤è¡Œæ¨¡å¼</h2><blockquote><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719180252969.png" alt="image-20230719180252969"></p></blockquote><h1 id="ç¯å¢ƒå˜é‡"><a href="#ç¯å¢ƒå˜é‡" class="headerlink" title="ç¯å¢ƒå˜é‡"></a>ç¯å¢ƒå˜é‡</h1><blockquote><p>environment variables </p><p>åœ¨æ“ä½œç³»ç»Ÿä¸­ï¼Œå¯ä»¥è®¾ç½®ä¸€äº›ç¯å¢ƒå˜é‡ï¼ˆåå­—&#x3D;å€¼ï¼‰ï¼Œå°†æ¥åœ¨æ‰§è¡Œå‘½ä»¤çš„æ—¶å€™ï¼Œ</p><p>å¯ä»¥ä»æŒ‡çš„ç¯å¢ƒå˜é‡ä¸­è·å–åˆ°å¯¹åº”çš„å€¼ï¼Œä¹Ÿå¯ä»¥å°†æ¥åœ¨æˆ‘ä»¬å†™çš„ç¨‹åºä¸­ï¼Œé€šè¿‡ç¯å¢ƒå˜é‡çš„åå­—è·å–åˆ°è¿™äº›å€¼ã€‚</p></blockquote><h2 id="Linux"><a href="#Linux" class="headerlink" title="Linux"></a>Linux</h2><blockquote><ul><li>ä¸´æ—¶ç¯å¢ƒå˜é‡<ul><li><code>name=lwsj</code></li><li><code>echo $name</code></li></ul></li><li>ç”¨æˆ·çº§åˆ«çš„ç¯å¢ƒå˜é‡<ul><li><code>vi ~/.bashrc</code></li><li><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719181512981.png" alt="image-20230719181512981"></li><li><code>source ~/.bashrc</code></li></ul></li><li>å…¨å±€çš„ç¯å¢ƒå˜é‡<ul><li><code>sudo vi /etc/profile</code></li></ul></li></ul><p><strong>å»ºè®®ä¸€èˆ¬åœ¨ <code>~/.bashrc</code>ä¸­è¿›è¡Œé…ç½®å³å¯</strong></p><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719181920975.png" alt="image-20230719181920975"></p><ul><li><p>ç‰¹æ®Šçš„ç¯å¢ƒå˜é‡ï¼š</p><ul><li><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719182256027.png" alt="image-20230719182256027"></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -l /bin/ls</span><br></pre></td></tr></table></figure> <figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">briup@ubuntu:~$ <span class="built_in">which</span> <span class="built_in">ls</span></span><br><span class="line">/usr/bin/ls</span><br></pre></td></tr></table></figure></li></ul></blockquote><h2 id="windows"><a href="#windows" class="headerlink" title="windows"></a>windows</h2><blockquote><p> <img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719183400040.png" alt="image-20230719183400040"></p></blockquote><blockquote><p>windowsç³»ç»Ÿä¸­ï¼Œç¯å¢ƒå˜é‡çš„æ„ä¹‰å’Œä½œç”¨å’ŒLinuxä¸­åˆ—ä¸¾å‡ºçš„åŸºæœ¬ä¸€è‡´ã€‚</p><p>windowså’ŒLinuxåŒºåˆ«ï¼š</p><ul><li>é…ç½®çš„åœ°æ–¹æˆ–æ–¹å¼ä¸åŒ</li><li>å¼•ç”¨å˜é‡çš„ç¬¦å·ä¸åŒï¼Œwindowsä½¿ç”¨å˜é‡åå­—<strong>ä¸¤è¾¹åŠ <code>%</code><strong>ï¼ŒLinuxä½¿ç”¨å˜é‡åå­—</strong>å·¦è¾¹åŠ <code>$</code></strong></li><li>å¤šä¸ªè·¯å¾„ä¹‹é—´åˆ†å‰²çš„ç¬¦å·ä¸åŒï¼Œwindowsä½¿ç”¨<strong>åˆ†å·</strong>ï¼ŒLinuxä½¿ç”¨<strong>å†’å·</strong></li><li>windowsç³»ç»Ÿä¸­ç¯å¢ƒå˜é‡åå­—çš„<strong>å¤§å°å†™ä¸æ•æ„Ÿ</strong>ï¼Œè€ŒLinuxä¸­å¤§å°å†™æ˜¯<strong>æ•æ„Ÿ</strong>çš„</li></ul></blockquote><h1 id="å½’æ¡£å‹ç¼©"><a href="#å½’æ¡£å‹ç¼©" class="headerlink" title="å½’æ¡£å‹ç¼©"></a>å½’æ¡£å‹ç¼©</h1><h2 id="å½’æ¡£"><a href="#å½’æ¡£" class="headerlink" title="å½’æ¡£"></a>å½’æ¡£</h2><blockquote><pre><code> å½’æ¡£ï¼ŒæŠŠè‹¥å¹²ä¸ªæ–‡ä»¶æˆ–ç›®å½•ç®€å•çš„åˆå¹¶åœ¨ä¸€èµ·ï¼Œå®ƒå¹¶ä¸å¯¹æ–‡ä»¶è¿›è¡Œå‹ç¼©ï¼Œå°±æ˜¯å°†å¤šä¸ªæ–‡ä»¶å‰åè¿æ¥åœ¨ä¸€èµ·ï¼Œå½¢æˆä¸€ä¸ªå¤§æ–‡ä»¶ã€‚ï¼ˆ+é¢å¤–çš„ä¿¡æ¯ï¼‰</code></pre><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -cvf work.tar a b c test1 test2 <span class="comment"># æŠŠæŒ‡å®šæ–‡ä»¶å’Œç›®å½•è¿›è¡Œå½’æ¡£</span></span><br></pre></td></tr></table></figure><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719184547469.png" alt="image-20230719184547469"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -xvf work.tar -C dir1 <span class="comment"># è§£é™¤å½’æ¡£æ–‡ä»¶åˆ°æŒ‡å®šç›®å½•ä¸­</span></span><br></pre></td></tr></table></figure><p>tarå‘½ä»¤å¸¸ç”¨çš„é€‰é¡¹åŠå…¶ä½œç”¨ï¼šæ¨è <code>tar --help</code></p><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719185204769.png" alt="image-20230719185204769"></p></blockquote><h2 id="å‹ç¼©"><a href="#å‹ç¼©" class="headerlink" title="å‹ç¼©"></a>å‹ç¼©</h2><blockquote><p>å‹ç¼©ï¼Œæ˜¯ä¸€ç§é€šè¿‡ç‰¹å®šçš„ç®—æ³•æ¥å‡å°è®¡ç®—æœºæ–‡ä»¶å¤§å°çš„æœºåˆ¶ï¼ŒLinuxä¸­çš„æ–‡ ä»¶å‹ç¼©å‘½ä»¤æœ‰å¤šç§ï¼Œå…¶ä¸­æœ€å¸¸ç”¨çš„å‘½ä»¤å°±æ˜¯gzipã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gzip work.tar</span><br></pre></td></tr></table></figure><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719190526195.png" alt="image-20230719190526195"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">rm</span> work.tar.gz</span><br><span class="line">tar -zcvf work.tar.gz a b c test1 test2</span><br></pre></td></tr></table></figure><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719190738587.png" alt="image-20230719190738587"></p></blockquote><h2 id="è§£å‹"><a href="#è§£å‹" class="headerlink" title="è§£å‹"></a>è§£å‹</h2><blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">gunzip work.tar.gz</span><br></pre></td></tr></table></figure><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719190901731.png" alt="image-20230719190901731"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">tar -zxvf work.tar.gz -C dir2</span><br></pre></td></tr></table></figure><p><img src="/2023/07/18/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F-2/image-20230719191119162.png" alt="image-20230719191119162"></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¹¦å±±æœ‰è·¯å‹¤ä¸ºå¾„ï¼Œå­¦æµ·æ— æ¶¯è‹¦ä½œèˆŸğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>åŸºç¡€ç¯‡-interview-heima</title>
      <link href="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/"/>
      <url>/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šå¤‡æˆ˜ç§‹æ‹›ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>é€¢éƒæ¬²è¯­ä½å¤´ç¬‘ï¼Œç¢§ç‰æ”å¤´è½æ°´ä¸­ã€‚â€”â€”ç™½å±…æ˜“ã€Šé‡‡è²æ›²ã€‹</p></blockquote><h1 id="äºŒåˆ†æŸ¥æ‰¾"><a href="#äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="äºŒåˆ†æŸ¥æ‰¾"></a>äºŒåˆ†æŸ¥æ‰¾</h1><h2 id="æ‰‹å†™äºŒåˆ†æŸ¥æ‰¾"><a href="#æ‰‹å†™äºŒåˆ†æŸ¥æ‰¾" class="headerlink" title="æ‰‹å†™äºŒåˆ†æŸ¥æ‰¾"></a>æ‰‹å†™äºŒåˆ†æŸ¥æ‰¾</h2><blockquote><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716100500003.png" alt="image-20230716100500003"></p></blockquote><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">BinarySearch</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] array = &#123;<span class="number">1</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">33</span>, <span class="number">55</span>, <span class="number">77</span>, <span class="number">99</span>, <span class="number">334</span>, <span class="number">456</span>&#125;;</span><br><span class="line">        <span class="type">int</span> <span class="variable">target</span> <span class="operator">=</span> <span class="number">99</span>;</span><br><span class="line">        <span class="type">int</span> <span class="variable">idx</span> <span class="operator">=</span> binarySearch(array, target);</span><br><span class="line">        System.out.println(<span class="string">&quot;idx = &quot;</span> + idx);</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// äºŒåˆ†æŸ¥æ‰¾ï¼Œæ‰¾å¾—åˆ°è¿”å›å…ƒç´ ç´¢å¼•ï¼Œæ‰¾ä¸åˆ°è¿”å›-1</span></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">binarySearch</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> target)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">l</span> <span class="operator">=</span> <span class="number">0</span>, r = array.length - <span class="number">1</span>, mid;</span><br><span class="line">        <span class="keyword">while</span> (l &lt;= r) &#123;</span><br><span class="line">            mid = l + (r - l) / <span class="number">2</span>; <span class="comment">// å¯ä»¥é¿å…æº¢å‡ºé—®é¢˜</span></span><br><span class="line">            <span class="comment">// mid = (l + r) &gt;&gt;&gt; 1; // æ— ç¬¦å·ä½å³ç§»ï¼Œæ•ˆç‡æ›´é«˜</span></span><br><span class="line">            <span class="keyword">if</span> (array[mid] == target)</span><br><span class="line">                <span class="keyword">return</span> mid;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &gt; target)</span><br><span class="line">                r = mid - <span class="number">1</span>;</span><br><span class="line">            <span class="keyword">else</span> <span class="keyword">if</span> (array[mid] &lt; target)</span><br><span class="line">                l = mid + <span class="number">1</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">return</span> -<span class="number">1</span>;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">mid = l + (r - l) / <span class="number">2</span>; <span class="comment">// å¯ä»¥é¿å…æº¢å‡ºé—®é¢˜</span></span><br><span class="line">mid = (l + r) &gt;&gt;&gt; <span class="number">1</span>; <span class="comment">// æ— ç¬¦å·ä½å³ç§»ï¼Œæ•ˆç‡æ›´é«˜</span></span><br><span class="line"></span><br><span class="line"><span class="comment">//&gt;&gt;è¡¨ç¤ºå³ç§»ï¼Œå¦‚æœè¯¥æ•°ä¸ºæ­£ï¼Œåˆ™é«˜ä½è¡¥0ï¼Œè‹¥ä¸ºè´Ÿæ•°ï¼Œåˆ™é«˜ä½è¡¥1ï¼›</span></span><br><span class="line"><span class="comment">//&gt;&gt;&gt;è¡¨ç¤ºæ— ç¬¦å·å³ç§»ï¼Œä¹Ÿå«é€»è¾‘å³ç§»ï¼Œå³è‹¥è¯¥æ•°ä¸ºæ­£ï¼Œåˆ™é«˜ä½è¡¥0ï¼Œè€Œè‹¥è¯¥æ•°ä¸ºè´Ÿæ•°ï¼Œåˆ™å³ç§»åé«˜ä½åŒæ ·è¡¥0ã€‚</span></span><br></pre></td></tr></table></figure><p>å¥‡æŠ€æ·«å·§ï¼š</p><ul><li><strong>å¥‡æ•°äºŒåˆ†å–ä¸­é—´</strong></li><li><strong>å¶æ•°äºŒåˆ†å–ä¸­é—´é å·¦</strong></li><li>2^n &#x3D; 128 æˆ– 128&#x2F;2&#x2F;2 â€¦ ç›´åˆ°1</li><li>é—®é¢˜è½¬åŒ–ä¸ºlog2(128)&#x3D;log10(128)&#x2F;log10(2)<ul><li>æ˜¯æ•´æ•°ï¼Œåˆ™è¯¥æ•´æ•°å³ä¸ºæœ€ç»ˆç»“æœ</li><li>æ˜¯å°æ•°ï¼Œåˆ™èˆå»å°æ•°éƒ¨åˆ†ï¼Œæ•´æ•°åŠ ä¸€ä¸ºæœ€ç»ˆç­”æ¡ˆ</li></ul></li></ul></blockquote><h2 id="äºŒåˆ†æ³¨æ„äº‹é¡¹"><a href="#äºŒåˆ†æ³¨æ„äº‹é¡¹" class="headerlink" title="äºŒåˆ†æ³¨æ„äº‹é¡¹"></a>äºŒåˆ†æ³¨æ„äº‹é¡¹</h2><blockquote><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716101842990.png" alt="image-20230716101842990"></p></blockquote><h1 id="æ’åº"><a href="#æ’åº" class="headerlink" title="æ’åº"></a>æ’åº</h1><h2 id="å†’æ³¡æ’åºï¼ˆBubbleSortï¼‰"><a href="#å†’æ³¡æ’åºï¼ˆBubbleSortï¼‰" class="headerlink" title="å†’æ³¡æ’åºï¼ˆBubbleSortï¼‰"></a>å†’æ³¡æ’åºï¼ˆBubbleSortï¼‰</h2><h3 id="æ–‡å­—ç‰ˆ"><a href="#æ–‡å­—ç‰ˆ" class="headerlink" title="æ–‡å­—ç‰ˆ"></a>æ–‡å­—ç‰ˆ</h3><blockquote><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716103139783.png" alt="image-20230716103139783"></p><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716103318903.png" alt="image-20230716103318903"></p></blockquote><h3 id="ä»£ç ç‰ˆ"><a href="#ä»£ç ç‰ˆ" class="headerlink" title="ä»£ç ç‰ˆ"></a>ä»£ç ç‰ˆ</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æœ€åŸºæœ¬åœ°å†’æ³¡æ’åº</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">           <span class="type">boolean</span> <span class="variable">swapped</span> <span class="operator">=</span> <span class="literal">false</span>; <span class="comment">// å½“æœ¬æ¬¡æ¯”è¾ƒæ²¡æœ‰äº¤æ¢æ—¶ï¼Œè¡¨ç¤ºå·²å®Œæˆsort</span></span><br><span class="line">           <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> <span class="number">0</span>; j &lt; array.length - <span class="number">1</span> - i; j++) &#123;</span><br><span class="line">               System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + j + <span class="string">&quot;æ¬¡æ¯”è¾ƒ&quot;</span>);</span><br><span class="line">               <span class="keyword">if</span> (array[j] &gt; array[j + <span class="number">1</span>]) &#123;</span><br><span class="line">                   swap(array, j, j + <span class="number">1</span>);</span><br><span class="line">                   swapped = <span class="literal">true</span>;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (!swapped)</span><br><span class="line">               <span class="keyword">break</span>;</span><br><span class="line">           System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;è½®å†’æ³¡ï¼š&quot;</span> + Arrays.toString(array));</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   </span><br><span class="line">   <span class="comment">// äº¤æ¢</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] arr, <span class="type">int</span> x, <span class="type">int</span> y)</span> &#123;</span><br><span class="line">       arr[x] = arr[x] ^ arr[y];</span><br><span class="line">       arr[y] = arr[x] ^ arr[y];</span><br><span class="line">       arr[x] = arr[x] ^ arr[y];</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><p>   æ”¹è¿›ï¼š</p>   <figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">  <span class="comment">// æ€è·¯ï¼šå‰ä¸€æ¬¡æ’åºå¥½çš„åé¢å°±ä¸å†æ’åºäº†</span></span><br><span class="line">  <span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">bubbleSort2</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">   <span class="type">int</span> <span class="variable">n</span> <span class="operator">=</span> array.length - <span class="number">1</span>, cnt = <span class="number">0</span>;</span><br><span class="line"><span class="keyword">do</span> &#123;</span><br><span class="line">    <span class="type">int</span> <span class="variable">last</span> <span class="operator">=</span> <span class="number">0</span>; <span class="comment">// æœ€åä¸€æ¬¡ç´¢å¼•çš„ä½ç½®</span></span><br><span class="line">   <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; n; i++) &#123;</span><br><span class="line">        System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + i + <span class="string">&quot;æ¬¡æ¯”è¾ƒ&quot;</span>);</span><br><span class="line">       <span class="keyword">if</span> (array[i] &gt; array[i + <span class="number">1</span>]) &#123;</span><br><span class="line">            swap(array, i, i + <span class="number">1</span>);</span><br><span class="line">            last = i;</span><br><span class="line">        &#125;</span><br><span class="line">       &#125;</span><br><span class="line">       n = last;</span><br><span class="line">       System.out.println(<span class="string">&quot;ç¬¬&quot;</span> + (++cnt) + <span class="string">&quot;è½®å†’æ³¡ï¼š&quot;</span> + Arrays.toString(array));</span><br><span class="line">  </span><br><span class="line">   &#125; <span class="keyword">while</span> (n != <span class="number">0</span>); <span class="comment">// å½“ç´¢å¼•ä½ç½®ä¸º0æ—¶ï¼Œè¡¨ç¤ºæ•°ç»„æœ‰åº</span></span><br><span class="line">  &#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="é€‰æ‹©æ’åºï¼ˆSelectionSortï¼‰"><a href="#é€‰æ‹©æ’åºï¼ˆSelectionSortï¼‰" class="headerlink" title="é€‰æ‹©æ’åºï¼ˆSelectionSortï¼‰"></a>é€‰æ‹©æ’åºï¼ˆSelectionSortï¼‰</h2><h3 id="æ–‡å­—ç‰ˆ-1"><a href="#æ–‡å­—ç‰ˆ-1" class="headerlink" title="æ–‡å­—ç‰ˆ"></a>æ–‡å­—ç‰ˆ</h3><blockquote><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716110424177.png" alt="image-20230716110424177"></p><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716110526620.png" alt="image-20230716110526620"></p><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716112329134.png" alt="image-20230716112329134"></p></blockquote><h3 id="ä»£ç ç‰ˆ-1"><a href="#ä»£ç ç‰ˆ-1" class="headerlink" title="ä»£ç ç‰ˆ"></a>ä»£ç ç‰ˆ</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¼˜åŒ–ï¼šå·²ç»å‡å°äº†äº¤æ¢æ¬¡æ•°</span></span><br><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">selectionSort</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">       <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">0</span>; i &lt; array.length - <span class="number">1</span>; i++) &#123;</span><br><span class="line">           <span class="comment">// iè¡¨ç¤ºæ¯è½®å¯»æ‰¾åˆ°æœ€å°å€¼æ‰€å­˜æ”¾çš„ç›®æ ‡ç´¢å¼•</span></span><br><span class="line">           <span class="type">int</span> <span class="variable">minn</span> <span class="operator">=</span> i;</span><br><span class="line">           <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> minn + <span class="number">1</span>; j &lt; array.length; j++) &#123;</span><br><span class="line">               <span class="keyword">if</span> (array[minn] &gt; array[j]) &#123;</span><br><span class="line">                minn = j;</span><br><span class="line">               &#125;</span><br><span class="line">           &#125;</span><br><span class="line">           <span class="keyword">if</span> (minn != i) &#123;</span><br><span class="line">               swap(array, minn, i);</span><br><span class="line">           &#125;</span><br><span class="line">           System.out.println(Arrays.toString(array));</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="comment">// äº¤æ¢ swap</span></span><br><span class="line">   <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">swap</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> i, <span class="type">int</span> j)</span> &#123;</span><br><span class="line">       <span class="type">int</span> <span class="variable">temp</span> <span class="operator">=</span> array[i];</span><br><span class="line">       array[i] = array[j];</span><br><span class="line">       array[j] = temp;</span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="æ’å…¥æ’åºï¼ˆInsertSortï¼‰"><a href="#æ’å…¥æ’åºï¼ˆInsertSortï¼‰" class="headerlink" title="æ’å…¥æ’åºï¼ˆInsertSortï¼‰"></a>æ’å…¥æ’åºï¼ˆInsertSortï¼‰</h2><h3 id="æ–‡å­—ç‰ˆ-2"><a href="#æ–‡å­—ç‰ˆ-2" class="headerlink" title="æ–‡å­—ç‰ˆ"></a>æ–‡å­—ç‰ˆ</h3><blockquote><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716182134828.png" alt="image-20230716182134828"></p><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716182213799.png" alt="image-20230716182213799"></p><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716182312082.png" alt="image-20230716182312082"></p></blockquote><h3 id="ä»£ç ç‰ˆ-2"><a href="#ä»£ç ç‰ˆ-2" class="headerlink" title="ä»£ç ç‰ˆ"></a>ä»£ç ç‰ˆ</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">private</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">insertSort</span><span class="params">(<span class="type">int</span>[] array)</span> &#123;</span><br><span class="line">    <span class="comment">// iè¡¨ç¤ºéœ€è¦æ’å…¥å…ƒç´ ç´¢å¼•çš„ä½ç½®</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> <span class="number">1</span>; i &lt; array.length; i++) &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">t</span> <span class="operator">=</span> array[i]; <span class="comment">// ä»£è¡¨å¾…æ’å…¥çš„å…ƒç´ å€¼</span></span><br><span class="line">        <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i - <span class="number">1</span>; <span class="comment">// ä»£è¡¨å·²æ’åºåŒºåŸŸçš„å…ƒç´ ç´¢å¼•</span></span><br><span class="line">        <span class="keyword">while</span> (j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">            <span class="keyword">if</span> (t &lt; array[j]) &#123;</span><br><span class="line">                array[j+<span class="number">1</span>] = array[j]; <span class="comment">// ç›´æ¥ç§»åŠ¨å…ƒç´ </span></span><br><span class="line">            &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                <span class="keyword">break</span>; <span class="comment">// é€€å‡ºå¾ªç¯ï¼Œå‡å°‘æ¯”è¾ƒæ¬¡æ•°</span></span><br><span class="line">            &#125;</span><br><span class="line">            j--;</span><br><span class="line">        &#125;</span><br><span class="line">        array[j+<span class="number">1</span>] = t;</span><br><span class="line">        System.out.println(Arrays.toString(array));</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å¸Œå°”æ’åºï¼ˆShellSortï¼‰"><a href="#å¸Œå°”æ’åºï¼ˆShellSortï¼‰" class="headerlink" title="å¸Œå°”æ’åºï¼ˆShellSortï¼‰"></a>å¸Œå°”æ’åºï¼ˆShellSortï¼‰</h2><blockquote><p>å¸Œå°”æ’åºå¯¹ç›´æ¥æ’å…¥æ’åºæ”¹è¿›çš„ç€çœ¼ç‚¹ï¼š </p><ul><li>è‹¥å¾…æ’åºåºåˆ—ä¸­ <strong>å…ƒç´ åŸºæœ¬æœ‰åº</strong> æ—¶ï¼Œç›´æ¥æ’å…¥æ’åºçš„æ•ˆç‡å¯ä»¥å¤§å¤§æé«˜ </li><li>å¦‚æœå¾…æ’åºåºåˆ—ä¸­ <strong>å…ƒç´ æ•°é‡è¾ƒå°</strong> æ—¶ï¼Œç›´æ¥æ’å…¥æ’åºæ•ˆç‡å¾ˆé«˜</li></ul><p>å¸Œå°”æ’åºç®—æ³•æ€è·¯ï¼š </p><ul><li>å°†æ•´ä¸ªå¾…æ’åºåºåˆ—åˆ†å‰²æˆ<strong>è‹¥å¹²ä¸ªå­åºåˆ—</strong>ï¼Œåœ¨<strong>å­åºåˆ—å†…éƒ¨</strong>åˆ†åˆ«è¿›è¡Œç›´æ¥æ’å…¥æ’ åºï¼Œç­‰åˆ°æ•´ä¸ªåºåˆ— <strong>åŸºæœ¬æœ‰åº</strong> æ—¶ï¼Œå†å¯¹å…¨ä½“æˆå‘˜è¿›è¡Œç›´æ¥æ’å…¥æ’åºï¼</li></ul><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230727164346960.png" alt="image-20230727164346960"></p><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ”¹è¿›çš„æ’å…¥æ’åº</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">shellSort</span><span class="params">(<span class="type">int</span>[] arr)</span> &#123;</span><br><span class="line"> <span class="type">int</span> <span class="variable">len</span> <span class="operator">=</span> arr.length;</span><br><span class="line"> <span class="keyword">if</span> (len &lt;= <span class="number">1</span>) &#123;</span><br><span class="line">     <span class="keyword">return</span>;</span><br><span class="line"> &#125;</span><br><span class="line"> <span class="type">int</span> <span class="variable">gap</span> <span class="operator">=</span> len / <span class="number">2</span>;</span><br><span class="line"> <span class="keyword">while</span> (gap &gt; <span class="number">0</span>) &#123;</span><br><span class="line">     <span class="comment">// æ’å…¥æ’åº</span></span><br><span class="line">     <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> gap; i &lt; len; i++) &#123;</span><br><span class="line">         <span class="type">int</span> <span class="variable">value</span> <span class="operator">=</span> arr[i];</span><br><span class="line">         <span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> i - gap;</span><br><span class="line">         <span class="keyword">while</span> (j &gt;= <span class="number">0</span>) &#123;</span><br><span class="line">             <span class="keyword">if</span> (value &lt; arr[j]) &#123;</span><br><span class="line">                 arr[j + gap] = arr[j];</span><br><span class="line">             &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">                 <span class="keyword">break</span>;</span><br><span class="line">             &#125;</span><br><span class="line">             j -= gap;</span><br><span class="line">         &#125;</span><br><span class="line">         arr[j + gap] = value;</span><br><span class="line">     &#125;</span><br><span class="line">     gap /= <span class="number">2</span>;</span><br><span class="line">     System.out.println(Arrays.toString(arr));</span><br><span class="line"> &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="å¿«é€Ÿæ’åºï¼ˆQuickSort"><a href="#å¿«é€Ÿæ’åºï¼ˆQuickSort" class="headerlink" title="å¿«é€Ÿæ’åºï¼ˆQuickSort)"></a>å¿«é€Ÿæ’åºï¼ˆQuickSort)</h2><h3 id="æ–‡å­—ç‰ˆ-3"><a href="#æ–‡å­—ç‰ˆ-3" class="headerlink" title="æ–‡å­—ç‰ˆ"></a>æ–‡å­—ç‰ˆ</h3><blockquote><p><img src="/2023/07/16/%E5%9F%BA%E7%A1%80%E7%AF%87-interview-heima/image-20230716190806542.png" alt="image-20230716190806542"></p></blockquote><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">import</span> main.java.chapter01_foundation.utils.Utils; <span class="comment">// è‡ªå®šä¹‰äº†ä¸€ä¸ªutils</span></span><br><span class="line"><span class="keyword">import</span> java.util.Arrays;</span><br><span class="line"><span class="comment">// å•è¾¹å¾ªç¯å¿«æ’ï¼ˆlomutoæ´›ç©†æ‰˜åˆ†åŒºæ–¹æ¡ˆï¼‰</span></span><br><span class="line"><span class="keyword">public</span> <span class="keyword">class</span> <span class="title class_">QuickSort</span> &#123;</span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">main</span><span class="params">(String[] args)</span> &#123;</span><br><span class="line">        <span class="type">int</span>[] array = &#123;<span class="number">5</span>, <span class="number">3</span>, <span class="number">7</span>, <span class="number">2</span>, <span class="number">9</span>, <span class="number">8</span>, <span class="number">1</span>, <span class="number">4</span>&#125;;</span><br><span class="line">        <span class="comment">// partition(array, 0, array.length - 1);</span></span><br><span class="line">        quick(array, <span class="number">0</span>, array.length - <span class="number">1</span>);</span><br><span class="line">    &#125;</span><br><span class="line"><span class="comment">// é€’å½’</span></span><br><span class="line">    <span class="keyword">public</span> <span class="keyword">static</span> <span class="keyword">void</span> <span class="title function_">quick</span><span class="params">(<span class="type">int</span>[] a, <span class="type">int</span> l, <span class="type">int</span> h)</span> &#123;</span><br><span class="line">        <span class="keyword">if</span> (l &gt;= h) &#123;</span><br><span class="line">            <span class="keyword">return</span>;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="type">int</span> <span class="variable">p</span> <span class="operator">=</span> partition(a, l, h); <span class="comment">// p æ­£ç¡®çš„ç´¢å¼•å€¼</span></span><br><span class="line">        quick(a, l, p - <span class="number">1</span>); <span class="comment">// å·¦è¾¹åˆ†åŒº</span></span><br><span class="line">        quick(a, p + <span class="number">1</span>, h); <span class="comment">// å³è¾¹åˆ†åŒº</span></span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">private</span> <span class="keyword">static</span> <span class="type">int</span> <span class="title function_">partition</span><span class="params">(<span class="type">int</span>[] array, <span class="type">int</span> l, <span class="type">int</span> h)</span> &#123;</span><br><span class="line">        <span class="type">int</span> <span class="variable">pv</span> <span class="operator">=</span> array[h]; <span class="comment">// åŸºå‡†ç‚¹å…ƒç´ </span></span><br><span class="line">        <span class="type">int</span> <span class="variable">i</span> <span class="operator">=</span> l;</span><br><span class="line">        <span class="keyword">for</span> (<span class="type">int</span> <span class="variable">j</span> <span class="operator">=</span> l; j &lt; h; j++) &#123;</span><br><span class="line">            <span class="keyword">if</span> (pv &gt; array[j]) &#123;</span><br><span class="line">                <span class="keyword">if</span> (i != j) &#123; <span class="comment">// å°ä¼˜åŒ–</span></span><br><span class="line">                    Utils.swap(array, i, j);</span><br><span class="line">                &#125;</span><br><span class="line">                i++;</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> (h != i) &#123; <span class="comment">// å°ä¼˜åŒ–</span></span><br><span class="line">            Utils.swap(array, h, i);</span><br><span class="line">        &#125;</span><br><span class="line">        System.out.println(Arrays.toString(array) + <span class="string">&quot; i=&quot;</span> + i);</span><br><span class="line">        <span class="comment">// è¿”å›å€¼ä»£è¡¨äº†åŸºå‡†ç‚¹å…ƒç´ æ‰€åœ¨çš„æ­£ç¡®ç´¢å¼•ï¼Œç”¨å®ƒç¡®å®šä¸‹ä¸€è½®åˆ†åŒºçš„è¾¹ç•Œ</span></span><br><span class="line">        <span class="keyword">return</span> i;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br></pre></td></tr></table></figure></blockquote></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Javaå…«è‚¡æ–‡é¢è¯•é¢˜_heima_contents</title>
      <link href="/2023/07/16/Java%E5%85%AB%E8%82%A1%E6%96%87%E9%9D%A2%E8%AF%95%E9%A2%98-heima-contents/"/>
      <url>/2023/07/16/Java%E5%85%AB%E8%82%A1%E6%96%87%E9%9D%A2%E8%AF%95%E9%A2%98-heima-contents/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šå¤‡æˆ˜ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç£¨åˆ€éœéœå‘çŒªç¾Šï¼</p></blockquote><h1 id="åŸºç¡€ç¯‡"><a href="#åŸºç¡€ç¯‡" class="headerlink" title="åŸºç¡€ç¯‡"></a>åŸºç¡€ç¯‡</h1><blockquote><p>æ’åºSortç®—æ³•ï¼š<a href="https://www.lzwgxust.top/post/30d7e4ab.html">åŸºç¡€ç¯‡-interview-heima</a></p><p>mybatisé¢è¯•é¢˜ï¼š<a href="https://www.lzwgxust.top/post/f0d89c14.html">interview-01-mybatis</a></p></blockquote><h1 id="å¹¶å‘ç¯‡"><a href="#å¹¶å‘ç¯‡" class="headerlink" title="å¹¶å‘ç¯‡"></a>å¹¶å‘ç¯‡</h1><h1 id="è™šæ‹Ÿæœº"><a href="#è™šæ‹Ÿæœº" class="headerlink" title="è™šæ‹Ÿæœº"></a>è™šæ‹Ÿæœº</h1><h1 id="æ¡†æ¶ç¯‡"><a href="#æ¡†æ¶ç¯‡" class="headerlink" title="æ¡†æ¶ç¯‡"></a>æ¡†æ¶ç¯‡</h1><h2 id><a href="#" class="headerlink" title></a></h2><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¸ç ´æ¥¼å…°ç»ˆä¸è¿˜ğŸ’ªã€‚</p></blockquote><div class="bilibili">    <iframe src="//player.bilibili.com/player.html?aid=414817490&bvid=BV1fV41117NX&cid=240950074&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> interview </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>go-advanced-learning-week03</title>
      <link href="/2023/07/13/go-advanced-learning-week03/"/>
      <url>/2023/07/13/go-advanced-learning-week03/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>éšç€Goè¯­è¨€åŸºæœ¬è¯­æ³•å­¦ä¹ ç»“æŸï¼Œè¿«åˆ‡éœ€è¦å¯¹Goè¿›è¡Œæ›´æ·±å…¥çš„å­¦ä¹ ã€‚</p><p>ä¸»è¦åˆ†ä¸ºä¸‰ä¸ªæ¨¡å—ï¼šçº¿ç¨‹åŠ é”ã€çº¿ç¨‹è°ƒåº¦ã€å†…å­˜ç®¡ç†</p></blockquote><h1 id="çº¿ç¨‹åŠ é”"><a href="#çº¿ç¨‹åŠ é”" class="headerlink" title="çº¿ç¨‹åŠ é”"></a>çº¿ç¨‹åŠ é”</h1><h2 id="é”"><a href="#é”" class="headerlink" title="é”"></a>é”</h2><blockquote><ul><li>Goè¯­è¨€ä¸ä»…ä»…æä¾›åŸºäºCSPçš„é€šè®¯æ¨¡å‹ï¼Œä¹Ÿæ”¯æŒåŸºäºå…±äº«å†…å­˜çš„å¤šçº¿ç¨‹æ•°æ®è®¿é—®</li><li>SyncåŒ…æä¾›äº†é”çš„åŸºæœ¬åŸè¯­</li><li>sync.Mutex äº’æ–¥é”<ul><li>Lock()åŠ é”ï¼ŒUnlock()è§£é”</li></ul></li><li>sync.RWMutex è¯»å†™åˆ†ç¦»é”<ul><li>ä¸é™åˆ¶å¹¶å‘è¯»ï¼Œåªé™åˆ¶å¹¶å‘å†™å’Œå¹¶å‘è¯»å†™</li></ul></li><li>sync.waitGroup<ul><li>ç­‰å¾…ä¸€ç»„goroutineè¿”å›</li></ul></li><li>sync.Once<ul><li>ä¿è¯æŸæ®µä»£ç åªæ‰§è¡Œä¸€æ¬¡</li></ul></li><li>sync.Cond<ul><li>è®©ä¸€ç»„ goroutine åœ¨æ»¡è¶³ç‰¹å®šæ¡ä»¶æ—¶è¢«å”¤é†’</li></ul></li></ul></blockquote><h1 id="çº¿ç¨‹è°ƒåº¦"><a href="#çº¿ç¨‹è°ƒåº¦" class="headerlink" title="çº¿ç¨‹è°ƒåº¦"></a>çº¿ç¨‹è°ƒåº¦</h1><h2 id="æ·±å…¥ç†è§£Goè¯­è¨€çº¿ç¨‹è°ƒåº¦"><a href="#æ·±å…¥ç†è§£Goè¯­è¨€çº¿ç¨‹è°ƒåº¦" class="headerlink" title="æ·±å…¥ç†è§£Goè¯­è¨€çº¿ç¨‹è°ƒåº¦"></a>æ·±å…¥ç†è§£Goè¯­è¨€çº¿ç¨‹è°ƒåº¦</h2><blockquote><ul><li>è¿›ç¨‹ï¼šèµ„æºåˆ†é…çš„åŸºæœ¬å•ä½</li><li>çº¿ç¨‹ï¼šè°ƒåº¦çš„åŸºæœ¬å•ä½</li><li>æ— è®ºæ˜¯çº¿ç¨‹è¿˜æ˜¯è¿›ç¨‹ï¼Œåœ¨<strong>linuxä¸­éƒ½ä»¥task_structæè¿°</strong>ï¼Œä»å†…æ ¸è§’åº¦çœ‹ï¼Œä¸è¿›ç¨‹<strong>æ— æœ¬è´¨åŒºåˆ«</strong></li><li>Glibcä¸­çš„pthreadåº“æä¾›NPTLï¼ˆNative POSIX Threading Library)æ”¯æŒ</li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230713210412288.png" alt="image-20230713210412288"></p><p>é€šè¿‡å›¾ç‰‡å¯ä»¥çœ‹å‡ºï¼š<strong>è¿›ç¨‹æ˜¯ç”±ä¸€ä¸ª<code>PID=1</code>ä¸æ–­forkå‡ºæ¥çš„ï¼Œçº¿ç¨‹åœ¨åŒä¸€è¿›ç¨‹ä¸­çš„èµ„æºæ˜¯å…±äº«çš„</strong></p></blockquote><h2 id="Linuxè¿›ç¨‹çš„å†…å­˜ä½¿ç”¨"><a href="#Linuxè¿›ç¨‹çš„å†…å­˜ä½¿ç”¨" class="headerlink" title="Linuxè¿›ç¨‹çš„å†…å­˜ä½¿ç”¨"></a>Linuxè¿›ç¨‹çš„å†…å­˜ä½¿ç”¨</h2><blockquote><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230713210812348.png" alt="image-20230713210812348"></p></blockquote><h2 id="CPUå¯¹å†…å­˜"><a href="#CPUå¯¹å†…å­˜" class="headerlink" title="CPUå¯¹å†…å­˜"></a>CPUå¯¹å†…å­˜</h2><blockquote><ul><li>CPU ä¸Šæœ‰ä¸ªMemory Management Unit(MMU) å•å…ƒ</li><li>CPU æŠŠè™šæ‹Ÿåœ°å€ç»™MMUï¼ŒMMU å»ç‰©ç†å†…å­˜ä¸­æŸ¥è¯¢é¡µè¡¨ï¼Œå¾—åˆ°å®é™…çš„ç‰©ç†åœ°å€</li><li>CPU ç»´æŠ¤ä¸€ä»½ç¼“å­˜Translation Lookaside Buffer(TLB) <strong>ç¼“å­˜è™šæ‹Ÿåœ°å€å’Œç‰©ç†åœ°å€çš„æ˜ å°„å…³ç³»</strong></li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230713214255573.png" alt="image-20230713214255573"></p></blockquote><h2 id="è¿›ç¨‹åˆ‡æ¢å¼€é”€"><a href="#è¿›ç¨‹åˆ‡æ¢å¼€é”€" class="headerlink" title="è¿›ç¨‹åˆ‡æ¢å¼€é”€"></a>è¿›ç¨‹åˆ‡æ¢å¼€é”€</h2><blockquote><ul><li>ç›´æ¥å¼€é”€<ul><li>åˆ‡æ¢é¡µè¡¨å…¨å±€ç›®å½•ï¼ˆPGDï¼‰</li><li>åˆ‡æ¢å†…æ ¸æ€å †æ ˆ</li><li>åˆ‡æ¢ç¡¬ä»¶ä¸Šä¸‹æ–‡ï¼ˆ<strong>è¿›ç¨‹æ¢å¤å‰ï¼Œå¿…é¡»è£…å…¥å¯„å­˜å™¨çš„æ•°æ®ç»Ÿç§°ä¸ºç¡¬ä»¶ä¸Šä¸‹æ–‡</strong>ï¼‰</li><li>åˆ·æ–°TLB</li><li>ç³»ç»Ÿè°ƒåº¦å™¨çš„ä»£ç æ‰§è¡Œ</li></ul></li><li>é—´æ¥å¼€é”€<ul><li>CPU ç¼“å­˜å¤±æ•ˆå¯¼è‡´çš„è¿›ç¨‹éœ€è¦åˆ°å†…å­˜ç›´æ¥è®¿é—®çš„IOæ“ä½œå˜å¤š</li></ul></li></ul></blockquote><h2 id="çº¿ç¨‹åˆ‡èŠ±å¼€é”€"><a href="#çº¿ç¨‹åˆ‡èŠ±å¼€é”€" class="headerlink" title="çº¿ç¨‹åˆ‡èŠ±å¼€é”€"></a>çº¿ç¨‹åˆ‡èŠ±å¼€é”€</h2><blockquote><ul><li>çº¿ç¨‹æœ¬è´¨ä¸Šåªæ˜¯<strong>ä¸€æ‰¹å…±äº«èµ„æºçš„è¿›ç¨‹</strong>ï¼Œçº¿ç¨‹åˆ‡æ¢æœ¬è´¨ä¸Š<strong>ä¾ç„¶éœ€è¦å†…æ ¸è¿›è¡Œè¿›ç¨‹åˆ‡æ¢</strong></li><li>ä¸€ç»„çº¿ç¨‹å› ä¸ºå…±äº«å†…å­˜èµ„æºï¼Œå› æ­¤ä¸€ä¸ªè¿›ç¨‹çš„æ‰€æœ‰çº¿ç¨‹å…±äº«è™šæ‹Ÿåœ°å€ç©ºé—´ï¼Œçº¿ç¨‹åˆ‡æ¢ç›¸æ¯”è¿›ç¨‹åˆ‡æ¢ï¼Œ<strong>ä¸»è¦èŠ‚çœäº†è™šæ‹Ÿåœ°å€ç©ºé—´çš„åˆ‡æ¢ã€‚</strong></li></ul></blockquote><h2 id="ç”¨æˆ·çº¿ç¨‹"><a href="#ç”¨æˆ·çº¿ç¨‹" class="headerlink" title="ç”¨æˆ·çº¿ç¨‹"></a>ç”¨æˆ·çº¿ç¨‹</h2><blockquote><p>æ— éœ€å†…æ ¸å¸®åŠ©ï¼Œåº”ç”¨ç¨‹åºåœ¨ç”¨æˆ·ç©ºé—´åˆ›å»ºçš„å¯æ‰§è¡Œå•å…ƒï¼Œ<strong>åˆ›å»ºé”€æ¯å®Œå…¨åœ¨ç”¨æˆ·æ€å®Œæˆ</strong></p><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230713220033219.png" alt="image-20230713220033219"></p></blockquote><h2 id="Goroutine"><a href="#Goroutine" class="headerlink" title="Goroutine"></a>Goroutine</h2><blockquote><p>Go è¯­è¨€åŸºäº<code>GMP(=MPG)</code>æ¨¡å‹å®ç°ç”¨æˆ·æ€çº¿ç¨‹</p><ul><li>Gï¼šè¡¨ç¤ºgoroutine, æ¯ä¸ªgoroutine éƒ½æœ‰è‡ªå·±çš„æ ˆç©ºé—´ï¼Œå®šæ—¶å™¨ï¼Œåˆå§‹åŒ–çš„æ ˆç©ºé—´2kå·¦å³ï¼Œç©ºé—´ä¼šéšç€éœ€æ±‚å¢é•¿ã€‚</li><li>Mï¼šæŠ½è±¡åŒ–ä»£è¡¨å†…æ ¸çº¿ç¨‹ï¼Œè®°å½•å†…æ ¸çº¿ç¨‹æ ˆä¿¡æ¯ï¼Œå½“goroutineè°ƒåº¦åˆ°çº¿ç¨‹æ—¶ï¼Œä½¿ç”¨è¯¥goroutineè‡ªå·±çš„æ ˆä¿¡æ¯ï¼ˆç›¸å½“äºæŠŠCPUåˆ†ç»™äº†å½“å‰çš„goroutineäº†ï¼‰</li><li>Pï¼šä»£è¡¨è°ƒåº¦å™¨ï¼Œè´Ÿè´£è°ƒåº¦goroutine,ç»´æŠ¤ä¸€ä¸ªæœ¬åœ°goroutineé˜Ÿåˆ—ï¼Œ<strong>Mä»Pä¸Šè·å¾—goroutineå¹¶æ‰§è¡Œï¼ŒåŒæ—¶è¿˜è´Ÿè´£éƒ¨åˆ†å†…å­˜çš„ç®¡ç†ã€‚</strong></li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230713220914520.png" alt="image-20230713220914520"></p></blockquote><h2 id="GMP-æ¨¡å‹ç»†èŠ‚"><a href="#GMP-æ¨¡å‹ç»†èŠ‚" class="headerlink" title="GMP æ¨¡å‹ç»†èŠ‚"></a>GMP æ¨¡å‹ç»†èŠ‚</h2><blockquote><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714090946258.png" alt="image-20230714090946258"></p></blockquote><h2 id="G-æ‰€å¤„çš„ä½ç½®"><a href="#G-æ‰€å¤„çš„ä½ç½®" class="headerlink" title="G æ‰€å¤„çš„ä½ç½®"></a>G æ‰€å¤„çš„ä½ç½®</h2><blockquote><ul><li>è¿›ç¨‹éƒ½æœ‰ä¸€ä¸ªå…¨å±€çš„Gé˜Ÿåˆ—</li><li>æ¯ä¸€ä¸ªPæ‹¥æœ‰è‡ªå·±çš„æœ¬åœ°æ‰§è¡Œé˜Ÿåˆ—</li><li>æœ‰ä¸åœ¨è¿è¡Œé˜Ÿåˆ—ä¸­çš„ G<ul><li>å¤„äºchannelé˜»å¡æ€çš„Gè¢«æ”¾åœ¨sudog</li><li>è„±ç¦»Pç»‘å®šåœ¨Mä¸Šçš„Gï¼Œå¦‚ç³»ç»Ÿè°ƒç”¨</li><li>ä¸ºäº†å¤ç”¨ï¼Œæ‰§è¡Œç»“æŸè¿›å…¥Pçš„gFreeåˆ—è¡¨ä¸­çš„Gï¼ˆçº¿ç¨‹æ± ï¼‰</li></ul></li></ul></blockquote><h2 id="Goroutine-åˆ›å»ºè¿‡ç¨‹"><a href="#Goroutine-åˆ›å»ºè¿‡ç¨‹" class="headerlink" title="Goroutine åˆ›å»ºè¿‡ç¨‹"></a>Goroutine åˆ›å»ºè¿‡ç¨‹</h2><blockquote><ul><li>è·å–æˆ–è€…åˆ›å»ºæ–°çš„Goroutineç»“æ„ä½“<ul><li>ä»å¤„ç†å™¨çš„gFree åˆ—è¡¨ä¸­æŸ¥æ‰¾ç©ºé—²çš„Goroutine</li><li>å¦‚æœä¸å­˜åœ¨ç©ºé—²çš„Goroutineï¼Œä¼šé€šè¿‡runtime.malg åˆ›å»ºä¸€ä¸ªæ ˆå¤§å°è¶³å¤Ÿçš„æ–°ç»“æ„ä½“</li></ul></li><li>å°†å‡½æ•°ä¼ å…¥çš„å‚æ•°ç§»åˆ°Goroutineçš„æ ˆä¸Š</li><li>æ›´æ–°Goroutine è°ƒåº¦ç›¸å…³çš„ å±æ€§ï¼Œæ›´æ–°çŠ¶æ€ä¸º_Grunnable</li><li>è¿”å›çš„Goroutine ä¼šå­˜å‚¨åˆ°å…¨å±€å˜é‡allgsä¸­</li></ul></blockquote><h2 id="å°†Goroutineæ”¾åˆ°è¿è¡Œé˜Ÿåˆ—ä¸Š"><a href="#å°†Goroutineæ”¾åˆ°è¿è¡Œé˜Ÿåˆ—ä¸Š" class="headerlink" title="å°†Goroutineæ”¾åˆ°è¿è¡Œé˜Ÿåˆ—ä¸Š"></a>å°†Goroutineæ”¾åˆ°è¿è¡Œé˜Ÿåˆ—ä¸Š</h2><blockquote><ul><li>Goroutineè®¾ç½®åˆ°å¤„ç†å™¨çš„runnextä½œä¸ºä¸‹ä¸€ä¸ªå¤„ç†å™¨æ‰§è¡Œçš„ä»»åŠ¡ï¼ˆåˆ†é…CPUï¼‰</li><li>å½“å¤„ç†å™¨çš„æœ¬åœ°è¿è¡Œé˜Ÿåˆ—å·²ç»æ²¡æœ‰å‰©ä½™ç©ºé—´æ—¶ï¼Œå°±ä¼šæŠŠæœ¬åœ°é˜Ÿåˆ—ä¸­çš„ä¸€éƒ¨åˆ†Goroutineå’Œå¾…åŠ å…¥çš„Goroutineé€šè¿‡runtime.runqputslowæ·»åŠ åˆ°è°ƒåº¦å™¨æŒæœ‰çš„å…¨å±€è¿è¡Œé˜Ÿåˆ—ä¸Šã€‚</li></ul></blockquote><h2 id="è°ƒåº¦å™¨è¡Œä¸º"><a href="#è°ƒåº¦å™¨è¡Œä¸º" class="headerlink" title="è°ƒåº¦å™¨è¡Œä¸º"></a>è°ƒåº¦å™¨è¡Œä¸º</h2><blockquote><ul><li>ä¸ºäº†ä¿è¯å…¬å¹³ï¼Œå½“å…¨å±€è¿è¡Œé˜Ÿåˆ—ä¸­æœ‰å¾…æ‰§è¡Œçš„Goroutineæ—¶ï¼Œé€šè¿‡schedtickä¿è¯æœ‰ä¸€å®šå‡ ç‡ä¼šä»å…¨å±€çš„è¿è¡Œé˜Ÿåˆ—ä¸­æŸ¥æ‰¾å¯¹åº”çš„Goroutine</li><li>ä»å¤„ç†å™¨æœ¬åœ°çš„è¿è¡Œé˜Ÿåˆ—ä¸­æŸ¥æ‰¾å¾…æ‰§è¡Œçš„Goroutine</li><li>å¦‚æœå‰ä¸¤ç§æ–¹æ³•éƒ½æ²¡æœ‰æ‰¾åˆ°Goroutineï¼Œä¼šé€šè¿‡runtime.findrunnableè¿›è¡Œé˜»å¡åœ°æŸ¥æ‰¾Goroutine<ul><li>ä»<strong>æœ¬åœ°è¿è¡Œé˜Ÿåˆ—ã€å…¨å±€è¿è¡Œé˜Ÿåˆ—</strong>ä¸­æŸ¥æ‰¾</li><li>ä»<strong>ç½‘ç»œè½®è¯¢å™¨</strong>ä¸­æŸ¥æ‰¾æ˜¯å¦æœ‰Goroutineç­‰å¾…è¿è¡Œ</li><li>é€šè¿‡runtime.runqsteal å°è¯•ä»å…¶ä»–éšæœºçš„å¤„ç†å™¨ä¸­çªƒå–å¾…è¿è¡Œçš„Goroutine</li></ul></li></ul></blockquote><h1 id="å†…å­˜ç®¡ç†"><a href="#å†…å­˜ç®¡ç†" class="headerlink" title="å†…å­˜ç®¡ç†"></a>å†…å­˜ç®¡ç†</h1><h2 id="å…³äºå†…å­˜ç®¡ç†çš„äº‰è®º"><a href="#å…³äºå†…å­˜ç®¡ç†çš„äº‰è®º" class="headerlink" title="å…³äºå†…å­˜ç®¡ç†çš„äº‰è®º"></a>å…³äºå†…å­˜ç®¡ç†çš„äº‰è®º</h2><blockquote><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714094713609.png" alt="image-20230714094713609"></p></blockquote><h2 id="å †å†…å­˜ç®¡ç†"><a href="#å †å†…å­˜ç®¡ç†" class="headerlink" title="å †å†…å­˜ç®¡ç†"></a>å †å†…å­˜ç®¡ç†</h2><blockquote><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714095304883.png" alt="image-20230714095304883"></p></blockquote><blockquote><ul><li>åˆå§‹åŒ–<strong>è¿ç»­å†…å­˜å—</strong>ä½œä¸ºå †</li><li>æœ‰å†…å­˜ç”³è¯·çš„æ—¶å€™ï¼ŒAllocatorä»å †å†…å­˜çš„<strong>æœªåˆ†é…åŒºåŸŸåˆ†å‰²å°å†…å­˜å—</strong></li><li>ç”¨<strong>é“¾è¡¨</strong>å°†å·²åˆ†é…å†…å­˜è¿æ¥èµ·æ¥</li><li>éœ€è¦ä¿¡æ¯æè¿°æ¯ä¸ªå†…å­˜å—çš„å…ƒæ•°æ®ï¼š<strong>å¤§å°ï¼Œæ˜¯å¦ä½¿ç”¨ï¼Œä¸‹ä¸€ä¸ªå†…å­˜å—çš„åœ°å€</strong>ç­‰</li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714100620993.png" alt="image-20230714100620993"></p></blockquote><h2 id="TCMalloc-æ¦‚è§ˆ"><a href="#TCMalloc-æ¦‚è§ˆ" class="headerlink" title="TCMalloc æ¦‚è§ˆ"></a>TCMalloc æ¦‚è§ˆ</h2><blockquote><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714102008494.png" alt="image-20230714102008494"></p><ul><li>pageï¼šå†…å­˜é¡µï¼Œä¸€å—<strong>8K</strong>å¤§å°çš„å†…å­˜ç©ºé—´ã€‚<strong>Goä¸æ“ä½œç³»ç»Ÿä¹‹é—´çš„å†…å­˜ç”³è¯·å’Œé‡Šæ”¾ï¼Œéƒ½æ˜¯ä»¥pageä¸ºå•ä½çš„</strong></li><li>spanï¼šå†…å­˜å—ï¼Œ<strong>ä¸€ä¸ªæˆ–å¤šä¸ªè¿ç»­çš„pageç»„æˆä¸€ä¸ªspan</strong></li><li>sizeclassï¼šç©ºé—´è§„æ ¼ï¼Œæ¯ä¸ªspanéƒ½å¸¦æœ‰ä¸€ä¸ªsizeclassï¼Œ<strong>æ ‡è®°ç€è¯¥spanä¸­çš„pageåº”è¯¥å¦‚ä½•ä½¿ç”¨</strong></li><li>objectï¼šå¯¹è±¡ï¼Œç”¨æ¥å­˜å‚¨ä¸€ä¸ªå˜é‡æ•°æ®å†…å­˜ç©ºé—´ï¼Œä¸€ä¸ªspanåœ¨åˆå§‹åŒ–æ—¶ï¼Œä¼šè¢«åˆ‡å‰²æˆä¸€å †ç­‰å¤§çš„objectï¼›å‡è®¾objectçš„å¤§å°æ˜¯16Bï¼Œspanå¤§å°æ˜¯8Kï¼Œé‚£ä¹ˆå°±ä¼šæŠŠspanä¸­çš„pageå°±ä¼šè¢«åˆå§‹åŒ–8K&#x2F;16B &#x3D; 512ä¸ªobjectã€‚<strong>æ‰€è°“å†…å­˜åˆ†é…ï¼Œå°±æ˜¯åˆ†é…ä¸€ä¸ªobjectå‡ºå»ã€‚</strong></li></ul></blockquote><h2 id="Goè¯­è¨€å†…å­˜åˆ†é…"><a href="#Goè¯­è¨€å†…å­˜åˆ†é…" class="headerlink" title="Goè¯­è¨€å†…å­˜åˆ†é…"></a>Goè¯­è¨€å†…å­˜åˆ†é…</h2><blockquote><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714105152109.png" alt="image-20230714105152109"></p><ul><li>mcacheï¼šå°å¯¹è±¡çš„å†…å­˜åˆ†é…ç›´æ¥èµ°<ul><li><strong>size class ä»1åˆ°66ï¼Œæ¯ä¸ªclassä¸¤ä¸ªspan</strong></li><li><strong>Span å¤§å°æ˜¯8KBï¼ŒæŒ‰span class å¤§å°åˆ‡åˆ†</strong></li></ul></li><li>mcentral<ul><li>Spanå†…çš„æ‰€æœ‰å†…å­˜å—éƒ½è¢«å ç”¨æ—¶ï¼Œæ²¡æœ‰å‰©ä½™ç©ºé—´ç»§ç»­åˆ†é…å¯¹è±¡ï¼Œmcacheä¼šå‘mcentralç”³è¯·1ä¸ªspanï¼Œmcacheæ‹¿åˆ°spanåç»§ç»­åˆ†é…å¯¹è±¡</li><li>å½“mcentralå‘mcacheæä¾›spanæ—¶ï¼Œå¦‚æœæ²¡æœ‰ç¬¦åˆæ¡ä»¶çš„spanï¼Œmcentralä¼šå‘mheapç”³è¯·span</li></ul></li><li>mheap<ul><li>å½“mheapæ²¡æœ‰è¶³å¤Ÿçš„å†…å­˜æ—¶ï¼Œmheapä¼šå‘<strong>OSç”³è¯·å†…å­˜</strong></li><li>MheapæŠŠSpanç»„ç»‡æˆäº†æ ‘ç»“æ„ï¼Œè€Œä¸æ˜¯é“¾è¡¨</li><li>ç„¶åæŠŠSpanåˆ†é…åˆ°heapArenaè¿›è¡Œç®¡ç†ï¼Œå®ƒåŒ…å«<strong>åœ°å€æ˜ å°„å’Œspanæ˜¯å¦åŒ…å«æŒ‡é’ˆç­‰ä½å›¾</strong><ul><li><strong>ä¸ºäº†æ›´é«˜æ•ˆçš„åˆ†é…ã€å›æ”¶å’Œå†åˆ©ç”¨å†…å­˜</strong></li></ul></li></ul></li></ul></blockquote><h2 id="å†…å­˜å›æ”¶"><a href="#å†…å­˜å›æ”¶" class="headerlink" title="å†…å­˜å›æ”¶"></a>å†…å­˜å›æ”¶</h2><blockquote><p>å†…å­˜å›æ”¶ ä¸åŒè¯­è¨€ä½¿ç”¨çš„ç®—æ³•æ˜¯ä¸ä¸€æ ·çš„~</p><ul><li>å¼•ç”¨è®¡æ•°ï¼ˆPythonï¼ŒPHPï¼ŒSwiftï¼‰<ul><li>å¯¹æ¯ä¸€ä¸ªå¯¹è±¡ç»´æŠ¤ä¸€ä¸ªå¼•ç”¨è®¡æ•°ï¼Œå½“å¼•ç”¨è¯¥å¯¹è±¡çš„å¯¹è±¡è¢«é”€æ¯çš„æ—¶å€™ï¼Œå¼•ç”¨è®¡æ•°å‡1ï¼Œå½“å¼•ç”¨è®¡æ•°ä¸º0çš„æ—¶å€™ï¼Œå›æ”¶è¯¥å¯¹è±¡ï¼ˆif count&#x3D;&#x3D; 0 å›æ”¶ï¼‰</li><li><strong>ä¼˜ç‚¹ï¼š</strong>å¯¹è±¡å¯ä»¥å¾ˆå¿«çš„è¢«å›æ”¶ï¼Œä¸ä¼šå‡ºç°å†…å­˜è€—å°½æˆ–è¾¾åˆ°æŸä¸ªé˜ˆå€¼æ—¶æ‰å›æ”¶</li><li><strong>ç¼ºç‚¹ï¼š</strong>ä¸èƒ½å¾ˆå¥½çš„å¤„ç†å¾ªç¯å¼•ç”¨ï¼Œè€Œä¸”å®æ—¶ç»´æŠ¤å¼•ç”¨è®¡æ•°ï¼Œä¹Ÿæœ‰ä¸€å®šçš„ä»£ä»·</li></ul></li><li>æ ‡è®°-æ¸…é™¤ï¼ˆGolangï¼‰<ul><li><strong>ä»æ ¹å˜é‡å¼€å§‹éå†æ‰€æœ‰å¼•ç”¨çš„å¯¹è±¡ï¼Œå¼•ç”¨çš„å¯¹è±¡æ ‡è®°ä¸ºâ€œè¢«å¼•ç”¨â€ï¼Œæ²¡æœ‰è¢«æ ‡è®°çš„è¿›è¡Œå›æ”¶</strong></li><li>ä¼˜ç‚¹ï¼šè§£å†³å¼•ç”¨è®¡æ•°çš„ç¼ºç‚¹</li><li>ç¼ºç‚¹ï¼šéœ€è¦STWï¼ˆstop the worldï¼‰ï¼Œå³è¦æš‚åœç¨‹åºè¿è¡Œ</li></ul></li><li>åˆ†ä»£æ”¶é›†ï¼ˆJavaï¼‰<ul><li>æŒ‰ç…§ç”Ÿå‘½å‘¨æœŸè¿›è¡Œåˆ’åˆ†ä¸åŒçš„ä»£ç©ºé—´ï¼Œç”Ÿå‘½å‘¨æœŸé•¿çš„æ”¾å…¥è€å¹´ä»£ï¼ŒçŸ­çš„æ”¾å…¥æ–°ç”Ÿä»£ï¼Œæ–°ç”Ÿä»£çš„å›æ”¶é¢‘ç‡é«˜äºè€å¹´ä»£çš„é¢‘ç‡</li></ul></li></ul></blockquote><h2 id="mspan"><a href="#mspan" class="headerlink" title="mspan"></a>mspan</h2><blockquote><p><code>mspan</code> æ˜¯åˆ†é…å†…å­˜æ—¶çš„åŸºæœ¬å•å…ƒï¼ˆmachineï¼‰</p><ul><li>allocBits<ul><li>è®°å½•äº†<strong>æ¯å—å†…å­˜åˆ†é…çš„æƒ…å†µ</strong></li></ul></li><li>gcmarkBits<ul><li>è®°å½•äº†<strong>æ¯å—å†…å­˜çš„å¼•ç”¨æƒ…å†µ</strong>ï¼Œæ ‡è®°é˜¶æ®µå¯¹æ¯å—å†…å­˜è¿›è¡Œæ ‡è®°ï¼Œæœ‰å¯¹è±¡å¼•ç”¨çš„å†…å­˜æ ‡è®°ä¸º1ï¼Œæ²¡æœ‰æ ‡è®°ä¸º0</li></ul></li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714112359263.png" alt="image-20230714112359263"></p></blockquote><blockquote><ul><li>è¿™ä¸¤ä¸ªä½å›¾çš„<strong>æ•°æ®ç»“æ„æ˜¯å®Œå…¨ä¸€è‡´</strong>çš„ï¼Œæ ‡è®°ç»“æŸåˆ™è¿›è¡Œå†…å­˜å›æ”¶ï¼Œ<strong>å›æ”¶çš„æ—¶å€™ï¼Œå°†allocbitsæŒ‡å‘gcmarkBits</strong>, <strong>æ ‡è®°è¿‡çš„åˆ™å­˜åœ¨ï¼Œæœªè¿›è¡Œæ ‡è®°çš„åˆ™è¿›è¡Œå›æ”¶</strong>ã€‚</li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714113709971.png" alt="image-20230714113709971"></p></blockquote><h2 id="GC-å·¥ä½œæµç¨‹"><a href="#GC-å·¥ä½œæµç¨‹" class="headerlink" title="GC å·¥ä½œæµç¨‹"></a>GC å·¥ä½œæµç¨‹</h2><blockquote><p> Golang <strong>GCçš„å¤§éƒ¨åˆ†å¤„ç†æ˜¯å’Œç”¨æˆ·ä»£ç å¹¶è¡Œçš„</strong></p><ul><li>Markï¼š</li><li>Mark Prepareï¼šåˆå§‹åŒ–GCä»»åŠ¡ï¼ŒåŒ…æ‹¬å¼€å¯å†™å±éšœï¼ˆwrite barrierï¼‰å’Œè¾…åŠ©GCï¼ˆmutator assistï¼‰ï¼Œç»Ÿè®¡rootå¯¹è±¡çš„ä»»åŠ¡æ•°é‡ç­‰ã€‚è¿™ä¸ªè¿‡ç¨‹éœ€è¦STW</li><li>GC Drainsï¼šæ‰«ææ‰€æœ‰rootå¯¹è±¡ï¼ŒåŒ…æ‹¬å…¨å±€æŒ‡é’ˆå’Œgoroutineï¼ˆGï¼‰æ ˆä¸Šçš„æŒ‡é’ˆï¼ˆæ‰«æå¯¹åº”Gæ ˆæ—¶éœ€åœæ­¢è¯¥Gï¼‰ï¼Œå°†å…¶åŠ å…¥æ ‡è®°é˜Ÿåˆ—ï¼ˆç°è‰²é˜Ÿåˆ—ï¼‰ï¼Œå¹¶å¾ªç¯å¤„ç†ç°è‰²é˜Ÿåˆ—çš„å¯¹è±¡ï¼ŒçŸ¥é“ç°è‰²é˜Ÿåˆ—ä¸ºç©ºã€‚è¯¥è¿‡ç¨‹åå°å¹¶è¡Œæ‰§è¡Œ</li><li>Mark Terminationï¼šå®Œæˆæ ‡è®°å·¥ä½œï¼Œé‡æ–°æ‰«æï¼ˆre-scanï¼‰å…¨å±€æŒ‡é’ˆå’Œæ ˆã€‚å› ä¸ºMarkå’Œç”¨æˆ·ç¨‹åºå¹¶è¡Œçš„ï¼Œæ‰€ä»¥åœ¨Markè¿‡ç¨‹ä¸­å¯èƒ½ä¼šæœ‰æ–°çš„å¯¹è±¡åˆ†é…å’ŒæŒ‡é’ˆèµ‹å€¼ï¼Œè¿™ä¸ªæ—¶å€™å°±éœ€è¦é€šè¿‡å†™å±éšœï¼ˆwrite barrierï¼‰è®°å½•ä¸‹æ¥ï¼Œre-scanå†æ£€æŸ¥ä¸€ä¸‹ï¼Œè¿™ä¸ªè¿‡ç¨‹ä¹Ÿæ˜¯ä¼šSTWçš„</li><li>Sweepï¼šæŒ‰ç…§æ ‡è®°ç»“æœå›æ”¶æ‰€æœ‰çš„ç™½è‰²å¯¹è±¡ï¼Œè¯¥è¿‡ç¨‹åå°å¹¶è¡Œæ‰§è¡Œ</li><li>Sweep Terminationï¼šå¯¹æœªæ¸…æ‰«çš„spanè¿›è¡Œæ¸…æ‰«ï¼Œåªæœ‰ä¸Šä¸€è½®çš„GCçš„æ¸…æ‰«å·¥ä½œå®Œæˆæ‰å¯ä»¥å¼€å§‹æ–°ä¸€è½®çš„GC</li></ul><p> <img src="/2023/07/13/go-advanced-learning-week03/image-20230714183547422.png" alt="image-20230714183547422"></p></blockquote><h2 id="ä¸‰è‰²æ ‡è®°"><a href="#ä¸‰è‰²æ ‡è®°" class="headerlink" title="ä¸‰è‰²æ ‡è®°"></a>ä¸‰è‰²æ ‡è®°</h2><blockquote><ul><li>GCå¼€å§‹æ—¶ï¼Œè®¤ä¸ºæ‰€æœ‰objectéƒ½æ˜¯ç™½è‰²ï¼Œå³åƒåœ¾</li><li>ä»rootåŒºå¼€å§‹éå†ï¼Œè¢«è§¦è¾¾çš„objectç½®æˆç°è‰²</li><li>éå†æ‰€æœ‰ç°è‰²objectï¼Œå°†ä»–ä»¬å†…éƒ¨çš„å¼•ç”¨å˜é‡ç½®æˆç°è‰²ï¼Œè‡ªèº«ç½®æˆé»‘è‰²</li><li>å¾ªç¯ç¬¬3æ­¥ï¼Œç›´åˆ°æ²¡æœ‰ç°è‰²objectäº†ï¼Œåªå‰©ä¸‹äº†é»‘ç™½ä¸¤ç§ï¼Œç™½è‰²éƒ½æ˜¯åƒåœ¾</li><li>å¯¹äº<strong>é»‘è‰²object</strong>ï¼Œ<strong>å¦‚æœåœ¨æ ‡è®°æœŸé—´å‘ç”Ÿäº†å†™æ“ä½œï¼Œå†™å±éšœä¼šåœ¨çœŸæ­£èµ‹å€¼å‰å°†æ–°å¯¹è±¡æ ‡è®°ä¸ºç°è‰²</strong></li><li><strong>æ ‡è®°è¿‡ç¨‹ä¸­ï¼Œmallocgcæ–°åˆ†é…çš„objectï¼Œä¼šå…ˆè¢«æ ‡è®°æˆé»‘è‰²å†è¿”å›</strong></li></ul><p><img src="/2023/07/13/go-advanced-learning-week03/image-20230714184622181.png" alt="image-20230714184622181"></p></blockquote><h2 id="åƒåœ¾å›æ”¶è§¦å‘æœºåˆ¶"><a href="#åƒåœ¾å›æ”¶è§¦å‘æœºåˆ¶" class="headerlink" title="åƒåœ¾å›æ”¶è§¦å‘æœºåˆ¶"></a>åƒåœ¾å›æ”¶è§¦å‘æœºåˆ¶</h2><blockquote><ul><li>å†…å­˜åˆ†é…é‡è¾¾åˆ°<strong>é˜ˆå€¼</strong>è§¦å‘GC<ul><li>æ¯æ¬¡å†…å­˜åˆ†é…æ—¶éƒ½ä¼šæ£€æŸ¥å½“å‰å†…å­˜åˆ†é…é‡æ˜¯å¦å·²è¾¾åˆ°é˜ˆå€¼ï¼Œå¦‚æœè¾¾åˆ°é˜ˆå€¼åˆ™<strong>ç«‹å³å¯åŠ¨</strong>GCã€‚</li><li><strong><code>é˜ˆå€¼ = ä¸Šæ¬¡GCå†…å­˜åˆ†é…é‡ * å†…å­˜å¢é•¿ç‡</code></strong></li><li>å†…å­˜å¢é•¿ç‡ç”±ç¯å¢ƒå˜é‡<strong>GOGC</strong>æ§åˆ¶ï¼Œé»˜è®¤ä¸º<strong>100</strong>ï¼Œå³æ¯å½“<strong>å†…å­˜æ‰©å¤§ä¸€å€</strong>æ—¶å¯åŠ¨GCã€‚</li></ul></li><li>å®šæœŸè§¦å‘GC<ul><li><strong>é»˜è®¤æƒ…å†µä¸‹ï¼Œæœ€é•¿2åˆ†é’Ÿè§¦å‘ä¸€æ¬¡GC</strong>ï¼Œè¿™ä¸ªé—´éš”åœ¨<strong>src&#x2F;runtime&#x2F;proc.go:forcegcperiod</strong>å˜é‡ä¸­è¢«å£°æ˜</li></ul></li><li>æ‰‹åŠ¨è§¦å‘<ul><li>ç¨‹åºä»£ç ä¸­ä¹Ÿå¯ä»¥ä½¿ç”¨**runtime.GC()**æ¥æ‰‹åŠ¨è§¦å‘GCã€‚è¿™ä¸»è¦ç”¨äºGCæ€§èƒ½æµ‹è¯•å’Œç»Ÿè®¡</li></ul></li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰ç¬¬ä¸‰å‘¨golangçš„è¿›é˜¶å­¦ä¹ åˆ°è¿™é‡Œå°±ç»“æŸå•¦</p><p>æœŸå¾…ä¸‹å‘¨çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸‹å‘¨è§ æ‹œæ‹œå’¯~~ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>algorithm-æœ€è¿‘å…¬å…±ç¥–å…ˆ-LCA</title>
      <link href="/2023/07/13/algorithm-%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88-LCA/"/>
      <url>/2023/07/13/algorithm-%E6%9C%80%E8%BF%91%E5%85%AC%E5%85%B1%E7%A5%96%E5%85%88-LCA/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p><strong>æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLeast Common Ancestors, LCAï¼‰</strong></p><p>å‚è€ƒåšæ–‡ï¼š</p><ul><li><a href="https://www.sohu.com/a/610630872_453160">ç®—æ³•ç«èµ›ä¸“é¢˜è§£æâ”‚LCA</a></li><li><a href="https://blog.csdn.net/xuechen_gemgirl/article/details/77582917">(239æ¡æ¶ˆæ¯) å›¾è§£æ ‘ä¸Šå€å¢æ³•æ±‚LCA_cnnfçš„åšå®¢-CSDNåšå®¢</a></li></ul><p>æ´›è°·é¢˜å€ï¼š<a href="https://www.luogu.com.cn/problem/P3379">P3379 ã€æ¨¡æ¿ã€‘æœ€è¿‘å…¬å…±ç¥–å…ˆï¼ˆLCA</a></p></blockquote><h2 id="æ ‘ä¸Šçš„å€å¢"><a href="#æ ‘ä¸Šçš„å€å¢" class="headerlink" title="æ ‘ä¸Šçš„å€å¢"></a>æ ‘ä¸Šçš„å€å¢</h2><blockquote><p>æ¨å¯¼å…¬å¼ï¼š</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= d[u]; i++)</span><br><span class="line">    p[u][i] = p[p[u][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br></pre></td></tr></table></figure><p>AcCode</p><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br><span class="line">65</span><br><span class="line">66</span><br><span class="line">67</span><br><span class="line">68</span><br><span class="line">69</span><br><span class="line">70</span><br><span class="line">71</span><br><span class="line">72</span><br><span class="line">73</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">//</span></span><br><span class="line"><span class="comment">// Created by luozongwei on 2023/7/14.</span></span><br><span class="line"><span class="comment">//</span></span><br><span class="line"></span><br><span class="line"><span class="meta">#<span class="keyword">include</span> <span class="string">&lt;bits/stdc++.h&gt;</span></span></span><br><span class="line"></span><br><span class="line"><span class="keyword">using</span> <span class="keyword">namespace</span> std;</span><br><span class="line"><span class="type">const</span> <span class="type">int</span> maxn = <span class="number">500000</span> + <span class="number">2</span>;</span><br><span class="line"><span class="type">int</span> n, m, s;</span><br><span class="line"><span class="type">int</span> k = <span class="number">0</span>;</span><br><span class="line"><span class="comment">//headæ•°ç»„å°±æ˜¯é“¾æ¥è¡¨æ ‡é…äº†å§ï¼Ÿdå­˜çš„æ˜¯æ·±åº¦ï¼ˆdeepï¼‰,p[i][j]å­˜çš„[i]å‘ä¸Šèµ°2çš„jæ¬¡æ–¹é‚£ä¹ˆé•¿çš„è·¯å¾„</span></span><br><span class="line"><span class="type">int</span> head[maxn], d[maxn], p[maxn][<span class="number">21</span>];</span><br><span class="line"><span class="keyword">struct</span> <span class="title class_">node</span> &#123;</span><br><span class="line">    <span class="type">int</span> v, next;</span><br><span class="line">&#125; e[maxn * <span class="number">2</span>];<span class="comment">//å­˜æ ‘</span></span><br><span class="line"><span class="comment">//åŠ è¾¹å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">add</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> v)</span> </span>&#123;</span><br><span class="line">    e[k].v = v;</span><br><span class="line">    e[k].next = head[u];</span><br><span class="line">    head[u] = k++;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//é¦–å…ˆè¿›è¡Œçš„é¢„å¤„ç†ï¼Œå°†æ‰€æœ‰ç‚¹çš„deepå’Œpçš„åˆå§‹å€¼dfså‡ºæ¥</span></span><br><span class="line"><span class="function"><span class="type">void</span> <span class="title">dfs</span><span class="params">(<span class="type">int</span> u, <span class="type">int</span> fa)</span> </span>&#123;</span><br><span class="line">    d[u] = d[fa] + <span class="number">1</span>;</span><br><span class="line">    p[u][<span class="number">0</span>] = fa;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; (<span class="number">1</span> &lt;&lt; i) &lt;= d[u]; i++)</span><br><span class="line">        p[u][i] = p[p[u][i - <span class="number">1</span>]][i - <span class="number">1</span>];</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = head[u]; i != <span class="number">-1</span>; i = e[i].next) &#123;</span><br><span class="line">        <span class="type">int</span> v = e[i].v;</span><br><span class="line">        <span class="keyword">if</span> (v != fa)</span><br><span class="line">            <span class="built_in">dfs</span>(v, u);</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">//éå¸¸æ ‡å‡†çš„lcaæŸ¥æ‰¾</span></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">lca</span><span class="params">(<span class="type">int</span> a, <span class="type">int</span> b)</span> </span>&#123;</span><br><span class="line">    <span class="comment">//ä¿è¯aæ˜¯åœ¨bç»“ç‚¹ä¸Šæ–¹ï¼Œå³açš„æ·±åº¦å°äºbçš„æ·±åº¦</span></span><br><span class="line">    <span class="keyword">if</span> (d[a] &gt; d[b])</span><br><span class="line">        <span class="built_in">swap</span>(a, b);</span><br><span class="line">    <span class="comment">//å…ˆæŠŠbç§»åˆ°å’ŒaåŒä¸€ä¸ªæ·±åº¦</span></span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">20</span>; i &gt;= <span class="number">0</span>; i--)</span><br><span class="line">        <span class="keyword">if</span> (d[a] &lt;= d[b] - (<span class="number">1</span> &lt;&lt; i))</span><br><span class="line">            b = p[b][i];</span><br><span class="line">    <span class="comment">//ç‰¹åˆ¤ï¼Œå¦‚æœbä¸Šæ¥å’Œå°±å’Œaä¸€æ ·äº†ï¼Œé‚£å°±å¯ä»¥ç›´æ¥è¿”å›ç­”æ¡ˆäº†</span></span><br><span class="line">    <span class="keyword">if</span> (a == b)</span><br><span class="line">        <span class="keyword">return</span> a;</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">20</span>; i &gt;= <span class="number">0</span>; i--) &#123;</span><br><span class="line">        <span class="keyword">if</span> (p[a][i] == p[b][i])</span><br><span class="line">            <span class="keyword">continue</span>;</span><br><span class="line">        <span class="keyword">else</span></span><br><span class="line">            a = p[a][i], b = p[b][i];           <span class="comment">//Aå’ŒBä¸€èµ·ä¸Šç§»</span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> p[a][<span class="number">0</span>];</span><br><span class="line">    <span class="comment">// æ‰¾å‡ºæœ€åaå€¼çš„æ•°å­—</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="type">int</span> <span class="title">main</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="built_in">memset</span>(head, <span class="number">-1</span>, <span class="built_in">sizeof</span>(head));</span><br><span class="line">    <span class="type">int</span> a, b;</span><br><span class="line">    <span class="built_in">scanf</span>(<span class="string">&quot;%d%d%d&quot;</span>, &amp;n, &amp;m, &amp;s);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt; n; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="built_in">add</span>(a, b);</span><br><span class="line">        <span class="built_in">add</span>(b, a);  <span class="comment">//æ— å‘å›¾ï¼Œè¦åŠ ä¸¤æ¬¡                    </span></span><br><span class="line">    &#125;</span><br><span class="line">    <span class="built_in">dfs</span>(s, <span class="number">0</span>);</span><br><span class="line">    <span class="keyword">for</span> (<span class="type">int</span> i = <span class="number">1</span>; i &lt;= m; i++) &#123;</span><br><span class="line">        <span class="built_in">scanf</span>(<span class="string">&quot;%d%d&quot;</span>, &amp;a, &amp;b);</span><br><span class="line">        <span class="built_in">printf</span>(<span class="string">&quot;%d\n&quot;</span>, <span class="built_in">lca</span>(a, b));</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="number">0</span>;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>æœç„¶ç®—æ³•è¿˜æ˜¯å¤ªéš¾äº†ï¼Œå‘œå‘œå‘œ~~ğŸ’¦ğŸ’¦ğŸ’¦ã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> algorithm </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¥½ç”¨çš„è®°è´¦ç½‘ç«™</title>
      <link href="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/"/>
      <url>/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p> âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br> ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br> â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹<br> â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br> ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>äººç”Ÿè¿ˆå‘æˆé•¿çš„ä¸€æ­¥ï¼Œå¯¹äºè‡ªå·±çš„moneyæ›´ç»†è‡´çš„äº†è§£</p><p>é‚£ä¹ˆ<strong>ç®€è´¦</strong>æ˜¯ä½ ä¸€ä¸ªä¸é”™çš„é€‰æ‹©ï¼ï¼</p></blockquote><h1 id="ğŸ™ğŸ™ğŸ™ç®€è´¦"><a href="#ğŸ™ğŸ™ğŸ™ç®€è´¦" class="headerlink" title="ğŸ™ğŸ™ğŸ™ç®€è´¦"></a>ğŸ™ğŸ™ğŸ™ç®€è´¦</h1><blockquote><p>ä¸€ä¸ªå¼€æºé¡¹ç›®ï¼š<a href="https://juejin.cn/post/6956784053974466573">ç®€è´¦(å¼€æºè®°è´¦è½¯ä»¶)-åŠŸèƒ½ä»‹ç» - æ˜é‡‘ (juejin.cn)</a></p><p>pcç«¯å’Œå°ç¨‹åºç«¯åŒæ­¥</p></blockquote><h2 id="ğŸšğŸšpcç«¯"><a href="#ğŸšğŸšpcç«¯" class="headerlink" title="ğŸšğŸšpcç«¯"></a>ğŸšğŸšpcç«¯</h2><blockquote><ul><li>ç™»å½•é¡µ</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230711220333369.png" alt="image-20230711220333369"></p><ul><li>é¦–é¡µ</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230711220447600.png" alt="image-20230711220447600"></p><ul><li><p>è´¦å•</p><ul><li>è®°ä¸€ç¬”</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230711220602331.png" alt="image-20230711220602331"></p><ul><li>æœˆè´¦æœ¬</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230711220935934.png" alt="image-20230711220935934"></p></li><li><p>è®°è´¦ç»´æŠ¤</p><ul><li>è´¦æˆ·èµ„æœ¬</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230711221142588.png" alt="image-20230711221142588"></p><ul><li>è´¦æœ¬ç»´æŠ¤</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230711221400364.png" alt="image-20230711221400364"></p></li></ul></blockquote><h2 id="ğŸ›ğŸ›å°ç¨‹åº"><a href="#ğŸ›ğŸ›å°ç¨‹åº" class="headerlink" title="ğŸ›ğŸ›å°ç¨‹åº"></a>ğŸ›ğŸ›å°ç¨‹åº</h2><blockquote><ul><li>æ˜ç»†</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230712081219103.png" alt="image-20230712081219103"></p><ul><li>å›¾è¡¨</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230712081321067.png" alt="image-20230712081321067"></p><ul><li>è®°è´¦</li></ul><p><img src="/2023/07/11/%E5%A5%BD%E7%94%A8%E7%9A%84%E8%AE%B0%E8%B4%A6%E7%BD%91%E7%AB%99/image-20230712081406448.png" alt="image-20230712081406448"></p></blockquote><blockquote><p>è¿™æ®µjp3çš„ç»å†ï¼Œè®©æˆ‘é¢†æ‚Ÿåˆ°äº†ä½•ä¸º<strong>èŠ±é’±å¦‚æµæ°´</strong>ã€‚</p><p>æ›´ä½¿æˆ‘æ·±åˆ»è®¤è¯†åˆ°ï¼Œå¿…é¡»æ·±å…¥äº†è§£è‡ªå·±çš„è´¢å¯Œæµå‘ï¼Œå“ªäº›é¢†åŸŸèŠ±è´¹æœ€ä¸ºå·¨å¤§ï¼Œåˆæœ‰å“ªäº›é¢†åŸŸå¯èŠ‚çœã€‚</p><p>ä½¿æ¯ä¸€ç¬”é‡‘é’±éƒ½èƒ½æŠ•å…¥æœ‰ä»·å€¼ä¹‹ä¸­ï¼</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
    </entry>
    
    
    
    <entry>
      <title>â‘ Linux-æ“ä½œç³»ç»Ÿ</title>
      <link href="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/"/>
      <url>/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹ briup-jp3-ing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>Linux æœåŠ¡çš„åŸºæœ¬æ“ä½œ</p></blockquote><h1 id="å†å²"><a href="#å†å²" class="headerlink" title="å†å²"></a>å†å²</h1><blockquote><p><a href="https://zh.wikipedia.org/wiki/Linux">Linux - ç»´åŸºç™¾ç§‘ï¼Œè‡ªç”±çš„ç™¾ç§‘å…¨ä¹¦ (wikipedia.org)</a></p><p><strong>Linuxç³»ç»Ÿå†…æ ¸+GNUç³»ç»Ÿå¥—ä»¶ &#x3D; å„ç§ ç‰ˆæœ¬çš„Linuxæ“ä½œç³»ç»Ÿ</strong></p></blockquote><h1 id="å›¾è§£"><a href="#å›¾è§£" class="headerlink" title="å›¾è§£"></a>å›¾è§£</h1><blockquote><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718084521629.png" alt="image-20230718084521629"></p><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718084634235.png" alt="image-20230718084634235"></p></blockquote><h1 id="ç³»ç»Ÿ"><a href="#ç³»ç»Ÿ" class="headerlink" title="ç³»ç»Ÿ"></a>ç³»ç»Ÿ</h1><blockquote><p>ä¸€ä¸ªLinuxæ“ä½œç³»ç»Ÿï¼Œç”±æ˜¯å“ªä¸ªé‡è¦çš„éƒ¨åˆ†ç»„æˆã€‚å†…æ ¸ã€Shellã€æ–‡ä»¶ç³»ç»Ÿ</p><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718085304546.png" alt="image-20230718085304546"></p><ul><li>Kernel<ul><li>å†…æ ¸ï¼Œç®¡ç†ç¡¬ä»¶è®¾å¤‡ã€å†…å­˜ã€è¿›ç¨‹ã€äº¤äº’ç©ºé—´ã€æ–‡ä»¶ç³»ç»Ÿã€ç³»ç»Ÿç¨‹åºç­‰ã€‚</li></ul></li><li>Shell<ul><li>Shellæ˜¯<strong>ç”¨æˆ·å’Œkernelä¹‹é—´çš„æ¥å£</strong>ï¼Œå®ƒä¹Ÿæ˜¯ä¸€ä¸ª<strong>å‘½ä»¤è§£é‡Šå™¨</strong>ï¼Œå½“ç”¨æˆ·åœ¨linuxç•Œ é¢å‘å‡ºä¸€ä¸ªæŒ‡ä»¤æ—¶ï¼Œå‘½ä»¤å…ˆä¼ åˆ°shellï¼Œç„¶ååœ¨å°†è¿™ä¸ªæŒ‡ä»¤ç¿»è¯‘æˆè®¡ç®—æœºå¯ ä»¥è¯†åˆ«çš„äºŒè¿›åˆ¶è¯­è¨€ï¼Œç„¶åä¼ ç»™è®¡ç®—æœºå†…æ ¸ï¼Œå‘Šè¯‰ä»–è¦åšä»€ä¹ˆäº‹æƒ…ã€‚è®¡ç®—æœºå†…æ ¸å°†ç»“æœè¿”è¿˜ç»™shellï¼Œshellç¿»è¯‘æˆäººæ‰€ç†Ÿæ‚‰çš„è¯­è¨€ï¼Œå°†ç»“æœå±•ç¤ºå‡ºæ¥</li><li><code>æŒ‡ä»¤--&gt;shell--&gt;äºŒè¿›åˆ¶--&gt;å†…æ ¸--&gt;result to shell--&gt; show result</code></li></ul></li></ul></blockquote><h2 id="å¸¸è§çš„å‡ ç§Shell"><a href="#å¸¸è§çš„å‡ ç§Shell" class="headerlink" title="å¸¸è§çš„å‡ ç§Shell"></a>å¸¸è§çš„å‡ ç§Shell</h2><blockquote><ul><li>Bourne shell (sh)<ul><li>æ˜¯ä¸€ä¸ªå¿«æ·æ–¹å¼ï¼Œå·²ç»è¢«&#x2F;bin&#x2F;bashæ‰€å–ä»£</li></ul></li><li>Korn shell (ksh)<ul><li>è¯­æ³•ä¸Bourne shell ç›¸åŒï¼ŒåŒæ—¶å…·å¤‡äº†C shell çš„æ˜“ç”¨ç‰¹ç‚¹</li></ul></li><li>C shell (csh)<ul><li>ä½¿ç”¨çš„æ˜¯â€ç±»Câ€œè¯­æ³•ï¼Œcshæ˜¯å…·æœ‰Cè¯­è¨€é£æ ¼çš„ä½¿ç”¨shell</li></ul></li><li>Bourne-again shell (bash)<ul><li>å¤§å¤šæ•°Linuxç³»ç»Ÿé»˜è®¤ä½¿ç”¨çš„Shell,æ˜¯Bourne shellçš„ä¸€ä¸ªå…è´¹ç‰ˆæœ¬ï¼Œå®ƒæ˜¯æœ€æ—©çš„Unix Shell</li></ul></li></ul><p></p></blockquote><blockquote><p><strong>é»˜è®¤æ™®é€šç”¨æˆ·ä¼šæ˜¾ç¤º$ç¬¦å·ï¼Œrootè´¦å·ä¼šæ˜¾ç¤º#ç¬¦å·</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹ç”¨æˆ·é»˜è®¤ä½¿ç”¨çš„shellï¼Œ <span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line">briup@ubuntu:~$ <span class="built_in">echo</span> <span class="variable">$SHELL</span></span><br><span class="line">/bin/bash</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">æŸ¥çœ‹ç”¨æˆ·å½“å‰ä½¿ç”¨çš„shellï¼Œ ps</span><br><span class="line">briup@ubuntu:~$ ps</span><br><span class="line">    PID TTY          TIME CMD</span><br><span class="line">   3519 pts/0    00:00:00 bash</span><br><span class="line">   3534 pts/0    00:00:00 ps</span><br><span class="line">   PID è¿›ç¨‹ç¼–å·ï¼ŒTTY ä¸è¿›ç¨‹å…³è”çš„ç»ˆç«¯ï¼ŒTIME è¿›ç¨‹ä½¿ç”¨çš„æ€»cpuæ—¶é—´ï¼ŒCMD æ­£åœ¨æ‰§è¡Œçš„å‘½ä»¤è¡Œå‘½ä»¤</span><br></pre></td></tr></table></figure></blockquote><h2 id="File-System"><a href="#File-System" class="headerlink" title="File System"></a>File System</h2><blockquote><p><strong>ä¸åŒçš„Linuxç³»ç»Ÿæˆ–è€…åŒä¸€ç³»ç»Ÿçš„ä¸åŒç‰ˆæœ¬ï¼Œæ–‡ä»¶ç³»ç»Ÿçš„ç›®å½•ç»“æœå¯èƒ½ ä¼šæœ‰æ‰€åŒºåˆ«ï¼Œä½†åŸºæœ¬å±äºå¤§åŒå°å¼‚</strong></p><p>Solarisç³»ç»Ÿçš„ç›®å½•ç»“æ„ï¼š</p><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718105639168.png" alt="image-20230718105639168"></p></blockquote><h1 id="è·¯å¾„"><a href="#è·¯å¾„" class="headerlink" title="è·¯å¾„"></a>è·¯å¾„</h1><blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç»å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">cat</span> /hello.txt   <span class="comment"># (&quot;/&quot;)æ ¹ç›®å½• </span></span><br><span class="line"><span class="comment"># ç›¸å¯¹è·¯å¾„</span></span><br><span class="line"><span class="built_in">cat</span> ./hello.txt  <span class="comment"># (&quot;./&quot;)å½“å‰ç›®å½•</span></span><br><span class="line"><span class="built_in">cat</span> ../hello.txt <span class="comment"># (&quot;../&quot;)çˆ¶çº§ç›®å½•</span></span><br></pre></td></tr></table></figure><p>æ³¨æ„ï¼Œè¿™é‡Œçš„catæ˜¯æŸ¥çœ‹æ–‡ä»¶å†…å®¹çš„ä¸€ä¸ªå‘½ä»¤</p></blockquote><h1 id="å¯†ç "><a href="#å¯†ç " class="headerlink" title="å¯†ç "></a>å¯†ç </h1><blockquote><ul><li><p>æ™®é€šç”¨æˆ·ä¿®æ”¹å¯†ç  ï¼š</p><ul><li>passwd</li></ul></li><li><p>è®¾ç½®rootï¼ˆè¶…çº§ç”¨æˆ·ï¼‰ç”¨æˆ·å¯†ç ï¼š</p><ul><li>sudo passwd root</li></ul></li></ul><p><strong>sudoï¼Œå‘½ä»¤è¡¨ç¤ºä¸´æ—¶ä½¿ç”¨æœ€é«˜æƒé™ï¼ˆrootè´¦å·æƒé™ï¼‰è¿›è¡Œæ“ä½œ</strong></p><ul><li>å½“å‰ç”¨æˆ·ï¼Œåˆ‡æ¢åˆ°rootç”¨æˆ·ï¼š</li></ul><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718140143939.png" alt="image-20230718140143939"></p><p><strong>æ³¨æ„ï¼Œæ™®é€šç”¨æˆ·å’Œrootç”¨æˆ·çš„å‘½ä»¤æç¤ºç¬¦æœ‰æ‰€ä¸åŒ</strong></p></blockquote><h1 id="ç”¨æˆ·"><a href="#ç”¨æˆ·" class="headerlink" title="ç”¨æˆ·"></a>ç”¨æˆ·</h1><blockquote><ul><li>åˆ›å»ºä¸€ä¸ªæ–°çš„ç”¨æˆ·swiftï¼Œå®¶ç›®å½•ä¸º&#x2F;home&#x2F;swiftï¼Œç”¨æˆ·ç™»å½•åä½¿ç”¨bash</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo useradd -mk /home/swift -s /bin/bash swift</span><br></pre></td></tr></table></figure><ul><li>ç»™æ–°å»ºå¯¹çš„swiftç”¨æˆ·è®¾ç½®å¯†ç </li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo passwd swift</span><br></pre></td></tr></table></figure><ul><li>åˆ‡æ¢åˆ°swiftç”¨æˆ·</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">su swift æˆ–è€… su - swift</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨sudoå‘½ä»¤æµ‹è¯•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">swift@ubuntu:~$ sudo clear</span><br><span class="line">[sudo] swift çš„å¯†ç ï¼š </span><br><span class="line">swift ä¸åœ¨ sudoers æ–‡ä»¶ä¸­ã€‚æ­¤äº‹å°†è¢«æŠ¥å‘Šã€‚</span><br><span class="line">swift@ubuntu:~$ </span><br></pre></td></tr></table></figure><p><strong>æ˜¯å› ä¸ºswiftç”¨æˆ·ä¸åœ¨sudoè¿™ä¸ªç”¨æˆ·ç»„ä¸­ï¼Œæ‰€ä»¥æ— æ³•ä½¿ç”¨sudoå‘½ä»¤</strong></p><ul><li>id å‘½ä»¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">swift@ubuntu:~$ <span class="built_in">id</span></span><br><span class="line">ç”¨æˆ·<span class="built_in">id</span>=1003(swift) ç»„<span class="built_in">id</span>=1003(swift) ç»„=1003(swift)</span><br><span class="line">swift@ubuntu:~$ </span><br></pre></td></tr></table></figure><ul><li>åˆ‡æ¢åˆ°briupè´¦å·ï¼Œä½¿ç”¨sudoå‘½ä»¤ï¼Œå°†ç”¨æˆ·swiftæ·»åŠ åˆ°sudoç»„ä¸­</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo gpasswd -a swift sudo</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼Œåˆ‡æ¢åˆ°rootç”¨æˆ·ä¹Ÿå¯ä»¥ç›´æ¥æ“ä½œ</strong></p><ul><li>åˆ‡æ¢åˆ°swiftç”¨æˆ·ï¼ŒæŸ¥çœ‹æ˜¯å¦å·²ç»åœ¨sudoç»„ä¸­ï¼Œå¹¶ä¸”æµ‹è¯•sudoå‘½ä»¤æ˜¯å¦å¯ç”¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">swift@ubuntu:/home/briup$ <span class="built_in">id</span></span><br><span class="line">ç”¨æˆ·<span class="built_in">id</span>=1003(swift) ç»„<span class="built_in">id</span>=1003(swift) ç»„=1003(swift),27(sudo)</span><br></pre></td></tr></table></figure><ul><li>åˆ‡æ¢åˆ°briupç”¨æˆ·ï¼Œä½¿ç”¨sudoå‘½ä»¤ï¼Œå°†swiftç”¨æˆ·ä»sudoç»„ä¸­åˆ é™¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">swift@ubuntu:/home/briup$ su briup</span><br><span class="line">å¯†ç ï¼š </span><br><span class="line">briup@ubuntu:~$ sudo gpasswd -d swift sudo</span><br><span class="line">æ­£åœ¨å°†ç”¨æˆ·â€œswiftâ€ä»â€œsudoâ€ç»„ä¸­åˆ é™¤</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨sudoå‘½ä»¤ï¼Œåˆ é™¤swiftç”¨æˆ·ï¼Œå¹¶åˆ é™¤swiftç”¨æˆ·å¯¹äºçš„å®¶ç›®å½• &#x2F;home&#x2F;swiftï¼Œå¹¶ ä¸”æ˜¯å¼ºåˆ¶åˆ é™¤</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">briup@ubuntu:~$ sudo userdel -rf swift</span><br><span class="line">userdel: user swift is currently used by process 5358</span><br><span class="line">userdel: swift é‚®ä»¶æ±  (/var/mail/swift) æœªæ‰¾åˆ°</span><br><span class="line">briup@ubuntu:~$ <span class="built_in">id</span> swift</span><br><span class="line"><span class="built_in">id</span>: â€œswiftâ€ï¼šæ— æ­¤ç”¨æˆ·</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ï¼šåƒä¸‡ä¸è¦é¢‘ç¹ä½¿ç”¨ -rf é¢‘ç¹åˆ é™¤ä¸œè¥¿å•Šå•Šå•Š~å®³æ€•</strong></p></blockquote><h1 id="å‘½ä»¤"><a href="#å‘½ä»¤" class="headerlink" title="å‘½ä»¤"></a>å‘½ä»¤</h1><blockquote><p>å‘½ä»¤æ ¼å¼ï¼šCommand [option(s)] [argument[s]]</p><ul><li>commandï¼šå‘½ä»¤å…³é”®å­—</li><li>optionsï¼šå¯ä»¥æœ‰å¤šä¸ªé€‰é¡¹</li><li>argumentsï¼šå¯ä»¥æœ‰å¤šä¸ªå‚æ•°</li></ul><p>ä¾‹å¦‚ï¼šæ˜¾ç¤ºa.txtçš„å†…å®¹ï¼Œå¹¶ä¸”æ˜¾ç¤ºè¡Œå· </p><ul><li>cat -n a.txt</li></ul></blockquote><h2 id="æ³¨æ„äº‹é¡¹"><a href="#æ³¨æ„äº‹é¡¹" class="headerlink" title="æ³¨æ„äº‹é¡¹"></a>æ³¨æ„äº‹é¡¹</h2><blockquote><ul><li><strong>ä¸­é—´ç”¨ç©ºæ ¼éš”å¼€</strong></li><li><strong>å•è¡Œå‘½ä»¤ä¸€èˆ¬ä¸è¶…è¿‡256ä¸ªå­—ç¬¦</strong></li><li><strong>å¤§å°å†™æ•æ„Ÿ</strong></li></ul></blockquote><h2 id="å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š"><a href="#å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š" class="headerlink" title="å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š"></a>å¸¸ç”¨çš„å‡ ä¸ªå‘½ä»¤ï¼š</h2><blockquote><ul><li>clear æ¸…å±</li><li>pwd æ˜¾ç¤ºå½“å‰å·¥ä½œç›®å½•</li><li>cd åˆ‡æ¢ç›®å½•</li><li>ls æ˜¾ç¤ºå½“å‰ç›®å½•ä¸‹çš„å†…å®¹åˆ—è¡¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">ls</span> -a //æ˜¾ç¤ºéšè—æ–‡ä»¶å’Œéšè—ç›®å½•ï¼Œä¹Ÿå°±æ˜¯ä»¥ç‚¹ï¼ˆ.ï¼‰å¼€å¤´çš„æ–‡ä»¶å’Œç›®å½•</span><br><span class="line"><span class="built_in">ls</span> -R //é€’å½’æ˜¾ç¤ºç›®å½•ä¸­çš„å†…å®¹</span><br><span class="line"><span class="built_in">ls</span> -t //æ˜¾ç¤ºç›®å½•ä¸­çš„å†…å®¹åˆ—è¡¨ï¼Œå¹¶ä½¿ç”¨æ—¶é—´æ’åºï¼Œé»˜è®¤æ˜¯æŒ‰ç€åå­—æ’åº</span><br><span class="line"><span class="built_in">ls</span> -l //æ˜¾ç¤ºè¯¦ç»†ä¿¡æ¯</span><br><span class="line"><span class="built_in">ls</span> -a -l //è¿™äº›å‚æ•°å¯ä»¥å¤šä¸ªä¸€èµ·ä½¿ç”¨</span><br><span class="line"><span class="built_in">ls</span> -al //å‚æ•°å¯ä»¥åˆ†å¼€ä¹Ÿå¯ä»¥åˆåœ¨ä¸€èµ·å†™</span><br><span class="line"><span class="built_in">ls</span> -F //æ˜¾ç¤ºæ–‡ä»¶çš„ç±»å‹ï¼Œç›®å½•/ å¯æ‰§è¡Œæ–‡ä»¶* æ™®é€šæ–‡ä»¶</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">-rw-rw-r-- 1 briup briup 199 7æœˆ 16 12:16 a.txt</span><br><span class="line">ä»å·¦åˆ°å³</span><br><span class="line">- æ–‡ä»¶ç±»å‹ï¼Œæ™®é€šæ–‡ä»¶æ˜¯- ç›®å½•æ˜¯d é“¾æ¥æ–‡ä»¶æ˜¯l å—è®¾å¤‡</span><br><span class="line">æ–‡ä»¶æ˜¯b å­—ç¬¦è®¾å¤‡æ–‡ä»¶æ˜¯c</span><br><span class="line">å‘½ä»¤ç®¡é“æ–‡ä»¶æ˜¯p sockæ–‡ä»¶æ˜¯s</span><br><span class="line">rw-rw-r-- æƒé™è®¾ç½®ï¼Œè¿™é‡Œæ˜¯åˆ†ä¸‰ç»„ï¼Œåˆ†åˆ«ä¸ºæ‹¥æœ‰è€…æƒé™ã€åŒç»„äººæƒ</span><br><span class="line">é™ã€å…¶ä»–äººæƒé™</span><br><span class="line">1 é“¾æ¥å·</span><br><span class="line">briup æ‹¥æœ‰è€…</span><br><span class="line">briup æ‹¥æœ‰ç»„</span><br><span class="line">199 æ–‡ä»¶å¤§å°</span><br><span class="line">7æœˆ 16 12:16 æœ€åä¿®æ”¹æ—¶é—´</span><br><span class="line">a.txt æ–‡ä»¶åå­—</span><br></pre></td></tr></table></figure><ul><li><code>ls -F</code></li></ul><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718144318083.png" alt="image-20230718144318083"></p></blockquote><h1 id="æƒé™"><a href="#æƒé™" class="headerlink" title="æƒé™"></a>æƒé™</h1><blockquote><p>ä½¿ç”¨ls -l å‘½ä»¤ï¼Œå¯ä»¥æŸ¥çœ‹æ–‡ä»¶æˆ–ç›®å½•çš„ç›¸å…³æƒé™</p><ul><li><code>ls -l æˆ–è€… ll</code></li></ul><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718144857332.png" alt="image-20230718144857332"></p><ul><li>æˆªå±ä¸­æ ‡æ³¨çš„éƒ¨åˆ†å°±æ˜¯å½“å‰b.txtæ–‡ä»¶é’ˆå¯¹ç”¨æˆ·çš„æƒé™ã€‚<ul><li>r  è¯»æƒé™</li><li>w å†™æƒé™ï¼Œå¯¹ç›®å½•æ¥è¯´ï¼Œå¯ç”Ÿæˆæ–‡ä»¶ä¸å­ç›®å½•æˆ–åˆ é™¤æ–‡ä»¶ä¸å­ç›®å½•</li><li>x  æ‰§è¡Œæƒé™ï¼Œå¯¹ç›®å½•æ¥è¯´ï¼Œå¯æŸ¥æ‰¾è¯¥ç›®å½•ä¸‹å†…å®¹</li><li><code>-</code> è¡¨ç¤ºæ²¡æœ‰ä»»ä½•æƒé™</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">rw- r-- ---</span><br><span class="line">rw- è¡¨ç¤ºå½“å‰æ–‡ä»¶å¯¹æ‹¥æœ‰è€…çš„æƒé™</span><br><span class="line">r-- è¡¨ç¤ºå½“å‰æ–‡ä»¶å¯¹åŒç»„äººçš„æƒé™</span><br><span class="line">--- è¡¨ç¤ºå½“å‰æ–‡ä»¶å¯¹å…¶ä»–äººçš„æƒé™</span><br></pre></td></tr></table></figure><ul><li>åœ¨æ·»åŠ æˆ–è€…åˆ é™¤æŸä¸ªæƒé™çš„æ—¶å€™ï¼š<ul><li>u è¡¨ç¤ºæ‹¥æœ‰è€…</li><li>g è¡¨ç¤ºåŒç»„äºº</li><li>o è¡¨ç¤ºå…¶ä»–äºº</li><li>a è¡¨ç¤ºæ‰€æœ‰äºº</li></ul></li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">chmod</span> u+x b.txt</span><br><span class="line"><span class="built_in">chmod</span> 777 b.txt</span><br></pre></td></tr></table></figure><p><strong>ä¹Ÿå¯ä»¥æ˜¯æ•°å­—æ¥è¡¨ç¤ºæƒé™</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">0000 0001 x æ‰§è¡Œæƒé™ åè¿›åˆ¶æ•°å­— 1</span><br><span class="line">0000 0010 w å†™æƒé™ åè¿›åˆ¶æ•°å­— 2</span><br><span class="line">0000 0100 r è¯»æƒé™ åè¿›åˆ¶æ•°å­— 4</span><br><span class="line">åœ¨è¿™ç§æƒ…å†µä¸‹ï¼Œä»»æ„æƒé™ç»„åˆç›¸åŠ å¾—å‡ºçš„æ•°å­—ç»“æœï¼Œéƒ½æ˜¯å”¯ä¸€ã€‚</span><br></pre></td></tr></table></figure><p>example:</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># 7 = 1+2+4 å³ äºŒè¿›åˆ¶ 111</span></span><br><span class="line"><span class="built_in">chmod</span> 777 b.txt</span><br></pre></td></tr></table></figure><p><img src="/2023/07/11/%E2%91%A0Linux-%E6%93%8D%E4%BD%9C%E7%B3%BB%E7%BB%9F/image-20230718145634301.png" alt="image-20230718145634301"></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¹¦å±±æœ‰è·¯å‹¤ä¸ºå¾„ï¼Œå­¦æµ·æ— æ¶¯è‹¦ä½œèˆŸğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> linux </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>jp3-java-growth-process</title>
      <link href="/2023/07/11/jp3-java-growth-process/"/>
      <url>/2023/07/11/jp3-java-growth-process/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼šæ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿<br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šjp3-fighting<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="ç›®å½•"><a href="#ç›®å½•" class="headerlink" title="ç›®å½•"></a>ç›®å½•</h1><blockquote><p>ç»è¿‡å†ä¸‰å†³å®šï¼Œä»å¤´å¼€å§‹ã€‚</p><p>æ„¿ä¸åœ¨è¿·å¤±è‡ªå·±ï¼Œä¸åœ¨å¦å®šè‡ªå·±ã€‚</p></blockquote><h1 id="åˆ©å™¨ç¯‡"><a href="#åˆ©å™¨ç¯‡" class="headerlink" title="åˆ©å™¨ç¯‡"></a>åˆ©å™¨ç¯‡</h1><blockquote><p>æ¬²ç»ƒJavaè¿™é—¨åŠŸå¤«ï¼Œå¿…é¡»å…ˆåˆ©å™¨ã€‚</p><p><a href="https://www.lzwgxust.top/post/a52e3c9e.html">ecpliseè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</a></p><p><a href="https://www.lzwgxust.top/post/8b18ee2.html">ideaè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</a></p><p><a href="https://www.lzwgxust.top/post/4fa26902.html">navicatè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</a></p><p><a href="https://www.lzwgxust.top/post/d36fddee.html">cpolarç®€æ˜“å®ç°å†…ç½‘ç©¿é€</a></p></blockquote><h1 id="å†…åŠŸç¯‡"><a href="#å†…åŠŸç¯‡" class="headerlink" title="å†…åŠŸç¯‡"></a>å†…åŠŸç¯‡</h1><blockquote><p>å†…åŠŸä¿®èº«ï¼ŒåˆšæŸ”å¹¶è¿›ã€‚</p><p>expand-01-æ·±å…¥Javaè™šæ‹Ÿæœºï¼ˆæœªå®Œæˆï¼‰ï¼š<a href="https://www.lzwgxust.top/post/36aef600.html">expand-01-æ·±å…¥Javaè™šæ‹Ÿæœº</a></p><p>expend-02-jdk8æ–°ç‰¹æ€§ï¼š<a href="https://www.lzwgxust.top/post/cea26ace.html">expend-02-jdk8æ–°ç‰¹æ€§</a></p><p>expand-03-æ·±å…¥jdkæºç ï¼ˆingï¼‰ï¼š<a href="https://www.lzwgxust.top/post/7657946b.html">expand-03-æ·±å…¥jdkæºç </a></p><p>epxand-04-JUCï¼ˆingï¼‰ï¼š<a href="https://www.lzwgxust.top/post/64bc2f62.html">expand-04-JUCæ·±å…¥å¹¶å‘ç¼–ç¨‹ </a></p><p>expand-05-MySQLè°ƒä¼˜ï¼ˆæœªå®Œæˆ no startï¼‰ï¼š</p><p>expand-99-23ç§è®¾è®¡æ¨¡å¼ï¼ˆingï¼‰ï¼š<a href="https://www.lzwgxust.top/post/1ac89767.html">expand-99-23ç§è®¾è®¡æ¨¡å¼</a></p><p>mybatisæºç åˆ†æï¼ˆæœªå®Œæˆ no startï¼‰ï¼š</p><p>ex-SpringMVCæµç¨‹åˆ†æï¼ˆç¬¬ä¸€æ¬¡çœ‹æºç å“ˆå“ˆï¼‰ï¼š<a href="https://www.lzwgxust.top/post/78e2411d.html">ex-SpringMVCæµç¨‹åˆ†æ</a></p></blockquote><h1 id="æ¨¡æ¿ç¯‡"><a href="#æ¨¡æ¿ç¯‡" class="headerlink" title="æ¨¡æ¿ç¯‡"></a>æ¨¡æ¿ç¯‡</h1><blockquote><p>çµæœºä¸€åŠ¨ï¼ä¸€ä¸ªå­—æŠ„ï¼yes</p><p>äº‘æœåŠ¡ï¼š<a href="https://www.lzwgxust.top/post/ce132ebe.html">template-01-å„ç±»äº‘æœåŠ¡ </a></p></blockquote><h1 id="ä¸€ã€ğŸ­ğŸ­ğŸ­æ ¸å¿ƒJavaåŸºç¡€"><a href="#ä¸€ã€ğŸ­ğŸ­ğŸ­æ ¸å¿ƒJavaåŸºç¡€" class="headerlink" title="ä¸€ã€ğŸ­ğŸ­ğŸ­æ ¸å¿ƒJavaåŸºç¡€"></a>ä¸€ã€ğŸ­ğŸ­ğŸ­æ ¸å¿ƒJavaåŸºç¡€</h1><blockquote><ul><li>LinuxæœåŠ¡çš„åŸºæœ¬æ“ä½œ</li><li>JavaåŸºç¡€ç¼–ç¨‹ï¼Œç†Ÿç»ƒJavaå¼€å‘è¯­æ³•å’Œè§„åˆ™ï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</li><li>Javaé«˜çº§ç¼–ç¨‹ï¼Œçµæ´»è¿ç”¨åå°„ï¼Œçº¿ç¨‹ï¼ŒIOå’Œç½‘ç»œç­‰è¿›è¡Œç¼–ç¨‹</li><li>æŒæ¡å¸¸ç”¨æ•°æ®ç»“æ„ï¼Œå¹¶çµæ´»è¿ç”¨</li><li>ç†Ÿç»ƒä½¿ç”¨ä¼ä¸šçº§å¼€å‘å·¥å…·Eclipseå’ŒIDEA</li><li>Javaä¸­æ¶‰åŠçš„å¸¸ç”¨å·¥å…·ç±»ï¼Œçµæ´»è¿ç”¨ï¼Œå¹¶çŸ¥æ™“å…¶åŸç†</li></ul></blockquote><h2 id="â‘ ğŸ¯ğŸ¯Linux-æ“ä½œç³»ç»Ÿ"><a href="#â‘ ğŸ¯ğŸ¯Linux-æ“ä½œç³»ç»Ÿ" class="headerlink" title="â‘ ğŸ¯ğŸ¯Linux æ“ä½œç³»ç»Ÿ"></a>â‘ ğŸ¯ğŸ¯Linux æ“ä½œç³»ç»Ÿ</h2><blockquote><p><a href="https://www.lzwgxust.top/post/b85a1fee.html">â‘ Linux-æ“ä½œç³»ç»Ÿ</a></p><p><a href="https://www.lzwgxust.top/post/e4d1725d.html">â‘ Linux-æ“ä½œç³»ç»Ÿ-2</a></p><p><a href="https://www.lzwgxust.top/post/93d642cb.html">â‘ Linux-æ“ä½œç³»ç»Ÿ-3</a></p></blockquote><h2 id="â‘¡ğŸ°ğŸ°Java-åŸºç¡€ç¼–ç¨‹"><a href="#â‘¡ğŸ°ğŸ°Java-åŸºç¡€ç¼–ç¨‹" class="headerlink" title="â‘¡ğŸ°ğŸ°Java åŸºç¡€ç¼–ç¨‹"></a>â‘¡ğŸ°ğŸ°Java åŸºç¡€ç¼–ç¨‹</h2><blockquote><p><a href="https://www.lzwgxust.top/post/190b6531.html">01-JavaåŸºç¡€å…¥é—¨</a></p><p><a href="https://www.lzwgxust.top/post/8bf42cbe.html">02-æ ‡ç¤ºç¬¦-å…³é”®å­—-å˜é‡</a></p><p><a href="https://www.lzwgxust.top/post/72924d5c.html">03-æ“ä½œç¬¦-æµç¨‹æ§åˆ¶-æ–¹æ³•</a></p><p><a href="https://www.lzwgxust.top/post/e21539ad.html">04-æ•°ç»„</a></p><p><a href="https://www.lzwgxust.top/post/a7b622d7.html">05-é¢å‘å¯¹è±¡åŸºç¡€</a></p><p><a href="https://www.lzwgxust.top/post/db2adb86.html">06-static-ç»§æ‰¿-é‡å†™-å¤šæ€</a></p><p><a href="https://www.lzwgxust.top/post/24340ded.html">07-æŠ½è±¡-æ¥å£-å†…éƒ¨ç±»-æšä¸¾</a></p><p><a href="https://www.lzwgxust.top/post/cede7098.html">08-1-é›†åˆ</a></p><p><a href="https://www.lzwgxust.top/post/59864f97.html">08-2-æ³›å‹-æ³¨è§£</a></p><p><a href="https://www.lzwgxust.top/post/6eb1d8a7.html">09-å¼‚å¸¸</a></p></blockquote><h2 id="â‘¢ğŸ’’ğŸ’’Java-é«˜çº§ç¼–ç¨‹"><a href="#â‘¢ğŸ’’ğŸ’’Java-é«˜çº§ç¼–ç¨‹" class="headerlink" title="â‘¢ğŸ’’ğŸ’’Java é«˜çº§ç¼–ç¨‹"></a>â‘¢ğŸ’’ğŸ’’Java é«˜çº§ç¼–ç¨‹</h2><blockquote><p><a href="https://www.lzwgxust.top/post/d7b0b4f7.html">10-å¤šçº¿ç¨‹</a></p><p><a href="https://www.lzwgxust.top/post/a9757ddf.html">11-File-IOæµ</a></p><p><a href="https://www.lzwgxust.top/post/91f908d8.html">12-ç½‘ç»œç¼–ç¨‹</a></p><p><a href="https://www.lzwgxust.top/post/24d8961c.html">13-ç±»åŠ è½½-åå°„</a></p></blockquote><h2 id="â‘£ğŸ—¼ğŸ—¼é¡¹ç›®ç®¡ç†åŠç¼–ç¨‹è§„èŒƒ"><a href="#â‘£ğŸ—¼ğŸ—¼é¡¹ç›®ç®¡ç†åŠç¼–ç¨‹è§„èŒƒ" class="headerlink" title="â‘£ğŸ—¼ğŸ—¼é¡¹ç›®ç®¡ç†åŠç¼–ç¨‹è§„èŒƒ"></a>â‘£ğŸ—¼ğŸ—¼é¡¹ç›®ç®¡ç†åŠç¼–ç¨‹è§„èŒƒ</h2><h2 id="â‘¤ğŸ—½ğŸ—½Web-æœåŠ¡å™¨é¡¹ç›®"><a href="#â‘¤ğŸ—½ğŸ—½Web-æœåŠ¡å™¨é¡¹ç›®" class="headerlink" title="â‘¤ğŸ—½ğŸ—½Web æœåŠ¡å™¨é¡¹ç›®"></a>â‘¤ğŸ—½ğŸ—½Web æœåŠ¡å™¨é¡¹ç›®</h2><h1 id="äºŒã€â›ªâ›ªâ›ªæ•°æ®æŒä¹…åŒ–"><a href="#äºŒã€â›ªâ›ªâ›ªæ•°æ®æŒä¹…åŒ–" class="headerlink" title="äºŒã€â›ªâ›ªâ›ªæ•°æ®æŒä¹…åŒ–"></a>äºŒã€â›ªâ›ªâ›ªæ•°æ®æŒä¹…åŒ–</h1><blockquote><ul><li>XMLåŸºæœ¬è¯­æ³•ï¼ŒXMLæ–‡ä»¶çš„DTDéªŒè¯å’Œè§£æ</li><li>Mysqlæ•°æ®åº“çš„ä½¿ç”¨åŠæ•°æ®åº“åˆ†æåŠè®¾è®¡å®è·µ</li><li>Jdbcçš„ä½¿ç”¨ï¼Œå°è£…ï¼Œæ•°æ®è¿æ¥æ± æŠ€æœ¯</li><li>äº†è§£é¡¹ç›®ç¼–ç¨‹è§„èŒƒï¼Œå…»æˆè‰¯å¥½ç¼–ç¨‹ä¹ æƒ¯</li><li>æŒæ¡å›¢é˜Ÿåä½œå·¥å…·SVNåŠGITçš„ä½¿ç”¨</li><li>æŒæ¡é¡¹ç›®ç®¡ç†å·¥å…·Mavençš„ä½¿ç”¨</li><li>é¢å‘å¯¹è±¡åˆ†æå’Œè®¾è®¡ï¼Œå¸¸ç”¨è®¾è®¡æ¨¡å¼çš„ä½¿ç”¨</li></ul></blockquote><h2 id="â‘¥ğŸ•ŒğŸ•ŒXML-ç¼–ç¨‹"><a href="#â‘¥ğŸ•ŒğŸ•ŒXML-ç¼–ç¨‹" class="headerlink" title="â‘¥ğŸ•ŒğŸ•ŒXML ç¼–ç¨‹"></a>â‘¥ğŸ•ŒğŸ•ŒXML ç¼–ç¨‹</h2><h2 id="â‘¦ğŸ›•ğŸ›•Mysql-æ•°æ®åº“"><a href="#â‘¦ğŸ›•ğŸ›•Mysql-æ•°æ®åº“" class="headerlink" title="â‘¦ğŸ›•ğŸ›•Mysql æ•°æ®åº“"></a>â‘¦ğŸ›•ğŸ›•Mysql æ•°æ®åº“</h2><blockquote><p><a href="https://www.lzwgxust.top/post/9097dbef.html">01-mysqlæ¦‚è¿°å®‰è£…é…ç½®</a></p><p><a href="https://www.lzwgxust.top/post/13ed513c.html">02-selectæŸ¥è¯¢</a></p><p><a href="https://www.lzwgxust.top/post/67b2a6ea.html">03-DDLåŠDMLæ“ä½œ</a></p><p><a href="https://www.lzwgxust.top/post/be498244.html">04-äº‹åŠ¡ç´¢å¼•è§†å›¾</a></p></blockquote><h2 id="â‘§ğŸ•ğŸ•JDBC"><a href="#â‘§ğŸ•ğŸ•JDBC" class="headerlink" title="â‘§ğŸ•ğŸ•JDBC"></a>â‘§ğŸ•ğŸ•JDBC</h2><blockquote><p><a href="https://www.lzwgxust.top/post/f649a76f.html">05-JDBC</a></p></blockquote><h2 id="â‘¨â›©â›©Maven-åŸºç¡€"><a href="#â‘¨â›©â›©Maven-åŸºç¡€" class="headerlink" title="â‘¨â›©â›©Maven åŸºç¡€"></a>â‘¨â›©â›©Maven åŸºç¡€</h2><h2 id="â‘©ğŸ•‹ğŸ•‹SVNï¼ˆXï¼‰"><a href="#â‘©ğŸ•‹ğŸ•‹SVNï¼ˆXï¼‰" class="headerlink" title="â‘©ğŸ•‹ğŸ•‹SVNï¼ˆXï¼‰"></a>â‘©ğŸ•‹ğŸ•‹SVNï¼ˆXï¼‰</h2><blockquote><p><a href="https://www.lzwgxust.top/post/51ee138b.html">SVNè½»æ¾ä¸Šæ‰‹æ— å¿§ç‰ˆ</a></p></blockquote><h2 id="11ğŸ¢ğŸ¢ç‰©è”ç½‘æ³›åœ¨æ¥å…¥-æ•°æ®é‡‡é›†ä¸­å¿ƒ"><a href="#11ğŸ¢ğŸ¢ç‰©è”ç½‘æ³›åœ¨æ¥å…¥-æ•°æ®é‡‡é›†ä¸­å¿ƒ" class="headerlink" title="11ğŸ¢ğŸ¢ç‰©è”ç½‘æ³›åœ¨æ¥å…¥-æ•°æ®é‡‡é›†ä¸­å¿ƒ"></a>11ğŸ¢ğŸ¢ç‰©è”ç½‘æ³›åœ¨æ¥å…¥-æ•°æ®é‡‡é›†ä¸­å¿ƒ</h2><blockquote><p><a href="https://www.lzwgxust.top/post/b374ca99.html">project-01-ç‰©è”ç½‘ç¯å¢ƒæ£€æµ‹ç³»ç»Ÿ</a></p></blockquote><h2 id="12ğŸ¡ğŸ¡ä¼ä¸šä¿¡æ¯ç®¡ç†ç³»ç»Ÿ"><a href="#12ğŸ¡ğŸ¡ä¼ä¸šä¿¡æ¯ç®¡ç†ç³»ç»Ÿ" class="headerlink" title="12ğŸ¡ğŸ¡ä¼ä¸šä¿¡æ¯ç®¡ç†ç³»ç»Ÿ"></a>12ğŸ¡ğŸ¡ä¼ä¸šä¿¡æ¯ç®¡ç†ç³»ç»Ÿ</h2><h1 id="ä¸‰ã€ğŸ›ğŸ›ğŸ›JavaWebå¼€å‘"><a href="#ä¸‰ã€ğŸ›ğŸ›ğŸ›JavaWebå¼€å‘" class="headerlink" title="ä¸‰ã€ğŸ›ğŸ›ğŸ›JavaWebå¼€å‘"></a>ä¸‰ã€ğŸ›ğŸ›ğŸ›JavaWebå¼€å‘</h1><blockquote><ul><li>Html&#x2F;Css&#x2F;JavaScript&#x2F;Ajax&#x2F;Jsonçš„åŸºæœ¬ä½¿ç”¨</li><li>ç†Ÿç»ƒæŒæ¡å¸¸ç”¨WebæœåŠ¡å™¨ï¼ˆTomcat&#x2F;JettyæœåŠ¡å™¨ï¼‰çš„ä½¿ç”¨</li><li>Servlet&#x2F;Jsp&#x2F;EL&#x2F;JSTL è¡¨è¾¾å¼çš„ä½¿ç”¨</li><li>æŒæ¡åŸºç¡€JavaEEé¡¹ç›®å¼€å‘æµç¨‹</li><li>æŒæ¡MVCè®¾è®¡æ¨¡å¼ï¼Œå¹¶ç†Ÿç»ƒè¿ç”¨é€šè¿‡é¡¹ç›®æŒæ¡åº”ç”¨åˆ†å±‚å¼€å‘ç‰¹å¾ï¼Œæ¨¡å—å…³ç³»å»ºç«‹</li><li>æ¢³ç†æŒæ¡æ•°æ®åº“äº‹åŠ¡å¤„ç†ï¼Œé€šç”¨æœåŠ¡æŠ½å–ç­‰</li><li>æŒæ¡VUEå‰ç«¯æ¡†æ¶</li><li>æŒæ¡ElementUIç»„ä»¶ç­‰å‰ç«¯æŠ€æœ¯</li><li>ç†Ÿæ‚‰å‰åç«¯åˆ†æå¼€å‘æµç¨‹ä¸ç›¸å…³æŠ€æœ¯</li></ul></blockquote><h2 id="13ğŸ ğŸ Html-Css"><a href="#13ğŸ ğŸ Html-Css" class="headerlink" title="13ğŸ ğŸ Html&amp;Css"></a>13ğŸ ğŸ Html&amp;Css</h2><h2 id="14ğŸŒ‰ğŸŒ‰JavaScript"><a href="#14ğŸŒ‰ğŸŒ‰JavaScript" class="headerlink" title="14ğŸŒ‰ğŸŒ‰JavaScript"></a>14ğŸŒ‰ğŸŒ‰JavaScript</h2><h2 id="15ğŸªğŸªAjax-Json"><a href="#15ğŸªğŸªAjax-Json" class="headerlink" title="15ğŸªğŸªAjax&amp;Json"></a>15ğŸªğŸªAjax&amp;Json</h2><h2 id="16âš“âš“Vue-ElementUI"><a href="#16âš“âš“Vue-ElementUI" class="headerlink" title="16âš“âš“Vue&amp;ElementUI"></a>16âš“âš“Vue&amp;ElementUI</h2><h2 id="17ğŸ›-ğŸ›-Servlet-åŸºç¡€"><a href="#17ğŸ›-ğŸ›-Servlet-åŸºç¡€" class="headerlink" title="17ğŸ›   ğŸ›  Servlet åŸºç¡€"></a>17ğŸ›   ğŸ›  Servlet åŸºç¡€</h2><h2 id="18ğŸŸ-ğŸŸ-SpringBootWeb-åŸºç¡€"><a href="#18ğŸŸ-ğŸŸ-SpringBootWeb-åŸºç¡€" class="headerlink" title="18ğŸŸ   ğŸŸ  SpringBootWeb åŸºç¡€"></a>18ğŸŸ   ğŸŸ  SpringBootWeb åŸºç¡€</h2><blockquote><p><a href="https://www.lzwgxust.top/post/8af06a17.html">SpringBooté¡¹ç›®ä¸­å„ç±»æ³¨è§£</a></p></blockquote><h2 id="19ğŸ—-ğŸ—-æ™ºèƒ½å®éªŒå®¤ç®¡ç†äº‘å¹³å°"><a href="#19ğŸ—-ğŸ—-æ™ºèƒ½å®éªŒå®¤ç®¡ç†äº‘å¹³å°" class="headerlink" title="19ğŸ—   ğŸ—  æ™ºèƒ½å®éªŒå®¤ç®¡ç†äº‘å¹³å°"></a>19ğŸ—   ğŸ—  æ™ºèƒ½å®éªŒå®¤ç®¡ç†äº‘å¹³å°</h2><h2 id="20ğŸ§±ğŸ§±Estore-çº¿ä¸Šè´­ç‰©å•†åŸ"><a href="#20ğŸ§±ğŸ§±Estore-çº¿ä¸Šè´­ç‰©å•†åŸ" class="headerlink" title="20ğŸ§±ğŸ§±Estore çº¿ä¸Šè´­ç‰©å•†åŸ"></a>20ğŸ§±ğŸ§±Estore çº¿ä¸Šè´­ç‰©å•†åŸ</h2><h1 id="å››ã€ğŸ›–ğŸ›–ğŸ›–ä¼ä¸šæ ¸å¿ƒæ¡†æ¶"><a href="#å››ã€ğŸ›–ğŸ›–ğŸ›–ä¼ä¸šæ ¸å¿ƒæ¡†æ¶" class="headerlink" title="å››ã€ğŸ›–ğŸ›–ğŸ›–ä¼ä¸šæ ¸å¿ƒæ¡†æ¶"></a>å››ã€ğŸ›–ğŸ›–ğŸ›–ä¼ä¸šæ ¸å¿ƒæ¡†æ¶</h1><blockquote><ul><li>ä¼ä¸šçº§å¼€å‘æ€æƒ³</li><li>SpringBootæ¡†æ¶å¿«é€Ÿå¼€å‘å…¥é—¨</li><li>ç†Ÿç»ƒæŒæ¡Springã€SpringMVCä¼ä¸šçº§æ¡†æ¶</li><li>ç†Ÿç»ƒæŒæ¡Mybatisæ¡†æ¶å®ç°Daoå±‚å¼€å‘</li><li>æŒæ¡SSMæ¡†æ¶æ•´åˆ</li><li>Mybatis-Plusæ’ä»¶å­¦ä¹ </li><li>RestFulé£æ ¼çš„URLè®¾è®¡</li><li>å‰åç«¯åˆ†ç¦»é¡¹ç›®çš„å¼€å‘ç‰¹å¾</li><li>SwaggeråŠJWTåœ¨å‰åç«¯åˆ†æé¡¹ç›®ä¸­çš„åº”ç”¨</li><li>æŒæ¡Dockerçš„å®‰è£…é…ç½®ä¸åŸºæœ¬ä½¿ç”¨</li><li>ç†Ÿæ‚‰å®¹å™¨åŒ–é¡¹ç›®éƒ¨ç½²</li></ul></blockquote><h2 id="21ğŸ˜-ğŸ˜-MyBatis-Mybatis-Plus"><a href="#21ğŸ˜-ğŸ˜-MyBatis-Mybatis-Plus" class="headerlink" title="21ğŸ˜   ğŸ˜ MyBatis&amp;Mybatis-Plus"></a>21ğŸ˜   ğŸ˜ MyBatis&amp;Mybatis-Plus</h2><h2 id="22ğŸš-ğŸš-Spring-SpringMVC-é«˜çº§"><a href="#22ğŸš-ğŸš-Spring-SpringMVC-é«˜çº§" class="headerlink" title="22ğŸš   ğŸš Spring&amp;SpringMVC é«˜çº§"></a>22ğŸš   ğŸš Spring&amp;SpringMVC é«˜çº§</h2><h2 id="23ğŸ ğŸ Git-GitHub"><a href="#23ğŸ ğŸ Git-GitHub" class="headerlink" title="23ğŸ ğŸ Git&amp;GitHub"></a>23ğŸ ğŸ Git&amp;GitHub</h2><h2 id="24ğŸ¡ğŸ¡Redis-å†…å­˜æ•°æ®åº“"><a href="#24ğŸ¡ğŸ¡Redis-å†…å­˜æ•°æ®åº“" class="headerlink" title="24ğŸ¡ğŸ¡Redis å†…å­˜æ•°æ®åº“"></a>24ğŸ¡ğŸ¡Redis å†…å­˜æ•°æ®åº“</h2><h2 id="25ğŸ¢ğŸ¢DockeråŠé¡¹ç›®éƒ¨ç½²"><a href="#25ğŸ¢ğŸ¢DockeråŠé¡¹ç›®éƒ¨ç½²" class="headerlink" title="25ğŸ¢ğŸ¢DockeråŠé¡¹ç›®éƒ¨ç½²"></a>25ğŸ¢ğŸ¢DockeråŠé¡¹ç›®éƒ¨ç½²</h2><h2 id="26ğŸ£ğŸ£ä»Šæ—¥çœ‹ç‚¹-èµ„è®¯ç®¡ç†åŠæ¨èç³»ç»Ÿ"><a href="#26ğŸ£ğŸ£ä»Šæ—¥çœ‹ç‚¹-èµ„è®¯ç®¡ç†åŠæ¨èç³»ç»Ÿ" class="headerlink" title="26ğŸ£ğŸ£ä»Šæ—¥çœ‹ç‚¹-èµ„è®¯ç®¡ç†åŠæ¨èç³»ç»Ÿ"></a>26ğŸ£ğŸ£ä»Šæ—¥çœ‹ç‚¹-èµ„è®¯ç®¡ç†åŠæ¨èç³»ç»Ÿ</h2><h2 id="27ğŸ¤ğŸ¤æ™ºæ…§å†œä¸šç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ"><a href="#27ğŸ¤ğŸ¤æ™ºæ…§å†œä¸šç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ" class="headerlink" title="27ğŸ¤ğŸ¤æ™ºæ…§å†œä¸šç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ"></a>27ğŸ¤ğŸ¤æ™ºæ…§å†œä¸šç—…è™«å®³è¯†åˆ«ç³»ç»Ÿ</h2><h1 id="äº”ã€ğŸ¥ğŸ¥ğŸ¥å¾®æœåŠ¡æ¶æ„æŠ€æœ¯"><a href="#äº”ã€ğŸ¥ğŸ¥ğŸ¥å¾®æœåŠ¡æ¶æ„æŠ€æœ¯" class="headerlink" title="äº”ã€ğŸ¥ğŸ¥ğŸ¥å¾®æœåŠ¡æ¶æ„æŠ€æœ¯"></a>äº”ã€ğŸ¥ğŸ¥ğŸ¥å¾®æœåŠ¡æ¶æ„æŠ€æœ¯</h1><blockquote><ul><li>å¾®æœåŠ¡æ¶æ„è®¾è®¡æ¨¡å¼ã€ç‰¹å¾</li><li>æŒæ¡SpringCloudæŠ€æœ¯ä½“ç³»</li><li>äº†è§£å¾®æœåŠ¡æ¶æ„è§£å†³æ–¹æ¡ˆï¼Œæ­å»ºå¾®æœåŠ¡åº”ç”¨</li><li>ç†Ÿæ‚‰Eurekaã€Nacosã€OpenFeignã€Gateway è·¯ç”±åŠSentinelç»„ä»¶</li><li>æŒæ¡MQçš„ç‰¹å¾çš„åŠRabbitMQä¸­é—´ä»¶çš„ä½¿ç”¨</li><li>ç†Ÿç»ƒæŒæ¡Rediså†…å­˜æ•°æ®åº“</li><li>ç†Ÿç»ƒä½¿ç”¨Nginxåå‘ä»£ç†æœåŠ¡å™¨åŠZookeeperåˆ†å¸ƒå¼æœåŠ¡æ¡†æ¶</li><li>åŸºäºDockerå®¹å™¨çš„æœåŠ¡å‘å¸ƒå’Œéƒ¨ç½²è´¦åŠ¡åŸºæœ¬çš„CI&#x2F;CDæµç¨‹ï¼Œäº†è§£DevOpsçš„æ¦‚å¿µ</li></ul></blockquote><h2 id="28ğŸ¦ğŸ¦SpringData-X"><a href="#28ğŸ¦ğŸ¦SpringData-X" class="headerlink" title="28ğŸ¦ğŸ¦SpringData (X)"></a>28ğŸ¦ğŸ¦SpringData (X)</h2><h2 id="29ğŸ¨ğŸ¨Nginx-X"><a href="#29ğŸ¨ğŸ¨Nginx-X" class="headerlink" title="29ğŸ¨ğŸ¨Nginx(X)"></a>29ğŸ¨ğŸ¨Nginx(X)</h2><h2 id="30ğŸ©ğŸ©SpringCloud"><a href="#30ğŸ©ğŸ©SpringCloud" class="headerlink" title="30ğŸ©ğŸ©SpringCloud"></a>30ğŸ©ğŸ©SpringCloud</h2><h2 id="31ğŸªğŸªSpringSecurity"><a href="#31ğŸªğŸªSpringSecurity" class="headerlink" title="31ğŸªğŸªSpringSecurity"></a>31ğŸªğŸªSpringSecurity</h2><h2 id="32ğŸ«ğŸ«RabbitMQ"><a href="#32ğŸ«ğŸ«RabbitMQ" class="headerlink" title="32ğŸ«ğŸ«RabbitMQ"></a>32ğŸ«ğŸ«RabbitMQ</h2><h2 id="33ğŸ¬ğŸ¬Zookeeper"><a href="#33ğŸ¬ğŸ¬Zookeeper" class="headerlink" title="33ğŸ¬ğŸ¬Zookeeper"></a>33ğŸ¬ğŸ¬Zookeeper</h2><h2 id="34ğŸŒŸğŸŒŸåœ°è´¨å‹˜æ¢å»ºæ¨¡å¹³å°"><a href="#34ğŸŒŸğŸŒŸåœ°è´¨å‹˜æ¢å»ºæ¨¡å¹³å°" class="headerlink" title="34ğŸŒŸğŸŒŸåœ°è´¨å‹˜æ¢å»ºæ¨¡å¹³å°"></a>34ğŸŒŸğŸŒŸåœ°è´¨å‹˜æ¢å»ºæ¨¡å¹³å°</h2><h1 id="å…­ã€ğŸ‘»ğŸ‘»ğŸ‘»é¢è¯•å°±ä¸šä¸“é¢˜"><a href="#å…­ã€ğŸ‘»ğŸ‘»ğŸ‘»é¢è¯•å°±ä¸šä¸“é¢˜" class="headerlink" title="å…­ã€ğŸ‘»ğŸ‘»ğŸ‘»é¢è¯•å°±ä¸šä¸“é¢˜"></a>å…­ã€ğŸ‘»ğŸ‘»ğŸ‘»é¢è¯•å°±ä¸šä¸“é¢˜</h1><h2 id="35ğŸ±ğŸ±å°±ä¸šä¸“é¡¹åŸ¹å…»"><a href="#35ğŸ±ğŸ±å°±ä¸šä¸“é¡¹åŸ¹å…»" class="headerlink" title="35ğŸ±ğŸ±å°±ä¸šä¸“é¡¹åŸ¹å…»"></a>35ğŸ±ğŸ±å°±ä¸šä¸“é¡¹åŸ¹å…»</h2><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ä¸ç§¯è·¬æ­¥æ— ä»¥è‡³åƒé‡ŒğŸ’ªã€‚</p></blockquote><div class="bilibili">    <iframe src="//player.bilibili.com/player.html?aid=414817490&bvid=BV1fV41117NX&cid=240950074&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> java </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>ä¸€é”®æ­å»ºå±äºè‡ªå·±çš„ChatGpt</title>
      <link href="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/"/>
      <url>/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šfså®è®­äºŒing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¸€ç›´æƒ³è¦å®ç°ä¸€ä¸ªå±äºè‡ªå·±çš„ChatGptï¼Œä»Šå¤©ç»ˆäºåœ¨èˆå‹çš„å¸®åŠ©ä¸‹å®ç°äº†ã€‚</p><p>å¤§å®¶å¯ä»¥è®¿é—®ä¸€ä¸‹æˆ‘çš„ï¼š<a href="https://ai.lzwgxust.top/">ChatGPT Next Web</a></p></blockquote><h2 id="ğŸŒ²ğŸŒ²github"><a href="#ğŸŒ²ğŸŒ²github" class="headerlink" title="ğŸŒ²ğŸŒ²github"></a>ğŸŒ²ğŸŒ²github</h2><blockquote><p>é¦–å…ˆä»githubä¸­æ‰¾åˆ°è¿™ä¸ªä¼˜ç§€çš„å¼€æºé¡¹ç›®ï¼š</p><ul><li><a href="https://github.com/Yidadaa/ChatGPT-Next-Web">Yidadaa&#x2F;ChatGPT-Next-Web: ä¸€é”®æ‹¥æœ‰ä½ è‡ªå·±çš„è·¨å¹³å° ChatGPT åº”ç”¨</a></li></ul></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626151543826.png" alt="image-20230626151543826"></p><h2 id="ğŸ€ğŸ€vercel"><a href="#ğŸ€ğŸ€vercel" class="headerlink" title="ğŸ€ğŸ€vercel"></a>ğŸ€ğŸ€vercel</h2><blockquote><p>vercelå®˜ç½‘ï¼š<a href="https://vercel.com/dashboard">Dashboard â€“ Vercel</a>   </p><p>vercelæ³¨å†Œï¼š<a href="https://www.bilibili.com/video/BV1Fh411e7ZH/?vd_source=37d0a4e2d39fe02cac0e2a4c23fe8ec3">Twikoo Vercel éƒ¨ç½²æ•™ç¨‹_å“”å“©å“”å“©_bilibili</a> (åé¢éƒ¨åˆ†æ˜¯vercelçš„æ³¨å†Œï¼Œè®°å¾—ä¸€é”®ä¸‰è¿)</p><p>å¯ä»¥å­¦ä¹ è¿™ä¸ªåšå®¢ï¼Œå­¦å®Œä½ å°±æ‡‚å¦‚ä½•é€šè¿‡vercelå°†åŸŸåæŒ‚è½½åˆ°githubå¯¹åº”ä»“åº“äº†<a href="https://xiaoming.site/post/6b62e9ba.html">Vercel+imsyy éƒ¨ç½²ä¸ªäººåšå®¢ home é¡µé¢ | å°é“­ã®åšå®¢ (xz133744.github.io)</a></p></blockquote><blockquote><p>è¿›å…¥åˆ°Vercelä¸­ï¼ˆå…·ä½“çš„æ³¨å†Œæµç¨‹æˆ‘å°±çœç•¥äº†ï¼‰</p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626151949927.png" alt="image-20230626151949927"></p><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626152021010.png" alt="image-20230626152021010"></p><blockquote><p>ç‚¹å‡»è¿›è¡Œéƒ¨ç½²</p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626152212736.png" alt="image-20230626152212736"></p><blockquote><p>å‡ºç°ä¸‹é¢è¿™ä¸ªé¡µé¢è¡¨ç¤ºå°†é¡¹ç›®éƒ¨ç½²æˆåŠŸ</p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626152756059.png" alt="image-20230626152756059"></p><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626152825804.png" alt="image-20230626152825804"></p><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626152914440.png" alt="image-20230626152914440"></p><h2 id="ğŸŒğŸŒç¡…äº‘"><a href="#ğŸŒğŸŒç¡…äº‘" class="headerlink" title="ğŸŒğŸŒç¡…äº‘"></a>ğŸŒğŸŒç¡…äº‘</h2><blockquote><p>è¦æƒ³å®ç°ä¸Šé¢ä¸€æ­¥ï¼Œå¿…é¡»è¿›è¡ŒåŸŸåè§£æ</p><p>è¿›å…¥ç¡…äº‘ï¼Œè¿›è¡ŒåŸŸåè§£æ</p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626152657573.png" alt="image-20230626152657573"></p><h2 id="ğŸŒğŸŒurlè®¿é—®"><a href="#ğŸŒğŸŒurlè®¿é—®" class="headerlink" title="ğŸŒğŸŒurlè®¿é—®"></a>ğŸŒğŸŒurlè®¿é—®</h2><blockquote><p>è§£ææˆåŠŸåå°±å¯ä»¥ç›´æ¥ä½¿ç”¨urlè¿›è¡Œè®¿é—®äº†ï¼š</p><p>æ¯”å¦‚æˆ‘çš„è®¿é—®åœ°å€å°±æ˜¯ <code>https://ai.lzwgxust.top/</code></p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626153304053.png" alt="image-20230626153304053"></p><blockquote><p>æ·»åŠ è‡ªå·±ChatGptè´¦å·çš„å¯†é’¥ä¹Ÿå°±æ˜¯keyå€¼(éœ€è¦é­”æ³•æ‰èƒ½è¿›):<a href="https://platform.openai.com/">Overview - OpenAI API</a></p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626153350263.png" alt="image-20230626153350263"></p><blockquote><p>è®¾ç½®ååˆ·æ–°é¡µé¢å°±å¯ä»¥è¿›è¡Œæ„‰å¿«çš„äº¤æµå•¦~~</p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626153500198.png" alt="image-20230626153500198"></p><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626153640382.png" alt="image-20230626153640382"></p><h2 id="ğŸ ğŸ è‡ªå®šä¹‰chatgptæ¥å£"><a href="#ğŸ ğŸ è‡ªå®šä¹‰chatgptæ¥å£" class="headerlink" title="ğŸ ğŸ è‡ªå®šä¹‰chatgptæ¥å£"></a>ğŸ ğŸ è‡ªå®šä¹‰chatgptæ¥å£</h2><blockquote><p>ä½¿ç”¨F12æ‰“å¼€è°ƒè¯•å·¥å…·â€“&gt;é€‰æ‹©ç½‘ç»œï¼ˆnetworkï¼‰â€“&gt;é€‰æ‹©Fetch&#x2F;XHRâ€“&gt;åŒå‡»è¯·æ±‚å°±å¯ä»¥éš¾é“å±äºè‡ªå·±çš„chatgptæ¥å£äº†</p></blockquote><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626154408584.png" alt="image-20230626154408584"></p><h3 id="ğŸ”¥è¯·æ±‚ä½“å‚æ•°"><a href="#ğŸ”¥è¯·æ±‚ä½“å‚æ•°" class="headerlink" title="ğŸ”¥è¯·æ±‚ä½“å‚æ•°"></a>ğŸ”¥è¯·æ±‚ä½“å‚æ•°</h3><blockquote><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;messages&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;role&quot;</span><span class="punctuation">:</span> <span class="string">&quot;user&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;content&quot;</span><span class="punctuation">:</span> <span class="string">&quot;ä½ å¥½&quot;</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;stream&quot;</span><span class="punctuation">:</span> <span class="literal"><span class="keyword">true</span></span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;model&quot;</span><span class="punctuation">:</span> <span class="string">&quot;gpt-3.5-turbo&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;temperature&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;presence_penalty&quot;</span><span class="punctuation">:</span> <span class="number">0</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;frequency_penalty&quot;</span><span class="punctuation">:</span> <span class="number">0</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><p>ä½†æ˜¯è¿˜éœ€è¦ä¸€ä¸ªè¯·æ±‚å¤´ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">header<span class="punctuation">:</span> <span class="punctuation">&#123;</span></span><br><span class="line">    Authorization<span class="punctuation">:</span> <span class="string">&quot;Bearer è‡ªå·±chatgptçš„key&quot;</span></span><br><span class="line"><span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br></pre></td></tr></table></figure><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626155257430.png" alt="image-20230626155257430"></p></blockquote><h3 id="ğŸ™è¿”å›ä½“"><a href="#ğŸ™è¿”å›ä½“" class="headerlink" title="ğŸ™è¿”å›ä½“"></a>ğŸ™è¿”å›ä½“</h3><blockquote><p>è¿”å›æ•°æ®ç±»å‹å¦‚ä¸‹ï¼š</p><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;role&quot;</span><span class="punctuation">:</span><span class="string">&quot;assistant&quot;</span><span class="punctuation">,</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;ä½  &quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¥½&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;ï¼Œ&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;æœ‰&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;ä»€&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;ä¹ˆ&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;éœ€è¦&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;å¸®&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;åŠ©&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;çš„&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;å—&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="attr">&quot;content&quot;</span><span class="punctuation">:</span><span class="string">&quot;ï¼Ÿ&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="literal"><span class="keyword">null</span></span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">&#123;</span><span class="attr">&quot;id&quot;</span><span class="punctuation">:</span><span class="string">&quot;chatcmpl-7VbOxTLneeUQoN9eJe71NeThFEdfp&quot;</span><span class="punctuation">,</span><span class="attr">&quot;object&quot;</span><span class="punctuation">:</span><span class="string">&quot;chat.completion.chunk&quot;</span><span class="punctuation">,</span><span class="attr">&quot;created&quot;</span><span class="punctuation">:</span><span class="number">1687766295</span><span class="punctuation">,</span><span class="attr">&quot;model&quot;</span><span class="punctuation">:</span><span class="string">&quot;gpt-3.5-turbo-0301&quot;</span><span class="punctuation">,</span><span class="attr">&quot;choices&quot;</span><span class="punctuation">:</span><span class="punctuation">[</span><span class="punctuation">&#123;</span><span class="attr">&quot;index&quot;</span><span class="punctuation">:</span><span class="number">0</span><span class="punctuation">,</span><span class="attr">&quot;delta&quot;</span><span class="punctuation">:</span><span class="punctuation">&#123;</span><span class="punctuation">&#125;</span><span class="punctuation">,</span><span class="attr">&quot;finish_reason&quot;</span><span class="punctuation">:</span><span class="string">&quot;stop&quot;</span><span class="punctuation">&#125;</span><span class="punctuation">]</span><span class="punctuation">&#125;</span></span><br><span class="line"></span><br><span class="line">data<span class="punctuation">:</span> <span class="punctuation">[</span>DONE<span class="punctuation">]</span></span><br></pre></td></tr></table></figure><p>æˆ‘ä»¬ä¸»è¦æ˜¯éœ€è¦æ‹¿åˆ° <code>data.choices.delta.content</code>çš„å€¼</p><figure class="highlight js"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br><span class="line">57</span><br><span class="line">58</span><br><span class="line">59</span><br><span class="line">60</span><br><span class="line">61</span><br><span class="line">62</span><br><span class="line">63</span><br><span class="line">64</span><br></pre></td><td class="code"><pre><span class="line"><span class="title function_">sendAi</span>(<span class="params">msg</span>) &#123;</span><br><span class="line">    wx.<span class="title function_">request</span>(&#123;</span><br><span class="line">        <span class="attr">url</span>: <span class="string">&#x27;è‡ªå·±çš„chatgpt-api&#x27;</span>,</span><br><span class="line">        <span class="attr">method</span>: <span class="string">&#x27;POST&#x27;</span>,</span><br><span class="line">        <span class="attr">header</span>: &#123;</span><br><span class="line">            <span class="title class_">Authorization</span>: <span class="string">&quot;Bearer è‡ªå·±çš„openaiçš„å¯†é’¥&quot;</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">data</span>: &#123;</span><br><span class="line">            <span class="comment">// role: &quot;user&quot;,</span></span><br><span class="line">            <span class="comment">// content: msg</span></span><br><span class="line">            <span class="string">&quot;messages&quot;</span>: [</span><br><span class="line">                &#123;</span><br><span class="line">                    <span class="string">&quot;role&quot;</span>: <span class="string">&quot;user&quot;</span>, <span class="comment">// ç”¨æˆ·è¾“å…¥</span></span><br><span class="line">                    <span class="string">&quot;content&quot;</span>: msg</span><br><span class="line">                &#125;</span><br><span class="line">            ],</span><br><span class="line">            <span class="string">&quot;stream&quot;</span>: <span class="literal">true</span>,</span><br><span class="line">            <span class="string">&quot;model&quot;</span>: <span class="string">&quot;gpt-3.5-turbo&quot;</span>, <span class="comment">// ä½¿ç”¨çš„ChatGPTæ¨¡å‹</span></span><br><span class="line">            <span class="string">&quot;temperature&quot;</span>: <span class="number">1</span>,</span><br><span class="line">            <span class="string">&quot;presence_penalty&quot;</span>: <span class="number">0</span>,</span><br><span class="line">            <span class="string">&quot;frequency_penalty&quot;</span>: <span class="number">0</span></span><br><span class="line">        &#125;,</span><br><span class="line">        <span class="attr">success</span>: (<span class="function">(<span class="params">&#123; data &#125;</span>) =&gt;</span> &#123;</span><br><span class="line">            <span class="comment">// å¯¹è¿”å›çš„æ•°æ®è¿›è¡Œå¤„ç†</span></span><br><span class="line">            <span class="keyword">const</span> newData = data.<span class="title function_">split</span>(<span class="string">&#x27;data:&#x27;</span>)</span><br><span class="line">            <span class="keyword">const</span> data1 = newData.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">return</span> item.<span class="title function_">split</span>(<span class="string">&#x27;&quot;choices&quot;:&#x27;</span>)[<span class="number">1</span>]</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">const</span> data2 = data1.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (item != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> item.<span class="title function_">slice</span>(<span class="number">0</span>, -<span class="number">3</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">const</span> content = []</span><br><span class="line">            data2.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (item != <span class="literal">undefined</span>) &#123;</span><br><span class="line">                    content.<span class="title function_">push</span>(...<span class="title class_">JSON</span>.<span class="title function_">parse</span>(item))</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="keyword">const</span> contents = content.<span class="title function_">map</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (item.<span class="property">delta</span> &amp;&amp; item.<span class="property">finish_reason</span> === <span class="literal">null</span>) &#123;</span><br><span class="line">                    <span class="keyword">return</span> item.<span class="property">delta</span></span><br><span class="line">                &#125;</span><br><span class="line">                <span class="keyword">else</span> &#123;</span><br><span class="line">                    <span class="keyword">return</span> <span class="literal">null</span></span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(contents)</span><br><span class="line">            <span class="keyword">const</span> a = []</span><br><span class="line">            contents.<span class="title function_">forEach</span>(<span class="function"><span class="params">item</span> =&gt;</span> &#123;</span><br><span class="line">                <span class="keyword">if</span> (item != <span class="literal">null</span>) &#123;</span><br><span class="line">                    a.<span class="title function_">push</span>(item.<span class="property">content</span>)</span><br><span class="line">                &#125;</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="variable language_">console</span>.<span class="title function_">log</span>(a.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>))</span><br><span class="line">            msgList.<span class="title function_">push</span>(&#123;</span><br><span class="line">                <span class="attr">id</span>: msgList.<span class="property">length</span>,</span><br><span class="line">                <span class="attr">speaker</span>: <span class="string">&#x27;server&#x27;</span>, <span class="comment">// chatGptè¾“å‡º</span></span><br><span class="line">                <span class="attr">content</span>: a.<span class="title function_">join</span>(<span class="string">&#x27;&#x27;</span>),</span><br><span class="line">            &#125;)</span><br><span class="line">            <span class="variable language_">this</span>.<span class="title function_">setData</span>(&#123; msgList &#125;)</span><br><span class="line">        &#125;)</span><br><span class="line">    &#125;)</span><br><span class="line">&#125;,</span><br></pre></td></tr></table></figure><p>ä»£ç è§£æåçš„æ ·å­ï¼š</p><p><img src="/2023/06/26/%E4%B8%80%E9%94%AE%E6%90%AD%E5%BB%BA%E5%B1%9E%E4%BA%8E%E8%87%AA%E5%B7%B1%E7%9A%84ChatGpt/image-20230626165800226.png" alt="image-20230626165800226"></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> chatgpt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gitçš„åŸºæœ¬ä½¿ç”¨</title>
      <link href="/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/"/>
      <url>/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šfså®è®­äºŒingã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ç”¨äºè‡ªå·±è®°å¿†ï¼Œé¿å…å¿˜è®°gitä¸Šä¼ æ“ä½œã€‚å“ˆå“ˆè®°ä¸ä½~~ğŸ«¡</p></blockquote><h1 id="ğŸ¤”ğŸ¤”ğŸ¤”gitåŸºæœ¬æ“ä½œ"><a href="#ğŸ¤”ğŸ¤”ğŸ¤”gitåŸºæœ¬æ“ä½œ" class="headerlink" title="ğŸ¤”ğŸ¤”ğŸ¤”gitåŸºæœ¬æ“ä½œ"></a>ğŸ¤”ğŸ¤”ğŸ¤”gitåŸºæœ¬æ“ä½œ</h1><h2 id="ğŸ«¡ğŸ«¡æœ‰å…‹éš†çš„æƒ…å†µ"><a href="#ğŸ«¡ğŸ«¡æœ‰å…‹éš†çš„æƒ…å†µ" class="headerlink" title="ğŸ«¡ğŸ«¡æœ‰å…‹éš†çš„æƒ…å†µ"></a>ğŸ«¡ğŸ«¡æœ‰å…‹éš†çš„æƒ…å†µ</h2><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">git clone http:.....</span><br><span class="line">exit</span><br><span class="line">æ‰¾åˆ°å­˜åœ¨.gitæ–‡ä»¶çš„ç›®å½•é‡æ–° Git Bushè¿›å»</span><br><span class="line">git status  </span><br><span class="line">git add .    (å¦‚æœæ˜¯çº¢è‰²)</span><br><span class="line">git commit -m &quot;æœ¬æ¬¡æäº¤æ³¨é‡Š&quot; (å¦‚æœæ˜¯ç»¿è‰²)</span><br><span class="line">æœ€åä¸€å®šè¦è®°å¾—ï¼š</span><br><span class="line">git push -u origin åˆ†æ”¯</span><br></pre></td></tr></table></figure><p>æ³¨æ„ç‚¹:modified å¾ˆå¤§å¯èƒ½æ˜¯å‘ç”Ÿå†²çªäº†</p><p>å¦‚ä½•è§£å†³å†²çªä¸Šç½‘æœ</p><h2 id="ğŸ™ğŸ™è¦æ›´æ–°çš„æƒ…å†µ"><a href="#ğŸ™ğŸ™è¦æ›´æ–°çš„æƒ…å†µ" class="headerlink" title="ğŸ™ğŸ™è¦æ›´æ–°çš„æƒ…å†µ"></a>ğŸ™ğŸ™è¦æ›´æ–°çš„æƒ…å†µ</h2><p>å»ºè®®æ¯æ¬¡å†™ä»£ç çš„æ—¶å€™å…ˆè¿›è¡Œ</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git pull &lt;è¿œç¨‹ä¸»æœºå&gt; &lt;è¿œç¨‹åˆ†æ”¯å&gt;:&lt;æœ¬åœ°åˆ†æ”¯å&gt;</span><br><span class="line">#å¦‚æœè¿œç¨‹åˆ†æ”¯å==æœ¬åœ°åˆ†æ”¯åçš„è¯ å†™ä¸€ä¸ªå³å¯</span><br><span class="line">git pull origin master</span><br><span class="line"></span><br><span class="line">åé¢è¿›è¡Œæ›´æ–°æ“ä½œ</span><br><span class="line">git status  </span><br><span class="line">git add .    (å¦‚æœæ˜¯çº¢è‰²)</span><br><span class="line">git commit -m &quot;æœ¬æ¬¡æäº¤æ³¨é‡Š&quot; (å¦‚æœæ˜¯ç»¿è‰²)</span><br><span class="line">æœ€åä¸€å®šè¦è®°å¾—ï¼š</span><br><span class="line">git push -u origin åˆ†æ”¯</span><br></pre></td></tr></table></figure><h1 id="git-ssh-githubå¤±è´¥"><a href="#git-ssh-githubå¤±è´¥" class="headerlink" title="git-ssh-githubå¤±è´¥"></a>git-ssh-githubå¤±è´¥</h1><blockquote><p>git-ssh-github æˆ–è€… git-ssh-giteeçªç„¶å°±å¤±è´¥äº†ï¼Œç»è¿‡ä¸€ç•ªæ‘¸ç´¢ï¼Œç»ˆäºè§£å†³å•¦~~</p></blockquote><h2 id="è§£å†³æ–¹æ³•"><a href="#è§£å†³æ–¹æ³•" class="headerlink" title="è§£å†³æ–¹æ³•"></a>è§£å†³æ–¹æ³•</h2><blockquote><p>åœ¨ç”¨æˆ·çš„.sshä¸‹ç”Ÿæˆä¸¤ä¸ªSSH Keyå¯†é’¥å¯¹ï¼Œid_rsaæ˜¯(ç§é’¥)ï¼Œä¸èƒ½æ³„éœ²å‡ºå»ï¼Œid_rsa_pubæ˜¯å…¬é’¥ï¼Œå¯ä»¥æ”¾å¿ƒåœ°å‘Šè¯‰å…¶ä»–äººã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="variable">$ssh</span>-keygen -t rsa -C <span class="string">&quot;youremail@example.com&quot;</span></span><br></pre></td></tr></table></figure><p><img src="/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/image-20230820101903410.png" alt="image-20230820101903410"></p><p>å°†å…¬é’¥å¤åˆ¶å‡ºæ¥æ”¾å…¥åˆ°github å’Œ giteeå½“ä¸­</p><ul><li>github</li></ul><p><img src="/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/image-20230820102119748.png" alt="image-20230820102119748"></p><ul><li>gitee</li></ul><p><img src="/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/image-20230820102224334.png" alt="image-20230820102224334"></p><p>æ·»åŠ sshæˆåŠŸåï¼Œè¿›è¡Œæµ‹è¯•çœ‹æ˜¯å¦èƒ½è¿æ¥æˆåŠŸ</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">ssh -T git@github.com</span><br><span class="line">ssh -T git@gitee.com</span><br></pre></td></tr></table></figure><p>å¦‚æœè¿™ä¸ªæ—¶å€™ github è¿˜æ˜¯æ²¡æœ‰å‡ºç°successfulçš„è¯ï¼Œé…ç½®ä¸€ä¸‹ gitè¿æ¥githubçš„ç«¯å£</p><p><img src="/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/image-20230820102523762.png" alt="image-20230820102523762"></p><p>å°†ä¸‹é¢é…ç½®å¤åˆ¶è¿›å»å³å¯</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">Host github.com</span><br><span class="line">  Hostname ssh.github.com</span><br><span class="line">  Port 443</span><br></pre></td></tr></table></figure><p><img src="/2023/06/23/git%E7%9A%84%E5%9F%BA%E6%9C%AC%E4%BD%BF%E7%94%A8/image-20230820102742105.png" alt="image-20230820102742105"></p><p>è¿™ä¸ªæ—¶å€™å°±è¡¨ç¤ºsshè¿æ¥æˆåŠŸå•¦~~</p></blockquote><h1 id="gitä¸svnçš„åŒºåˆ«"><a href="#gitä¸svnçš„åŒºåˆ«" class="headerlink" title="gitä¸svnçš„åŒºåˆ«"></a>gitä¸svnçš„åŒºåˆ«</h1><blockquote><p><a href="https://zhuanlan.zhihu.com/p/48148269">å¯¹æ¯”Git ä¸ SVNï¼Œè¿™ç¯‡è®²çš„å¾ˆæ˜“æ‡‚</a></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤ <code>toolæ </code> æ¥šé—¨çš„ä¸–ç•Œå°†ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> git </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•é«˜æ•ˆä¸”å¿«é€Ÿåˆ¶ä½œPPT</title>
      <link href="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/"/>
      <url>/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šfså®è®­äºŒing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä½ è¿˜åœ¨ä¸ºå¦‚ä½•åšpptè€Œçƒ¦æ¼å—ï¼Ÿä½ è¿˜åœ¨ä¸ºpptçš„æ’ç‰ˆè€Œçƒ¦æ¼å—ï¼Ÿä½ è¿˜åœ¨ä¸ºpptçš„å›¾ç‰‡è€Œçƒ¦æ¼å—ï¼Ÿ</p><p>ä½ è¿˜åœ¨ä¸ºpptçš„çš„å†…å®¹è€Œçƒ¦æ¼å—ï¼Ÿæ­å–œä½ ï¼Œçœ‹è¿™ä¸€ç¯‡åšå®¢å°±å¤Ÿäº†ï¼å“ˆå“ˆ</p><p>å¦å®šä¹‹å¦å®šï¼Œä½¿ç”¨é—ªå‡»pptç”Ÿæˆpptæ˜¯æ²¡æœ‰åŠ¨ç”»æ•ˆæœçš„ï¼Œè¿˜å¾—è‡ªå·±åŠ å‘œå‘œ~~~</p></blockquote><blockquote><p>æ¨èå¤§ä½¬è§†é¢‘ï¼š<a href="https://www.bilibili.com/video/BV1oj411G7QV/?spm_id_from=333.337.search-card.all.click&vd_source=37d0a4e2d39fe02cac0e2a4c23fe8ec3">å´æ€è·¯ï¼šChatGPTæ­é…é—ªå‡»PPTä¸‰åˆ†é’Ÿç”ŸæˆPPT,ä½ åªéœ€è¦è¾“å…¥ä¸€ä¸ªæ ‡é¢˜</a></p><p>é—ªå‡»PPTï¼š<a href="https://ppt.sankki.com/#/works">é—ªå‡»PPT - é«˜æ•ˆå†…å®¹æ¼”ç¤º (sankki.com)</a></p><p>ChatGptï¼ˆè‡ªè¡Œè§£å†³ï¼‰ï¼š<a href="https://chat.openai.com/">ChatGPT (openai.com)</a></p></blockquote><h2 id="ğŸ›ğŸ›é—ªå‡»ppt"><a href="#ğŸ›ğŸ›é—ªå‡»ppt" class="headerlink" title="ğŸ›ğŸ›é—ªå‡»ppt"></a>ğŸ›ğŸ›é—ªå‡»ppt</h2><blockquote><p>é—ªå‡»pptçš„åŸºæœ¬ä½¿ç”¨å’Œæ¨¡å—åˆ’åˆ†</p></blockquote><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621190307143.png" alt="image-20230621190307143"></p><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621190434117.png" alt="image-20230621190434117"></p><h3 id="ğŸ¥¡è‰ç¨¿"><a href="#ğŸ¥¡è‰ç¨¿" class="headerlink" title="ğŸ¥¡è‰ç¨¿"></a>ğŸ¥¡è‰ç¨¿</h3><blockquote><p>è‰ç¨¿éƒ¨åˆ†è¦éµå¾ªåŸºæœ¬çš„è¯­æ³•ï¼š<a href="https://zhuanlan.zhihu.com/p/607583650">é—ªå‡»PPTå¦‚ä½•æ–‡æœ¬ç›´æ¥è½¬PPT - çŸ¥ä¹ (zhihu.com)</a></p><p>ä¸éœ€è¦è®°å¿†ï¼Œåªéœ€è¦<code>===</code>é€‰æ‹©å³å¯ã€‚</p><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621192236606.png" alt="image-20230621192236606"></p><ul><li>å°é¢</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">=====å°é¢=====</span><br><span class="line"><span class="comment">#å°é¢é¡µæ ‡é¢˜é¡µæ ‡é¢˜é¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å°é¢å‰¯æ ‡é¢˜å‰¯æ ‡é¢˜</span></span><br><span class="line">æ¼”è®²äººï¼šèŠå£«ä¸åƒ</span><br></pre></td></tr></table></figure><ul><li>ç›®å½•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">=====ç›®å½•=====</span><br><span class="line"><span class="comment">#ç›®å½•</span></span><br><span class="line"><span class="comment">##CONTENTS</span></span><br><span class="line">1ã€ç›®å½•é¡¹1</span><br><span class="line">2ã€ç›®å½•é¡¹2</span><br><span class="line">3ã€ç›®å½•é¡¹3</span><br><span class="line">4ã€ç›®å½•é¡¹4</span><br><span class="line">5ã€ç›®å½•é¡¹5</span><br></pre></td></tr></table></figure><ul><li>è¿‡æ¸¡</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=====è¿‡æ¸¡=====</span><br><span class="line"><span class="comment">#è¿‡æ¸¡é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##è¿‡æ¸¡é¡µé¡µå‰¯æ ‡</span></span><br></pre></td></tr></table></figure><ul><li>è‡´è°¢</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">=====è‡´è°¢=====</span><br><span class="line"><span class="comment">#Thank you</span></span><br><span class="line"><span class="comment">##æ„Ÿè°¢è§‚çœ‹ï¼Œæ¬¢è¿æé—®</span></span><br><span class="line">é—ªå‡»å·¥ä½œå®¤å‡ºå“</span><br></pre></td></tr></table></figure><ul><li>åˆ—è¡¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">=====åˆ—è¡¨=====</span><br><span class="line"><span class="comment">#æ–‡æœ¬é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##æ–‡æœ¬é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">2ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">3ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">4ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br></pre></td></tr></table></figure><ul><li>å¤šåˆ—è¡¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">=====å¤šåˆ—è¡¨=====</span><br><span class="line"><span class="comment">#å¤šåˆ—è¡¨é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å¤šåˆ—è¡¨é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€ä¸€çº§å°æ ‡é¢˜</span><br><span class="line">1.1ã€äºŒçº§å°æ ‡é¢˜</span><br><span class="line">äºŒçº§è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">1.2ã€äºŒçº§å°æ ‡é¢˜</span><br><span class="line">äºŒçº§è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">2ã€ä¸€çº§å°æ ‡é¢˜</span><br><span class="line">2.1ã€äºŒçº§å°æ ‡é¢˜</span><br><span class="line">äºŒçº§è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">3ã€ä¸€çº§å°æ ‡é¢˜</span><br><span class="line">3.1ã€äºŒçº§å°æ ‡é¢˜</span><br><span class="line">äºŒçº§è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹  </span><br><span class="line">4ã€ä¸€çº§å°æ ‡é¢˜</span><br><span class="line">4.1ã€äºŒçº§å°æ ‡é¢˜</span><br><span class="line">äºŒçº§è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹  </span><br></pre></td></tr></table></figure><ul><li>å›¾æ–‡åˆ—è¡¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">=====å›¾æ–‡åˆ—è¡¨=====</span><br><span class="line"><span class="comment">#å›¾æ–‡åˆ—è¡¨é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å›¾æ–‡åˆ—è¡¨é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">2ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">3ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">4ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br></pre></td></tr></table></figure><ul><li>å¤§æ®µæ–‡å­—</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">=====å¤§æ®µæ–‡å­—=====</span><br><span class="line"><span class="comment">#å¤§æ®µæ–‡å­—é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å¤§æ®µæ–‡å­—é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">æ®µè½å°æ ‡é¢˜</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚\nè¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br></pre></td></tr></table></figure><ul><li>å›¾æ–‡æ’ç‰ˆ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">=====å›¾æ–‡æ’ç‰ˆ=====</span><br><span class="line"><span class="comment">#å›¾æ–‡æ’ç‰ˆé¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å›¾æ–‡æ’ç‰ˆé¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">2ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">3ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br><span class="line">4ã€åˆ—è¡¨å°æ ‡</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹ã€‚</span><br></pre></td></tr></table></figure><ul><li>å¯¹æ¯”</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">=====å¯¹æ¯”=====</span><br><span class="line"><span class="comment">#å¯¹æ¯”é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å¯¹æ¯”é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">å·®å¼‚é¡¹\nå·®å¼‚é¡¹</span><br><span class="line">1ã€çº¿ä¸‹æ•™è‚²</span><br><span class="line">1.1ã€çº¿ä¸‹æ•™è‚²ä¼˜ç‚¹ä¸€ï¼Œçº¿ä¸‹æ•™è‚²ä¼˜ç‚¹äºŒã€‚</span><br><span class="line">1.2ã€çº¿ä¸‹æ•™è‚²ä¼˜ç‚¹ä¸€ï¼Œçº¿ä¸‹æ•™è‚²ä¼˜ç‚¹äºŒã€‚</span><br><span class="line">2ã€çº¿ä¸Šæ•™è‚²</span><br><span class="line">2.1ã€çº¿ä¸Šæ•™è‚²ä¼˜ç‚¹ä¸€ï¼Œçº¿ä¸Šæ•™è‚²ä¼˜ç‚¹äºŒã€‚</span><br><span class="line">2.2ã€çº¿ä¸Šæ•™è‚²ä¼˜ç‚¹ä¸€ï¼Œçº¿ä¸Šæ•™è‚²ä¼˜ç‚¹äºŒã€‚</span><br></pre></td></tr></table></figure><ul><li>å› æœ</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line">=====å› æœ=====</span><br><span class="line"><span class="comment">#å› æœé¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å› æœé¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1.å› çš„å°æ ‡é¢˜</span><br><span class="line">å› çš„æè¿°</span><br><span class="line">2.æœçš„å°æ ‡é¢˜</span><br><span class="line">æœçš„æè¿°</span><br><span class="line">3.å› çš„å°æ ‡é¢˜</span><br><span class="line">å› çš„æè¿°</span><br><span class="line">4.æœçš„å°æ ‡é¢˜</span><br><span class="line">æœçš„æè¿°</span><br></pre></td></tr></table></figure><ul><li>é¡ºåº</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">=====é¡ºåº=====</span><br><span class="line"><span class="comment">#é¡ºåºé¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##é¡ºåºé¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€ç¬¬ä¸€å¤©</span><br><span class="line">æ´»åŠ¨ä¸¾åŠ</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">2ã€ç¬¬äºŒå¤©</span><br><span class="line">æ´»åŠ¨ä¸¾åŠ</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">3ã€ç¬¬ä¸‰å¤©</span><br><span class="line">æ´»åŠ¨ä¸¾åŠ</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">4ã€ç¬¬å››å¤©</span><br><span class="line">æ´»åŠ¨ä¸¾åŠ</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br></pre></td></tr></table></figure><ul><li>é‡‘å­—å¡”</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line">=====é‡‘å­—å¡”=====</span><br><span class="line"><span class="comment">#é‡‘å­—å¡”é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##é‡‘å­—å¡”é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€100%</span><br><span class="line">é‡‘å­—å¡”æ ‡é¢˜</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">2ã€50%</span><br><span class="line">é‡‘å­—å¡”æ ‡é¢˜</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">3ã€30%</span><br><span class="line">é‡‘å­—å¡”æ ‡é¢˜</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">4ã€10%</span><br><span class="line">é‡‘å­—å¡”æ ‡é¢˜</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br></pre></td></tr></table></figure><ul><li>å…œåº•</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">=====å…œåº•=====</span><br><span class="line"><span class="comment">#å…œåº•é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##å…œåº•é¡µå‰¯æ ‡é¢˜    </span></span><br></pre></td></tr></table></figure><ul><li>äººç‰©åˆ—è¡¨</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line">=====äººç‰©åˆ—è¡¨=====</span><br><span class="line"><span class="comment">#äººç‰©åˆ—è¡¨é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##äººç‰©åˆ—è¡¨é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">1ã€å¼ ä¸‰</span><br><span class="line">è®¾è®¡å¸ˆ</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">2ã€æå››</span><br><span class="line">ç¨‹åºå‘˜</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br><span class="line">3ã€ç‹äº”</span><br><span class="line">äº§å“ç»ç†</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br></pre></td></tr></table></figure><ul><li>äººç‰©ä»‹ç»</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">=====äººç‰©ä»‹ç»=====</span><br><span class="line"><span class="comment">#äººç‰©è¯¦æƒ…é¡µé¡µæ ‡é¢˜</span></span><br><span class="line"><span class="comment">##äººç‰©è¯¦æƒ…é¡µé¡µå‰¯æ ‡</span></span><br><span class="line">å¼ ä¸‰</span><br><span class="line">æ„Ÿå®˜ç§‘æŠ€å…¬å¸è®¾è®¡å¸ˆ</span><br><span class="line">è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹\nè¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹\nè¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹è¯·è¾“å…¥è¯¦ç»†å†…å®¹è¯¦ç»†å†…å®¹</span><br></pre></td></tr></table></figure><ul><li>é‡‘å¥</li></ul><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">=====é‡‘å¥=====</span><br><span class="line"><span class="comment">#é‡‘å¥é¡µé¡µæ ‡é¢˜</span></span><br><span class="line">åšè§‚è€Œçº¦å–,åšç§¯è€Œè–„å‘</span><br><span class="line">è‹ä¸œå¡</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸŒå†…å®¹å¡ç‰‡"><a href="#ğŸŒå†…å®¹å¡ç‰‡" class="headerlink" title="ğŸŒå†…å®¹å¡ç‰‡"></a>ğŸŒå†…å®¹å¡ç‰‡</h3><blockquote><p>å¯ä»¥æ‹‰åˆ°æœ€ä¸‹é¢é€‰æ‹©æ·»åŠ é¡µé¢</p></blockquote><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621192352363.png" alt="image-20230621192352363"></p><blockquote><p>ä»¥å°é¢ä¸ºä¾‹å­å¯¹å†…å®¹å¡ç‰‡ä¸­çš„å…ƒç´ è¿›è¡Œä¸€ä¸€ä»‹ç»</p><ul><li>å›¾ç‰‡</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621193123592.png" alt="image-20230621193123592"></p><ul><li>å›¾è¡¨</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621193336048.png" alt="image-20230621193336048"></p><ul><li>è¡¨æ ¼</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621193403607.png" alt="image-20230621193403607"></p><ul><li>ä»£ç </li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621193433768.png" alt="image-20230621193433768"></p><ul><li>è§†é¢‘</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621193526220.png" alt="image-20230621193526220"></p></blockquote><h3 id="ğŸ’¦é¢„è§ˆ"><a href="#ğŸ’¦é¢„è§ˆ" class="headerlink" title="ğŸ’¦é¢„è§ˆ"></a>ğŸ’¦é¢„è§ˆ</h3><blockquote><ul><li>ä¸»é¢˜é¢œè‰²è®¾ç½®</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621194233557.png" alt="image-20230621194233557"></p><ul><li>å­—ä½“å¤§å°</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621194118811.png" alt="image-20230621194118811"></p><ul><li>è®¾ç½®æ¯ç‰ˆ</li></ul><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621195503704.png" alt="image-20230621195503704"></p></blockquote><h3 id="ğŸ¦¸â€â™‚æ¼”ç¤ºppt"><a href="#ğŸ¦¸â€â™‚æ¼”ç¤ºppt" class="headerlink" title="ğŸ¦¸â€â™‚æ¼”ç¤ºppt"></a>ğŸ¦¸â€â™‚æ¼”ç¤ºppt</h3><blockquote><p>å½“æˆ‘ä»¬å†™å¥½pptåå¯ä»¥åœ¨çº¿æ¼”ç¤º</p></blockquote><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621195750410.png" alt="image-20230621195750410"></p><blockquote><p> å½“å½“å½“~ï¼ï¼ï¼</p></blockquote><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621195811143.png" alt="image-20230621195811143"></p><h2 id="ğŸ¤”ğŸ¤”ChatGPT"><a href="#ğŸ¤”ğŸ¤”ChatGPT" class="headerlink" title="ğŸ¤”ğŸ¤”ChatGPT"></a>ğŸ¤”ğŸ¤”ChatGPT</h2><blockquote><p>ä½¿ç”¨ChatGptç”Ÿæˆå¯¹åº”å†…å®¹çš„è‰ç¨¿ï¼ˆå› ä¸ºè‰ç¨¿éœ€è¦ç‰¹å®šçš„è¯­æ³•ï¼‰</p><p>ä½¿ç”¨ä¸‹é¢<strong>è¯­æ³•</strong>è¡Œå¯¹ChatGptè¿›è¡Œè®­ç»ƒï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line">æˆ‘çš„åå­—å«åšèŠå£«ä¸åƒï¼Œå¸®æˆ‘åˆ¶ä½œä¸€ç¯‡å†…å®¹ä¸ºã€Šç§¦æœä¸ºä»€ä¹ˆä¼šç­äº¡ã€‹PPTï¼Œè¦æ±‚å¦‚ä¸‹ï¼š</span><br><span class="line">ç¬¬ä¸€ã€ä¸€å®šè¦ä½¿ç”¨ä¸­æ–‡ã€‚</span><br><span class="line">ç¬¬äºŒã€é¡µé¢å½¢å¼æœ‰3ç§ï¼Œå°é¢ã€ç›®å½•ã€åˆ—è¡¨ã€‚</span><br><span class="line">ç¬¬ä¸‰ã€ç›®å½•é¡µè¦åˆ—å‡ºå†…å®¹å¤§çº²ã€‚</span><br><span class="line">ç¬¬å››ã€æ ¹æ®å†…å®¹å¤§çº²ï¼Œç”Ÿæˆå¯¹åº”çš„PPTåˆ—è¡¨é¡µï¼Œæ¯ä¸€é¡µPPTåˆ—è¡¨é¡µä½¿ç”¨=====åˆ—è¡¨=====å¼€å¤´ã€‚</span><br><span class="line">ç¬¬äº”ã€å°é¢é¡µæ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line">=====å°é¢=====</span><br><span class="line"><span class="comment"># ä¸»æ ‡é¢˜</span></span><br><span class="line"><span class="comment">## å‰¯æ ‡é¢˜</span></span><br><span class="line">æ¼”è®²äººï¼šæˆ‘çš„åå­—</span><br><span class="line">ç¬¬å…­ã€ç›®å½•é¡µæ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line">=====ç›®å½•=====</span><br><span class="line"><span class="comment"># ç›®å½•</span></span><br><span class="line"><span class="comment">## CONTENT</span></span><br><span class="line">1ã€å†…å®¹</span><br><span class="line">2ã€å†…å®¹</span><br><span class="line">ç¬¬ä¸ƒã€åˆ—è¡¨é¡µæ ¼å¼å¦‚ä¸‹ï¼š</span><br><span class="line">=====åˆ—è¡¨=====</span><br><span class="line"><span class="comment"># é¡µé¢ä¸»æ ‡é¢˜</span></span><br><span class="line">1ã€è¦ç‚¹1</span><br><span class="line">è¦ç‚¹æè¿°å†…å®¹</span><br><span class="line">ç¬¬å…«ã€åˆ—è¡¨é¡µé‡Œçš„è¦ç‚¹æè¿°å†…å®¹æ˜¯å¯¹è¦ç‚¹çš„è¯¦ç»†æè¿°ï¼Œ10ä¸ªå­—ä»¥ä¸Šï¼Œ50ä¸ªå­—ä»¥å†…ã€‚</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">æœ€åï¼Œä¸€å®šè¦ä½¿ç”¨ä»£ç å—å›å¤ä½ ç”Ÿæˆçš„å†…å®¹ï¼Œåˆ‡è®°åˆ‡è®°ã€‚</span><br></pre></td></tr></table></figure><p>å°†ä¸Šé¢è¿™æ®µ<strong>è¯­æ³•</strong>å¤åˆ¶ç»™ChatGptåï¼šç”Ÿæˆå¯¹åº”è‰ç¨¿</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br><span class="line">52</span><br><span class="line">53</span><br><span class="line">54</span><br><span class="line">55</span><br><span class="line">56</span><br></pre></td><td class="code"><pre><span class="line">=====å°é¢=====</span><br><span class="line"><span class="comment"># ç§¦æœä¸ºä»€ä¹ˆä¼šç­äº¡</span></span><br><span class="line"><span class="comment">## æ¢ç©¶ç§¦æœç­äº¡çš„åŸå› </span></span><br><span class="line">æ¼”è®²äººï¼šèŠå£«ä¸åƒ</span><br><span class="line"></span><br><span class="line">=====ç›®å½•=====</span><br><span class="line"><span class="comment"># ç›®å½•</span></span><br><span class="line"><span class="comment">## å†…å®¹å¤§çº²</span></span><br><span class="line">1ã€ç§¦æœç®€ä»‹</span><br><span class="line">2ã€ç»Ÿä¸€æˆ˜äº‰çš„ç–²åŠ³</span><br><span class="line">3ã€æš´æ”¿ä¸æ°‘ä¸èŠç”Ÿ</span><br><span class="line">4ã€å„’æ³•æ–—äº‰ä¸ç§¦æœ«å†…ä¹±</span><br><span class="line"></span><br><span class="line">=====åˆ—è¡¨=====</span><br><span class="line"><span class="comment"># ç§¦æœç®€ä»‹</span></span><br><span class="line">1ã€å»ºç«‹è€…ï¼šç§¦å§‹çš‡</span><br><span class="line">ç§¦å§‹çš‡ç»Ÿä¸€å…­å›½ï¼Œå»ºç«‹äº†ç§¦æœã€‚</span><br><span class="line"></span><br><span class="line">2ã€ä¸­å¤®é›†æƒä½“åˆ¶</span><br><span class="line">ç§¦æœå®è¡Œé«˜åº¦é›†æƒï¼ŒæƒåŠ›é«˜åº¦é›†ä¸­äºçš‡å¸ã€‚</span><br><span class="line"></span><br><span class="line">3ã€ä¿®ç­‘ä¸‡é‡Œé•¿åŸ</span><br><span class="line">ä¸ºäº†é˜²å¾¡åŒ—æ–¹æ¸¸ç‰§æ°‘æ—çš„ä¾µè¢­ï¼Œä¿®å»ºäº†ä¸‡é‡Œé•¿åŸã€‚</span><br><span class="line"></span><br><span class="line">=====åˆ—è¡¨=====</span><br><span class="line"><span class="comment"># ç»Ÿä¸€æˆ˜äº‰çš„ç–²åŠ³</span></span><br><span class="line">1ã€æŒç»­æˆ˜äº‰çŠ¶æ€</span><br><span class="line">ç§¦æœç»Ÿä¸€æˆ˜äº‰è¿å¹´ä¸æ–­ï¼Œç»™å›½å®¶é€ æˆäº†å·¨å¤§çš„è´Ÿæ‹…ã€‚</span><br><span class="line"></span><br><span class="line">2ã€å…µå½¹åˆ¶åº¦åŠ é‡</span><br><span class="line">å¾å…µåˆ¶åº¦ä½¿å¤§é‡ç”·ä¸è¢«å¾å…¥ä¼ï¼Œä¸¥é‡å½±å“äº†å†œä¸šç”Ÿäº§ã€‚</span><br><span class="line"></span><br><span class="line">3ã€è…è´¥ä¸è´ªæ±¡</span><br><span class="line">ç§¦æœå®˜å‘˜è…è´¥ç°è±¡ä¸¥é‡ï¼Œè´ªæ±¡æˆé£ï¼Œå¯¼è‡´å›½å®¶è´¢æ”¿å›°éš¾ã€‚</span><br><span class="line"></span><br><span class="line">=====åˆ—è¡¨=====</span><br><span class="line"><span class="comment"># æš´æ”¿ä¸æ°‘ä¸èŠç”Ÿ</span></span><br><span class="line">1ã€è‹›ææ‚ç¨</span><br><span class="line">ç§¦æœå®è¡Œè‹›ææ‚ç¨ï¼Œé‡ç¨å‹è¿«ç™¾å§“ï¼Œæ°‘ä¸èŠç”Ÿã€‚</span><br><span class="line"></span><br><span class="line">2ã€ç„šä¹¦å‘å„’</span><br><span class="line">ç§¦å§‹çš‡ä¸‹ä»¤ç„šä¹¦å‘å„’ï¼Œç ´åäº†å¤ä»£æ–‡åŒ–ä¼ ç»Ÿï¼Œå¼•èµ·æ°‘ä¼—ä¸æ»¡ã€‚</span><br><span class="line"></span><br><span class="line">3ã€å¼ºåˆ¶åŠ³å½¹</span><br><span class="line">ç§¦æœæ¨è¡Œå¼ºåˆ¶åŠ³å½¹æ”¿ç­–ï¼Œä½¿ç™¾å§“ç”Ÿæ´»å›°è‹¦ï¼Œé€ æˆæ°‘æ€¨ã€‚</span><br><span class="line"></span><br><span class="line">=====åˆ—è¡¨=====</span><br><span class="line"><span class="comment"># å„’æ³•æ–—äº‰ä¸ç§¦æœ«å†…ä¹±</span></span><br><span class="line">1ã€æ³•å®¶ä¸å„’å®¶ä¹‹äº‰</span><br><span class="line">ç§¦æœå®è¡Œæ³•å®¶æ”¿æ²»ï¼Œå‹åˆ¶äº†å„’å®¶æ€æƒ³ï¼Œå¼•å‘äº†å„’æ³•æ–—äº‰ã€‚</span><br><span class="line"></span><br><span class="line">2ã€é™ˆèƒœå´å¹¿èµ·ä¹‰</span><br><span class="line">ç§¦æœæœ«å¹´ï¼Œé™ˆèƒœã€å´å¹¿ç­‰èµ·ä¹‰å†›çº·èµ·ï¼ŒåŠ å‰§äº†ç§¦æœçš„å†…ä¹±ã€‚</span><br><span class="line"></span><br><span class="line">3ã€ç§¦æœç­äº¡</span><br><span class="line">æœ€ç»ˆï¼Œç§¦æœå†…ä¹±ä¸æ–­ï¼ŒåŠ ä¸Šå¤–æ—å…¥ä¾µï¼Œå¯¼è‡´ç§¦æœçš„ç­äº¡ã€‚</span><br></pre></td></tr></table></figure><p>æœ€ç»ˆæ•ˆæœå¦‚ä¸‹ï¼š</p><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230621200533123.png" alt="image-20230621200533123"></p></blockquote><blockquote><p>å¯¹äºé—ªå‡»PPTçš„ä½¿ç”¨åˆ°è¿™é‡Œå°±åŸºæœ¬ç»“æŸäº†ï¼Œå¥½çš„å·¥å…·ç¡®å®èƒ½åŠ å¿«æˆ‘ä»¬çš„å·¥ä½œæ•ˆç‡ã€‚èƒ½èµ·åˆ°äº‹åŠåŠŸå€çš„æˆæ•ˆã€‚</p></blockquote><h2 id="ğŸ«¡ğŸ«¡å¯¼å‡º"><a href="#ğŸ«¡ğŸ«¡å¯¼å‡º" class="headerlink" title="ğŸ«¡ğŸ«¡å¯¼å‡º"></a>ğŸ«¡ğŸ«¡å¯¼å‡º</h2><blockquote><p>æ»¡å¿ƒæ¬¢å–œå†™å¥½pptåæ‰“ç®—å¯¼å‡ºåˆ°æœ¬åœ°ï¼Œå‘ç°ç«Ÿç„¶éœ€è¦ä¼šå‘˜ï¼ï¼ï¼</p><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230624170459459.png" alt="image-20230624170459459"></p><p>ä½†æ˜¯è«æ…Œï¼é‚€è¯·å¥½å‹å³å¯7å¤©ä¼šå‘˜å¯ç”¨</p><p><img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230624173007036.png" alt="image-20230624173007036"></p></blockquote><blockquote><p>æ³¨æ„ä¸€ç‚¹ï¼šä¸‹è½½åè¦è®°å¾—ä¸‹è½½å¯¹åº”<strong>å­—ä½“åŒ…</strong>ï¼š<a href="https://cos.sankki.com/package/font/font.zip">https://cos.sankki.com/package/font/font.zip</a></p><p>å…·ä½“ä½¿ç”¨ï¼ŒåŒå‡»æ–‡ä»¶ï¼Œç‚¹å‡»å®‰è£…å³å¯ã€‚</p></blockquote><h2 id="ğŸ’œğŸ’œè‡ªå®šä¹‰logo"><a href="#ğŸ’œğŸ’œè‡ªå®šä¹‰logo" class="headerlink" title="ğŸ’œğŸ’œè‡ªå®šä¹‰logo"></a>ğŸ’œğŸ’œè‡ªå®šä¹‰logo</h2><blockquote><p>æœ‰äº†pptéš¾é“ä½ ä¸æƒ³è®¾è®¡ä¸€ä¸ªå±äºè‡ªå·±pptä¸»é¢˜çš„logoå—ï¼Ÿæ”¾å¿ƒï¼Œæˆ‘æ‡‚ä½ ï¼</p><p>logoï¼š<a href="https://www.logosc.cn/start">æ™ºèƒ½LOGOç”Ÿæˆå™¨ - åœ¨çº¿logoè®¾è®¡åˆ¶ä½œå…¬å¸æ ‡å¿—ï¼ - æ ‡å°æ™ºLOGOç¥å™¨ (logosc.cn)</a></p><p>å»æ°´å°ï¼š<a href="https://img.logosc.cn/erase">AIå›¾ç‰‡å»æ°´å°ï¼Œä¸€é”®æ¶‚æŠ¹å»é™¤å¤šä½™ç‰©ä½“å’Œäººç‰© - AIæ”¹å›¾ç¥å™¨ (logosc.cn)</a></p><p><strong>ç»™ä½ çœ‹çœ‹æˆ‘çš„logoï¼ï¼</strong>ï¼ˆå½“ç„¶è¿˜æ˜¯å­˜åœ¨ä¸€ç‚¹å°ç‘•ç–µçš„é¢ï¼‰<img src="/2023/06/21/%E5%A6%82%E4%BD%95%E9%AB%98%E6%95%88%E4%B8%94%E5%BF%AB%E9%80%9F%E5%88%B6%E4%BD%9CPPT/image-20230625150349853.png" alt="image-20230625150349853"></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤ <code>toolæ </code> æ¥šé—¨çš„ä¸–ç•Œå°†ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ppt </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>githubæ­å»ºä¸ªäººå›¾åºŠ</title>
      <link href="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/"/>
      <url>/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šfså®è®­äºŒing<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä½¿ç”¨githubæ­å»ºå±äºè‡ªå·±çš„ä¸ªäººå›¾åºŠï¼Œå®ç°å›¾ç‰‡å­˜åœ¨è‡ªç”±ï¼Œä¼šç”Ÿæˆå¯¹åº”çš„urlå¤–é“¾</p></blockquote><h2 id="ğŸ’œğŸ’œgithub"><a href="#ğŸ’œğŸ’œgithub" class="headerlink" title="ğŸ’œğŸ’œgithub"></a>ğŸ’œğŸ’œgithub</h2><h3 id="ğŸ…åˆ›å»ºgithubä»“åº“"><a href="#ğŸ…åˆ›å»ºgithubä»“åº“" class="headerlink" title="ğŸ…åˆ›å»ºgithubä»“åº“"></a>ğŸ…åˆ›å»ºgithubä»“åº“</h3><blockquote><p>å…ˆåˆ°githubå®˜ç½‘åˆ›å»ºè´¦å·ï¼ˆç•¥ï¼‰</p><p>åˆ›å»ºä¸€ä¸ªgithubä»“åº“ç”¨äºå­˜æ”¾å›¾ç‰‡ï¼š<a href="https://github.com/">GitHub</a></p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613201146335.png" alt="image-20230613201146335"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613201301492.png" alt="image-20230613201301492"></p><blockquote><p>å‡ºç°ä¸‹é¢ç•Œé¢å°±ç®—æˆåŠŸå•¦</p><p>å½“ç„¶ä¸€å¼€å§‹ä½ æ˜¯ä»€ä¹ˆéƒ½æ²¡æœ‰æ»´ï¼æˆ‘æœ‰æ˜¯å› ä¸ºæˆ‘å·²ç»ä¸Šä¼ æµ‹è¯•è¿‡å•¦ï¼</p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613201356116.png" alt="image-20230613201356116"></p><h3 id="âœŒç”Ÿæˆgithubçš„Token"><a href="#âœŒç”Ÿæˆgithubçš„Token" class="headerlink" title="âœŒç”Ÿæˆgithubçš„Token"></a>âœŒç”Ÿæˆgithubçš„Token</h3><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202107691.png" alt="image-20230613202107691"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202143411.png" alt="image-20230613202143411"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202231594.png" alt="image-20230613202231594"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202342164.png" alt="image-20230613202342164"></p><blockquote><p>å¤åˆ¶tokenåé¢è¦ç”¨</p></blockquote><h2 id="ğŸ’ªğŸ’ªPicGo"><a href="#ğŸ’ªğŸ’ªPicGo" class="headerlink" title="ğŸ’ªğŸ’ªPicGo"></a>ğŸ’ªğŸ’ªPicGo</h2><h3 id="ğŸ“¢ä¸‹è½½PicGo"><a href="#ğŸ“¢ä¸‹è½½PicGo" class="headerlink" title="ğŸ“¢ä¸‹è½½PicGo"></a>ğŸ“¢ä¸‹è½½PicGo</h3><blockquote><p>PicGoå®˜ç½‘ï¼š<a href="https://molunerfinn.com/PicGo/">PicGo (molunerfinn.com)</a></p><p>é¦–å…ˆè·³åˆ°github</p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613201644993.png" alt="image-20230613201644993"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613201711876.png" alt="image-20230613201711876"></p><h3 id="ğŸ“£é…ç½®PicGo"><a href="#ğŸ“£é…ç½®PicGo" class="headerlink" title="ğŸ“£é…ç½®PicGo"></a>ğŸ“£é…ç½®PicGo</h3><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613201920513.png" alt="image-20230613201920513"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202550906.png" alt="image-20230613202550906"></p><blockquote><p>å¯¹PicGoè¿›è¡Œè®¾ç½®çœ‹å®˜æ–¹æ–‡æ¡£ï¼š<a href="https://picgo.github.io/PicGo-Doc/zh/">PicGo</a></p><p>ä¸‹é¢åˆ—å‡ºæˆ‘çš„è®¾ç½®</p></blockquote><blockquote><p>å¿«æ·é”®ä¿®æ”¹ï¼Œæ ¹æ®ä¸ªäººä¹ æƒ¯ã€‚æˆ‘çš„æ˜¯ï¼š<code>ctrl + shift + \</code></p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202753088.png" alt="image-20230613202753088"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202839174.png" alt="image-20230613202839174"></p><blockquote><p>é€‰æ‹©URLè¡¨ç¤ºçš„æ˜¯ä¸Šä¼ å›¾ç‰‡åè‡ªåŠ¨è¿”å›URLåœ°å€ï¼Œç›´æ¥ctrl+Vå³å¯</p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613202938271.png" alt="image-20230613202938271"></p><blockquote><p>åˆ°è¿™é‡ŒåŸºæœ¬ä¸Šå°±å®Œæˆäº†ã€‚</p><p>ä¸‹é¢è¿›è¡ŒåŸŸåç»‘å®šè‡ªå·±çš„githubä»“åº“</p></blockquote><h2 id="ğŸŒ»ğŸŒ»vercel"><a href="#ğŸŒ»ğŸŒ»vercel" class="headerlink" title="ğŸŒ»ğŸŒ»vercel"></a>ğŸŒ»ğŸŒ»vercel</h2><blockquote><p>vercelå®˜ç½‘ï¼š<a href="https://vercel.com/dashboard">Dashboard â€“ Vercel</a>   </p><p>vercelæ³¨å†Œï¼š<a href="https://www.bilibili.com/video/BV1Fh411e7ZH/?vd_source=37d0a4e2d39fe02cac0e2a4c23fe8ec3">Twikoo Vercel éƒ¨ç½²æ•™ç¨‹_å“”å“©å“”å“©_bilibili</a> (åé¢éƒ¨åˆ†æ˜¯vercelçš„æ³¨å†Œï¼Œè®°å¾—ä¸€é”®ä¸‰è¿)</p><p>å¯ä»¥å­¦ä¹ è¿™ä¸ªåšå®¢ï¼Œå­¦å®Œä½ å°±æ‡‚å¦‚ä½•é€šè¿‡vercelå°†åŸŸåæŒ‚è½½åˆ°githubå¯¹åº”ä»“åº“äº†<a href="https://xiaoming.site/post/6b62e9ba.html">Vercel+imsyy éƒ¨ç½²ä¸ªäººåšå®¢ home é¡µé¢ | å°é“­ã®åšå®¢ (xz133744.github.io)</a></p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613204135527.png" alt="image-20230613204135527"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613204229401.png" alt="image-20230613204229401"></p><blockquote><p>é¦–å…ˆå°†è‡ªå·±çš„åŸŸåä¸vercelè¿›è¡Œè§£æï¼Œæˆ‘ä½¿ç”¨çš„æ˜¯ç¡…äº‘ï¼š <code>vercel-dns.com.</code></p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230627183707035.png" alt="image-20230627183707035"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613204538839.png" alt="image-20230613204538839"></p><blockquote><p>è¿™æ ·å­å°±ç›¸å½“äºæŠŠæˆ‘çš„ images.lzwgxust.topä¸æˆ‘çš„Luozongwei&#x2F;github-blog-imgç»‘å®šæˆåŠŸäº†</p><p>å†æ¬¡é…ç½®PicGo: è¿™æ ·å°±å¯ä»¥ä½¿ç”¨è‡ªå·±çš„åŸŸå+å›¾ç‰‡åè¿›è¡Œè®¿é—®äº†</p><p><code>https://images.lzwgxust.top/background.png</code></p></blockquote><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613204708865.png" alt="image-20230613204708865"></p><h2 id="ğŸ…ğŸ…å¦‚ä½•ä½¿ç”¨ï¼Ÿ"><a href="#ğŸ…ğŸ…å¦‚ä½•ä½¿ç”¨ï¼Ÿ" class="headerlink" title="ğŸ…ğŸ…å¦‚ä½•ä½¿ç”¨ï¼Ÿ"></a>ğŸ…ğŸ…å¦‚ä½•ä½¿ç”¨ï¼Ÿ</h2><blockquote><p>é¦–å…ˆctrl+Cå¤åˆ¶å›¾ç‰‡</p><p>ç„¶åä½¿ç”¨PicGoçš„å¿«æ·é”®ï¼šctrl+shift+\</p></blockquote><p>â€‹<img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613205451446.png" alt="image-20230613205451446"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230613210001079.png" alt="image-20230613210001079"></p><h2 id="ä¸Šä¼ å¤±è´¥è§£å†³æ–¹æ¡ˆ"><a href="#ä¸Šä¼ å¤±è´¥è§£å†³æ–¹æ¡ˆ" class="headerlink" title="ä¸Šä¼ å¤±è´¥è§£å†³æ–¹æ¡ˆ"></a>ä¸Šä¼ å¤±è´¥è§£å†³æ–¹æ¡ˆ</h2><h3 id="ä»£ç†é—®é¢˜"><a href="#ä»£ç†é—®é¢˜" class="headerlink" title="ä»£ç†é—®é¢˜"></a>ä»£ç†é—®é¢˜</h3><blockquote><p>å¯èƒ½æ˜¯æˆ‘ä»£ç†å¼€å¤šäº†çš„é—®é¢˜ï¼Œæ‰¾äº†ä¸€å¤©äº†å‘œå‘œå‘œ~~</p><p>ä¸Šä¼ å‰çš„å‡†å¤‡</p><ul><li>PicGoè®¾ç½®</li></ul><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230820111237996.png" alt="image-20230820111237996"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230820111312398.png" alt="image-20230820111312398"></p><ul><li>è®¾ç½®æœ¬åœ°ä»£ç†</li></ul><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230820111501063.png" alt="image-20230820111501063"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230820111643609.png" alt="image-20230820111643609"></p><p><img src="/2023/06/13/github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%9B%BE%E5%BA%8A/image-20230820111744276.png" alt="image-20230820111744276"></p><p>åŠŸå¤«ä¸è´Ÿæœ‰å¿ƒäººï¼Œç»ˆäºæˆåŠŸå•¦ï¼æ„ŸåŠ¨</p></blockquote><blockquote><p>åˆ°è¿™é‡Œå°±å…¨éƒ¨ç»“æŸå•¦ï¼ï¼ï¼ä¸‹æ¬¡å†è§~~</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>å¦‚ä½•å®ç°0å…ƒç™¾åº¦ç½‘ç›˜ä¸é™é€Ÿï¼Ÿ</title>
      <link href="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/"/>
      <url>/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šæš‚æ—¶æœ¨æœ‰å“ˆå“ˆã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>å¤©ä¸‹æ—©å·²ä¼ é—»ç™¾åº¦ç½‘ç›˜é™é€Ÿä¹‹è‹¦ï¼Œä»¤äººä¸å ªå…¶æ‰°ã€‚ç„¶ä»Šæœ‰æ™ºè€…è¨€ï¼šè§£å›°ä¹‹é“å·²ç°ï¼Œå¾…è§‚é£äº‘ã€‚æˆ‘ä»¬é™å€™ä½³éŸ³ã€‚</p></blockquote><h2 id="è‰èˆ¹å€Ÿç®­"><a href="#è‰èˆ¹å€Ÿç®­" class="headerlink" title="è‰èˆ¹å€Ÿç®­"></a>è‰èˆ¹å€Ÿç®­</h2><blockquote><p>é¦–å…ˆæˆ‘ä»¬å¾—å…ˆæœ‰æ²¹çŒ´æ’ä»¶ï¼š<a href="https://www.lzwgxust.top/post/9506ea9e.html">è¶…çº§å¥½ç”¨çš„å·¥å…·é›†åˆ | æ¥šé—¨çš„ä¸–ç•Œ (lzwgxust.top)</a></p><p>ç„¶åä¸‹è½½è„šæœ¬ï¼š<a href="https://greasyfork.org/zh-CN/scripts/463707-%E5%B0%B1%E6%98%AF%E5%8A%A0%E9%80%9F-%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E6%97%A0%E9%99%90%E9%80%9F%E6%89%B9%E9%87%8F%E4%B8%8B%E8%BD%BD">ã€å°±æ˜¯åŠ é€Ÿã€‘ç™¾åº¦ç½‘ç›˜æ— é™é€Ÿæ‰¹é‡ä¸‹è½½ (greasyfork.org)</a></p><p>IDMä¸‹è½½ï¼š<a href="https://www.123pan.com/s/NjcA-PGmNA.html">https://www.123pan.com/s/NjcA-PGmNA.html</a></p><p>IDMç ´è§£ï¼š<a href="https://zhuanlan.zhihu.com/p/430535305">IDMåºåˆ—å· - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><h2 id="ä¸‡äº‹ä¿±å¤‡"><a href="#ä¸‡äº‹ä¿±å¤‡" class="headerlink" title="ä¸‡äº‹ä¿±å¤‡"></a>ä¸‡äº‹ä¿±å¤‡</h2><blockquote><p>ä¸Šé¢çš„å‡†å¤‡å·¥ä½œæˆåŠŸåï¼šä½ ä¼šçœ‹åˆ°ä¸€ä¸ªå°±æ˜¯åŠ é€Ÿï¼ˆè±ªæ°”ï¼‰</p></blockquote><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611214623750.png" alt="image-20230611214623750"></p><blockquote><p>å¯ä»¥æ‰¹é‡ä¸‹è½½ï¼Œä½†æ˜¯ä¸èƒ½ä¸‹è½½æ–‡ä»¶å¤¹ï¼Œå°±æ˜¯è¦è¿›å…¥åˆ°æ–‡ä»¶å¤¹é‡Œè¾¹</p></blockquote><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611214747850.png" alt="image-20230611214747850"></p><blockquote><p>é¦–å…ˆä¼šå‡ºç°ä¸€ä¸ªæ‹¦æˆªï¼Œç‚¹å‡»é“¾æ¥å³å¯ã€‚</p></blockquote><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611214917146.png" alt="image-20230611214917146"></p><blockquote><p>å†æ¬¡ç‚¹å‡»å°±æ˜¯åŠ é€Ÿï¼šå¤åˆ¶netdisk</p></blockquote><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215049392.png" alt="image-20230611215049392"></p><blockquote><p>æ‰“å¼€IDM</p></blockquote><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215140200.png" alt="image-20230611215140200"></p><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215212909.png" alt="image-20230611215212909"></p><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215347960.png" alt="image-20230611215347960"></p><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215421102.png" alt="image-20230611215421102"></p><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215613077.png" alt="image-20230611215613077"></p><blockquote><p>ä¸‹è½½é€Ÿåº¦è¿˜æ˜¯æŒºå¯è§‚çš„</p></blockquote><p><img src="/2023/06/11/%E5%A6%82%E4%BD%95%E5%AE%9E%E7%8E%B00%E5%85%83%E7%99%BE%E5%BA%A6%E7%BD%91%E7%9B%98%E4%B8%8D%E9%99%90%E9%80%9F%EF%BC%9F/image-20230611215709314.png" alt="image-20230611215709314"></p><blockquote><p>åˆ°æ­¤å°±å®ç°åŠ é€Ÿå•¦~ çœŸæ­£çš„å‹‡å£«å°±æ˜¯è¦å¯»æ‰¾ç ´å±€ä¹‹é“ï¼</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> ç™¾åº¦ç½‘ç›˜ </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>windows-jdkç‰ˆæœ¬åˆ‡æ¢</title>
      <link href="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/"/>
      <url>/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šä¸€èµ·æ¥å­¦go(ç‹—)è¯­è¨€ã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>ä¸ºäº†è§£å†³ä¸åŒçš„æ’ä»¶ã€è½¯ä»¶å¯¹jdkç‰ˆæœ¬çš„éœ€è¦ã€‚</p></blockquote><h2 id="å®‰è£…jdk"><a href="#å®‰è£…jdk" class="headerlink" title="å®‰è£…jdk"></a>å®‰è£…jdk</h2><blockquote><p>å®˜ç½‘ï¼š<a href="https://www.oracle.com/java/technologies/downloads/">Java Downloads | Oracle</a></p></blockquote><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611160006973.png" alt="image-20230611160006973"></p><blockquote><p>æ‹‰åˆ°ä¸‹é¢æœ‰ä¸åŒjdkç‰ˆæœ¬çš„é€‰æ‹©ï¼Œç°åœ¨ç”¨çš„æœ€å¤šçš„åº”è¯¥æ˜¯ jdk8 ã€jdk11ã€jdk17ã€‚</p><p>ä¸‹é¢ä»¥jdk17ä¸ºä¾‹å­ï¼š</p></blockquote><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611160045806.png" alt="image-20230611160045806"></p><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611160328287.png" alt="image-20230611160328287"></p><blockquote><p>æ ¹æ®è‡ªå·±éœ€æ±‚é€‰æ‹©å¯¹åº”ç”µè„‘çš„å®‰è£…åŒ…ï¼šæˆ‘çš„æ˜¯Windows11</p></blockquote><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611160432387.png" alt="image-20230611160432387"></p><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611160615192.png" alt="image-20230611160615192"></p><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611160950478.png" alt="image-20230611160950478"></p><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611161158136.png" alt="image-20230611161158136"></p><blockquote><p>è¿™æ ·å­åŸºæœ¬ä¸Šå°±å¯ä»¥äº†ï¼Œåé¢æƒ³åˆ‡æ¢windowsçš„jdkç‰ˆæœ¬çš„è¯å°±è‡ªå·±æ”¹å˜JAVA_HOMEçš„å€¼å°±OKäº†ã€‚</p></blockquote><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611161328968.png" alt="image-20230611161328968"></p><p><img src="/2023/06/11/windows-jdk%E7%89%88%E6%9C%AC%E5%88%87%E6%8D%A2/image-20230611161407895.png" alt="image-20230611161407895"></p><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> jdk </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>go-basic-learning-week02</title>
      <link href="/2023/06/06/go-basic-learning-week02/"/>
      <url>/2023/06/06/go-basic-learning-week02/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šä¸€èµ·æ¥å­¦go(ç‹—)è¯­è¨€ã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>å°†å¯¹goè¯­è¨€çš„é¢å‘æ¥å£ã€å‡½æ•°å¼ç¼–ç¨‹ã€é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†ã€æµ‹è¯•ã€Goroutineã€Channelè¿›è¡Œåˆæ­¥å­¦ä¹ ã€‚</p></blockquote><h1 id="â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥é¢å‘æ¥å£"><a href="#â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥é¢å‘æ¥å£" class="headerlink" title="â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥é¢å‘æ¥å£"></a>â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥â¤ï¸â€ğŸ”¥é¢å‘æ¥å£</h1><h2 id="ğŸ‡ğŸ‡æ¥å£æ¦‚å¿µ"><a href="#ğŸ‡ğŸ‡æ¥å£æ¦‚å¿µ" class="headerlink" title="ğŸ‡ğŸ‡æ¥å£æ¦‚å¿µ"></a>ğŸ‡ğŸ‡æ¥å£æ¦‚å¿µ</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">getRetriever</span><span class="params">()</span></span> retriever &#123;</span><br><span class="line">    <span class="comment">// ä¸¤ä¸ªé‡Œè¾¹éƒ½å®ç°äº†Getæ–¹æ³•ï¼Œä½†æ˜¯æ²¡æœ‰å®ç°æ¥å£ï¼Œå´èƒ½ä½¿ç”¨æ¥å£çš„åŠŸèƒ½</span></span><br><span class="line"><span class="comment">// return testing.Retriever&#123;&#125;</span></span><br><span class="line">    <span class="keyword">return</span> infar.Retriever&#123;&#125;</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ?: Something that can &quot;Get&quot;</span></span><br><span class="line"><span class="keyword">type</span> retriever <span class="keyword">interface</span> &#123;</span><br><span class="line">Get(url <span class="type">string</span>) <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> r retriever = getRetriever()</span><br><span class="line">fmt.Println(r.Get(<span class="string">&quot;https://www.imooc.com&quot;</span>))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¼ºç±»å‹è¯­è¨€ï¼šç†Ÿæ‚‰æ¥å£çš„æ¦‚å¿µ <font color="skyblue">â€œå¤©ä¸Šé£çš„ç†å¿µï¼Œå¿…ç„¶ä¼šæœ‰è½åœ°çš„å®ç°â€</font></li><li>å¼±ç±»å‹è¯­è¨€ï¼šæ²¡ï¼ˆå°‘ï¼‰æœ‰æ¥å£çš„æ¦‚å¿µ</li></ul><p><strong>è¿™é‡Œä¼šå­˜åœ¨ä¸€ä¸ªç–‘é—®ï¼Œä¸ºä»€ä¹ˆæ²¡æœ‰å®ç°æ¥å£å´èƒ½æœ‰æ¥å£çš„åŠŸèƒ½å‘¢ï¼Ÿ</strong> å¬å“¦ç»†ç»†é“æ¥</p></blockquote><h2 id="ğŸˆğŸˆduck-typing"><a href="#ğŸˆğŸˆduck-typing" class="headerlink" title="ğŸˆğŸˆduck typing"></a>ğŸˆğŸˆduck typing</h2><blockquote><p>å¤§é»„é¸­æ˜¯é¸­å­å—ï¼Ÿï¼ˆä¸åŒè§’åº¦çœ‹å¾…ï¼‰</p></blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230606093757854.png" alt="image-20230606093757854"></p><blockquote><p>ï¼ˆè¿™æ˜¯å› ä¸ºduck typingæ˜¯éœ€è¦åŠ¨æ€ç»‘å®šçš„ï¼Œä½†æ˜¯goä¸å…·å¤‡ï¼‰</p><ul><li><p>ä¼ ç»Ÿç±»å‹ç³»ç»Ÿï¼šè„Šç´¢åŠ¨ç‰©é—¨ï¼Œè„Šæ¤åŠ¨ç‰©äºšé—¨ï¼Œé¸Ÿçº²é›å½¢ç›®ã€‚ã€‚ã€‚ã€‚ã€‚ã€‚</p></li><li><p>duck typing: æ˜¯é¸­å­</p><ul><li>â€åƒé¸­å­èµ°è·¯ï¼Œåƒé¸­å­å«ï¼ˆé•¿å¾—åƒé¸­å­)ï¼Œé‚£ä¹ˆå°±æ˜¯é¸­å­â€</li><li>æè¿°äº‹ç‰©çš„å¤–éƒ¨è¡Œä¸ºè€Œéå†…éƒ¨ç»“æ„</li><li>ä¸¥æ ¼è¯´goå±äºç»“æ„åŒ–ç±»å‹ç³»ç»Ÿï¼Œç±»ä¼¼duck typing</li></ul></li></ul></blockquote><h3 id="ğŸ‰pythonä¸­çš„duck-typing"><a href="#ğŸ‰pythonä¸­çš„duck-typing" class="headerlink" title="ğŸ‰pythonä¸­çš„duck typing"></a>ğŸ‰pythonä¸­çš„duck typing</h3><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">download</span>(<span class="params">retriever</span>):</span><br><span class="line">    <span class="keyword">return</span> retriever.get(<span class="string">&quot;www.imooc.com&quot;</span>)</span><br></pre></td></tr></table></figure><ul><li><font color="skyblue">è¿è¡Œæ—¶æ‰çŸ¥é“</font>ä¼ å…¥çš„retrieveræœ‰æ²¡æœ‰get</li><li>éœ€è¦æ³¨é‡Šæ¥è¯´æ˜æ¥å£</li></ul></blockquote><h3 id="ğŸŠC-ä¸­çš„duck-typing"><a href="#ğŸŠC-ä¸­çš„duck-typing" class="headerlink" title="ğŸŠC++ä¸­çš„duck typing"></a>ğŸŠC++ä¸­çš„duck typing</h3><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">template</span> &lt;<span class="keyword">class</span> <span class="title class_">R</span>&gt;</span><br><span class="line">    <span class="function">string <span class="title">download</span><span class="params">(<span class="type">const</span> R&amp; retriever)</span> </span>&#123;</span><br><span class="line">    <span class="keyword">return</span> retriever.<span class="built_in">get</span>(<span class="string">&quot;www.imooc.com&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><font color="skyblue">ç¼–è¯‘æ—¶æ‰çŸ¥é“</font>ä¼ å…¥çš„retrieveræœ‰æ²¡æœ‰get</li><li>éœ€è¦æ³¨é‡Šæ¥è¯´æ˜æ¥å£</li></ul></blockquote><h3 id="ğŸ‹javaä¸­çš„ç±»ä¼¼ä»£ç "><a href="#ğŸ‹javaä¸­çš„ç±»ä¼¼ä»£ç " class="headerlink" title="ğŸ‹javaä¸­çš„ç±»ä¼¼ä»£ç "></a>ğŸ‹javaä¸­çš„ç±»ä¼¼ä»£ç </h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">&lt;R <span class="keyword">extends</span> <span class="title class_">Retriever</span>&gt;</span><br><span class="line">String <span class="title function_">download</span><span class="params">(R r)</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.get(<span class="string">&quot;www.imooc.com&quot;</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><strong>ä¼ å…¥çš„å‚æ•°å¿…é¡»å®ç°Retrieveræ¥å£</strong></li><li>ä¸æ˜¯duck typings</li></ul></blockquote><h3 id="ğŸŒgoè¯­è¨€çš„duck-typing"><a href="#ğŸŒgoè¯­è¨€çš„duck-typing" class="headerlink" title="ğŸŒgoè¯­è¨€çš„duck typing"></a>ğŸŒgoè¯­è¨€çš„duck typing</h3><blockquote><ul><li>åŒæ—¶éœ€è¦Readable, Appendableæ€ä¹ˆåŠï¼Ÿï¼ˆapache polygene)</li><li>åŒæ—¶å…·å¤‡python, c++çš„duck typingçš„çµæ´»æ€§</li><li>åˆå…·æœ‰javaçš„ç±»å‹æ£€æŸ¥</li></ul></blockquote><h2 id="ğŸğŸæ¥å£çš„å®šä¹‰"><a href="#ğŸğŸæ¥å£çš„å®šä¹‰" class="headerlink" title="ğŸğŸæ¥å£çš„å®šä¹‰"></a>ğŸğŸæ¥å£çš„å®šä¹‰</h2><p><img src="/2023/06/06/go-basic-learning-week02/image-20230606100956341.png" alt="image-20230606100956341"></p><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// retrieverå®ç°è€…</span></span><br><span class="line"><span class="keyword">type</span> Retriever <span class="keyword">interface</span> &#123;</span><br><span class="line">Get(url <span class="type">string</span>) <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// downloadæ˜¯ä½¿ç”¨è€…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">download</span><span class="params">(r Retriever)</span></span> <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> r.Get(<span class="string">&quot;http://www.imooc.com&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line"><span class="keyword">var</span> r Retriever</span><br><span class="line">r = mock.Retriever&#123;<span class="string">&quot;this is a fake imooc.com&quot;</span>&#125;</span><br><span class="line">r = real2.Retriever&#123;&#125;</span><br><span class="line">fmt.Println(download(r))</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ç°è€…1 mockRetriever</span></span><br><span class="line"><span class="keyword">type</span> Retriever <span class="keyword">struct</span> &#123;</span><br><span class="line">Contents <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Retriever)</span></span> Get(url <span class="type">string</span>) <span class="type">string</span> &#123;</span><br><span class="line"><span class="keyword">return</span> r.Contents</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å®ç°è€…2 realRetriever</span></span><br><span class="line"><span class="keyword">type</span> Retriever <span class="keyword">struct</span> &#123;</span><br><span class="line">Contents <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Retriever)</span></span> Get(url <span class="type">string</span>) <span class="type">string</span> &#123; </span><br><span class="line"><span class="keyword">return</span> r.Contents</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>æ³¨æ„ç‚¹: interfaceä¸­çš„Get(url string) string å¿…é¡» è¦å’Œå®ç°è€…ä¸­çš„Getæ–¹æ³•å‚æ•°ç±»å‹ä¸€è‡´</strong></p><ul><li>æ¥å£çš„å®ç°æ˜¯<font color="skyblue">éšå¼</font>çš„</li><li>åªè¦å®ç°æ¥å£é‡Œçš„æ–¹æ³•</li></ul></blockquote><h2 id="ğŸ¥­ğŸ¥­æ¥å£çš„å€¼ç±»å‹"><a href="#ğŸ¥­ğŸ¥­æ¥å£çš„å€¼ç±»å‹" class="headerlink" title="ğŸ¥­ğŸ¥­æ¥å£çš„å€¼ç±»å‹"></a>ğŸ¥­ğŸ¥­æ¥å£çš„å€¼ç±»å‹</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¥å£å˜é‡å†… ï¼ˆå€¼çš„ç±»å‹ï¼Œ å€¼/æŒ‡é’ˆï¼‰</span></span><br><span class="line">fmt.Printf(<span class="string">&quot;%T %v\n&quot;</span>, r, r)</span><br><span class="line"></span><br><span class="line"><span class="comment">// mock.Retriever &#123;this is a fake imooc.com&#125;</span></span><br><span class="line"><span class="comment">// Contents: this is a fake imooc.com</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// *real.Retriever &amp;&#123;Mozilla/5.0 1m0s&#125;</span></span><br><span class="line"><span class="comment">// UserAgent: Mozilla/5.0</span></span><br></pre></td></tr></table></figure></blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230606105143852.png" alt="image-20230606105143852"></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230606105204942.png" alt="image-20230606105204942"></p><blockquote><ul><li>æ¥å£å˜é‡è‡ªå¸¦æŒ‡é’ˆ</li><li>æ¥å£å˜é‡åŒæ ·é‡‡ç”¨å€¼ä¼ é€’ï¼Œå‡ ä¹ä¸éœ€è¦ä½¿ç”¨æ¥å£çš„æŒ‡é’ˆ</li><li>æŒ‡é’ˆæ¥æ”¶è€…å®ç°åªèƒ½ä»¥æŒ‡é’ˆæ–¹å¼ä½¿ç”¨ï¼›å€¼æ¥æ”¶è€…éƒ½å¯</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å€¼æ¥æ”¶è€…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r Retriever)</span></span> Get(url <span class="type">string</span>) <span class="type">string</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> r.Contents</span><br><span class="line">&#125;</span><br><span class="line">r = mock.Retriever&#123;<span class="string">&quot;this is a fake imooc.com&quot;</span>&#125;</span><br><span class="line">r = &amp;mock.Retriever&#123;<span class="string">&quot;this is a fake imooc.com&quot;</span>&#125; <span class="comment">// ä¸¤ç§éƒ½è¡Œ</span></span><br><span class="line">inspect(r)</span><br><span class="line"></span><br><span class="line"><span class="comment">// æŒ‡é’ˆæ¥æ”¶è€…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Retriever)</span></span> Get(url <span class="type">string</span>) <span class="type">string</span> &#123;</span><br><span class="line">    resp, err := http.Get(url)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    result, err := httputil.DumpResponse(resp, <span class="literal">true</span>)</span><br><span class="line">    <span class="keyword">defer</span> resp.Body.Close()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> <span class="type">string</span>(result)</span><br><span class="line">&#125;</span><br><span class="line">r = &amp;real2.Retriever&#123; <span class="comment">// åªèƒ½ä»¥æŒ‡é’ˆçš„æ–¹å¼ä½¿ç”¨</span></span><br><span class="line">    UserAgent: <span class="string">&quot;Mozilla/5.0&quot;</span>,</span><br><span class="line">    TimeOut:   time.Minute,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸæŸ¥çœ‹æ¥å£å˜é‡"><a href="#ğŸæŸ¥çœ‹æ¥å£å˜é‡" class="headerlink" title="ğŸæŸ¥çœ‹æ¥å£å˜é‡"></a>ğŸæŸ¥çœ‹æ¥å£å˜é‡</h3><blockquote><ul><li>è¡¨ç¤ºä»»ä½•ç±»å‹ï¼šinterface{}</li><li>Type Assertion</li><li>Type Switch</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// interface&#123;&#125; å¯ä»¥æ¥æ”¶ä»»ä½•ç±»å‹</span></span><br><span class="line"><span class="keyword">type</span> Queue []<span class="keyword">interface</span>&#123;&#125; </span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(q *Queue)</span></span> Push(v <span class="keyword">interface</span>&#123;&#125;) &#123;</span><br><span class="line">    *q = <span class="built_in">append</span>(*q, v.(<span class="type">int</span>)) <span class="comment">// è¡¨ç¤ºå¼ºåˆ¶æ¥æ”¶intç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(q *Queue)</span></span> Pop() <span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line">    head := (*q)[<span class="number">0</span>]</span><br><span class="line">    *q = (*q)[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">return</span> head.(<span class="type">int</span>) <span class="comment">// è¡¨ç¤ºå¼ºåˆ¶è¿”å›intç±»å‹</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type assertion</span></span><br><span class="line"><span class="keyword">if</span> mockRetriever, ok := r.(mock.Retriever); ok &#123;</span><br><span class="line">    fmt.Println(mockRetriever.Contents)</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;not a mock retriever&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// Type Switch</span></span><br><span class="line"><span class="keyword">switch</span> v := r.(<span class="keyword">type</span>) &#123;</span><br><span class="line">    <span class="keyword">case</span> mock.Retriever:</span><br><span class="line">    fmt.Println(<span class="string">&quot;Contents:&quot;</span>, v.Contents)</span><br><span class="line">    <span class="keyword">case</span> *real2.Retriever:</span><br><span class="line">    fmt.Println(<span class="string">&quot;UserAgent:&quot;</span>, v.UserAgent)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸğŸæ¥å£çš„ç»„åˆ"><a href="#ğŸğŸæ¥å£çš„ç»„åˆ" class="headerlink" title="ğŸğŸæ¥å£çš„ç»„åˆ"></a>ğŸğŸæ¥å£çš„ç»„åˆ</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> Retriever <span class="keyword">interface</span> &#123;</span><br><span class="line">    Get(url <span class="type">string</span>) <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">type</span> Poster <span class="keyword">interface</span> &#123;</span><br><span class="line">    Post(url <span class="type">string</span>, form <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>) <span class="type">string</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ¥å£çš„ç»„åˆ</span></span><br><span class="line"><span class="keyword">type</span> RetrieverPoster <span class="keyword">interface</span> &#123;</span><br><span class="line">    Retriever</span><br><span class="line">    Poster</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æºç ä¸­å­˜åœ¨å¤§é‡è¿™æ ·çš„è®¾è®¡</span></span><br><span class="line"><span class="comment">// ReadWriteCloser is the interface that groups the basic Read, Write and Close methods.</span></span><br><span class="line"><span class="keyword">type</span> ReadWriteCloser <span class="keyword">interface</span> &#123;</span><br><span class="line">    Reader</span><br><span class="line">    Writer</span><br><span class="line">    Closer</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸğŸå¸¸ç”¨ç³»ç»Ÿæ¥å£"><a href="#ğŸğŸå¸¸ç”¨ç³»ç»Ÿæ¥å£" class="headerlink" title="ğŸğŸå¸¸ç”¨ç³»ç»Ÿæ¥å£"></a>ğŸğŸå¸¸ç”¨ç³»ç»Ÿæ¥å£</h2><blockquote><ul><li>Stringer ï¼ˆç›¸å½“äºjavaçš„toSringï¼‰</li><li>Reader&#x2F;Writer ï¼ˆæœ‰äº†æ›´å¼ºå¤§çš„è¯»å†™åŠŸèƒ½ï¼Œä¸å•å•åªæ˜¯è¯»å†™æ–‡ä»¶ï¼‰</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›¸å½“äºæ˜¯é‡å†™äº†toStringæ–¹æ³•</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(r *Retriever)</span></span> String() <span class="type">string</span> &#123;</span><br><span class="line">    <span class="comment">//TODO implement me</span></span><br><span class="line">    <span class="keyword">return</span> fmt.Sprintf(<span class="string">&quot;Retriever: &#123;Contents=%s&#125;&quot;</span>, r.Contents)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä½¿ç”¨io.ReaderåŠŸèƒ½æ›´å¼ºå¤§äº†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">printFileContents</span><span class="params">(reader io.Reader)</span></span> &#123;</span><br><span class="line">    scanner := bufio.NewScanner(reader)</span><br><span class="line">    <span class="keyword">for</span> scanner.Scan() &#123;</span><br><span class="line">        fmt.Println(scanner.Text())</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="ğŸ‘ğŸ‘ğŸ‘å‡½æ•°å¼ç¼–ç¨‹"><a href="#ğŸ‘ğŸ‘ğŸ‘å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="ğŸ‘ğŸ‘ğŸ‘å‡½æ•°å¼ç¼–ç¨‹"></a>ğŸ‘ğŸ‘ğŸ‘å‡½æ•°å¼ç¼–ç¨‹</h1><h2 id="ğŸ’ğŸ’å‡½æ•°å¼ç¼–ç¨‹-vs-å‡½æ•°æŒ‡é’ˆ"><a href="#ğŸ’ğŸ’å‡½æ•°å¼ç¼–ç¨‹-vs-å‡½æ•°æŒ‡é’ˆ" class="headerlink" title="ğŸ’ğŸ’å‡½æ•°å¼ç¼–ç¨‹ vs å‡½æ•°æŒ‡é’ˆ"></a>ğŸ’ğŸ’å‡½æ•°å¼ç¼–ç¨‹ vs å‡½æ•°æŒ‡é’ˆ</h2><blockquote><ul><li>å‡½æ•°å¼ä¸€ç­‰å…¬æ°‘ï¼šå‚æ•°ï¼Œå˜é‡ï¼Œè¿”å›å€¼éƒ½å¯ä»¥æ˜¯å‡½æ•°</li><li>é«˜é˜¶å‡½æ•°</li><li>å‡½æ•° -&gt; é—­åŒ…</li></ul></blockquote><h2 id="ğŸ“ğŸ“â€æ­£ç»Ÿâ€œ-å‡½æ•°å¼ç¼–ç¨‹"><a href="#ğŸ“ğŸ“â€æ­£ç»Ÿâ€œ-å‡½æ•°å¼ç¼–ç¨‹" class="headerlink" title="ğŸ“ğŸ“â€æ­£ç»Ÿâ€œ å‡½æ•°å¼ç¼–ç¨‹"></a>ğŸ“ğŸ“â€æ­£ç»Ÿâ€œ å‡½æ•°å¼ç¼–ç¨‹</h2><blockquote><ul><li>ä¸å¯å˜æ€§ï¼šä¸èƒ½æœ‰çŠ¶æ€ï¼Œåªèƒ½æœ‰å¸¸é‡å’Œå‡½æ•°</li><li>å‡½æ•°åªèƒ½æœ‰ä¸€ä¸ªå‚æ•°</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ­£ç»Ÿçš„å‡½æ•°å¼ç¼–ç¨‹æ»¡è¶³äº†ä¸Šé¢çš„ä¸¤ä¸ªæ¡ä»¶</span></span><br><span class="line"><span class="keyword">type</span> iAdder <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> (<span class="type">int</span>, iAdder)</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adder2</span><span class="params">(base <span class="type">int</span>)</span></span> iAdder &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(v <span class="type">int</span>)</span></span> (<span class="type">int</span>, iAdder) &#123;</span><br><span class="line">        <span class="keyword">return</span> base + v, adder2(base + v)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸ«ğŸ«é—­åŒ…"><a href="#ğŸ«ğŸ«é—­åŒ…" class="headerlink" title="ğŸ«ğŸ«é—­åŒ…"></a>ğŸ«ğŸ«é—­åŒ…</h2><p><img src="/2023/06/06/go-basic-learning-week02/image-20230607091820416.png" alt="image-20230607091820416"></p><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é—­åŒ…</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">adder</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">(<span class="type">int</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    sum := <span class="number">0</span> <span class="comment">// è‡ªç”±å˜é‡</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(v <span class="type">int</span>)</span></span> <span class="type">int</span> &#123; <span class="comment">// è¿”å›çš„æ˜¯å‡½æ•°çš„å¼•ç”¨ï¼ŒåŒæ—¶ä¼šæŠŠè‡ªç”±å˜é‡ä¿å­˜ä¸‹æ¥</span></span><br><span class="line">        sum += v</span><br><span class="line">        <span class="keyword">return</span> sum</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸ¥pythonä¸­çš„é—­åŒ…"><a href="#ğŸ¥pythonä¸­çš„é—­åŒ…" class="headerlink" title="ğŸ¥pythonä¸­çš„é—­åŒ…"></a>ğŸ¥pythonä¸­çš„é—­åŒ…</h3><blockquote><figure class="highlight python"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">def</span> <span class="title function_">adder</span>():</span><br><span class="line">    <span class="built_in">sum</span> = <span class="number">0</span></span><br><span class="line">    <span class="keyword">def</span> <span class="title function_">f</span>(<span class="params">value</span>):</span><br><span class="line">        <span class="keyword">nonlocal</span> <span class="built_in">sum</span></span><br><span class="line">        <span class="built_in">sum</span> += value</span><br><span class="line">        <span class="keyword">return</span> <span class="built_in">sum</span></span><br><span class="line">    <span class="keyword">return</span> f</span><br></pre></td></tr></table></figure><ul><li>pythonåŸç”Ÿæ”¯æŒé—­åŒ…</li><li>ä½¿ç”¨<code>__closure__</code>æ¥æŸ¥çœ‹é—­åŒ…å†…å®¹</li></ul></blockquote><h3 id="ğŸ…C-ä¸­çš„é—­åŒ…"><a href="#ğŸ…C-ä¸­çš„é—­åŒ…" class="headerlink" title="ğŸ…C++ä¸­çš„é—­åŒ…"></a>ğŸ…C++ä¸­çš„é—­åŒ…</h3><blockquote><figure class="highlight c++"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¦åœ¨c++14æ‰èƒ½è·‘é€šè¿™æ®µä»£ç </span></span><br><span class="line"><span class="function"><span class="keyword">auto</span> <span class="title">adder</span><span class="params">()</span> </span>&#123;</span><br><span class="line">    <span class="keyword">auto</span> sum = <span class="number">0</span>;</span><br><span class="line">    <span class="keyword">return</span> [=] (<span class="type">int</span> value) <span class="keyword">mutable</span> &#123;</span><br><span class="line">        sum += value;</span><br><span class="line">        <span class="keyword">return</span> sum;</span><br><span class="line">&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¿‡å»ï¼šstlæˆ–è€…boostå¸¦æœ‰ç±»ä¼¼åº“</li><li>c++11åŠä»¥åï¼šæ”¯æŒé—­åŒ…</li></ul></blockquote><h3 id="ğŸ«’javaä¸­çš„é—­åŒ…"><a href="#ğŸ«’javaä¸­çš„é—­åŒ…" class="headerlink" title="ğŸ«’javaä¸­çš„é—­åŒ…"></a>ğŸ«’javaä¸­çš„é—­åŒ…</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Holderå°±æ˜¯è‡ªå®šä¹‰çš„ä¸€ä¸ªclass</span></span><br><span class="line"><span class="keyword">class</span> <span class="title class_">Holder</span>() &#123; </span><br><span class="line">    Integer value;</span><br><span class="line">&#125;</span><br><span class="line">Function&lt;Integer, Integer&gt; <span class="title function_">adder</span><span class="params">()</span> &#123;</span><br><span class="line">    <span class="keyword">final</span> Holder&lt;Integer&gt; sum = <span class="keyword">new</span> <span class="title class_">Holder</span>&lt;&gt;(<span class="number">0</span>);</span><br><span class="line">    <span class="keyword">return</span> (Integer value) -&gt; &#123;</span><br><span class="line">        sum.value += value;</span><br><span class="line">        <span class="keyword">return</span> sum.value;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>1.8ä»¥åï¼šä½¿ç”¨Functionæ¥å£å’ŒLambdaè¡¨è¾¾å¼æ¥åˆ›å»ºå‡½æ•°å¯¹è±¡</li><li>åŒ¿åç±»æˆ–Lambdaè¡¨è¾¾å¼å‡æ”¯æŒé—­åŒ…</li></ul></blockquote><h3 id="ğŸ¥¥goè¯­è¨€é—­åŒ…çš„ä½¿ç”¨"><a href="#ğŸ¥¥goè¯­è¨€é—­åŒ…çš„ä½¿ç”¨" class="headerlink" title="ğŸ¥¥goè¯­è¨€é—­åŒ…çš„ä½¿ç”¨"></a>ğŸ¥¥goè¯­è¨€é—­åŒ…çš„ä½¿ç”¨</h3><blockquote><ul><li>æ–æ³¢é‚£å¥‘æ•°åˆ—</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// 1, 1, 2, 3, 5, 8, 13, 21, 34, 55</span></span><br><span class="line"><span class="comment">//   a, b</span></span><br><span class="line"><span class="comment">//     a, a+b</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fibonacci</span><span class="params">()</span></span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    a, b := <span class="number">0</span>, <span class="number">1</span></span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span> &#123;</span><br><span class="line">        a, b = b, a+b</span><br><span class="line">        <span class="keyword">return</span> a</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä¸ºå‡½æ•°å®ç°æ¥å£</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> intGen <span class="function"><span class="keyword">func</span><span class="params">()</span></span> <span class="type">int</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(g intGen)</span></span> Read(p []<span class="type">byte</span>) (n <span class="type">int</span>, err <span class="type">error</span>) &#123;</span><br><span class="line">    next := g()</span><br><span class="line">    <span class="keyword">if</span> next &gt; <span class="number">10000</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> <span class="number">0</span>, io.EOF</span><br><span class="line">    &#125;</span><br><span class="line">    s := fmt.Sprintf(<span class="string">&quot;%d\n&quot;</span>, next)</span><br><span class="line">    <span class="keyword">return</span> strings.NewReader(s).Read(p)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨å‡½æ•°æ¥éå†äºŒå‰æ ‘</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node *Node)</span></span> TraverseFunc(f <span class="function"><span class="keyword">func</span><span class="params">(*Node)</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> node == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    node.Left.TraverseFunc(f)</span><br><span class="line">    f(node) <span class="comment">// ç”±è‡ªå·±å†³å®šè¯¥åšä»€ä¹ˆ</span></span><br><span class="line">    node.Right.TraverseFunc(f)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// ç»Ÿè®¡ç»“ç‚¹ä¸ªæ•°</span></span><br><span class="line">nodeCount := <span class="number">0</span></span><br><span class="line">root.TraverseFunc(<span class="function"><span class="keyword">func</span><span class="params">(node *tree.Node)</span></span> &#123;</span><br><span class="line">    nodeCount++</span><br><span class="line">&#125;)</span><br><span class="line">fmt.Println(<span class="string">&quot;Node count: &quot;</span>, nodeCount)</span><br></pre></td></tr></table></figure><p>å·¥è¯­è¨€é—­åŒ…çš„åº”ç”¨</p><ul><li>æ›´ä¸ºè‡ªç„¶ï¼Œä¸éœ€è¦ä¿®é¥°å¦‚ä½•è®¿é—®è‡ªç”±å˜é‡</li><li>æ²¡æœ‰Lambdaè¡¨è¾¾å¼ï¼Œä½†æ˜¯åˆåŒ¿åå‡½æ•°</li></ul></blockquote><h1 id="ğŸ¥‘ğŸ¥‘ğŸ¥‘é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†"><a href="#ğŸ¥‘ğŸ¥‘ğŸ¥‘é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†" class="headerlink" title="ğŸ¥‘ğŸ¥‘ğŸ¥‘é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†"></a>ğŸ¥‘ğŸ¥‘ğŸ¥‘é”™è¯¯å¤„ç†å’Œèµ„æºç®¡ç†</h1><h2 id="ğŸ†ğŸ†deferè°ƒç”¨"><a href="#ğŸ†ğŸ†deferè°ƒç”¨" class="headerlink" title="ğŸ†ğŸ†deferè°ƒç”¨"></a>ğŸ†ğŸ†deferè°ƒç”¨</h2><blockquote><ul><li>ç¡®ä¿è°ƒç”¨åœ¨å‡½æ•°ç»“æŸæ—¶å‘ç”Ÿ</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tryDefer</span><span class="params">()</span></span> &#123; <span class="comment">// defer ä¼šåœ¨å‡½æ•°ç»“æŸæ—¶è°ƒç”¨ æ ˆçš„æ–¹å¼</span></span><br><span class="line">    <span class="keyword">defer</span> <span class="built_in">println</span>(<span class="number">1</span>)</span><br><span class="line">    <span class="keyword">defer</span> <span class="built_in">println</span>(<span class="number">2</span>)</span><br><span class="line">    <span class="built_in">println</span>(<span class="number">3</span>)</span><br><span class="line">    <span class="built_in">panic</span>(<span class="string">&quot;error occurred&quot;</span>)</span><br><span class="line">    <span class="built_in">println</span>(<span class="number">4</span>)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å‚æ•°åœ¨deferè¯­å¥æ—¶è®¡ç®—</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">tyrDefer2</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">100</span>; i++ &#123;</span><br><span class="line">        <span class="keyword">defer</span> fmt.Println(i)</span><br><span class="line">        <span class="keyword">if</span> i == <span class="number">30</span> &#123;</span><br><span class="line">            <span class="built_in">panic</span>(<span class="string">&quot;printed too many&quot;</span>)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li><font color="skyblue">deferåˆ—è¡¨ä¸ºåè¿›å…ˆå‡ºï¼ˆæ ˆï¼‰</font></li></ul></blockquote><h3 id="ğŸ¥”ä½•æ—¶ä½¿ç”¨deferè°ƒç”¨"><a href="#ğŸ¥”ä½•æ—¶ä½¿ç”¨deferè°ƒç”¨" class="headerlink" title="ğŸ¥”ä½•æ—¶ä½¿ç”¨deferè°ƒç”¨"></a>ğŸ¥”ä½•æ—¶ä½¿ç”¨deferè°ƒç”¨</h3><blockquote><ul><li>Open&#x2F;Close</li><li>Lock&#x2F;Unlock</li><li>PrintHeader&#x2F;PrintFooter</li></ul></blockquote><h2 id="ğŸ¥•ğŸ¥•é”™è¯¯å¤„ç†ä¸€"><a href="#ğŸ¥•ğŸ¥•é”™è¯¯å¤„ç†ä¸€" class="headerlink" title="ğŸ¥•ğŸ¥•é”™è¯¯å¤„ç†ä¸€"></a>ğŸ¥•ğŸ¥•é”™è¯¯å¤„ç†ä¸€</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">file, err := os.Open(<span class="string">&quot;abc.txt&quot;</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="keyword">if</span> pathError, ok := err.(*os.PathError); ok &#123;</span><br><span class="line">        fmt.Println(pathError.Err)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;unknown error&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸŒ½ğŸŒ½é”™è¯¯å¤„ç†äºŒ"><a href="#ğŸŒ½ğŸŒ½é”™è¯¯å¤„ç†äºŒ" class="headerlink" title="ğŸŒ½ğŸŒ½é”™è¯¯å¤„ç†äºŒ"></a>ğŸŒ½ğŸŒ½é”™è¯¯å¤„ç†äºŒ</h2><blockquote><ul><li>å¦‚ä½•å®ç°ç»Ÿä¸€çš„é”™è¯¯å¤„ç†é€»è¾‘ï¼ˆå°è£…+å‡½æ•°ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼ï¼‰</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// handler.go</span></span><br><span class="line"><span class="comment">// å°è£…æ“ä½œå’Œäº§ç”Ÿé”™è¯¯ä¿¡æ¯çš„è¿‡ç¨‹</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HandleFileList</span><span class="params">(writer http.ResponseWriter, request *http.Request)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    path := request.URL.Path[<span class="built_in">len</span>(<span class="string">&quot;/list/&quot;</span>):]</span><br><span class="line">    file, err := os.Open(path)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> err</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">defer</span> file.Close()</span><br><span class="line">    bytes, err := ioutil.ReadAll(file)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span> err</span><br><span class="line">    &#125;</span><br><span class="line">    writer.Write(bytes)</span><br><span class="line">    <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// web.go</span></span><br><span class="line"><span class="comment">// å‡½æ•°ä½œä¸ºå‚æ•°å’Œè¿”å›å€¼</span></span><br><span class="line"><span class="keyword">type</span> appHandler <span class="function"><span class="keyword">func</span><span class="params">(writer http.ResponseWriter, request *http.Request)</span></span> <span class="type">error</span></span><br><span class="line"></span><br><span class="line"><span class="comment">// ç”¨äºç»Ÿä¸€å¤„ç†é”™è¯¯</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">errWrapper</span><span class="params">(handler appHandler)</span></span> <span class="function"><span class="keyword">func</span><span class="params">(http.ResponseWriter, *http.Request)</span></span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="function"><span class="keyword">func</span><span class="params">(writer http.ResponseWriter, request *http.Request)</span></span> &#123;</span><br><span class="line">        err := handler(writer, request)</span><br><span class="line">        <span class="comment">//defer func() &#123;</span></span><br><span class="line">        <span class="comment">//r := recover()</span></span><br><span class="line">        <span class="comment">//if r != nil &#123;</span></span><br><span class="line">        <span class="comment">//log.Printf(&quot;Panic: %v&quot;, r)</span></span><br><span class="line">        <span class="comment">//http.Error(writer, http.StatusText(http.StatusInternalServerError), http.StatusInternalServerError)</span></span><br><span class="line">        <span class="comment">//&#125;</span></span><br><span class="line">        <span class="comment">//&#125;()</span></span><br><span class="line">        <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">            log.Println(<span class="string">&quot;Error handling request: &quot;</span>, err.Error())</span><br><span class="line">            <span class="comment">//if userErr, ok := err.(userError); ok &#123; // ç”¨æˆ·å¯ä»¥çœ‹åˆ°çš„é”™è¯¯</span></span><br><span class="line">            <span class="comment">//http.Error(writer, userErr.Message(), http.StatusBadRequest)</span></span><br><span class="line">            <span class="comment">//return</span></span><br><span class="line">            <span class="comment">//&#125;</span></span><br><span class="line">            code := http.StatusOK</span><br><span class="line">            <span class="keyword">switch</span> &#123;</span><br><span class="line">                <span class="keyword">case</span> os.IsNotExist(err):</span><br><span class="line">                code = http.StatusNotFound <span class="comment">// 404 æœªæ‰¾åˆ°</span></span><br><span class="line">                <span class="keyword">case</span> os.IsPermission(err):</span><br><span class="line">                code = http.StatusForbidden <span class="comment">// 403 ç¦æ­¢è®¿é—®</span></span><br><span class="line">                <span class="keyword">default</span>:</span><br><span class="line">                code = http.StatusInternalServerError <span class="comment">// 500 å†…éƒ¨æœåŠ¡å™¨é”™è¯¯</span></span><br><span class="line">            &#125;</span><br><span class="line">            http.Error(writer, http.StatusText(code), code)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// mainå‡½æ•°å…¥å£</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    http.HandleFunc(<span class="string">&quot;/list/&quot;</span>, errWrapper(filelisting.HandleFileList))</span><br><span class="line"><span class="comment">// http://localhost:8888/list/fib.txt</span></span><br><span class="line">    err := http.ListenAndServe(<span class="string">&quot;:8888&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><strong>ç°åœ¨è¦ç¡®å®šå“ªäº›é”™è¯¯æ˜¯å¯ä»¥ç»™ç”¨æˆ·çœ‹åˆ°çš„</strong></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// handler.go å¢åŠ äº†</span></span><br><span class="line"><span class="keyword">const</span> prefix = <span class="string">&quot;/list/&quot;</span></span><br><span class="line"><span class="keyword">type</span> userError <span class="type">string</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u userError)</span></span> Error() <span class="type">string</span> &#123; <span class="comment">// ç»™å¼€å‘è€…çœ‹çš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="comment">//TODO implement me</span></span><br><span class="line">    <span class="keyword">return</span> u.Message()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(u userError)</span></span> Message() <span class="type">string</span> &#123; <span class="comment">// ç»™ç”¨æˆ·çœ‹çš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    <span class="comment">//TODO implement me</span></span><br><span class="line">    <span class="keyword">return</span> <span class="type">string</span>(u)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">HandleFileList</span><span class="params">(writer http.ResponseWriter, request *http.Request)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">    <span class="comment">// åˆ¤æ–­è·¯å¾„æ˜¯å¦æ˜¯ä»¥ /list/ å¼€å¤´</span></span><br><span class="line">    <span class="keyword">if</span> strings.Index(request.URL.Path, prefix) != <span class="number">0</span> &#123; </span><br><span class="line">        <span class="keyword">return</span> userError(<span class="string">&quot;path must start with &quot;</span> + prefix)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// web.go å¢åŠ äº†</span></span><br><span class="line"><span class="keyword">type</span> userError <span class="keyword">interface</span> &#123;</span><br><span class="line">    <span class="type">error</span>            <span class="comment">// ç»™å¼€å‘è€…çœ‹çš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">    Message() <span class="type">string</span> <span class="comment">// ç»™ç”¨æˆ·çœ‹çš„é”™è¯¯ä¿¡æ¯</span></span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// errWapperä¸­å¢åŠ éƒ¨åˆ†</span></span><br><span class="line"><span class="comment">// è‡ªå®šä¹‰recoveråçš„å¤„ç†</span></span><br><span class="line"><span class="keyword">defer</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := <span class="built_in">recover</span>()</span><br><span class="line">    <span class="keyword">if</span> r != <span class="literal">nil</span> &#123;</span><br><span class="line">        log.Printf(<span class="string">&quot;Panic: %v&quot;</span>, r)</span><br><span class="line">        http.Error(writer, http.StatusText(http.StatusInternalServerError), http.StatusInternalServerError)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;()</span><br><span class="line"><span class="comment">// åˆ¤æ–­æ˜¯ä¸æ˜¯ç”¨æˆ·é”™è¯¯</span></span><br><span class="line"><span class="keyword">if</span> userErr, ok := err.(userError); ok &#123; </span><br><span class="line">    http.Error(writer, userErr.Message(), http.StatusBadRequest)</span><br><span class="line">    <span class="keyword">return</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸŒ¶ğŸŒ¶recover"><a href="#ğŸŒ¶ğŸŒ¶recover" class="headerlink" title="ğŸŒ¶ğŸŒ¶recover"></a>ğŸŒ¶ğŸŒ¶recover</h2><blockquote><p><font color="skyblue">recoverå°±æ˜¯åœ¨ç¡®ä¿ç¨‹åºå‡ºç°erroræˆ–è€…panicåä¸å®•æœºï¼Œè¿™æ˜¯goè¯­è¨€å¯¹åº”æœåŠ¡é”™è¯¯çš„ä¸€ç§ä¿æŠ¤æœºåˆ¶</font></p><ul><li>ä»…åœ¨deferè°ƒç”¨ä¸­ä½¿ç”¨</li><li>è·å–panicçš„å€¼</li><li>å¦‚æœæ— æ³•å¤„ç†ï¼Œå¯é‡æ–°panic</li></ul></blockquote><h2 id="ğŸ«‘ğŸ«‘error-vs-panic"><a href="#ğŸ«‘ğŸ«‘error-vs-panic" class="headerlink" title="ğŸ«‘ğŸ«‘error vs panic"></a>ğŸ«‘ğŸ«‘error vs panic</h2><blockquote><ul><li>æ„æ–™ä¹‹ä¸­çš„ï¼šä½¿ç”¨errorã€‚å¦‚ï¼šæ–‡ä»¶æ‰“ä¸å¼€</li><li>æ„æ–™ä¹‹å¤–çš„ï¼šä½¿ç”¨panicã€‚å¦‚ï¼šæ•°ç»„è¶Šç•Œ</li></ul></blockquote><h2 id="ğŸ¥’ğŸ¥’é”™è¯¯å¤„ç†çš„ç»¼åˆå®ä¾‹"><a href="#ğŸ¥’ğŸ¥’é”™è¯¯å¤„ç†çš„ç»¼åˆå®ä¾‹" class="headerlink" title="ğŸ¥’ğŸ¥’é”™è¯¯å¤„ç†çš„ç»¼åˆå®ä¾‹"></a>ğŸ¥’ğŸ¥’é”™è¯¯å¤„ç†çš„ç»¼åˆå®ä¾‹</h2><blockquote><ul><li>defer + panic + recover</li><li>Type Assertion</li><li>å‡½æ•°å¼ç¼–ç¨‹çš„åº”ç”¨</li></ul><p>å¯¹Type Assertionè¿›è¡Œè§£é‡Šï¼š</p><p>goæä¾›äº†ä¸€ç§æ–¹å¼è®©æˆ‘ä»¬å¯ä»¥<font color="skyblue">åˆ¤æ–­æŸä¸ªæ¥å£æ‰€ç»‘å®šçš„ç±»å‹æ˜¯å¦æºæœ‰æŸç§å…¶ä»–ç±»å‹</font></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">t, ok := i.(T)</span><br><span class="line">userErr, ok := err.(userError) <span class="comment">//åˆ¤æ–­è¿”å›çš„errä¸­æœ‰æ²¡æœ‰userErrorè¿™ç§ç±»å‹</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="ğŸ¦€ğŸ¦€ğŸ¦€æµ‹è¯•"><a href="#ğŸ¦€ğŸ¦€ğŸ¦€æµ‹è¯•" class="headerlink" title="ğŸ¦€ğŸ¦€ğŸ¦€æµ‹è¯•"></a>ğŸ¦€ğŸ¦€ğŸ¦€æµ‹è¯•</h1><p><img src="/2023/06/06/go-basic-learning-week02/image-20230607221401956.png" alt="image-20230607221401956"></p><h2 id="ğŸ¦ğŸ¦ä¼ ç»Ÿæµ‹è¯•-vs-è¡¨æ ¼é©±åŠ¨æµ‹è¯•"><a href="#ğŸ¦ğŸ¦ä¼ ç»Ÿæµ‹è¯•-vs-è¡¨æ ¼é©±åŠ¨æµ‹è¯•" class="headerlink" title="ğŸ¦ğŸ¦ä¼ ç»Ÿæµ‹è¯• vs è¡¨æ ¼é©±åŠ¨æµ‹è¯•"></a>ğŸ¦ğŸ¦ä¼ ç»Ÿæµ‹è¯• vs è¡¨æ ¼é©±åŠ¨æµ‹è¯•</h2><h3 id="ğŸ¦ä¼ ç»Ÿæµ‹è¯•"><a href="#ğŸ¦ä¼ ç»Ÿæµ‹è¯•" class="headerlink" title="ğŸ¦ä¼ ç»Ÿæµ‹è¯•"></a>ğŸ¦ä¼ ç»Ÿæµ‹è¯•</h3><blockquote><figure class="highlight java"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">@Test</span> <span class="keyword">public</span> <span class="keyword">void</span> <span class="title function_">testAdd</span><span class="params">()</span> &#123; <span class="comment">// java</span></span><br><span class="line">    assertEquals(<span class="number">3</span>,add(<span class="number">1</span>,<span class="number">2</span>));</span><br><span class="line">    assertEquals(<span class="number">2</span>,add(<span class="number">0</span>,<span class="number">2</span>));</span><br><span class="line">    assertEquals(<span class="number">0</span>,add(<span class="number">0</span>,<span class="number">0</span>));</span><br><span class="line">    assertEquals(<span class="number">0</span>,add(-<span class="number">1</span>,<span class="number">1</span>));</span><br><span class="line">    assertEquals(Integer.MIN_VALUE, add(<span class="number">1</span>, Integer.MAX_VALUE));</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æµ‹è¯•æ•°æ®å’Œæµ‹è¯•é€»è¾‘æ··åœ¨ä¸€èµ·</li><li>å‡ºé”™ä¿¡æ¯ä¸æ˜ç¡®</li><li>ä¸€æ—¦ä¸€ä¸ªæ•°æ®å‡ºé”™æµ‹è¯•å…¨éƒ¨ç»“æŸ</li></ul></blockquote><h3 id="ğŸ¦‘è¡¨æ ¼é©±åŠ¨æµ‹è¯•"><a href="#ğŸ¦‘è¡¨æ ¼é©±åŠ¨æµ‹è¯•" class="headerlink" title="ğŸ¦‘è¡¨æ ¼é©±åŠ¨æµ‹è¯•"></a>ğŸ¦‘è¡¨æ ¼é©±åŠ¨æµ‹è¯•</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•å‹¾è‚¡å®šç†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestTriangle</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    tests := []<span class="keyword">struct</span>&#123; a, b, c <span class="type">int</span> &#125;&#123;</span><br><span class="line">        &#123;<span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>&#125;,</span><br><span class="line">        &#123;<span class="number">5</span>, <span class="number">12</span>, <span class="number">13</span>&#125;,</span><br><span class="line">        &#123;<span class="number">8</span>, <span class="number">15</span>, <span class="number">17</span>&#125;,</span><br><span class="line">        &#123;<span class="number">12</span>, <span class="number">35</span>, <span class="number">37</span>&#125;,</span><br><span class="line">        &#123;<span class="number">30000</span>, <span class="number">40000</span>, <span class="number">50000</span>&#125;,</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</span><br><span class="line">        <span class="keyword">if</span> actual := calcTriangle(tt.a, tt.b); actual != tt.c &#123;</span><br><span class="line">            t.Errorf(<span class="string">&quot;calcTriangle(%d,%d); &quot;</span>+</span><br><span class="line">                     <span class="string">&quot;got %d; expected %d&quot;</span>,</span><br><span class="line">                     tt.a, tt.b, actual, tt.c)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åˆ†ç¦»çš„æµ‹è¯•æ•°æ®å’Œæµ‹è¯•é€»è¾‘</li><li>æ˜ç¡®çš„å‡ºé”™ä¿¡æ¯</li><li>å¯ä»¥éƒ¨åˆ†å¤±è´¥</li></ul></blockquote><h2 id="ğŸ¦ªğŸ¦ªä»£ç è¦†ç›–ç‡"><a href="#ğŸ¦ªğŸ¦ªä»£ç è¦†ç›–ç‡" class="headerlink" title="ğŸ¦ªğŸ¦ªä»£ç è¦†ç›–ç‡"></a>ğŸ¦ªğŸ¦ªä»£ç è¦†ç›–ç‡</h2><blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608093542543.png" alt="image-20230608093542543"></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608093637100.png" alt="image-20230608093637100"></p><p>ä¸‹é¢ä½¿ç”¨å‘½ä»¤è¡Œcmdè¿›è¡Œæµ‹è¯•</p><ul><li><code>go test -coverprofile=&quot;c.out&quot;</code>ï¼ˆ<font color="red">æ³¨æ„ï¼šæˆ‘æ˜¯è¦åŠ ä¸Šâ€œâ€æ‰èƒ½æ‰§è¡ŒæˆåŠŸ)</font></li><li><code>go tool cover -html=&quot;c.out&quot;</code></li></ul><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608101853833.png" alt="image-20230608101853833"></p></blockquote><p>ä½¿ç”¨å‘½ä»¤è¡Œcmdè¿›è¡Œæµ‹è¯•</p><h2 id="ğŸ¦ğŸ¦æ€§èƒ½æµ‹è¯•"><a href="#ğŸ¦ğŸ¦æ€§èƒ½æµ‹è¯•" class="headerlink" title="ğŸ¦ğŸ¦æ€§èƒ½æµ‹è¯•"></a>ğŸ¦ğŸ¦æ€§èƒ½æµ‹è¯•</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æµ‹è¯•é€Ÿåº¦</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">BenchmarkSubstr</span><span class="params">(b *testing.B)</span></span> &#123;</span><br><span class="line">    s := <span class="string">&quot;é»‘åŒ–è‚¥æŒ¥å‘å‘ç°ä¼šèŠ±é£ç°åŒ–è‚¥æŒ¥å‘å‘é»‘ä¼šé£èŠ±&quot;</span></span><br><span class="line">    ans := <span class="number">8</span></span><br><span class="line"></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; b.N; i++ &#123;</span><br><span class="line">        actual := lengthOfNonRepeatingSubStr(s)</span><br><span class="line">        <span class="keyword">if</span> actual != ans &#123;</span><br><span class="line">            b.Errorf(<span class="string">&quot;Got %d for input %s; expected %d&quot;</span>, actual, s, ans)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">goos: windows </span><br><span class="line">goarch: amd64 </span><br><span class="line">pkg: imooc.com/ccmouse/learngo/chapter01/nonrepeatingsubstr</span><br><span class="line">cpu: Intel(R) Core(TM) i5-1035G1 CPU @ 1.00GHz</span><br><span class="line">BenchmarkSubstr</span><br><span class="line">BenchmarkSubstr-8        1224705(æµ‹è¯•æ¬¡æ•°)       1014 ns/opï¼ˆæ¯æ¬¡è€—è´¹çš„æ—¶é—´ï¼‰</span><br><span class="line">PASS</span><br></pre></td></tr></table></figure><ul><li><code>go test -bench .</code></li></ul></blockquote><h2 id="ğŸ§ğŸ§ä½¿ç”¨pprofè¿›è¡Œæ€§èƒ½è°ƒä¼˜"><a href="#ğŸ§ğŸ§ä½¿ç”¨pprofè¿›è¡Œæ€§èƒ½è°ƒä¼˜" class="headerlink" title="ğŸ§ğŸ§ä½¿ç”¨pprofè¿›è¡Œæ€§èƒ½è°ƒä¼˜"></a>ğŸ§ğŸ§ä½¿ç”¨pprofè¿›è¡Œæ€§èƒ½è°ƒä¼˜</h2><blockquote><p>æ­¥éª¤å¦‚ä¸‹ï¼š</p><ul><li><code>go test -bench .</code> (é€‰åš)</li><li><code> go test -bench . -cpuprofile cpu.out</code></li><li><code>go tool pprof .\cpu.out</code></li><li><code>(pprof) web</code> ï¼ˆå‰ææ˜¯ä¸‹è½½å¥½<a href="https://www.graphviz.org/">Graphviz</a>ï¼ŒåŒæ—¶é…ç½®å¥½ç¯å¢ƒå˜é‡å³å¯ï¼‰</li></ul><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608110808876.png" alt="image-20230608110808876"></p><blockquote><p>é€‰æ‹© Add Graphiz to the system PATH for all users å<strong>è‡ªåŠ¨é…ç½®ç¯å¢ƒå˜é‡</strong></p></blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608111418960.png" alt="image-20230608111418960"></p><p><font color="skyblue">çº¢æ¡†è¶Šå¤§ï¼Œç®­å¤´è¶Šç²—åˆ™è¡¨ç¤ºè€—æ—¶è¶Šé•¿</font></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608111844267.png" alt="image-20230608111844267"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ ¹æ®Graphvizå›¾é€‰æ‹©å¯¹mapè¿›è¡Œä¼˜åŒ– ç©ºé—´æ¢æ—¶é—´</span></span><br><span class="line"><span class="keyword">var</span> lastOccurred = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="number">0xffff</span>) <span class="comment">// 65535</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">lengthOfNonRepeatingSubStr</span><span class="params">(s <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line">    <span class="comment">//lastOccurred := make(map[rune]int) mapè€—æ—¶å¤š</span></span><br><span class="line">    <span class="comment">// lastOccurred[&#x27;e&#x27;] = 1</span></span><br><span class="line">    <span class="comment">// lastOccurred[0x65] = 6  &#x27;e&#x27; = 0x65</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> lastOccurred &#123;</span><br><span class="line">        lastOccurred[i] = <span class="number">-1</span></span><br><span class="line">    &#125;</span><br><span class="line">    start := <span class="number">0</span></span><br><span class="line">    maxLength := <span class="number">0</span></span><br><span class="line">    <span class="keyword">for</span> i, ch := <span class="keyword">range</span> []<span class="type">rune</span>(s) &#123;</span><br><span class="line">        <span class="keyword">if</span> lastI := lastOccurred[ch]; lastI != <span class="number">-1</span> &amp;&amp; lastI &gt;= start &#123;</span><br><span class="line">            start = lastI + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> i-start+<span class="number">1</span> &gt; maxLength &#123;</span><br><span class="line">            maxLength = i - start + <span class="number">1</span></span><br><span class="line">        &#125;</span><br><span class="line">        lastOccurred[ch] = i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maxLength</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ€§èƒ½è°ƒä¼˜æ­¥éª¤ï¼š</p><ul><li>-cpuprofileè·å–æ€§èƒ½æ•°æ®</li><li>go tool pprof æŸ¥çœ‹æ€§èƒ½æ•°æ®</li><li>åˆ†ææ…¢åœ¨å“ªé‡Œ</li><li>ä¼˜åŒ–ä»£ç </li></ul></blockquote><h2 id="ğŸ¨ğŸ¨httpæµ‹è¯•"><a href="#ğŸ¨ğŸ¨httpæµ‹è¯•" class="headerlink" title="ğŸ¨ğŸ¨httpæµ‹è¯•"></a>ğŸ¨ğŸ¨httpæµ‹è¯•</h2><blockquote><ul><li>é€šè¿‡ä½¿ç”¨å‡çš„Request&#x2F;Response ï¼ˆå¿«ï¼Œç²’åº¦ç»†ï¼Œåƒå•å…ƒæµ‹è¯•ï¼‰</li><li>é€šè¿‡èµ·æœåŠ¡å™¨ (é›†æˆåº¦é«˜ï¼Œä»£ç è¦†ç›–ç‡é«˜ï¼Œä½†æ˜¯æ…¢)</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åªæ˜¯æµ‹è¯•äº†é”™è¯¯å¤„ç†å‡½æ•°</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestErrorWrapper</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</span><br><span class="line">        f := errWrapper(tt.h)</span><br><span class="line">        response := httptest.NewRecorder()</span><br><span class="line">        request := httptest.NewRequest(http.MethodGet, <span class="string">&quot;http://www.imooc.com&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line">        f(response, request)</span><br><span class="line">        verifyResponse(response.Result(), tt.code, tt.message, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æµ‹è¯•äº†æ•´ä¸ªæœåŠ¡å™¨</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">TestErrWrapperInServer</span><span class="params">(t *testing.T)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> _, tt := <span class="keyword">range</span> tests &#123;</span><br><span class="line">        f := errWrapper(tt.h)</span><br><span class="line">        server := httptest.NewServer(http.HandlerFunc(f))</span><br><span class="line">        resp, _ := http.Get(server.URL)</span><br><span class="line">        verifyResponse(resp, tt.code, tt.message, t)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸ©ğŸ©ç”Ÿæˆæ–‡æ¡£å’Œå®ä¾‹ä»£ç "><a href="#ğŸ©ğŸ©ç”Ÿæˆæ–‡æ¡£å’Œå®ä¾‹ä»£ç " class="headerlink" title="ğŸ©ğŸ©ç”Ÿæˆæ–‡æ¡£å’Œå®ä¾‹ä»£ç "></a>ğŸ©ğŸ©ç”Ÿæˆæ–‡æ¡£å’Œå®ä¾‹ä»£ç </h2><blockquote><p>ä½¿ç”¨ go doc æŸ¥çœ‹æ–‡æ¡£</p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608163914918.png" alt="image-20230608163914918"></p><p>ä½¿ç”¨ godoc ç”Ÿæˆæ–‡æ¡£</p><p><font color="red">æ³¨æ„å¯èƒ½ä¼šæ‰§è¡Œå¤±è´¥ï¼Œè¯´æ— æ³•è¯†åˆ«godoc</font></p><ul><li><code>go get golang.org/x/tools/cmd/godoc</code> æ‰§è¡Œè¯¥æŒ‡ä»¤å³å¯ï¼ˆæœ€å¥½ç§‘å­¦ä¸Šç½‘ï¼‰</li></ul><p>æˆåŠŸåæ‰§è¡Œ <code>godoc -http :6060</code></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608164314967.png" alt="image-20230608164314967"></p><p>å¯ä»¥çœ‹åˆ°è‡ªå·±é¡¹ç›®çš„ç›®å½•ç»“æ„äº†</p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608164348977.png" alt="image-20230608164348977"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹åº”æ³¨é‡Š queue.go</span></span><br><span class="line"><span class="comment">// An FIFO queue</span></span><br><span class="line"><span class="keyword">type</span> Queue []<span class="keyword">interface</span>&#123;&#125;</span><br><span class="line"><span class="comment">// Pushes the element into the queue</span></span><br><span class="line"><span class="comment">// q.Push(123)</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(q *Queue)</span></span> Push(v <span class="keyword">interface</span>&#123;&#125;) &#123;</span><br><span class="line">    *q = <span class="built_in">append</span>(*q, v)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Pops element from head</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(q *Queue)</span></span> Pop() <span class="keyword">interface</span>&#123;&#125; &#123;</span><br><span class="line">    head := (*q)[<span class="number">0</span>]</span><br><span class="line">    *q = (*q)[<span class="number">1</span>:]</span><br><span class="line">    <span class="keyword">return</span> head.(<span class="type">int</span>)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// Returns if the queue is empty or not</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(q *Queue)</span></span> IsEmpty() <span class="type">bool</span> &#123;</span><br><span class="line">    <span class="keyword">return</span> <span class="built_in">len</span>(*q) == <span class="number">0</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608164544009.png" alt="image-20230608164544009"></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608164652959.png" alt="image-20230608164652959"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å¯¹åº”ä»£ç  queue_test.go</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">ExampleQueue_Pop</span><span class="params">()</span></span> &#123;</span><br><span class="line">    q := Queue&#123;<span class="number">1</span>&#125;</span><br><span class="line">    q.Push(<span class="number">2</span>)</span><br><span class="line">    q.Push(<span class="number">3</span>)</span><br><span class="line">    fmt.Println(q.Pop())</span><br><span class="line">    fmt.Println(q.Pop())</span><br><span class="line">    fmt.Println(q.IsEmpty())</span><br><span class="line">    fmt.Println(q.Pop())</span><br><span class="line">    fmt.Println(q.IsEmpty())</span><br><span class="line"></span><br><span class="line">    <span class="comment">// Output: è¦å†™äº†Outputæ‰ä¼šæœ‰æ‰§è¡Œç®­å¤´</span></span><br><span class="line">    <span class="comment">// 1</span></span><br><span class="line">    <span class="comment">// 2</span></span><br><span class="line">    <span class="comment">// false</span></span><br><span class="line">    <span class="comment">// 3</span></span><br><span class="line">    <span class="comment">// true</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸªæ–‡æ¡£"><a href="#ğŸªæ–‡æ¡£" class="headerlink" title="ğŸªæ–‡æ¡£"></a>ğŸªæ–‡æ¡£</h3><blockquote><ul><li>ç”¨æ³¨é‡Šå†™æ–‡æ¡£</li><li>åœ¨æµ‹è¯•ä¸­åŠ å…¥Example</li><li>ä½¿ç”¨ go doc (æŸ¥çœ‹) &#x2F; godocï¼ˆç”Ÿæˆï¼‰æ–‡æ¡£</li></ul></blockquote><h1 id="ğŸ‚ğŸ‚ğŸ‚Goroutine"><a href="#ğŸ‚ğŸ‚ğŸ‚Goroutine" class="headerlink" title="ğŸ‚ğŸ‚ğŸ‚Goroutine"></a>ğŸ‚ğŸ‚ğŸ‚Goroutine</h1><blockquote><p>åªéœ€è¦ä¸€ä¸ª<code>go</code>å…³é”®å­—å°±å¯ä»¥å®ç°å¹¶å‘ç¼–ç¨‹å•¦</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">1000</span>; i++ &#123;</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            <span class="comment">// I/Oæ“ä½œä¼šè¿›è¡Œçº¿ç¨‹ï¼ˆåç¨‹ï¼‰åˆ‡æ¢</span></span><br><span class="line">            fmt.Printf(<span class="string">&quot;Hello from goroutine %d\n&quot;</span>, i) </span><br><span class="line">        &#125;</span><br><span class="line">    &#125;(i)</span><br><span class="line">&#125;</span><br><span class="line">time.Sleep(time.Millisecond)</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// å»æ‰I/Oæ“ä½œï¼ŒéªŒè¯æ˜¯å¦æ˜¯éæŠ¢å å¼çš„åç¨‹</span></span><br><span class="line"><span class="keyword">var</span> a [<span class="number">10</span>]<span class="type">int</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(i <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            a[i]++</span><br><span class="line">            runtime.Gosched() <span class="comment">// äº¤å‡ºæ§åˆ¶æƒ</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;(i)</span><br><span class="line">&#125;</span><br><span class="line">time.Sleep(time.Millisecond)</span><br><span class="line">fmt.Println(a)</span><br></pre></td></tr></table></figure><ul><li><code>go run -race .\goroutine.go</code> å¯ä»¥æŸ¥çœ‹æ˜¯å¦å­˜åœ¨ <code>race condition! ï¼ˆè®¡ç®—æœºï¼‰ç«æ€æ¡ä»¶</code></li></ul><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608200414918.png" alt="image-20230608200414918"></p></blockquote><h2 id="ğŸ¬ğŸ¬åç¨‹-Coroutine"><a href="#ğŸ¬ğŸ¬åç¨‹-Coroutine" class="headerlink" title="ğŸ¬ğŸ¬åç¨‹ Coroutine"></a>ğŸ¬ğŸ¬åç¨‹ Coroutine</h2><blockquote><p>go å†…éƒ¨æ˜¯ åç¨‹</p><ul><li>è½»é‡çº§â€œçº¿ç¨‹â€</li><li><font color="red">éæŠ¢å å¼</font>å¤šä»»åŠ¡å¤„ç†ï¼Œç”±åç¨‹ä¸»åŠ¨äº¤å‡ºæ§åˆ¶æƒ</li><li>ç¼–è¯‘å™¨&#x2F;è§£é‡Šå™¨&#x2F;è™šæ‹Ÿæœºå±‚é¢çš„å¤šä»»åŠ¡ï¼ˆosæ²¡æœ‰åç¨‹ï¼‰</li><li>å¤šä¸ªåç¨‹å¯èƒ½åœ¨ä¸€ä¸ªæˆ–å¤šä¸ªçº¿ç¨‹ä¸Šè¿è¡Œ</li></ul></blockquote><h2 id="ğŸ­ğŸ­goè¯­è¨€çš„è°ƒåº¦å™¨"><a href="#ğŸ­ğŸ­goè¯­è¨€çš„è°ƒåº¦å™¨" class="headerlink" title="ğŸ­ğŸ­goè¯­è¨€çš„è°ƒåº¦å™¨"></a>ğŸ­ğŸ­goè¯­è¨€çš„è°ƒåº¦å™¨</h2><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608201544168.png" alt="image-20230608201544168"></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608204433658.png" alt="image-20230608204433658"></p><h3 id="ğŸ•å…¶ä»–è¯­è¨€ä¸­çš„åç¨‹"><a href="#ğŸ•å…¶ä»–è¯­è¨€ä¸­çš„åç¨‹" class="headerlink" title="ğŸ•å…¶ä»–è¯­è¨€ä¸­çš„åç¨‹"></a>ğŸ•å…¶ä»–è¯­è¨€ä¸­çš„åç¨‹</h3><blockquote><ul><li>C++ï¼šBoost.Coroutine</li><li>Javaï¼šä¸æ”¯æŒ</li><li>pythonä¸­çš„åç¨‹<ul><li>ä½¿ç”¨yieldå…³é”®å­—å®ç°åç¨‹</li><li>Python3.5åŠ å…¥äº†<code>async def</code>å¯¹åç¨‹åŸç”Ÿæ”¯æŒ</li></ul></li></ul></blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608201952155.png" alt="image-20230608201952155"></p><h2 id="ğŸ¥µğŸ¥µgoroutineçš„å®šä¹‰"><a href="#ğŸ¥µğŸ¥µgoroutineçš„å®šä¹‰" class="headerlink" title="ğŸ¥µğŸ¥µgoroutineçš„å®šä¹‰"></a>ğŸ¥µğŸ¥µgoroutineçš„å®šä¹‰</h2><blockquote><ul><li>ä»»ä½•å‡½æ•°åªéœ€åŠ ä¸Šgoå°±èƒ½é€ç»™è°ƒåº¦å™¨è¿è¡Œ</li><li>ä¸éœ€è¦åœ¨å®šä¹‰æ—¶åŒºåˆ†æ˜¯å¦æ˜¯å¼‚æ­¥å‡½æ•°</li><li>è°ƒåº¦å™¨åœ¨åˆé€‚çš„ç‚¹è¿›è¡Œåˆ‡æ¢</li><li>ä½¿ç”¨-raceæ¥æ£€æµ‹æ•°æ®è®¿é—®å†²çª</li></ul></blockquote><h2 id="ğŸ¤“ğŸ¤“goroutineå¯èƒ½çš„åˆ‡æ¢ç‚¹"><a href="#ğŸ¤“ğŸ¤“goroutineå¯èƒ½çš„åˆ‡æ¢ç‚¹" class="headerlink" title="ğŸ¤“ğŸ¤“goroutineå¯èƒ½çš„åˆ‡æ¢ç‚¹"></a>ğŸ¤“ğŸ¤“goroutineå¯èƒ½çš„åˆ‡æ¢ç‚¹</h2><blockquote><ul><li>I&#x2F;O,select</li><li>channel</li><li>ç­‰å¾…é”</li><li>å‡½æ•°è°ƒç”¨ï¼ˆæœ‰æ—¶ï¼‰</li><li>runtime.Gosched()</li></ul><p>åªæ˜¯å‚è€ƒï¼Œä¸èƒ½ä¿è¯åˆ‡æ¢ï¼Œä¸èƒ½ä¿è¯åœ¨å…¶ä»–åœ°æ–¹ä¸åˆ‡æ¢</p></blockquote><h2 id="ğŸ¤²ğŸ¤²æŸ¥çœ‹çº¿ç¨‹æ•°"><a href="#ğŸ¤²ğŸ¤²æŸ¥çœ‹çº¿ç¨‹æ•°" class="headerlink" title="ğŸ¤²ğŸ¤²æŸ¥çœ‹çº¿ç¨‹æ•°"></a>ğŸ¤²ğŸ¤²æŸ¥çœ‹çº¿ç¨‹æ•°</h2><blockquote><p>Linunx ä½¿ç”¨<code> top</code>ï¼Œ Windowsæ²¡æœ‰æ‰¾åˆ°ğŸ’¦ğŸ’¦ğŸ’¦</p><p>è¿™é‡Œçš„ X&#x2F;Y: <strong>Yçš„æœ€å¤§å€¼å–å†³äºç”µè„‘çš„æ ¸æ•°</strong></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608203956811.png" alt="image-20230608203956811"></p></blockquote><h1 id="ğŸ¦ŠğŸ¦ŠğŸ¦ŠChannelï¼ˆç®¡é“ï¼‰"><a href="#ğŸ¦ŠğŸ¦ŠğŸ¦ŠChannelï¼ˆç®¡é“ï¼‰" class="headerlink" title="ğŸ¦ŠğŸ¦ŠğŸ¦ŠChannelï¼ˆç®¡é“ï¼‰"></a>ğŸ¦ŠğŸ¦ŠğŸ¦ŠChannelï¼ˆç®¡é“ï¼‰</h1><blockquote><p>Channelçš„ç†è®ºåŸºç¡€ï¼šCommunication Sequential Process(CSP)</p></blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608212221388.png" alt="image-20230608212221388"></p><blockquote><ul><li>Channel as first-class citizen</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// channelä½œä¸ºä¸€ç­‰å…¬æ°‘ï¼Œå¯ä»¥ç”¨ä½œå‚æ•°ï¼Œè¿”å›å€¼ï¼Œæ•°ç»„</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createWorker</span><span class="params">(id <span class="type">int</span>)</span></span> <span class="keyword">chan</span>&lt;- <span class="type">int</span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            fmt.Printf(<span class="string">&quot;Worker %d received %c\n&quot;</span>, id, &lt;-c)</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">chanDemo</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> channels [<span class="number">10</span>]<span class="keyword">chan</span>&lt;- <span class="type">int</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        channels[i] = createWorker(i)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        channels[i] &lt;- <span class="string">&#x27;a&#x27;</span> + i</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">        channels[i] &lt;- <span class="string">&#x27;A&#x27;</span> + i</span><br><span class="line">    &#125;</span><br><span class="line">    time.Sleep(time.Millisecond)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p><font color="skyblue">è¿™é‡Œæœ‰ä¸ªéš¾ç‚¹å°±æ˜¯å¦‚ä½•åŒºåˆ† <code>chan&lt;- å’Œ &lt;-chan</code> </font></p><p>æˆ‘çš„ç†è§£æ˜¯ï¼šè¿™é‡Œçš„ n &#x3D; å˜é‡</p><ul><li><p><strong>chan&lt;- è¡¨æ˜æ•°æ®åªèƒ½å‘ç®¡é“å‘é€ï¼Œï¼ˆå¯¹äºnï¼Œå³åªèƒ½å‘é€ä¸èƒ½æ¥æ”¶ï¼‰</strong></p></li><li><p><strong>&lt;-chan è¡¨æ˜æ•°æ®åªèƒ½ä»ç®¡é“å‡ºå»ï¼Œï¼ˆå¯¹äºnï¼Œå³åªèƒ½æ¥æ”¶ä¸èƒ½å‘é€ï¼‰</strong></p></li><li><p>Buffered channel</p></li></ul><p>ä¸€èˆ¬åªè¦channelä¸­æœ‰æ•°æ®ä½†æ˜¯æ²¡æœ‰äººæ¥æ”¶ï¼Œé‚£ä¹ˆå°±ä¼šæŠ¥é”™ ï¼deadLockï¼</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">bufferedChannel</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>) <span class="comment">// è¡¨ç¤ºå¯ä»¥ç¼“å­˜3ä¸ªæ•°æ®</span></span><br><span class="line">    <span class="keyword">go</span> worker(<span class="number">0</span>, c)</span><br><span class="line">    c &lt;- <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    c &lt;- <span class="string">&#x27;b&#x27;</span></span><br><span class="line">    c &lt;- <span class="string">&#x27;c&#x27;</span></span><br><span class="line">    c &lt;- <span class="string">&#x27;d&#x27;</span></span><br><span class="line">    time.Sleep(time.Millisecond)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>Channel close and range</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸¤ç§å‘é€æ–¹å…³é—­æ–¹å¼</span></span><br><span class="line"><span class="comment">// æ–¹å¼ä¸€</span></span><br><span class="line"><span class="keyword">for</span> n := <span class="keyword">range</span> c &#123;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Worker %d received %c\n&quot;</span>, id, n)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// æ–¹å¼äºŒ</span></span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">    n, ok := &lt;-c</span><br><span class="line">    <span class="keyword">if</span> !ok &#123;</span><br><span class="line">        <span class="keyword">break</span></span><br><span class="line">    &#125;</span><br><span class="line">    fmt.Printf(<span class="string">&quot;Worker %d received %c\n&quot;</span>, id, n)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// å‘é€æ–¹ä¸»åŠ¨å…³é—­</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">channelClose</span><span class="params">()</span></span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>, <span class="number">3</span>)</span><br><span class="line">    <span class="keyword">go</span> worker(<span class="number">0</span>, c)</span><br><span class="line">    c &lt;- <span class="string">&#x27;a&#x27;</span></span><br><span class="line">    c &lt;- <span class="string">&#x27;b&#x27;</span></span><br><span class="line">    c &lt;- <span class="string">&#x27;c&#x27;</span></span><br><span class="line">    c &lt;- <span class="string">&#x27;d&#x27;</span></span><br><span class="line">    <span class="built_in">close</span>(c)</span><br><span class="line">    time.Sleep(time.Millisecond)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><p><img src="/2023/06/06/go-basic-learning-week02/image-20230608215513102.png" alt="image-20230608215513102"></p><h2 id="ğŸµğŸµä¾‹ä¸€ï¼šä½¿ç”¨Channelæ¥ç­‰å¾…goroutineç»“æŸ"><a href="#ğŸµğŸµä¾‹ä¸€ï¼šä½¿ç”¨Channelæ¥ç­‰å¾…goroutineç»“æŸ" class="headerlink" title="ğŸµğŸµä¾‹ä¸€ï¼šä½¿ç”¨Channelæ¥ç­‰å¾…goroutineç»“æŸ"></a>ğŸµğŸµä¾‹ä¸€ï¼šä½¿ç”¨Channelæ¥ç­‰å¾…goroutineç»“æŸ</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="comment">// done.go</span></span><br><span class="line"><span class="keyword">type</span> worker <span class="keyword">struct</span> &#123;</span><br><span class="line">     in   <span class="keyword">chan</span> <span class="type">int</span></span><br><span class="line">     done <span class="function"><span class="keyword">func</span><span class="params">()</span></span></span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">func</span> <span class="title">doWork</span><span class="params">(id <span class="type">int</span>, w worker)</span></span> &#123;</span><br><span class="line">     <span class="keyword">for</span> n := <span class="keyword">range</span> w.in &#123;</span><br><span class="line">           fmt.Printf(<span class="string">&quot;Worker %d received %c\n&quot;</span>, id, n)</span><br><span class="line">           <span class="comment">//go func() &#123; done &lt;- true &#125;() æœ€ç›´æ¥çš„ä¸€ç§è§£å†³æ–¹æ³•</span></span><br><span class="line">           w.done()</span><br><span class="line">       &#125;</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">func</span> <span class="title">createWorker</span><span class="params">(id <span class="type">int</span>, wg *sync.WaitGroup)</span></span> worker &#123;</span><br><span class="line">     w := worker&#123;</span><br><span class="line">           in: <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>),</span><br><span class="line">           done: <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">               wg.Done()</span><br><span class="line">           &#125;,</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">go</span> doWork(id, w)</span><br><span class="line">       <span class="keyword">return</span> w</span><br><span class="line">   &#125;</span><br><span class="line">   <span class="function"><span class="keyword">func</span> <span class="title">chanDemo</span><span class="params">()</span></span> &#123;</span><br><span class="line">     <span class="keyword">var</span> wg sync.WaitGroup</span><br><span class="line">     <span class="keyword">var</span> workers [<span class="number">10</span>]worker</span><br><span class="line">       <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">10</span>; i++ &#123;</span><br><span class="line">           workers[i] = createWorker(i, &amp;wg)</span><br><span class="line">       &#125;</span><br><span class="line">       wg.Add(<span class="number">20</span>)</span><br><span class="line">       <span class="keyword">for</span> i, worker := <span class="keyword">range</span> workers &#123;</span><br><span class="line">           worker.in &lt;- <span class="string">&#x27;a&#x27;</span> + i</span><br><span class="line">       &#125;</span><br><span class="line">       <span class="keyword">for</span> i, worker := <span class="keyword">range</span> workers &#123;</span><br><span class="line">           worker.in &lt;- <span class="string">&#x27;A&#x27;</span> + i</span><br><span class="line">       &#125;</span><br><span class="line">       wg.Wait()</span><br><span class="line">       <span class="comment">// wait for all of them</span></span><br><span class="line">   &#125;</span><br></pre></td></tr></table></figure><ul><li>WaitGroupçš„ä½¿ç”¨</li><li>å£°æ˜ <code>var wg sync.WaitGroup</code></li><li><code>wg.Add(n)</code>â€œæ·»åŠ â€ä¼šå°†å¢é‡ï¼ˆå¯èƒ½ä¸ºè´Ÿæ•°ï¼‰æ·»åŠ åˆ°ç­‰å¾…ç»„è®¡æ•°å™¨</li><li><code>wg.Done</code> æœ¬è´¨å°±æ˜¯ <code>wg.Add(-1)</code></li><li><code> wg.Wait()</code> ç­‰å¾…å—ï¼Œç›´åˆ°ç­‰å¾…ç»„è®¡æ•°å™¨ä¸ºé›¶ã€‚</li><li>å¦‚æœè®¡æ•°å™¨å˜ä¸ºé›¶ï¼Œåˆ™é‡Šæ”¾åœ¨ Wait ä¸Šé˜»å¡çš„æ‰€æœ‰ goroutineã€‚</li></ul></blockquote><h2 id="ğŸ’ğŸ’ä¾‹äºŒï¼šä½¿ç”¨Channelå®ç°æ ‘çš„éå†"><a href="#ğŸ’ğŸ’ä¾‹äºŒï¼šä½¿ç”¨Channelå®ç°æ ‘çš„éå†" class="headerlink" title="ğŸ’ğŸ’ä¾‹äºŒï¼šä½¿ç”¨Channelå®ç°æ ‘çš„éå†"></a>ğŸ’ğŸ’ä¾‹äºŒï¼šä½¿ç”¨Channelå®ç°æ ‘çš„éå†</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// TraverseFunc ä¸­åºéå†</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node *Node)</span></span> TraverseFunc(f <span class="function"><span class="keyword">func</span><span class="params">(*Node)</span></span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> node == <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    node.Left.TraverseFunc(f)</span><br><span class="line">    f(node)</span><br><span class="line">    node.Right.TraverseFunc(f)</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node *Node)</span></span> TraverseWithChannel() <span class="keyword">chan</span> *Node &#123;</span><br><span class="line">    out := <span class="built_in">make</span>(<span class="keyword">chan</span> *Node)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        node.TraverseFunc(<span class="function"><span class="keyword">func</span><span class="params">(node *Node)</span></span> &#123;</span><br><span class="line">            out &lt;- node</span><br><span class="line">        &#125;)</span><br><span class="line">        <span class="keyword">defer</span> <span class="built_in">close</span>(out)</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// ä½¿ç”¨ channel éå†</span></span><br><span class="line">c := root.TraverseWithChannel()</span><br><span class="line">maxNode := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> node := <span class="keyword">range</span> c &#123;</span><br><span class="line">    <span class="keyword">if</span> node.Value &gt; maxNode &#123;</span><br><span class="line">        maxNode = node.Value</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line">fmt.Println(<span class="string">&quot;Max node value: &quot;</span>, maxNode)</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸ¦ğŸ¦ä¾‹ä¸‰ï¼šä½¿ç”¨Selectæ¥è¿›è¡Œè°ƒåº¦"><a href="#ğŸ¦ğŸ¦ä¾‹ä¸‰ï¼šä½¿ç”¨Selectæ¥è¿›è¡Œè°ƒåº¦" class="headerlink" title="ğŸ¦ğŸ¦ä¾‹ä¸‰ï¼šä½¿ç”¨Selectæ¥è¿›è¡Œè°ƒåº¦"></a>ğŸ¦ğŸ¦ä¾‹ä¸‰ï¼šä½¿ç”¨Selectæ¥è¿›è¡Œè°ƒåº¦</h2><blockquote><ul><li>Select çš„ä½¿ç”¨</li><li>å®šæ—¶å™¨çš„ä½¿ç”¨</li><li>åœ¨Selectä¸­ä½¿ç”¨Nil Channel</li></ul><p>å¯¹ <code>Nil Channel</code>è¿›è¡Œè§£é‡Š</p><blockquote><p>å½“æœªä¸ºchannelåˆ†é…å†…å­˜æ—¶ï¼Œchannelå°±æ˜¯nil channelï¼Œä¾‹å¦‚var ch1 chan intã€‚nil channelä¼šæ°¸è¿œé˜»å¡å¯¹è¯¥channelçš„è¯»ã€å†™æ“ä½œã€‚</p><p>nil channelä¼šé˜»å¡å¯¹è¯¥channelçš„æ‰€æœ‰è¯»ã€å†™ã€‚æ‰€ä»¥ï¼Œå¯ä»¥å°†æŸä¸ªchannelè®¾ç½®ä¸ºnilï¼Œè¿›è¡Œå¼ºåˆ¶é˜»å¡ï¼Œå¯¹äºselectåˆ†æ”¯æ¥è¯´ï¼Œå°±æ˜¯<font color="skyblue"><strong>å¼ºåˆ¶ç¦ç”¨æ­¤åˆ†æ”¯</strong></font>ã€‚</p></blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// generatoråªæ˜¯ç”Ÿäº§æ•°æ®</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">generator</span><span class="params">()</span></span> <span class="keyword">chan</span> <span class="type">int</span> &#123;</span><br><span class="line">    out := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        i := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            time.Sleep(time.Duration(rand.Intn(<span class="number">1500</span>)) * time.Millisecond)</span><br><span class="line">            out &lt;- i</span><br><span class="line">            i++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> out</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// çœŸæ­£åšäº‹çš„æ˜¯worker</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">worker</span><span class="params">(id <span class="type">int</span>, c <span class="keyword">chan</span> <span class="type">int</span>)</span></span> &#123;</span><br><span class="line">    <span class="keyword">for</span> n := <span class="keyword">range</span> c &#123;</span><br><span class="line">        time.Sleep(time.Second)</span><br><span class="line">        fmt.Printf(<span class="string">&quot;Worker %d received %d\n&quot;</span>, id, n)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createWorker</span><span class="params">(id <span class="type">int</span>)</span></span> <span class="keyword">chan</span>&lt;- <span class="type">int</span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">int</span>)</span><br><span class="line">    <span class="keyword">go</span> worker(id, c)</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    <span class="keyword">var</span> c1, c2 = generator(), generator()</span><br><span class="line">    <span class="keyword">var</span> worker = createWorker(<span class="number">0</span>)</span><br><span class="line">    <span class="keyword">var</span> values []<span class="type">int</span></span><br><span class="line">    tm := time.After(<span class="number">10</span> * time.Second)</span><br><span class="line">    tick := time.Tick(time.Second)</span><br><span class="line">    <span class="keyword">for</span> &#123;</span><br><span class="line">        <span class="keyword">var</span> activeWorker <span class="keyword">chan</span>&lt;- <span class="type">int</span></span><br><span class="line">        <span class="keyword">var</span> activeValue <span class="type">int</span></span><br><span class="line">        <span class="keyword">if</span> <span class="built_in">len</span>(values) &gt; <span class="number">0</span> &#123;</span><br><span class="line">            activeWorker = worker</span><br><span class="line">            activeValue = values[<span class="number">0</span>]</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">select</span> &#123;</span><br><span class="line">            <span class="keyword">case</span> n := &lt;-c1:</span><br><span class="line">            values = <span class="built_in">append</span>(values, n)</span><br><span class="line">            <span class="keyword">case</span> n := &lt;-c2:</span><br><span class="line">            values = <span class="built_in">append</span>(values, n)</span><br><span class="line">            <span class="keyword">case</span> activeWorker &lt;- activeValue: <span class="comment">// è¿™é‡Œä½¿ç”¨äº†Nil Channelæœºåˆ¶</span></span><br><span class="line">            values = values[<span class="number">1</span>:]</span><br><span class="line">            <span class="keyword">case</span> &lt;-time.After(<span class="number">800</span> * time.Millisecond):</span><br><span class="line">            fmt.Println(<span class="string">&quot;timeout&quot;</span>)</span><br><span class="line">            <span class="keyword">case</span> &lt;-tick:</span><br><span class="line">            fmt.Println(<span class="string">&quot;queue len = &quot;</span>, <span class="built_in">len</span>(values))</span><br><span class="line">            <span class="keyword">case</span> &lt;-tm:</span><br><span class="line">            fmt.Println(<span class="string">&quot;bye&quot;</span>)</span><br><span class="line">            <span class="keyword">return</span></span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸ¦§ğŸ¦§ä¼ ç»ŸåŒæ­¥æœºåˆ¶"><a href="#ğŸ¦§ğŸ¦§ä¼ ç»ŸåŒæ­¥æœºåˆ¶" class="headerlink" title="ğŸ¦§ğŸ¦§ä¼ ç»ŸåŒæ­¥æœºåˆ¶"></a>ğŸ¦§ğŸ¦§ä¼ ç»ŸåŒæ­¥æœºåˆ¶</h2><blockquote><ul><li>WaitGoup</li><li>sync.Mutex é€šå¸¸ç”¨æ¥ä¿æŠ¤ä¸´ç•ŒåŒºå’Œå…±äº«èµ„æº</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> atomicInt <span class="keyword">struct</span> &#123;</span><br><span class="line">    value <span class="type">int</span></span><br><span class="line">    lock  sync.Mutex</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a *atomicInt)</span></span> increment() &#123;</span><br><span class="line">    fmt.Println(<span class="string">&quot;safe increment&quot;</span>)</span><br><span class="line">    <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        a.lock.Lock()</span><br><span class="line">        <span class="keyword">defer</span> a.lock.Unlock()</span><br><span class="line">        a.value++</span><br><span class="line">    &#125;()</span><br><span class="line">&#125;</span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(a *atomicInt)</span></span> get() <span class="type">int</span> &#123;</span><br><span class="line">    a.lock.Lock()</span><br><span class="line">    <span class="keyword">defer</span> a.lock.Unlock()</span><br><span class="line">    <span class="keyword">return</span> a.value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>sync.Cond ç”¨æ¥åè°ƒæƒ³è¦è®¿é—®çš„å…±äº«èµ„æº</li></ul></blockquote><h2 id="ğŸ¶ğŸ¶å¹¶å‘ç¼–ç¨‹æ¨¡å¼"><a href="#ğŸ¶ğŸ¶å¹¶å‘ç¼–ç¨‹æ¨¡å¼" class="headerlink" title="ğŸ¶ğŸ¶å¹¶å‘ç¼–ç¨‹æ¨¡å¼"></a>ğŸ¶ğŸ¶å¹¶å‘ç¼–ç¨‹æ¨¡å¼</h2><blockquote><ul><li>ç”Ÿæˆå™¨</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ¶ˆæ¯ç”Ÿæˆå™¨ è¿”å›chan</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">msgGen</span><span class="params">(name <span class="type">string</span>)</span></span> <span class="keyword">chan</span> <span class="type">string</span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        i := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            time.Sleep(time.Duration(rand.Intn(<span class="number">2000</span>)) * time.Millisecond)</span><br><span class="line">            c &lt;- fmt.Sprintf(<span class="string">&quot;service: %s, message: %d&quot;</span>, name, i)</span><br><span class="line">            i++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æœåŠ¡&#x2F;ä»»åŠ¡</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ç›¸å½“äºæ‹¿åˆ°äº†ä¸åŒçš„æœåŠ¡</span></span><br><span class="line">m1 := msgGen(<span class="string">&quot;service1&quot;</span>)</span><br><span class="line">m2 := msgGen(<span class="string">&quot;service2&quot;</span>)</span><br><span class="line"><span class="comment">// m := fanIn(m1, m2)</span></span><br></pre></td></tr></table></figure><ul><li>åŒæ—¶ç­‰å¾…å¤šä¸ªæœåŠ¡ï¼šä¸¤ç§æ–¹æ³•</li></ul><p>æ–¹æ³•ä¸€ï¼šå¼€å¤šä¸ªgoroutine</p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230610094833006.png" alt="image-20230610094833006"></p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€‚ç”¨äºæˆ‘ä»¬ä¸çŸ¥é“æœ‰å¤šå°‘ä¸ªchannelçš„æƒ…å†µ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fanIn</span><span class="params">(chs ...<span class="keyword">chan</span> <span class="type">string</span>)</span></span> <span class="keyword">chan</span> <span class="type">string</span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">for</span> _, ch := <span class="keyword">range</span> chs &#123;</span><br><span class="line">        <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">(ch <span class="keyword">chan</span> <span class="type">string</span>)</span></span> &#123; <span class="comment">// ä½¿ç”¨å‡½æ•°ä¼ å‚é¿å…é—®é¢˜</span></span><br><span class="line">            <span class="keyword">for</span> &#123;</span><br><span class="line">                c &lt;- &lt;-ch</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;(ch)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><p>æ–¹æ³•äºŒï¼šSelect</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// é€‚ç”¨äºæˆ‘ä»¬çŸ¥é“æœ‰å¤šå°‘ä¸ªchannelçš„æƒ…å†µ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">fanInBySelect</span><span class="params">(c1, c2 <span class="keyword">chan</span> <span class="type">string</span>)</span></span> <span class="keyword">chan</span> <span class="type">string</span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            <span class="keyword">select</span> &#123;</span><br><span class="line">                <span class="keyword">case</span> m := &lt;-c1:</span><br><span class="line">                c &lt;- m</span><br><span class="line">                <span class="keyword">case</span> m := &lt;-c2:</span><br><span class="line">                c &lt;- m</span><br><span class="line">            &#125;</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸ¦ğŸ¦ä»»åŠ¡çš„æ§åˆ¶"><a href="#ğŸ¦ğŸ¦ä»»åŠ¡çš„æ§åˆ¶" class="headerlink" title="ğŸ¦ğŸ¦ä»»åŠ¡çš„æ§åˆ¶"></a>ğŸ¦ğŸ¦ä»»åŠ¡çš„æ§åˆ¶</h2><blockquote><ul><li>éé˜»å¡ç­‰å¾…<ul><li>å¦‚æœm1åˆ°äº†m2æ²¡æœ‰åˆ°ï¼Œå°±ä¼š <code>no message received</code></li><li>å¦‚æœm1åˆ°äº†åŒæ—¶m2ä¹Ÿåˆ°äº†ï¼Œå°±ä¼šè¾“å‡º <code>service service2:message ?</code></li></ul></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">nonBlockingWait</span><span class="params">(c <span class="keyword">chan</span> <span class="type">string</span>)</span></span> (<span class="type">string</span>, <span class="type">bool</span>) &#123;</span><br><span class="line">    <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> m := &lt;-c:</span><br><span class="line">        <span class="keyword">return</span> m, <span class="literal">true</span></span><br><span class="line">        <span class="keyword">default</span>:</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main</span></span><br><span class="line">m1 := msgGen(<span class="string">&quot;service1&quot;</span>)</span><br><span class="line">m2 := msgGen(<span class="string">&quot;service2&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> &#123;</span><br><span class="line">    fmt.Println(&lt;-m1)</span><br><span class="line">    <span class="keyword">if</span> m, ok := nonBlockingWait(m2); ok &#123;</span><br><span class="line">        fmt.Println(m)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;no message received&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>è¶…æ—¶æœºåˆ¶<ul><li>å¦‚æœ <code>1000*time.Millisecond</code>å†…åˆ°äº†ï¼Œè¾“å‡ºï¼š<code>service service1:message ?</code></li><li>å¦‚æœåœ¨æŒ‡å®šæ—¶é—´å†…æ²¡æœ‰åˆ°ï¼Œè¾“å‡ºï¼š<code>timeout</code></li></ul></li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">timeoutWait</span><span class="params">(c <span class="keyword">chan</span> <span class="type">string</span>, timeout time.Duration)</span></span> (<span class="type">string</span>, <span class="type">bool</span>) &#123;</span><br><span class="line">    <span class="keyword">select</span> &#123;</span><br><span class="line">        <span class="keyword">case</span> m := &lt;-c:</span><br><span class="line">        <span class="keyword">return</span> m, <span class="literal">true</span></span><br><span class="line">        <span class="keyword">case</span> &lt;-time.After(timeout):</span><br><span class="line">        <span class="keyword">return</span> <span class="string">&quot;&quot;</span>, <span class="literal">false</span></span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main</span></span><br><span class="line">m1 := msgGen(<span class="string">&quot;service1&quot;</span>)</span><br><span class="line"><span class="keyword">for</span> i := <span class="number">0</span>; i &lt; <span class="number">5</span>; i++ &#123;</span><br><span class="line">    <span class="keyword">if</span> m, ok := timeoutWait(m1, <span class="number">1000</span>*time.Millisecond); ok &#123;</span><br><span class="line">        fmt.Println(m)</span><br><span class="line">    &#125; <span class="keyword">else</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;timeout&quot;</span>)</span><br><span class="line">    &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä»»åŠ¡ä¸­æ–­&#x2F;é€€å‡º</li><li>ä¼˜é›…é€€å‡º</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// ä¸Šé¢ä¸¤ç‚¹çš„ç»“åˆ</span></span><br><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">msgGen</span><span class="params">(name <span class="type">string</span>, done <span class="keyword">chan</span> <span class="keyword">struct</span>&#123;&#125;)</span></span> <span class="keyword">chan</span> <span class="type">string</span> &#123;</span><br><span class="line">    c := <span class="built_in">make</span>(<span class="keyword">chan</span> <span class="type">string</span>)</span><br><span class="line">    <span class="keyword">go</span> <span class="function"><span class="keyword">func</span><span class="params">()</span></span> &#123;</span><br><span class="line">        i := <span class="number">0</span></span><br><span class="line">        <span class="keyword">for</span> &#123;</span><br><span class="line">            <span class="keyword">select</span> &#123;</span><br><span class="line">                <span class="keyword">case</span> &lt;-time.After(time.Duration(rand.Intn(<span class="number">2000</span>)) * time.Millisecond):</span><br><span class="line">                c &lt;- fmt.Sprintf(<span class="string">&quot;service: %s, message: %d&quot;</span>, name, i)</span><br><span class="line">                <span class="keyword">case</span> &lt;-done: <span class="comment">// å¤–é¢é€šçŸ¥æˆ‘è¦é€€å‡ºäº†</span></span><br><span class="line">                fmt.Println(<span class="string">&quot;Cleaning Up&quot;</span>)</span><br><span class="line">                time.Sleep(<span class="number">2</span> * time.Second)</span><br><span class="line">                fmt.Println(<span class="string">&quot;Cleaning Done&quot;</span>)</span><br><span class="line">                done &lt;- <span class="keyword">struct</span>&#123;&#125;&#123;&#125; <span class="comment">// é€šçŸ¥å¤–é¢æˆ‘å·²ç»é€€å‡ºäº†</span></span><br><span class="line">                <span class="keyword">return</span></span><br><span class="line">            &#125;</span><br><span class="line">            i++</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;()</span><br><span class="line">    <span class="keyword">return</span> c</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// main</span></span><br><span class="line"><span class="comment">// ç¬¬ä¸€ä¸ª&#123;&#125;è¡¨ç¤ºstruct&#123;&#125;ç±»å‹çš„å€¼ï¼Œç¬¬äºŒä¸ª&#123;&#125;è¡¨ç¤ºåˆå§‹åŒ–è¯¥ç±»å‹</span></span><br><span class="line">done &lt;- <span class="keyword">struct</span>&#123;&#125;&#123;&#125; <span class="comment">// é€šçŸ¥service1é€€å‡º</span></span><br><span class="line">&lt;-done <span class="comment">// ç­‰å¾…service1é€€å‡º</span></span><br></pre></td></tr></table></figure></blockquote><h1 id="ğŸ±ğŸ±ğŸ±è¿·å®«çš„å¹¿åº¦ä¼˜å…ˆæœç´¢"><a href="#ğŸ±ğŸ±ğŸ±è¿·å®«çš„å¹¿åº¦ä¼˜å…ˆæœç´¢" class="headerlink" title="ğŸ±ğŸ±ğŸ±è¿·å®«çš„å¹¿åº¦ä¼˜å…ˆæœç´¢"></a>ğŸ±ğŸ±ğŸ±è¿·å®«çš„å¹¿åº¦ä¼˜å…ˆæœç´¢</h1><h2 id="ğŸ¦ŒğŸ¦Œå¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼ˆBFS"><a href="#ğŸ¦ŒğŸ¦Œå¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼ˆBFS" class="headerlink" title="ğŸ¦ŒğŸ¦Œå¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼ˆBFS)"></a>ğŸ¦ŒğŸ¦Œå¹¿åº¦ä¼˜å…ˆç®—æ³•ï¼ˆBFS)</h2><blockquote><ul><li>ä¸ºçˆ¬è™«å®æˆ˜é¡¹ç›®åšå¥½å‡†å¤‡</li><li>åº”ç”¨å¹¿æ³›ï¼Œç»¼åˆæ€§å¼º</li><li>é¢è¯•å¸¸è§</li></ul><p><img src="/2023/06/06/go-basic-learning-week02/image-20230610114732824.png" alt="image-20230610114732824"></p><p><img src="/2023/06/06/go-basic-learning-week02/image-20230610114811652.png" alt="image-20230610114811652"></p><p>å¹¿åº¦ä¼˜å…ˆæœç´¢èµ°è¿·å®«ï¼š</p><ul><li>ç”¨å¾ªç¯åˆ›å»ºäºŒç»´slice</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// åˆå§‹åŒ–æ­¥æ•°çŸ©é˜µ å…¨éƒ½ä¸º0</span></span><br><span class="line">steps := <span class="built_in">make</span>([][]<span class="type">int</span>, <span class="built_in">len</span>(maze))</span><br><span class="line"><span class="keyword">for</span> i := <span class="keyword">range</span> steps &#123;</span><br><span class="line">    steps[i] = <span class="built_in">make</span>([]<span class="type">int</span>, <span class="built_in">len</span>(maze[i]))</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨sliceæ¥å®ç°é˜Ÿåˆ—</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">Q := []point&#123;start&#125; <span class="comment">// åˆå§‹åŒ–é˜Ÿåˆ—</span></span><br><span class="line">cur := Q[<span class="number">0</span>]</span><br><span class="line">Q = Q[<span class="number">1</span>:]</span><br><span class="line">Q = <span class="built_in">append</span>(Q, next)</span><br></pre></td></tr></table></figure><ul><li>ç”¨<code>scanner := bufio.NewScanner(file)</code>è¯»å–æ–‡ä»¶</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">readMaze</span><span class="params">(filename <span class="type">string</span>)</span></span> [][]<span class="type">int</span> &#123;</span><br><span class="line">    file, err := os.Open(filename)</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    scanner := bufio.NewScanner(file)</span><br><span class="line"></span><br><span class="line">    <span class="comment">// è¯»å–è¿·å®«çš„è¡Œæ•°å’Œåˆ—æ•°</span></span><br><span class="line">    scanner.Scan()</span><br><span class="line">    dimensions := strings.Split(scanner.Text(), <span class="string">&quot; &quot;</span>) <span class="comment">// Split--&gt;[]string</span></span><br><span class="line">    row, _ := strconv.Atoi(dimensions[<span class="number">0</span>]) <span class="comment">// string--&gt;int</span></span><br><span class="line">    col, _ := strconv.Atoi(dimensions[<span class="number">1</span>])</span><br><span class="line"></span><br><span class="line">    <span class="comment">// åˆ›å»ºè¿·å®«</span></span><br><span class="line">    maze := <span class="built_in">make</span>([][]<span class="type">int</span>, row)</span><br><span class="line">    <span class="keyword">for</span> i := <span class="keyword">range</span> maze &#123;</span><br><span class="line">        maze[i] = <span class="built_in">make</span>([]<span class="type">int</span>, col)</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="comment">// é€è¡Œè¯»å–è¿·å®«</span></span><br><span class="line">    <span class="keyword">for</span> i := <span class="number">0</span>; i &lt; row &amp;&amp; scanner.Scan(); i++ &#123;</span><br><span class="line">        line := strings.Split(scanner.Text(), <span class="string">&quot; &quot;</span>)</span><br><span class="line">        <span class="keyword">for</span> j := <span class="number">0</span>; j &lt; col; j++ &#123;</span><br><span class="line">            mazeValue, _ := strconv.Atoi(line[j])</span><br><span class="line">            maze[i][j] = mazeValue</span><br><span class="line">        &#125;</span><br><span class="line">    &#125;</span><br><span class="line"></span><br><span class="line">    <span class="keyword">if</span> err := scanner.Err(); err != <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;è¯»å–è¿·å®«æ–‡ä»¶å¤±è´¥ï¼š&quot;</span>, err)</span><br><span class="line">    &#125;</span><br><span class="line">    <span class="keyword">return</span> maze</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯¹Pointçš„æŠ½è±¡</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(p point)</span></span> add(r point) point &#123;</span><br><span class="line"><span class="keyword">return</span> point&#123;p.i + r.i, p.j + r.j&#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="ğŸ—ğŸ—ğŸ—httpåŠå…¶ä»–æ ‡å‡†åº“"><a href="#ğŸ—ğŸ—ğŸ—httpåŠå…¶ä»–æ ‡å‡†åº“" class="headerlink" title="ğŸ—ğŸ—ğŸ—httpåŠå…¶ä»–æ ‡å‡†åº“"></a>ğŸ—ğŸ—ğŸ—httpåŠå…¶ä»–æ ‡å‡†åº“</h1><h2 id="ğŸ­ğŸ­http"><a href="#ğŸ­ğŸ­http" class="headerlink" title="ğŸ­ğŸ­http"></a>ğŸ­ğŸ­http</h2><blockquote><ul><li>ä½¿ç”¨httpå®¢æˆ·ç«¯å‘é€è¯·æ±‚</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">request, err := http.NewRequest(http.MethodGet, <span class="string">&quot;http://www.imooc.com&quot;</span>, <span class="literal">nil</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨http.Clientæ§åˆ¶è¯·æ±‚å¤´éƒ¨ç­‰</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ·»åŠ è¯·æ±‚å¤´ä¿¡æ¯</span></span><br><span class="line">request.Header.Add(<span class="string">&quot;User-Agent&quot;</span>, <span class="string">&quot;Mozilla/5.0 (Linux; Android 10; Redmi K30 Pro) AppleWebKit/537.36 (KHTML, like Gecko) Chrome/86.0.4240.198 Mobile Safari/537.36&quot;</span>)</span><br><span class="line"><span class="comment">// æŸ¥çœ‹æ˜¯å¦å‘ç”Ÿé‡å®šå‘</span></span><br><span class="line">client := http.Client&#123;</span><br><span class="line">    CheckRedirect: <span class="function"><span class="keyword">func</span><span class="params">(req *http.Request, via []*http.Request)</span></span> <span class="type">error</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Redirect:&quot;</span>, req)</span><br><span class="line">        <span class="keyword">return</span> <span class="literal">nil</span></span><br><span class="line">    &#125;,</span><br><span class="line">&#125;</span><br><span class="line">resp, err := client.Do(request)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">defer</span> resp.Body.Close()</span><br></pre></td></tr></table></figure><p><img src="/2023/06/06/go-basic-learning-week02/image-20230610162658583.png" alt="image-20230610162658583"></p><ul><li>httputilç®€åŒ–å·¥ä½œ</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// è¯»å–å“åº”å†…å®¹</span></span><br><span class="line">s, err := httputil.DumpResponse(resp, <span class="literal">true</span>)</span><br><span class="line"><span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">    <span class="built_in">panic</span>(err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸ‡httpæœåŠ¡å™¨çš„æ€§èƒ½åˆ†æ"><a href="#ğŸ‡httpæœåŠ¡å™¨çš„æ€§èƒ½åˆ†æ" class="headerlink" title="ğŸ‡httpæœåŠ¡å™¨çš„æ€§èƒ½åˆ†æ"></a>ğŸ‡httpæœåŠ¡å™¨çš„æ€§èƒ½åˆ†æ</h3><blockquote><ul><li>import _ â€œnet&#x2F;http&#x2F;pprofâ€</li><li>è®¿é—®<code>http://ip:port/debug/pprof</code></li><li>ä½¿ç”¨ <code>go tool pprof</code>åˆ†ææ€§èƒ½</li></ul></blockquote><h2 id="ğŸ¿ğŸ¿JSONçš„è§£æ"><a href="#ğŸ¿ğŸ¿JSONçš„è§£æ" class="headerlink" title="ğŸ¿ğŸ¿JSONçš„è§£æ"></a>ğŸ¿ğŸ¿JSONçš„è§£æ</h2><blockquote><ul><li>JSONæ•°æ®æ ¼å¼</li></ul><figure class="highlight json"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line"><span class="punctuation">&#123;</span></span><br><span class="line">    <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;1234&quot;</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;item&quot;</span><span class="punctuation">:</span> <span class="punctuation">[</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;item_1&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;learn go&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">15</span></span><br><span class="line">        <span class="punctuation">&#125;</span><span class="punctuation">,</span></span><br><span class="line">        <span class="punctuation">&#123;</span></span><br><span class="line">            <span class="attr">&quot;id&quot;</span><span class="punctuation">:</span> <span class="string">&quot;item_2&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;name&quot;</span><span class="punctuation">:</span> <span class="string">&quot;learn java&quot;</span><span class="punctuation">,</span></span><br><span class="line">            <span class="attr">&quot;price&quot;</span><span class="punctuation">:</span> <span class="number">20</span></span><br><span class="line">        <span class="punctuation">&#125;</span></span><br><span class="line">    <span class="punctuation">]</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;quantity&quot;</span><span class="punctuation">:</span> <span class="number">1</span><span class="punctuation">,</span></span><br><span class="line">    <span class="attr">&quot;total_price&quot;</span><span class="punctuation">:</span> <span class="number">20</span></span><br><span class="line"><span class="punctuation">&#125;</span></span><br></pre></td></tr></table></figure><ul><li>ç»“æ„ä½“çš„tag</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> OrderItem <span class="keyword">struct</span> &#123;</span><br><span class="line">    ID    <span class="type">string</span>  <span class="string">`json:&quot;id&quot;`</span></span><br><span class="line">    Name  <span class="type">string</span>  <span class="string">`json:&quot;name&quot;`</span></span><br><span class="line">    Price <span class="type">float64</span> <span class="string">`json:&quot;price&quot;`</span></span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">type</span> Order <span class="keyword">struct</span> &#123; <span class="comment">// tag</span></span><br><span class="line">    ID         <span class="type">string</span>      <span class="string">`json:&quot;id&quot;`</span></span><br><span class="line">    Items      []OrderItem <span class="string">`json:&quot;item&quot;`</span></span><br><span class="line">    Quantity   <span class="type">int</span>         <span class="string">`json:&quot;quantity&quot;`</span></span><br><span class="line">    TotalPrice <span class="type">float64</span>     <span class="string">`json:&quot;total_price&quot;`</span></span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>JSON Marshalä¸Unmarshal,æ•°æ®ç±»å‹</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// Marshal</span></span><br><span class="line">b, err := json.Marshal(o)</span><br><span class="line"><span class="comment">// Unmarshal</span></span><br><span class="line">err := json.Unmarshal([]<span class="type">byte</span>(s), &amp;o)</span><br></pre></td></tr></table></figure><ul><li>ç¬¬ä¸‰æ–¹APIçš„è§£ææŠ€å·§ï¼ˆé€‰æ‹©structå½¢å¼ï¼‰</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// mapå½¢å¼æ¥æ”¶æ•°æ®</span></span><br><span class="line">m := <span class="built_in">make</span>(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)</span><br><span class="line">fmt.Printf(<span class="string">&quot;%+v\n&quot;</span>, m[<span class="string">&quot;data&quot;</span>].([]<span class="keyword">interface</span>&#123;&#125;)[<span class="number">2</span>].(<span class="keyword">map</span>[<span class="type">string</span>]<span class="keyword">interface</span>&#123;&#125;)[<span class="string">&quot;synonym&quot;</span>].(<span class="type">string</span>))</span><br><span class="line"></span><br><span class="line"><span class="comment">// structå½¢å¼æ¥æ”¶æ•°æ®</span></span><br><span class="line">m := <span class="keyword">struct</span> &#123;</span><br><span class="line">    Data []<span class="keyword">struct</span> &#123;</span><br><span class="line">        Synonym <span class="type">string</span> <span class="string">`json:&quot;synonym&quot;`</span></span><br><span class="line">        Tag     <span class="type">string</span> <span class="string">`json:&quot;tag&quot;`</span></span><br><span class="line">    &#125; <span class="string">`json:&quot;data&quot;`</span></span><br><span class="line">&#125;&#123;&#125;</span><br><span class="line">fmt.Printf(<span class="string">&quot;%+v, %+v\n&quot;</span>, m.Data[<span class="number">0</span>].Synonym, m.Data[<span class="number">0</span>].Tag)</span><br></pre></td></tr></table></figure></blockquote><h2 id="ğŸ¦«ğŸ¦«ginæ¡†æ¶çš„ä»‹ç»"><a href="#ğŸ¦«ğŸ¦«ginæ¡†æ¶çš„ä»‹ç»" class="headerlink" title="ğŸ¦«ğŸ¦«ginæ¡†æ¶çš„ä»‹ç»"></a>ğŸ¦«ğŸ¦«ginæ¡†æ¶çš„ä»‹ç»</h2><blockquote><ul><li>gin-gonic&#x2F;gin ï¼ˆä¾èµ–ï¼‰å»ºè®®å°†goç‰ˆæœ¬æ¢æˆ go1.20.5<ul><li>go get -u github.com&#x2F;gin-gonic&#x2F;gin</li><li>get -u go.uber.org&#x2F;zap</li></ul></li><li>middlewareçš„ä½¿ç”¨ï¼šåŠŸèƒ½æ„Ÿè§‰åƒjavaçš„AOP</li><li>Contextçš„ä½¿ç”¨</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">main</span><span class="params">()</span></span> &#123;</span><br><span class="line">    r := gin.Default()</span><br><span class="line">    logger, err := zap.NewProduction()</span><br><span class="line">    <span class="keyword">if</span> err != <span class="literal">nil</span> &#123;</span><br><span class="line">        <span class="built_in">panic</span>(err)</span><br><span class="line">    &#125;</span><br><span class="line">    </span><br><span class="line">    <span class="comment">// middleware ä¸­é—´ä»¶</span></span><br><span class="line">    <span class="keyword">const</span> keyRequestId = <span class="string">&quot;requestId&quot;</span> <span class="comment">// Context</span></span><br><span class="line">    r.Use(<span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        s := time.Now()</span><br><span class="line">        c.Next()</span><br><span class="line">        <span class="comment">// è‡ªå®šä¹‰æ—¥å¿—</span></span><br><span class="line">        <span class="comment">// path, satatus, latency</span></span><br><span class="line">        logger.Info(<span class="string">&quot;incoming request&quot;</span>,</span><br><span class="line">                    zap.String(<span class="string">&quot;path&quot;</span>, c.Request.URL.Path),</span><br><span class="line">                    zap.Int(<span class="string">&quot;status&quot;</span>, c.Writer.Status()),</span><br><span class="line">                    zap.Duration(<span class="string">&quot;latency&quot;</span>, time.Now().Sub(s)))</span><br><span class="line">    &#125;, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123; <span class="comment">// Contextçš„ä½¿ç”¨</span></span><br><span class="line">        c.Set(keyRequestId, rand.Int())</span><br><span class="line">        c.Next()</span><br><span class="line">    &#125;)</span><br><span class="line"></span><br><span class="line">    r.GET(<span class="string">&quot;/ping&quot;</span>, <span class="function"><span class="keyword">func</span><span class="params">(c *gin.Context)</span></span> &#123;</span><br><span class="line">        h := gin.H&#123;</span><br><span class="line">            <span class="string">&quot;message&quot;</span>: <span class="string">&quot;pong gin&quot;</span>,</span><br><span class="line">        &#125;</span><br><span class="line">        <span class="keyword">if</span> rid, exists := c.Get(keyRequestId); exists &#123;</span><br><span class="line">            h[keyRequestId] = rid.(<span class="type">int</span>) <span class="comment">// æ·»åŠ keyRequestIdå­—æ®µ</span></span><br><span class="line">        &#125;</span><br><span class="line">        c.JSON(<span class="number">200</span>, h)</span><br><span class="line">    &#125;)</span><br><span class="line">    r.Run()</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>æ­¤ç•ªå‘¨æ—‹ï¼ŒåŠ³é¡¿æ»”å¤©ï¼Œå‹åŠ›å †ç§¯å¦‚å±±ï¼Œåªèƒ½äºå¤œå¹•é™ä¸´ä¹‹é™…å¯»è§…ä¸€ä¸ç©ºé—²ï¼Œè¿›è¡Œç§ç§æ€»ç»“ã€‚ç›´è‡³æ­¤åˆ»æ‰å‘Šä¸€æ®µè½ï¼Œè§¦åŠä¸€ç§è½»æ¾è‡ªåœ¨ä¹‹æ„Ÿï¼Œè¿™ä¾¿æ˜¯æ‰€è°“è‹¦å°½ç”˜æ¥çš„çœŸè°›ã€‚ğŸ’ª</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>go-basic-learning-week01</title>
      <link href="/2023/06/04/go-basic-learning-week01/"/>
      <url>/2023/06/04/go-basic-learning-week01/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šä¸€èµ·æ¥å­¦go(ç‹—)è¯­è¨€ã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>æ±Ÿæ¹–å„¿å¥³ä»¬ï¼Œå¬æˆ‘ä¸€è¨€ï¼è‡ªæˆ‘åˆè¯†Javaä»¥æ¥ï¼Œä¾ è€…å¿ƒä¸­ç‡ƒèµ·ä¸€æŠ¹çƒ­å¿±ï¼Œè¿½æ±‚ç¼–ç¨‹çš„ç²¾é«“ã€‚ç„¶è€Œï¼Œå¤šå¹´çš„æ±Ÿæ¹–å²æœˆè®©æˆ‘é¢†æ‚Ÿåˆ°ä¸€ç§æ–°çš„åŠ›é‡â€”â€”Goè¯­è¨€ã€‚</p></blockquote><h1 id="ğŸŒŸğŸŒŸğŸŒŸåŸºç¡€è¯­æ³•"><a href="#ğŸŒŸğŸŒŸğŸŒŸåŸºç¡€è¯­æ³•" class="headerlink" title="ğŸŒŸğŸŒŸğŸŒŸåŸºç¡€è¯­æ³•"></a>ğŸŒŸğŸŒŸğŸŒŸåŸºç¡€è¯­æ³•</h1><h2 id="ğŸ‘»ğŸ‘»å˜é‡å’Œå¸¸é‡"><a href="#ğŸ‘»ğŸ‘»å˜é‡å’Œå¸¸é‡" class="headerlink" title="ğŸ‘»ğŸ‘»å˜é‡å’Œå¸¸é‡"></a>ğŸ‘»ğŸ‘»å˜é‡å’Œå¸¸é‡</h2><h3 id="ğŸ±å˜é‡å®šä¹‰"><a href="#ğŸ±å˜é‡å®šä¹‰" class="headerlink" title="ğŸ±å˜é‡å®šä¹‰"></a>ğŸ±å˜é‡å®šä¹‰</h3><blockquote><p>ä½¿ç”¨Varå…³é”®å­—</p><ul><li>var a, b, c bool</li><li>var s1, s2 string &#x3D; â€œhelloâ€, â€œworldâ€</li><li>å¯ä»¥æ”¾åœ¨å‡½æ•°å†…ï¼Œæˆ–ç›´æ¥æ”¾åœ¨åŒ…å†…</li><li>ä½¿ç”¨var()é›†ä¸­å®šä¹‰å˜é‡</li></ul><p>è®©ç¼–è¯‘å™¨è‡ªåŠ¨å†³å®šç±»å‹</p><ul><li>var a, b, i, s1, s2 &#x3D; true, flase, 3, â€œhelloâ€, â€œworldâ€</li></ul><p>ä½¿ç”¨:&#x3D;å®šä¹‰å˜é‡</p><ul><li>a, b, i, s1, s2 :&#x3D; true, flase, 3, â€œhelloâ€, â€œworldâ€</li><li><font color="skyblue">åªèƒ½åœ¨å‡½æ•°å†…ä½¿ç”¨</font></li></ul></blockquote><h3 id="ğŸ˜å†…å»ºå˜é‡ç±»å‹"><a href="#ğŸ˜å†…å»ºå˜é‡ç±»å‹" class="headerlink" title="ğŸ˜å†…å»ºå˜é‡ç±»å‹"></a>ğŸ˜å†…å»ºå˜é‡ç±»å‹</h3><blockquote><ul><li>bool, string</li><li>(u)int, (u)int8, (u)int16, (u)int32, (u)int64, uintptr</li><li>byte, rune</li><li>float32, float64, complex64, complex128</li></ul></blockquote><h3 id="ğŸ™å¼ºåˆ¶ç±»å‹è½¬æ¢"><a href="#ğŸ™å¼ºåˆ¶ç±»å‹è½¬æ¢" class="headerlink" title="ğŸ™å¼ºåˆ¶ç±»å‹è½¬æ¢"></a>ğŸ™å¼ºåˆ¶ç±»å‹è½¬æ¢</h3><p><img src="/2023/06/04/go-basic-learning-week01/image-20230604163756712.png" alt="image-20230604163756712"></p><h3 id="ğŸ›å¸¸é‡å®šä¹‰"><a href="#ğŸ›å¸¸é‡å®šä¹‰" class="headerlink" title="ğŸ›å¸¸é‡å®šä¹‰"></a>ğŸ›å¸¸é‡å®šä¹‰</h3><blockquote><ul><li>const filename &#x3D; â€œabc.txtâ€</li><li>constæ•°å€¼å¯ä½œä¸ºå„ç§ç±»å‹ä½¿ç”¨</li><li>const a, b &#x3D; 3, 4</li></ul><p>ä¸€æ¬¡å£°æ˜å¤šä¸ªå¸¸é‡</p><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">name  = <span class="string">&quot;lwsj&quot;</span></span><br><span class="line">age   = <span class="number">21</span></span><br><span class="line">flag  = <span class="literal">true</span></span><br><span class="line">price = <span class="number">12.23</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸ¥¡ä½¿ç”¨å¸¸é‡å®šä¹‰æšä¸¾ç±»å‹"><a href="#ğŸ¥¡ä½¿ç”¨å¸¸é‡å®šä¹‰æšä¸¾ç±»å‹" class="headerlink" title="ğŸ¥¡ä½¿ç”¨å¸¸é‡å®šä¹‰æšä¸¾ç±»å‹"></a>ğŸ¥¡ä½¿ç”¨å¸¸é‡å®šä¹‰æšä¸¾ç±»å‹</h3><blockquote><ul><li>æ™®é€šæšä¸¾ç±»å‹</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    cpp    = <span class="number">0</span></span><br><span class="line">    java   = <span class="number">1</span></span><br><span class="line">    python = <span class="number">2</span></span><br><span class="line">    golang = <span class="number">3</span></span><br><span class="line">)</span><br></pre></td></tr></table></figure><ul><li>è‡ªå¢æšä¸¾ç±»å‹</li></ul><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    cpp = <span class="literal">iota</span> <span class="comment">// è‡ªåŠ¨é€’å¢</span></span><br><span class="line">    java</span><br><span class="line">    python</span><br><span class="line">    golang</span><br><span class="line">)</span><br><span class="line"><span class="comment">// b, kb, mb, gb, tb, pb</span></span><br><span class="line"><span class="keyword">const</span> (</span><br><span class="line">    b = <span class="number">1</span> &lt;&lt; (<span class="number">10</span> * <span class="literal">iota</span>)</span><br><span class="line">    kb</span><br><span class="line">    mb</span><br><span class="line">    gb</span><br><span class="line">    tb</span><br><span class="line">    pb</span><br><span class="line">)</span><br><span class="line"><span class="comment">// 1 1024 1048576 1073741824 1099511627776 1125899906842624</span></span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸŒå˜é‡å®šä¹‰è¦ç‚¹å›é¡¾"><a href="#ğŸŒå˜é‡å®šä¹‰è¦ç‚¹å›é¡¾" class="headerlink" title="ğŸŒå˜é‡å®šä¹‰è¦ç‚¹å›é¡¾"></a>ğŸŒå˜é‡å®šä¹‰è¦ç‚¹å›é¡¾</h3><blockquote><ul><li>å˜é‡ç±»å‹å†™åœ¨å˜é‡åä¹‹å</li><li>ç¼–è¯‘å™¨å¯æ¨æµ‹å˜é‡ç±»å‹</li><li>å’©æœ‰charï¼Œåªæœ‰rune</li><li>åŸç”Ÿæ”¯æŒå¤æ•°ç±»å‹</li></ul></blockquote><h2 id="ğŸ’¦ğŸ’¦æ¡ä»¶è¯­å¥"><a href="#ğŸ’¦ğŸ’¦æ¡ä»¶è¯­å¥" class="headerlink" title="ğŸ’¦ğŸ’¦æ¡ä»¶è¯­å¥"></a>ğŸ’¦ğŸ’¦æ¡ä»¶è¯­å¥</h2><h3 id="ğŸ¦¸â€â™‚if"><a href="#ğŸ¦¸â€â™‚if" class="headerlink" title="ğŸ¦¸â€â™‚if"></a>ğŸ¦¸â€â™‚if</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">if</span> contents, err := ioutil.ReadFile(filename); err == <span class="literal">nil</span> &#123;</span><br><span class="line">   fmt.Println(<span class="type">string</span>(contents))</span><br><span class="line">&#125; <span class="keyword">else</span> &#123;</span><br><span class="line">   fmt.Println(<span class="string">&quot;cannot print file contents:&quot;</span>, err)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ifçš„æ¡ä»¶é‡Œå¯ä»¥èµ‹å€¼</li><li>ifçš„æ¡ä»¶é‡Œèµ‹å€¼çš„å˜é‡ä½œç”¨åŸŸå°±åœ¨è¿™ä¸ªifè¯­å¥é‡Œ</li></ul></blockquote><h3 id="ğŸ¤”switch"><a href="#ğŸ¤”switch" class="headerlink" title="ğŸ¤”switch"></a>ğŸ¤”switch</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">eval</span><span class="params">(a, b <span class="type">int</span>, op <span class="type">string</span>)</span></span> <span class="type">int</span> &#123;</span><br><span class="line"><span class="keyword">var</span> result <span class="type">int</span></span><br><span class="line"><span class="keyword">switch</span> op &#123;</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;+&quot;</span>:</span><br><span class="line">result = a + b</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;-&quot;</span>:</span><br><span class="line">result = a - b</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;*&quot;</span>:</span><br><span class="line">result = a * b</span><br><span class="line"><span class="keyword">case</span> <span class="string">&quot;/&quot;</span>:</span><br><span class="line">result = a / b</span><br><span class="line"><span class="keyword">default</span>:</span><br><span class="line"><span class="built_in">panic</span>(<span class="string">&quot;unsupported operation: &quot;</span> + op)</span><br><span class="line">&#125;</span><br><span class="line"><span class="keyword">return</span> result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>switchåå¯ä»¥æ²¡æœ‰è¡¨è¾¾å¼</li><li>switchä¼šè‡ªåŠ¨breakï¼Œé™¤éä½¿ç”¨fallthrough</li></ul></blockquote><h2 id="ğŸ«¡ğŸ«¡å¾ªç¯"><a href="#ğŸ«¡ğŸ«¡å¾ªç¯" class="headerlink" title="ğŸ«¡ğŸ«¡å¾ªç¯"></a>ğŸ«¡ğŸ«¡å¾ªç¯</h2><h3 id="ğŸ‹for"><a href="#ğŸ‹for" class="headerlink" title="ğŸ‹for"></a>ğŸ‹for</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="keyword">for</span> i := <span class="number">1</span>; i &lt;= <span class="number">100</span>; i++ &#123;</span><br><span class="line">   sum += i</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="keyword">for</span> &#123; <span class="comment">// æ­»å¾ªç¯</span></span><br><span class="line">    fmt.Println(<span class="string">&quot;abc&quot;</span>)</span><br><span class="line">&#125;</span><br><span class="line"></span><br><span class="line"><span class="comment">// è½¬äºŒè¿›åˆ¶</span></span><br><span class="line"><span class="keyword">for</span> ; n &gt; <span class="number">0</span>; n /= <span class="number">2</span> &#123; <span class="comment">// çœç•¥åˆå§‹æ¡ä»¶ï¼Œç›¸å½“äºwhile</span></span><br><span class="line">    lsb := n % <span class="number">2</span></span><br><span class="line">    result = strconv.Itoa(lsb) + result</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>forçš„æ¡ä»¶é‡Œä¸éœ€è¦æ‹¬å·</li><li>forçš„æ¡ä»¶é‡Œå¯ä»¥çœç•¥åˆå§‹æ¡ä»¶ï¼Œç»“æŸæ¡ä»¶ï¼Œé€’å¢è¡¨è¾¾å¼</li><li>çœç•¥åˆå§‹æ¡ä»¶ï¼Œç›¸å½“äºwhile</li></ul></blockquote><h3 id="ğŸ™åŸºæœ¬è¯­æ³•è¦ç‚¹å›é¡¾"><a href="#ğŸ™åŸºæœ¬è¯­æ³•è¦ç‚¹å›é¡¾" class="headerlink" title="ğŸ™åŸºæœ¬è¯­æ³•è¦ç‚¹å›é¡¾"></a>ğŸ™åŸºæœ¬è¯­æ³•è¦ç‚¹å›é¡¾</h3><blockquote><ul><li>for, if åé¢çš„æ¡ä»¶æ²¡æœ‰æ‹¬å·</li><li>ifæ¡ä»¶é‡Œä¹Ÿå¯ä»¥å®šä¹‰å˜é‡</li><li>å’©æœ‰while</li><li>switchä¸éœ€è¦breakï¼Œä¹Ÿå¯ä»¥ç›´æ¥switchå¤šä¸ªæ¡ä»¶</li></ul></blockquote><h2 id="ğŸ­å‡½æ•°"><a href="#ğŸ­å‡½æ•°" class="headerlink" title="ğŸ­å‡½æ•°"></a>ğŸ­å‡½æ•°</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">&gt;<span class="function"><span class="keyword">func</span> <span class="title">div</span><span class="params">(a, b <span class="type">int</span>)</span></span> (q, r <span class="type">int</span>) &#123;</span><br><span class="line">  <span class="keyword">return</span> a / b, a % b</span><br><span class="line">&gt;&#125;</span><br></pre></td></tr></table></figure><ul><li>è¿”å›å€¼ç±»å‹å†™åœ¨æœ€åé¢</li><li>å‡½æ•°å¯ä»¥è¿”å›å¤šä¸ªå€¼</li><li>å‡½æ•°è¿”å›å¤šä¸ªå€¼æ—¶å¯ä»¥èµ·åå­—ï¼ˆå»ºè®®ä»…ç”¨äºéå¸¸ç®€å•çš„å‡½æ•°ï¼‰</li><li>æ²¡æœ‰é»˜è®¤å‚æ•°ï¼Œå¯é€‰å‚æ•°ï¼ˆåªæœ‰å¯å˜å‚æ•° (intâ€¦)ï¼‰</li><li>å‡½æ•°å¯ä»¥ä½œä¸ºå‚æ•°ä½¿ç”¨</li></ul></blockquote><h2 id="ğŸ§‹æŒ‡é’ˆ"><a href="#ğŸ§‹æŒ‡é’ˆ" class="headerlink" title="ğŸ§‹æŒ‡é’ˆ"></a>ğŸ§‹æŒ‡é’ˆ</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">var</span> a <span class="type">int</span> = <span class="number">2</span></span><br><span class="line"><span class="keyword">var</span> pa *<span class="type">int</span> = &amp;a</span><br><span class="line">*pa = <span class="number">3</span></span><br><span class="line">fmt.Println(a)</span><br></pre></td></tr></table></figure><ul><li>Goçš„æŒ‡é’ˆä¸èƒ½è¿ç®—</li><li>Goè¯­è¨€<font color="skyblue"><strong>åªæœ‰å€¼ä¼ é€’</strong></font>ä¸€ç§æ–¹å¼</li></ul></blockquote><p><img src="/2023/06/04/go-basic-learning-week01/image-20230604194929854.png" alt="image-20230604194929854"></p><p><img src="/2023/06/04/go-basic-learning-week01/image-20230604195206687.png" alt="image-20230604195206687"></p><p><img src="/2023/06/04/go-basic-learning-week01/image-20230604195510679.png" alt="image-20230604195510679"></p><h1 id="ğŸŠğŸŠğŸŠå†…å»ºå®¹å™¨"><a href="#ğŸŠğŸŠğŸŠå†…å»ºå®¹å™¨" class="headerlink" title="ğŸŠğŸŠğŸŠå†…å»ºå®¹å™¨"></a>ğŸŠğŸŠğŸŠå†…å»ºå®¹å™¨</h1><h2 id="ğŸŒ³ğŸŒ³æ•°ç»„"><a href="#ğŸŒ³ğŸŒ³æ•°ç»„" class="headerlink" title="ğŸŒ³ğŸŒ³æ•°ç»„"></a>ğŸŒ³ğŸŒ³æ•°ç»„</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// æ•°ç»„çš„å®šä¹‰</span></span><br><span class="line"><span class="keyword">var</span> arr1 [<span class="number">5</span>]<span class="type">int</span></span><br><span class="line">arr2 := [<span class="number">3</span>]<span class="type">int</span>&#123;<span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>&#125;</span><br><span class="line">arr3 := [...]<span class="type">int</span>&#123;<span class="number">2</span>, <span class="number">4</span>, <span class="number">6</span>, <span class="number">8</span>, <span class="number">10</span>&#125;</span><br><span class="line"><span class="keyword">var</span> grid [<span class="number">4</span>][<span class="number">5</span>]<span class="type">int</span></span><br><span class="line"><span class="comment">// æ•°ç»„çš„éå†</span></span><br><span class="line">sum := <span class="number">0</span></span><br><span class="line"><span class="comment">//for i, v := range numbers &#123;</span></span><br><span class="line"><span class="keyword">for</span> _, v := <span class="keyword">range</span> numbers &#123;</span><br><span class="line">    sum += v</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>å¯ä»¥é€šè¿‡ _ çœç•¥å˜é‡ï¼ˆå½“æˆ‘ä¸æƒ³ä½¿ç”¨è¯¥å˜é‡çš„æ—¶å€™ï¼‰</li><li>ä¸ä»…rangeï¼Œä»»ä½•åœ°æ–¹éƒ½å¯ä»¥é€šè¿‡ _ çœç•¥å˜é‡</li></ul></blockquote><h3 id="ğŸŒµä¸ºä»€ä¹ˆè¦ä½¿ç”¨rangeå‘¢ï¼Ÿ"><a href="#ğŸŒµä¸ºä»€ä¹ˆè¦ä½¿ç”¨rangeå‘¢ï¼Ÿ" class="headerlink" title="ğŸŒµä¸ºä»€ä¹ˆè¦ä½¿ç”¨rangeå‘¢ï¼Ÿ"></a>ğŸŒµä¸ºä»€ä¹ˆè¦ä½¿ç”¨rangeå‘¢ï¼Ÿ</h3><blockquote><ul><li>æ„ä¹‰æ˜ç¡®ï¼Œç¾è§‚</li><li>c++: æ²¡æœ‰ç±»ä¼¼èƒ½åŠ›</li><li>Java&#x2F;Pythonï¼šåªèƒ½for each value, ä¸èƒ½åŒæ—¶è·å– i, v</li></ul></blockquote><h3 id="ğŸŒ²æ•°ç»„æ˜¯å€¼ç±»å‹"><a href="#ğŸŒ²æ•°ç»„æ˜¯å€¼ç±»å‹" class="headerlink" title="ğŸŒ²æ•°ç»„æ˜¯å€¼ç±»å‹"></a>ğŸŒ²æ•°ç»„æ˜¯å€¼ç±»å‹</h3><blockquote><ul><li>[10]intå’Œ[20]intæ˜¯ä¸åŒç±»å‹</li><li>è°ƒç”¨func f(arr [10]int) ä¼šæ‹·è´æ•°ç»„</li><li>åœ¨goè¯­è¨€ä¸­ä¸€èˆ¬ä¸ç›´æ¥ä½¿ç”¨æ•°ç»„ï¼ˆ<strong>è€Œæ˜¯ç”¨åˆ‡ç‰‡</strong>ï¼‰</li></ul></blockquote><h2 id="ğŸ€ğŸ€Sliceï¼ˆåˆ‡ç‰‡ï¼‰"><a href="#ğŸ€ğŸ€Sliceï¼ˆåˆ‡ç‰‡ï¼‰" class="headerlink" title="ğŸ€ğŸ€Sliceï¼ˆåˆ‡ç‰‡ï¼‰"></a>ğŸ€ğŸ€Sliceï¼ˆåˆ‡ç‰‡ï¼‰</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">arr := [...]<span class="type">int</span>&#123;<span class="number">0</span>, <span class="number">1</span>, <span class="number">2</span>, <span class="number">3</span>, <span class="number">4</span>, <span class="number">5</span>, <span class="number">6</span>, <span class="number">7</span>&#125;</span><br><span class="line">s := arr[<span class="number">2</span>:<span class="number">6</span>] <span class="comment">// sçš„å€¼ä¸º[2,3,4,5] å·¦é—­å³å¼€</span></span><br><span class="line">s[<span class="number">0</span>] = <span class="number">10</span> <span class="comment">// arrçš„å€¼å˜ä¸º[0,1,10,3,4,5,6,7]</span></span><br><span class="line">s1 := arr[<span class="number">2</span>:<span class="number">6</span>] <span class="comment">// [2,3,4,5]</span></span><br><span class="line">s2 := s1[<span class="number">3</span>:<span class="number">5</span>] <span class="comment">// [5,6]</span></span><br></pre></td></tr></table></figure><ul><li>sliceæœ¬æ˜¯æ²¡æœ‰æ•°æ®ï¼Œæ˜¯å¯¹åº•å±‚arrayçš„ä¸€ä¸ªview</li><li>slice å¯ä»¥å‘åæ‰©å±•ï¼Œä¸å¯ä»¥æƒ³å‰æ‰©å±•</li><li>s[i]ä¸å¯ä»¥è¶…è¶Šlen(s)ï¼Œå‘åæ‰©å±•ä¸å¯ä»¥è¶…è¶Šåº•å±‚æ•°ç»„cap(s)</li></ul></blockquote><p><img src="/2023/06/04/go-basic-learning-week01/image-20230604201138021.png" alt="image-20230604201138021"></p><p><img src="/2023/06/04/go-basic-learning-week01/image-20230604201208296.png" alt="image-20230604201208296"></p><h3 id="ğŸŒå‘Sliceæ·»åŠ å…ƒç´ "><a href="#ğŸŒå‘Sliceæ·»åŠ å…ƒç´ " class="headerlink" title="ğŸŒå‘Sliceæ·»åŠ å…ƒç´ "></a>ğŸŒå‘Sliceæ·»åŠ å…ƒç´ </h3><blockquote><ul><li>æ·»åŠ å…ƒç´ æ—¶å¦‚æœè¶…è¶Šcapï¼Œç³»ç»Ÿä¼šé‡æ–°åˆ†é…æ›´å¤§çš„åº•å±‚æ•°ç»„</li><li>ç”±äºæ˜¯å€¼ä¼ é€’çš„å…³ç³»ï¼Œå¿…é¡»æ¥æ”¶appendçš„è¿”å›å€¼</li><li>s &#x3D; append(s, val)</li></ul></blockquote><h2 id="ğŸŒğŸŒMap"><a href="#ğŸŒğŸŒMap" class="headerlink" title="ğŸŒğŸŒMap"></a>ğŸŒğŸŒMap</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">m := <span class="keyword">map</span>[<span class="type">string</span>]<span class="type">string</span>&#123;</span><br><span class="line">    <span class="string">&quot;name&quot;</span>:    <span class="string">&quot;ccmouse&quot;</span>,</span><br><span class="line">    <span class="string">&quot;course&quot;</span>:  <span class="string">&quot;golang&quot;</span>,</span><br><span class="line">    <span class="string">&quot;site&quot;</span>:    <span class="string">&quot;imooc&quot;</span></span><br><span class="line">    <span class="string">&quot;quality&quot;</span>: <span class="string">&quot;notbad&quot;</span>,</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>map[K]V, map[K1]map[K2]V</li></ul><p>Mapçš„æ“ä½œ</p><ul><li>åˆ›å»ºï¼šmake(map[string]int)</li><li>è·å–å…ƒç´ ï¼šm[key]</li><li>keyä¸å­˜åœ¨æ—¶ï¼Œè·å¾—Valueç±»å‹çš„åˆå§‹å€¼</li><li>ç”¨value, ok:&#x3D;m[key]æ¥åˆ¤æ–­æ˜¯å¦å­˜åœ¨key</li><li>ç”¨deleteåˆ é™¤ä¸€ä¸ªkey</li></ul><p>Mapçš„éå†</p><ul><li>ä½¿ç”¨rangeéå†keyï¼Œæˆ–è€…éå†key, valueå¯¹</li><li>ä¸ä¿è¯éå†é¡ºåºï¼Œå¦‚éœ€é¡ºåºï¼Œéœ€æ‰‹åŠ¨å¯¹keyæ’åº</li></ul><p>Mapçš„keyå¯ä»¥æ˜¯å“ªäº›ï¼Ÿ</p><ul><li>mapä½¿ç”¨å“ˆå¸Œè¡¨ï¼Œå¿…é¡»å¯æ˜¯æ¯”è¾ƒç›¸ç­‰</li><li>é™¤äº†slice,map,functionçš„å†…å»ºç±»å‹éƒ½å¯ä»¥ä½œä¸ºkey</li><li>Structç±»å‹ä¸åŒ…å«ä¸Šè¿°å­—æ®µï¼Œä¹Ÿå¯ä½œä¸ºkey</li></ul></blockquote><h2 id="ğŸ ğŸ rune"><a href="#ğŸ ğŸ rune" class="headerlink" title="ğŸ ğŸ rune"></a>ğŸ ğŸ rune</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">// runeç›¸å½“äºæ˜¯goçš„char</span></span><br><span class="line"><span class="keyword">for</span> i, ch := <span class="keyword">range</span> s &#123; <span class="comment">// ch is a rune = int32</span></span><br><span class="line">    fmt.Printf(<span class="string">&quot;(%d %X) &quot;</span>, i, ch)</span><br><span class="line">&#125;</span><br><span class="line"><span class="comment">// è·å¾—å­—ç¬¦æ•°é‡</span></span><br><span class="line">fmt.Println(utf8.RuneCountInString(s))</span><br><span class="line"></span><br><span class="line">bytes := []<span class="type">byte</span>(s)   <span class="comment">// []byteè·å¾—å­—èŠ‚</span></span><br><span class="line"><span class="keyword">for</span> <span class="built_in">len</span>(bytes) &gt; <span class="number">0</span> &#123; <span class="comment">// lenè·å¾—å­—èŠ‚é•¿åº¦</span></span><br><span class="line">    ch, size := utf8.DecodeRune(bytes) <span class="comment">// ch is a rune = int32</span></span><br><span class="line">    bytes = bytes[size:]</span><br><span class="line">    fmt.Printf(<span class="string">&quot;%c &quot;</span>, ch)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨rangeéå†posï¼Œruneå¯¹</li><li>ä½¿ç”¨utf8.RuneCountInStringè·å¾—å­—ç¬¦æ•°é‡</li><li>ä½¿ç”¨lenè·å¾—å­—èŠ‚é•¿åº¦</li><li>ä½¿ç”¨[]byteè·å¾—å­—èŠ‚</li></ul></blockquote><h1 id="ğŸ”¥ğŸ”¥ğŸ”¥é¢å‘å¯¹è±¡"><a href="#ğŸ”¥ğŸ”¥ğŸ”¥é¢å‘å¯¹è±¡" class="headerlink" title="ğŸ”¥ğŸ”¥ğŸ”¥é¢å‘å¯¹è±¡"></a>ğŸ”¥ğŸ”¥ğŸ”¥é¢å‘å¯¹è±¡</h1><blockquote><ul><li>goè¯­è¨€ä»…æ”¯æŒå°è£…ï¼Œä¸æ”¯æŒç»§æ‰¿å’Œå¤šæ€ï¼Œæ›´å¤šçš„ç»„åˆçš„å½¢å¼</li><li>goè¯­è¨€æ²¡æœ‰classï¼Œåªæœ‰struct</li></ul></blockquote><h2 id="â¤ï¸â¤ï¸ç»“æ„ä½“"><a href="#â¤ï¸â¤ï¸ç»“æ„ä½“" class="headerlink" title="â¤ï¸â¤ï¸ç»“æ„ä½“"></a>â¤ï¸â¤ï¸ç»“æ„ä½“</h2><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="keyword">type</span> TreeNode <span class="keyword">struct</span> &#123;</span><br><span class="line">    value       <span class="type">int</span></span><br><span class="line">    left, right *Node</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></blockquote><h3 id="ğŸ’•ç»“æ„çš„åˆ›å»º"><a href="#ğŸ’•ç»“æ„çš„åˆ›å»º" class="headerlink" title="ğŸ’•ç»“æ„çš„åˆ›å»º"></a>ğŸ’•ç»“æ„çš„åˆ›å»º</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="title">createNode</span><span class="params">(value <span class="type">int</span>)</span></span> *TreeNode &#123;</span><br><span class="line">    <span class="keyword">return</span> &amp;TreeNode&#123;value: value&#125;</span><br><span class="line">&#125;</span><br><span class="line">root.left.right = createNode(<span class="number">2</span>)</span><br></pre></td></tr></table></figure><ul><li>ä½¿ç”¨è‡ªå®šä¹‰å·¥å‚å‡½æ•°ï¼ˆç›¸å½“äºæ˜¯æ„é€ å‡½æ•°ï¼‰</li><li><font color="skyblue">æ³¨æ„è¿”å›äº†å±€éƒ¨å˜é‡çš„åœ°å€</font></li></ul></blockquote><h3 id="ğŸ’œä¸ºç»“æ„å®šä¹‰æ–¹æ³•"><a href="#ğŸ’œä¸ºç»“æ„å®šä¹‰æ–¹æ³•" class="headerlink" title="ğŸ’œä¸ºç»“æ„å®šä¹‰æ–¹æ³•"></a>ğŸ’œä¸ºç»“æ„å®šä¹‰æ–¹æ³•</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node TreeNode)</span></span> <span class="built_in">print</span>() &#123;</span><br><span class="line">    fmt.Println(node.value)</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>æ˜¾ç¤ºå®šä¹‰å’Œå‘½åæ–¹æ³•æ¥æ”¶è€…ï¼ˆè¡¨ç¤ºåªæœ‰TreeNodeç±»å‹çš„å˜é‡æ‰èƒ½ä½¿ç”¨printæ–¹æ³•ï¼‰</li></ul></blockquote><h3 id="ğŸ…ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ–¹æ³•æ¥æ”¶è€…"><a href="#ğŸ…ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ–¹æ³•æ¥æ”¶è€…" class="headerlink" title="ğŸ…ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ–¹æ³•æ¥æ”¶è€…"></a>ğŸ…ä½¿ç”¨æŒ‡é’ˆä½œä¸ºæ–¹æ³•æ¥æ”¶è€…</h3><blockquote><figure class="highlight go"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line"><span class="function"><span class="keyword">func</span> <span class="params">(node *TreeNode)</span></span> setValue(value <span class="type">int</span>) &#123;</span><br><span class="line">    <span class="keyword">if</span> node == <span class="literal">nil</span> &#123;</span><br><span class="line">        fmt.Println(<span class="string">&quot;Setting Value to nil node. Ignored.&quot;</span>)</span><br><span class="line">        <span class="keyword">return</span></span><br><span class="line">    &#125;</span><br><span class="line">    node.value = value</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure><ul><li>åªæœ‰ä½¿ç”¨æŒ‡é’ˆæ‰å¯ä»¥æ”¹å˜ç»“æ„å†…å®¹</li><li><strong>nilæŒ‡é’ˆä¹Ÿå¯ä»¥è°ƒç”¨æ–¹æ³•ï¼ˆæ‰€ä»¥è¦åˆ¤æ–­node &#x3D;&#x3D; nilï¼‰</strong></li></ul></blockquote><h3 id="âœŒå€¼æ¥æ”¶è€…-vs-æŒ‡é’ˆæ¥æ”¶è€…"><a href="#âœŒå€¼æ¥æ”¶è€…-vs-æŒ‡é’ˆæ¥æ”¶è€…" class="headerlink" title="âœŒå€¼æ¥æ”¶è€…  vs æŒ‡é’ˆæ¥æ”¶è€…"></a>âœŒå€¼æ¥æ”¶è€…  vs æŒ‡é’ˆæ¥æ”¶è€…</h3><blockquote><ul><li>è¦æ”¹å˜å†…å®¹å¿…é¡»ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…</li><li>ç»“æ„è¿‡å¤§ä¹Ÿè€ƒè™‘ä½¿ç”¨æŒ‡é’ˆæ¥æ”¶è€…</li><li>ä¸€è‡´æ€§ï¼šå¦‚æœ‰æŒ‡é’ˆæ¥æ”¶è€…ï¼Œæœ€å¥½éƒ½æ˜¯æŒ‡é’ˆæ¥æ”¶è€…</li><li><font color="skyblue">å€¼æ¥æ”¶è€…æ˜¯goè¯­è¨€ç‰¹æœ‰çš„</font></li><li><font color="red">å€¼æ¥æ”¶è€…å¯ä»¥æ¥æ”¶â€œå€¼&#x2F;æŒ‡é’ˆâ€ï¼Œä½†æ˜¯æŒ‡é’ˆæ¥æ”¶è€…åªèƒ½æ¥å—æŒ‡é’ˆ</font></li></ul></blockquote><h2 id="ğŸ’ªğŸ’ªå°è£…"><a href="#ğŸ’ªğŸ’ªå°è£…" class="headerlink" title="ğŸ’ªğŸ’ªå°è£…"></a>ğŸ’ªğŸ’ªå°è£…</h2><blockquote><ul><li>åå­—ä¸€èˆ¬ä½¿ç”¨CamelCaseï¼ˆé©¼å³°å‘½åï¼‰</li><li>é¦–å­—æ¯å¤§å†™ï¼špublic</li><li>é¦–å­—æ¯å°å†™ï¼šprivate</li></ul></blockquote><h3 id="ğŸ“¢åŒ…"><a href="#ğŸ“¢åŒ…" class="headerlink" title="ğŸ“¢åŒ…"></a>ğŸ“¢åŒ…</h3><blockquote><ul><li>æ¯ä¸ªç›®å½•ä¸€ä¸ªåŒ…</li><li>mainåŒ…åŒ…å«å¯æ‰§è¡Œå…¥å£</li><li>ä¸ºç»“æ„å®šä¹‰çš„æ–¹æ³•å¿…é¡»æ”¾åœ¨åŒä¸€ä¸ªåŒ…å†…</li><li>å¯ä»¥æ˜¯ä¸åŒæ–‡ä»¶</li></ul><p>å¦‚ä½•æ‰©å……ç³»ç»Ÿç±»å‹æˆ–è€…åˆ«äººçš„ç±»å‹</p><ul><li>å®šä¹‰åˆ«å: æœ€ç®€å•</li><li>ä½¿ç”¨ç»„åˆï¼šæœ€å¸¸ç”¨</li><li>ä½¿ç”¨å†…åµŒï¼šéœ€è¦çœä¸‹è®¸å¤šä»£ç </li></ul></blockquote><h1 id="ğŸ“£ğŸ“£ğŸ“£goè¯­è¨€çš„ä¾èµ–ç®¡ç†"><a href="#ğŸ“£ğŸ“£ğŸ“£goè¯­è¨€çš„ä¾èµ–ç®¡ç†" class="headerlink" title="ğŸ“£ğŸ“£ğŸ“£goè¯­è¨€çš„ä¾èµ–ç®¡ç†"></a>ğŸ“£ğŸ“£ğŸ“£goè¯­è¨€çš„ä¾èµ–ç®¡ç†</h1><blockquote><ul><li>ä¾èµ–çš„æ¦‚å¿µï¼šå°±æ˜¯ç”¨åˆ«äººå†™å¥½çš„åº“</li><li>ä¾èµ–ç®¡ç†çš„ä¸‰ä¸ªé˜¶æ®µï¼šGOPATH, GOVENDOR, go mod(å¥½ç”¨)</li></ul><p>GOVENDOR</p><ul><li>æ¯ä¸ªé¡¹ç›®æœ‰è‡ªå·±çš„vendorç›®å½•ï¼Œå­˜æ”¾ç¬¬ä¸‰æ–¹åº“</li><li>å¤§é‡ç¬¬ä¸‰æ–¹ä¾èµ–ç®¡ç†å·¥å…·ï¼šglideï¼Œdepï¼Œgo dep, â€¦</li></ul><p><img src="/2023/06/04/go-basic-learning-week01/image-20230605092356671.png" alt="image-20230605092356671"></p><p><img src="/2023/06/04/go-basic-learning-week01/image-20230605092459676.png" alt="image-20230605092459676"></p><p>go mod</p><ul><li>ç”±goå‘½ä»¤ç»Ÿä¸€çš„ç®¡ç†ï¼Œç”¨æˆ·ä¸å¿…å…³å¿ƒç›®å½•ç»“æ„</li><li>åˆå§‹åŒ–ï¼šgo mod init</li><li>å¢åŠ ä¾èµ–ï¼šgo get  æˆ–è€… go get -u</li><li>æ›´æ–°ä¾èµ–ï¼šgo get[@vâ€¦], go mod tidy</li><li>å°†æ—§é¡¹ç›®è¿ç§»åˆ°go mod: go mod init, go build .&#x2F;â€¦</li></ul><p><strong>æ¯ä¸€ä¸ªpackage main éƒ½åº”è¯¥æœ‰è‡ªå·±çš„åŒ…</strong></p><p><img src="/2023/06/04/go-basic-learning-week01/image-20230605101457247.png" alt="image-20230605101457247"></p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰ç¬¬ä¸€å‘¨golangçš„åŸºç¡€å­¦ä¹ åˆ°è¿™é‡Œå°±ç»“æŸå•¦ï¼Œè¿™åªæ˜¯goè¯­è¨€çš„å¼€å§‹ï¼ŒæœŸå¾…ä¸‹å‘¨çš„å­¦ä¹ ï¼Œæˆ‘ä»¬ä¸‹å‘¨è§ æ‹œæ‹œå’¯~~ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> go </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>golandä½¿ç”¨æ•™ç¨‹</title>
      <link href="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/"/>
      <url>/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šä¸€èµ·æ¥å­¦go(ç‹—)è¯­è¨€ã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>åˆæ¬¡æ¢ç´¢Goè¯­è¨€ï¼Œå¾ä»¥æ¬é™å¿ƒç¥ï¼Œè§‚ç…§Golandä¸VscodeäºŒè€…ï¼Œäºå…¶ä¸­å¾—å¿ƒåº”æ‰‹è€…å®ä¸ºGolandã€‚ä¸æ„ï¼Œè¡Œä½¿Golandä¹‹æ—¶ï¼Œé¢‘é¢‘é™·å…¥ç–‘å›¢ï¼Œå®›å¦‚è†æ£˜ç¯ç»•ä¹‹æ£®ï¼ŒçœŸä¸èƒœå…¶çƒ¦ç¹ä¹Ÿã€‚â€”â€”CharGpt</p></blockquote><h1 id="ğŸ“¢ğŸ“¢ğŸ“¢å®‰è£…goçš„SDK"><a href="#ğŸ“¢ğŸ“¢ğŸ“¢å®‰è£…goçš„SDK" class="headerlink" title="ğŸ“¢ğŸ“¢ğŸ“¢å®‰è£…goçš„SDK"></a>ğŸ“¢ğŸ“¢ğŸ“¢å®‰è£…goçš„SDK</h1><blockquote><p>goå®˜ç½‘ï¼š<a href="https://go.dev/">The Go Programming Language</a>ä¸‹è½½æƒ³è¦çš„SDKç‰ˆæœ¬ï¼ˆéœ€è¦ç§‘å­¦ä¸Šç½‘ï¼‰</p></blockquote><h2 id="ğŸŒ»ğŸŒ»go-SDK-çš„ç¯å¢ƒè®¾ç½®"><a href="#ğŸŒ»ğŸŒ»go-SDK-çš„ç¯å¢ƒè®¾ç½®" class="headerlink" title="ğŸŒ»ğŸŒ»go SDK çš„ç¯å¢ƒè®¾ç½®"></a>ğŸŒ»ğŸŒ»go SDK çš„ç¯å¢ƒè®¾ç½®</h2><h3 id="ğŸ“£GOROOT"><a href="#ğŸ“£GOROOT" class="headerlink" title="ğŸ“£GOROOT"></a>ğŸ“£GOROOT</h3><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603202957499.png" alt="image-20230603202957499"></p><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603203241454.png" alt="image-20230603203241454"></p><h3 id="ğŸ…GOPATH-ï¼ˆé€‰å¼„ï¼‰"><a href="#ğŸ…GOPATH-ï¼ˆé€‰å¼„ï¼‰" class="headerlink" title="ğŸ…GOPATH ï¼ˆé€‰å¼„ï¼‰"></a>ğŸ…GOPATH ï¼ˆé€‰å¼„ï¼‰</h3><blockquote><p>GOPATHé€‰å¼„çš„åŸå› åœ¨ï¼š<a href="https://blog.csdn.net/QianLiStudent/article/details/116306997">golangè°ƒç”¨æœ¬åœ°åŒ…æŠ¥é”™åŸå› åŠè§£å†³æ–¹æ¡ˆ</a></p><p>ç”¨äºå­˜æ”¾ä»¥ågoç”¨åˆ°çš„ä¾èµ–</p></blockquote><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603203052430.png" alt="image-20230603203052430"></p><h3 id="ğŸ‰é…ç½®go-SDK-é€‰å¼„"><a href="#ğŸ‰é…ç½®go-SDK-é€‰å¼„" class="headerlink" title="ğŸ‰é…ç½®go SDK (é€‰å¼„)"></a>ğŸ‰é…ç½®go SDK (é€‰å¼„)</h3><blockquote><p>windows+R+cmd è¾“å…¥ä¸‹é¢ä¸¤æ¡æŒ‡ä»¤</p><p>go env -w G0111MODULE&#x3D;on<br>go env -w GOPROXY&#x3D;<a href="https://goproxy.cn,direct/">https://goproxy.cn,direct</a></p><p>å¦‚æœä¸Šé¢ä¸¤æ¡æŒ‡ä»¤æ‰§è¡Œå¤±è´¥æ¢ä¸‹é¢ä¸¤æ¡æŒ‡ä»¤ï¼š</p><p>set G0111MODULE&#x3D;on </p><p>set GOPROXY&#x3D;<a href="https://goproxy.cn,direct/">https://goproxy.cn,direct</a></p></blockquote><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230604151105652.png" alt="image-20230604151105652"></p><h1 id="ğŸ’œğŸ’œğŸ’œgolandåˆ›å»ºé¡¹ç›®"><a href="#ğŸ’œğŸ’œğŸ’œgolandåˆ›å»ºé¡¹ç›®" class="headerlink" title="ğŸ’œğŸ’œğŸ’œgolandåˆ›å»ºé¡¹ç›®"></a>ğŸ’œğŸ’œğŸ’œgolandåˆ›å»ºé¡¹ç›®</h1><blockquote><p>ä¸€å®šè¦é€‰æ‹©Goã€‚åŸå› ï¼š<a href="https://www.cnblogs.com/Da-Mao/p/17025294.html#:~:text=%E8%A7%A3%E5%86%B3%E5%8A%9E%E6%B3%95%20%E5%9C%A8%E8%A7%A3%E5%86%B3%E4%B9%8B%E5%89%8D%E9%A6%96%E5%85%88%E8%AF%B4%E4%B8%80%E4%B8%8B%EF%BC%8Cgo%20module%20%E6%98%AFGo%E8%AF%AD%E8%A8%80%E4%BB%8E%201.11%20%E7%89%88%E6%9C%AC%E4%B9%8B%E5%90%8E%E5%AE%98%E6%96%B9%E6%8E%A8%E5%87%BA%E7%9A%84%E7%89%88%E6%9C%AC%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%8C%E5%B9%B6%E4%B8%94%E4%BB%8E%20Go1.13%20%E7%89%88%E6%9C%AC%E5%BC%80%E5%A7%8B%EF%BC%8Cgo,%E6%88%90%E4%B8%BA%E4%BA%86Go%E8%AF%AD%E8%A8%80%E9%BB%98%E8%AE%A4%E7%9A%84%E4%BE%9D%E8%B5%96%E7%AE%A1%E7%90%86%E5%B7%A5%E5%85%B7%EF%BC%8Cgo%E8%AF%AD%E8%A8%80%E5%AE%98%E6%96%B9%E6%8F%90%E5%80%A1%E4%BD%BF%E7%94%A8gomod%E7%AE%A1%E7%90%86%E5%8C%85%E3%80%82%20goland2020.3.x%E7%89%88%E6%9C%AC%E4%B9%8B%E5%90%8E%E7%9A%84%E4%B8%80%E4%BA%9B%E6%96%B0%E7%89%88%E6%9C%AC%E6%96%B0%E5%BB%BA%E9%A1%B9%E7%9B%AE%E6%97%B6%EF%BC%8C%E9%80%89%E9%A1%B9%E9%87%8C%E9%9D%A2%E6%B2%A1%E6%9C%89go%20module%EF%BC%88vgo%EF%BC%89%E8%BF%99%E4%B8%AA%E9%80%89%E9%A1%B9%E4%BA%86%EF%BC%8C%E5%9B%A0%E4%B8%BAgoland%E5%BC%80%E5%8F%91%E8%80%85%E6%8A%8A%E4%BB%A5%E5%89%8Dgo%20module%EF%BC%88vgo%EF%BC%89%E8%BF%99%E4%B8%AA%E9%80%89%E9%A1%B9%20%E5%8F%98%E6%88%90%E4%BA%86%20go%20%E9%80%89%E9%A1%B9%EF%BC%88%E6%88%91%E6%83%B3%E5%8F%AF%E8%83%BD%E8%BF%98%E6%98%AF%E5%9B%A0%E4%B8%BAgo%E8%AF%AD%E8%A8%80%E5%AE%98%E6%96%B9%E6%91%92%E5%BC%83%E4%BA%86go%20path%E7%AE%A1%E7%90%86%E5%8C%85%EF%BC%8C%E8%AF%B4%E7%9A%84%E4%B8%8D%E5%AF%B9%E7%9A%84%E8%BF%98%E8%AF%B7%E8%A7%81%E8%B0%85%EF%BC%89">å¯¹äºgolandç›¸å¯¹è¾ƒæ–°ä¸€äº›ç‰ˆæœ¬æ–°å»ºé¡¹ç›®æ—¶æ²¡æœ‰go modiæ¨¡å¼é€‰é¡¹çš„å‘</a></p></blockquote><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230604155358038.png" alt="image-20230604155358038"></p><blockquote><p>è¿™ä¸ªgo.modè¦æœ‰ module å’Œ goç‰ˆæœ¬å°±è¡Œ</p><p>è¿™é‡Œå»ºè®®é€‰æ‹©<font color="skyblue">go 1.16ä»¥ä¸Šï¼Œå› ä¸ºåœ¨1.16ä»¥ä¸Šæ‰æœ‰debugåŠŸèƒ½</font></p></blockquote><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603185515267.png" alt="image-20230603185515267"></p><blockquote><p>æ·»åŠ ä¸€ä¸ªæ’ä»¶å¯ä»¥è¿›è¡Œ<font color="skyblue">è‡ªåŠ¨ä¿å­˜</font> ç›¸å½“äºidea: crlt + alt + L</p></blockquote><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603185710085.png" alt="image-20230603185710085"></p><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603185759454.png" alt="image-20230603185759454"></p><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603185830103.png" alt="image-20230603185830103"></p><blockquote><p>é…ç½®FIle Watcheråå°±ä¼šä¿å­˜.goæ–‡ä»¶äº†</p></blockquote><blockquote><p>å¦‚æœé¡¹ç›®è·‘ä¸èµ·æ¥çš„è¯å°†<font color="skyblue">Edit Cofigurationsä¸­çš„Run kindæ”¹ä¸ºfile</font></p></blockquote><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603190035470.png" alt="image-20230603190035470"></p><p><img src="/2023/06/03/goland%E4%BD%BF%E7%94%A8%E6%95%99%E7%A8%8B/image-20230603190057111.png" alt="image-20230603190057111"></p><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰golandçœŸçš„å¾ˆå¥½ç”¨å¥½å§ğŸ’ªã€‚</p><p>æœªå®Œç»“å°½æƒ…æœŸå¾…å–²~ğŸŒŸ</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> goland </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>è¶…çº§å¥½ç”¨çš„å·¥å…·é›†åˆ</title>
      <link href="/2023/05/27/%E8%B6%85%E7%BA%A7%E5%A5%BD%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88/"/>
      <url>/2023/05/27/%E8%B6%85%E7%BA%A7%E5%A5%BD%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šæš‚æ—¶æœ¨æœ‰å“ˆå“ˆã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>é€‚åˆè‡ªå·±çš„å·¥å…·èƒ½å¤§å¤§æå‡è‡ªèº«çš„å­¦ä¹ æ•ˆç‡ğŸ’¯</p></blockquote><h2 id="ğŸšğŸšæ²¹çŒ´-ğŸ­-greasemonkey"><a href="#ğŸšğŸšæ²¹çŒ´-ğŸ­-greasemonkey" class="headerlink" title="ğŸšğŸšæ²¹çŒ´ ğŸ­ greasemonkey"></a>ğŸšğŸšæ²¹çŒ´ ğŸ­ greasemonkey</h2><blockquote><p>æ²¹çŒ´ä¸»è¦æ˜¯æœ‰å¤§é‡ç”¨äºæµè§ˆå™¨çš„è„šæœ¬ã€‚</p><p>å®‰è£…æ•™ç¨‹å¦‚ä¸‹ï¼š<a href="https://zhuanlan.zhihu.com/p/128453110">Tampermonkeyæ²¹çŒ´æ’ä»¶â€”â€”å®‰è£…ä¸ä½¿ç”¨æ•™ç¨‹ - çŸ¥ä¹ (zhihu.com)</a></p></blockquote><blockquote><p>å®˜æ–¹è„šæœ¬ä¸‹è½½ï¼š<a href="https://greasyfork.org/zh-CN">Greasy Fork - å®‰å…¨ã€å®ç”¨çš„ç”¨æˆ·è„šæœ¬å¤§å…¨</a></p></blockquote><blockquote><p>ä»‹ç»æˆ‘ç»å¸¸ä½¿ç”¨çš„ä¸¤ä¸ªè„šæœ¬</p></blockquote><p><strong>æ‡’äººä¸“ç”¨ï¼Œå…¨ç½‘VIPè§†é¢‘å…è´¹ç ´è§£å»å¹¿å‘Šã€å…¨ç½‘éŸ³ä¹ç›´æ¥ä¸‹è½½ã€çŸ¥ä¹å¢å¼ºã€çŸ­è§†é¢‘æ— æ°´å°ä¸‹è½½ã€ç™¾</strong></p><p><img src="/2023/05/27/%E8%B6%85%E7%BA%A7%E5%A5%BD%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88/image-20230527100157522.png" alt="image-20230527100157522"></p><p><strong>ğŸ”¥æŒç»­æ›´æ–°ğŸ”¥ CSDNå¹¿å‘Šå®Œå…¨è¿‡æ»¤ã€äººæ€§åŒ–è„šæœ¬ä¼˜åŒ–ï¼šğŸ†• ä¸ç”¨å†ç™»å½•äº†ï¼è®©ä½ ä½“éªŒä»¤äººæƒŠå–œçš„å´­æ–°</strong></p><p><img src="/2023/05/27/%E8%B6%85%E7%BA%A7%E5%A5%BD%E7%94%A8%E7%9A%84%E5%B7%A5%E5%85%B7%E9%9B%86%E5%90%88/image-20230527100412882.png" alt="image-20230527100412882"></p><h2 id="ğŸŒğŸŒutools"><a href="#ğŸŒğŸŒutools" class="headerlink" title="ğŸŒğŸŒutools"></a>ğŸŒğŸŒutools</h2><blockquote><p><a href="https://www.lzwgxust.top/post/c6f514bb.html">utools | æ¥šé—¨çš„ä¸–ç•Œ</a></p></blockquote><h2 id="ç®€è´¦"><a href="#ç®€è´¦" class="headerlink" title="ç®€è´¦"></a>ç®€è´¦</h2><blockquote><p><a href="https://www.lzwgxust.top/post/cbfb4db0.html">å¥½ç”¨çš„è®°è´¦ç½‘ç«™</a></p></blockquote><h2 id="é—ªå‡»PPT"><a href="#é—ªå‡»PPT" class="headerlink" title="é—ªå‡»PPT"></a>é—ªå‡»PPT</h2><blockquote><p><a href="https://www.lzwgxust.top/categories/tool/%E9%97%AA%E5%87%BBppt/">é—ªå‡»ppt | æ¥šé—¨çš„ä¸–ç•Œ</a></p></blockquote><h2 id="baiduwangpan"><a href="#baiduwangpan" class="headerlink" title="baiduwangpan"></a>baiduwangpan</h2><blockquote><p><a href="https://www.lzwgxust.top/post/7f7f39a9.html">å¦‚ä½•å®ç°0å…ƒç™¾åº¦ç½‘ç›˜ä¸é™é€Ÿ?</a></p></blockquote><h2 id="Bitwarden"><a href="#Bitwarden" class="headerlink" title="Bitwarden"></a>Bitwarden</h2><blockquote><p>å¥½ç”¨å¾—å¯†ç ä¿å­˜è½¯ä»¶ï¼Œæ‰‹æœºã€PCã€æµè§ˆå™¨æ’ä»¶éƒ½å¯åŒæ­¥æ•°æ®</p><p><a href="https://github.com/bitwarden">Bitwarden Â· GitHub</a></p></blockquote><h2 id="cpolar"><a href="#cpolar" class="headerlink" title="cpolar"></a>cpolar</h2><blockquote><p><a href="https://www.lzwgxust.top/post/d36fddee.html">cpolarç®€æ˜“å®ç°å†…ç½‘ç©¿é€ </a></p></blockquote><h2 id="Listen1ï¼šå·²æ·˜æ±°"><a href="#Listen1ï¼šå·²æ·˜æ±°" class="headerlink" title="Listen1ï¼šå·²æ·˜æ±°"></a>Listen1ï¼šå·²æ·˜æ±°</h2><blockquote><p>æƒ³å¬å…è´¹çš„æ­Œå—ï¼ŸListen1 æ»¡è¶³ä½ çš„æ‰€æœ‰å¬æ­Œéœ€æ±‚  </p><p><a href="https://listen1.github.io/listen1/">Listen 1 éŸ³ä¹æ’­æ”¾å™¨</a></p></blockquote><h2 id="åˆ†åŒºåŠ©æ‰‹"><a href="#åˆ†åŒºåŠ©æ‰‹" class="headerlink" title="åˆ†åŒºåŠ©æ‰‹"></a>åˆ†åŒºåŠ©æ‰‹</h2><blockquote><p>åªèƒ½æ„Ÿæ…¨å¤ªå¼ºå¤§äº†ï¼ï¼ï¼ å¯ä»¥å¸®ä½ åˆ†ç›˜ã€å¸®ä½ ç§»åŠ¨è½¯ä»¶</p><p><a href="https://www.disktool.cn/">å‚²æ¢…åˆ†åŒºåŠ©æ‰‹ã€è½»æ¾å¤‡ä»½ã€æ•°æ®æ¢å¤(æ¢å¤ä¹‹æ˜Ÿ)ã€è¿œç¨‹æ§åˆ¶ï¼ˆAnyViewerï¼‰</a></p></blockquote><h2 id="greasemonkeyï¼šæ¨è"><a href="#greasemonkeyï¼šæ¨è" class="headerlink" title="greasemonkeyï¼šæ¨è"></a>greasemonkeyï¼šæ¨è</h2><blockquote><p>åˆä¸€ä¸ªå…è´¹çš„å¬æ­Œè½¯ä»¶ï¼</p></blockquote><h2 id="webcatalog"><a href="#webcatalog" class="headerlink" title="webcatalog"></a>webcatalog</h2><blockquote><p>ä¸€ä¸ªå¯ä»¥æŠŠä½ æ»´ç½‘é¡µ å˜æˆ appçš„è½¯ä»¶</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> utools </tag>
            
            <tag> æ²¹çŒ´ </tag>
            
            <tag> BitWarden </tag>
            
            <tag> spotify </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>Centos8å®‰è£…Mysql5.7</title>
      <link href="/2023/05/20/Centos8%E5%AE%89%E8%A3%85Mysql5-7/"/>
      <url>/2023/05/20/Centos8%E5%AE%89%E8%A3%85Mysql5-7/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šæš‚æ—¶æœ¨æœ‰å“ˆå“ˆã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€ğŸ“£"><a href="#å‰è¨€ğŸ“£" class="headerlink" title="å‰è¨€ğŸ“£"></a>å‰è¨€ğŸ“£</h1><blockquote><p>åœ¨Centos8ä¸Šç”¨åŸæ¥Centos7ä¸Šå®‰è£…MySQL5.7çš„æ–¹æ³•ä¼šå®‰è£…å¤±è´¥ï¼Œæ˜¾ç¤ºmysql-community-serverå®‰è£…é”™è¯¯ã€‚æˆ‘ä»¬ç”¨æ–°çš„æ–¹æ³•åœ¨Centos8ä¸Šå®‰è£…MySQL5.7</p><p>å¥½åšå®¢ï¼š[centos mysqlé‡å¯_mob64ca12e732bbçš„æŠ€æœ¯åšå®¢_51CTOåšå®¢](<a href="https://blog.51cto.com/u_16213393/7182719#:~:text=CentOS%E4%B8%ADMySQL%E9%87%8D%E5%90%AF%E6%93%8D%E4%BD%9C%E8%AF%A6%E8%A7%A3">https://blog.51cto.com/u_16213393/7182719#:~:text=CentOSä¸­MySQLé‡å¯æ“ä½œè¯¦è§£</a> 1 1. æ£€æŸ¥MySQLæœåŠ¡çŠ¶æ€ åœ¨å¼€å§‹é‡å¯MySQLæœåŠ¡ä¹‹å‰ï¼Œæˆ‘ä»¬é¦–å…ˆéœ€è¦æ£€æŸ¥å½“å‰MySQLæœåŠ¡çš„è¿è¡ŒçŠ¶æ€ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥MySQLæœåŠ¡æ˜¯å¦æ­£åœ¨è¿è¡Œï¼š systemctl status,å¯ä»¥ä½¿ç”¨ä»¥ä¸‹å‘½ä»¤æ£€æŸ¥MySQLæœåŠ¡çš„è¿è¡ŒçŠ¶æ€ï¼š â€¦ 4 4. æ€»ç»“ é€šè¿‡æœ¬æ–‡ï¼Œæˆ‘ä»¬å­¦ä¹ äº†åœ¨CentOSä¸­é‡å¯MySQLæœåŠ¡çš„æ–¹æ³•ã€‚ æˆ‘ä»¬å¯ä»¥ä½¿ç”¨systemctlå‘½ä»¤æˆ–è€…serviceå‘½ä»¤æ¥é‡å¯MySQLæœåŠ¡ã€‚ )</p></blockquote><h2 id="ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»å®‰è£…MySQL"><a href="#ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»å®‰è£…MySQL" class="headerlink" title="ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»å®‰è£…MySQL"></a>ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»å®‰è£…MySQL</h2><h3 id="ğŸŒ³æ·»åŠ mysqlå­˜å‚¨åº“"><a href="#ğŸŒ³æ·»åŠ mysqlå­˜å‚¨åº“" class="headerlink" title="ğŸŒ³æ·»åŠ mysqlå­˜å‚¨åº“"></a>ğŸŒ³æ·»åŠ mysqlå­˜å‚¨åº“</h3><blockquote><p>ç¦ç”¨mysql é»˜è®¤çš„AppStreamå­˜å‚¨åº“</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf remove @mysql</span><br><span class="line">sudo dnf module reset mysql &amp;&amp; sudo dnf module <span class="built_in">disable</span> mysql</span><br></pre></td></tr></table></figure><blockquote><p>centos8æ²¡æœ‰mysqlå­˜å‚¨åº“ï¼Œå› æ­¤æˆ‘ä»¬å°†ä½¿ç”¨centos7å­˜å‚¨åº“ï¼Œåˆ›å»ºä¸€ä¸ªæ–°çš„å­˜å‚¨åº“æ–‡ä»¶ã€‚</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo vim /etc/yum.repos.d/mysql-community.repo</span><br></pre></td></tr></table></figure><blockquote><p>å°†ä¸€ä¸‹æ•°æ®æ’å…¥ä¸Šé¢çš„å­˜å‚¨åº“ä¸­</p></blockquote><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">[mysql57-community]</span><br><span class="line">name=MySQL 5.7 Community Server</span><br><span class="line">baseurl=http://repo.mysql.com/yum/mysql-5.7-community/el/7/$basearch/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">[mysql-connectors-community]</span><br><span class="line">name=MySQL Connectors Community</span><br><span class="line">baseurl=http://repo.mysql.com/yum/mysql-connectors-community/el/7/$basear/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br><span class="line"></span><br><span class="line">[mysql-tools-community]</span><br><span class="line">name=MySQL Tools Community</span><br><span class="line">baseurl=http://repo.mysql.com/yum/mysql-tools-community/el/7/$basearch/</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=0</span><br></pre></td></tr></table></figure><h3 id="ğŸŒµå®‰è£…mysqlï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯mysql5-7ï¼‰"><a href="#ğŸŒµå®‰è£…mysqlï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯mysql5-7ï¼‰" class="headerlink" title="ğŸŒµå®‰è£…mysqlï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯mysql5.7ï¼‰"></a>ğŸŒµå®‰è£…mysqlï¼ˆè¿™é‡Œæˆ‘é€‰æ‹©çš„æ˜¯mysql5.7ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sudo dnf --enablerepo=mysql57-community install mysql-community-server</span><br></pre></td></tr></table></figure><h3 id="ğŸŒ²å¦‚æœå®‰è£…å¤±è´¥ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œå®‰è£…"><a href="#ğŸŒ²å¦‚æœå®‰è£…å¤±è´¥ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œå®‰è£…" class="headerlink" title="ğŸŒ²å¦‚æœå®‰è£…å¤±è´¥ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œå®‰è£…"></a>ğŸŒ²å¦‚æœå®‰è£…å¤±è´¥ï¼Œä½¿ç”¨ä»¥ä¸‹æ–¹æ³•è¿›è¡Œå®‰è£…</h3><blockquote><p>å…ˆä¸‹è½½rpmåŒ…</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-common-5.7.27-1.el6.x86_64.rpm</span><br><span class="line">wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-libs-5.7.27-1.el6.x86_64.rpm</span><br><span class="line">wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-client-5.7.27-1.el6.x86_64.rpm</span><br><span class="line">wget https://dev.mysql.com/get/Downloads/MySQL-5.7/mysql-community-server-5.7.27-1.el6.x86_64.rpm</span><br></pre></td></tr></table></figure><blockquote><p>å†å®‰è£…</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">yum install -y mysql-community-common-5.7.27-1.el6.x86_64.rpm</span><br><span class="line">yum install -y mysql-community-libs-5.7.27-1.el6.x86_64.rpm</span><br><span class="line">yum install -y mysql-community-client-5.7.27-1.el6.x86_64.rpm</span><br><span class="line">yum install -y mysql-community-server-5.7.27-1.el6.x86_64.rpm</span><br></pre></td></tr></table></figure><h3 id="ğŸ€ä¸‹è½½å®Œæˆåæ£€æŸ¥ç‰ˆæœ¬"><a href="#ğŸ€ä¸‹è½½å®Œæˆåæ£€æŸ¥ç‰ˆæœ¬" class="headerlink" title="ğŸ€ä¸‹è½½å®Œæˆåæ£€æŸ¥ç‰ˆæœ¬"></a>ğŸ€ä¸‹è½½å®Œæˆåæ£€æŸ¥ç‰ˆæœ¬</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br></pre></td><td class="code"><pre><span class="line">[root@<span class="built_in">test</span> ~]<span class="comment"># rpm -qi mysql-community-server</span></span><br><span class="line"> Name        : mysql-community-server</span><br><span class="line"> Version     : 5.7.29</span><br><span class="line"> Release     : 1.el7</span><br><span class="line"> Architecture: x86_64</span><br><span class="line"> Install Date: Sat 22 Feb 2020 11:04:07 AM CST</span><br><span class="line"> Group       : Applications/Databases</span><br><span class="line"> Size        : 801919839</span><br><span class="line"> License     : Copyright (c) 2000, 2019, Oracle and/or its affiliates. All rights reserved. Under GPLv2 license as shown <span class="keyword">in</span> the Description field.</span><br><span class="line"> Signature   : DSA/SHA1, Thu 19 Dec 2019 04:12:40 PM CST, Key ID 8c718d3b5072e1f5</span><br><span class="line"> Source RPM  : mysql-community-5.7.29-1.el7.src.rpm</span><br><span class="line"> Build Date  : Wed 18 Dec 2019 09:31:48 PM CST</span><br><span class="line"> Build Host  : loki02.no.oracle.com</span><br><span class="line"> Relocations : (not relocatable)</span><br><span class="line"> Packager    : MySQL Release Engineering &lt;mysql-build@oss.oracle.com&gt;</span><br><span class="line"> Vendor      : Oracle and/or its affiliates</span><br><span class="line"> URL         : http://www.mysql.com/</span><br><span class="line"> Summary     : A very fast and reliable SQL database server</span><br></pre></td></tr></table></figure><blockquote><p>å‡ºç°ä»¥ä¸Šä¿¡æ¯è¯´æ˜å®‰è£…æˆåŠŸå•¦ğŸŒŸ</p></blockquote><h3 id="ğŸŒæ£€æŸ¥mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ"><a href="#ğŸŒæ£€æŸ¥mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ" class="headerlink" title="ğŸŒæ£€æŸ¥mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ"></a>ğŸŒæ£€æŸ¥mysqlæºæ˜¯å¦å®‰è£…æˆåŠŸ</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">yum repolist enabled | grep <span class="string">&quot;mysql.*-community.*&quot;</span></span><br></pre></td></tr></table></figure><blockquote><p>å‡ºç°ä»¥ä¸‹ä¿¡æ¯è¯´æ˜å®‰è£…æˆåŠŸå•¦ğŸŒŸ</p></blockquote><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">mysql-connectors-community MySQL Connectors Community                       141</span><br><span class="line">mysql-tools-community      MySQL Tools Community                            105</span><br><span class="line">mysql57-community          MySQL 5.7 Community Server</span><br></pre></td></tr></table></figure><h3 id="ğŸŒå¯åŠ¨mysql"><a href="#ğŸŒå¯åŠ¨mysql" class="headerlink" title="ğŸŒå¯åŠ¨mysql"></a>ğŸŒå¯åŠ¨mysql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl start mysqld</span><br></pre></td></tr></table></figure><h3 id="ğŸ æŸ¥çœ‹å¯åŠ¨çŠ¶æ€"><a href="#ğŸ æŸ¥çœ‹å¯åŠ¨çŠ¶æ€" class="headerlink" title="ğŸ æŸ¥çœ‹å¯åŠ¨çŠ¶æ€"></a>ğŸ æŸ¥çœ‹å¯åŠ¨çŠ¶æ€</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl status mysqld</span><br></pre></td></tr></table></figure><blockquote><p>å‡ºç°ä¸€ä¸‹ä¿¡æ¯ï¼Œåˆ™å¯åŠ¨æˆåŠŸğŸŒŸ</p></blockquote><p><img src="/2023/05/20/Centos8%E5%AE%89%E8%A3%85Mysql5-7/image-20230520152129942.png" alt="image-20230520152129942"></p><h3 id="ğŸ”¥è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"><a href="#ğŸ”¥è®¾ç½®å¼€æœºè‡ªå¯åŠ¨" class="headerlink" title="ğŸ”¥è®¾ç½®å¼€æœºè‡ªå¯åŠ¨"></a>ğŸ”¥è®¾ç½®å¼€æœºè‡ªå¯åŠ¨</h3><blockquote><p>systemctl enable mysqld</p></blockquote><h3 id="â¤ï¸åˆ·æ–°æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶"><a href="#â¤ï¸åˆ·æ–°æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶" class="headerlink" title="â¤ï¸åˆ·æ–°æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶"></a>â¤ï¸åˆ·æ–°æ‰€æœ‰ä¿®æ”¹è¿‡çš„é…ç½®æ–‡ä»¶</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">systemctl daemon-reload</span><br></pre></td></tr></table></figure><h3 id="ğŸ’•è·å–å®‰è£…mysqlåç”Ÿæˆçš„ä¸´æ—¶å¯†ç ï¼Œç”¨äºç™»å½•"><a href="#ğŸ’•è·å–å®‰è£…mysqlåç”Ÿæˆçš„ä¸´æ—¶å¯†ç ï¼Œç”¨äºç™»å½•" class="headerlink" title="ğŸ’•è·å–å®‰è£…mysqlåç”Ÿæˆçš„ä¸´æ—¶å¯†ç ï¼Œç”¨äºç™»å½•"></a>ğŸ’•è·å–å®‰è£…mysqlåç”Ÿæˆçš„ä¸´æ—¶å¯†ç ï¼Œç”¨äºç™»å½•</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">grep <span class="string">&#x27;temporary password&#x27;</span> /var/log/mysqld.log</span><br></pre></td></tr></table></figure><p><img src="/2023/05/20/Centos8%E5%AE%89%E8%A3%85Mysql5-7/image-20230520152337197.png" alt="image-20230520152337197"></p><h3 id="ğŸ’œLogin-mysql"><a href="#ğŸ’œLogin-mysql" class="headerlink" title="ğŸ’œLogin  mysql"></a>ğŸ’œLogin  mysql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql -u root -p</span><br></pre></td></tr></table></figure><blockquote><p>å†è¾“å…¥ä¸Šé¢æŸ¥æ‰¾å¾—åˆ°çš„ä¸´æ—¶å¯†ç å³å¯è¿›å…¥mysql</p></blockquote><h3 id="ğŸ…ä¿®æ”¹ç™»å½•å¯†ç "><a href="#ğŸ…ä¿®æ”¹ç™»å½•å¯†ç " class="headerlink" title="ğŸ…ä¿®æ”¹ç™»å½•å¯†ç "></a>ğŸ…ä¿®æ”¹ç™»å½•å¯†ç </h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># ç›´æ¥å°†rootæƒé™ä¿®æ”¹ä¸ºå¯ä»¥é€šè¿‡è¿œç¨‹è®¿é—®(ä½†ä¸æ¨è)</span></span><br><span class="line">mysql&gt; use mysql;</span><br><span class="line">mysql&gt; UPDATE user SET Host=<span class="string">&#x27;%&#x27;</span> WHERE User=<span class="string">&#x27;root&#x27;</span>;</span><br><span class="line">mysql&gt; flush privileges;</span><br></pre></td></tr></table></figure><h3 id="âœŒè®¾ç½®é»˜è®¤ç¼–ç ä¸ºutf-8ï¼ˆmysqlå®‰è£…åé»˜è®¤ä¸æ”¯æŒä¸­æ–‡ï¼‰"><a href="#âœŒè®¾ç½®é»˜è®¤ç¼–ç ä¸ºutf-8ï¼ˆmysqlå®‰è£…åé»˜è®¤ä¸æ”¯æŒä¸­æ–‡ï¼‰" class="headerlink" title="âœŒè®¾ç½®é»˜è®¤ç¼–ç ä¸ºutf-8ï¼ˆmysqlå®‰è£…åé»˜è®¤ä¸æ”¯æŒä¸­æ–‡ï¼‰"></a>âœŒè®¾ç½®é»˜è®¤ç¼–ç ä¸ºutf-8ï¼ˆmysqlå®‰è£…åé»˜è®¤ä¸æ”¯æŒä¸­æ–‡ï¼‰</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line">vim /etc/my.cnf</span><br><span class="line"><span class="comment"># è¿›å…¥æ–‡ä»¶åæ·»åŠ ä¸‹é¢çš„é…ç½®å³å¯</span></span><br><span class="line">[mysqld]</span><br><span class="line">character-set-server=utf8</span><br><span class="line">[client]</span><br><span class="line">default-character-set=utf8</span><br><span class="line">[mysql]</span><br><span class="line">default-character-set=utf8</span><br></pre></td></tr></table></figure><h3 id="ğŸ’ªé‡å¯MySQLæœåŠ¡å¹¶è¿›å…¥MySQL"><a href="#ğŸ’ªé‡å¯MySQLæœåŠ¡å¹¶è¿›å…¥MySQL" class="headerlink" title="ğŸ’ªé‡å¯MySQLæœåŠ¡å¹¶è¿›å…¥MySQL"></a>ğŸ’ªé‡å¯MySQLæœåŠ¡å¹¶è¿›å…¥MySQL</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">shell&gt; systemctl restart mysqld</span><br><span class="line">shell&gt; mysql -uroot -p</span><br><span class="line">mysql&gt; show variables like <span class="string">&#x27;character%&#x27;</span>;</span><br></pre></td></tr></table></figure><blockquote><p>å‡ºç°å¦‚ä¸‹åˆ™è¯´æ˜ç¼–ç ä¿®æ”¹å®ŒæˆğŸŒŸ</p></blockquote><p><img src="/2023/05/20/Centos8%E5%AE%89%E8%A3%85Mysql5-7/image-20230520152840279.png" alt="image-20230520152840279"></p><h3 id="ğŸ“¢quit-mysql"><a href="#ğŸ“¢quit-mysql" class="headerlink" title="ğŸ“¢quit mysql"></a>ğŸ“¢quit mysql</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">mysql&gt; quit</span><br></pre></td></tr></table></figure><blockquote><p>ä½¿ç”¨æœ¬æœºç”µè„‘navicat&#x2F;sqlyogç­‰ä¸€ç³»åˆ—å®¢æˆ·ç«¯å·¥å…·è¿æ¥æœåŠ¡å™¨ä¸Šçš„mysqlï¼Œç”¨æˆ·åå’Œå¯†ç ä¸ºè¿œç¨‹ç”¨æˆ·çš„ç”¨æˆ·åå’Œå¯†ç ï¼Œå¦‚æœæ˜¯å°†rootæƒé™ä¿®æ”¹ä¸ºå¯ä»¥è¿œç¨‹è®¿é—®ï¼Œå°±ç”¨rootè®¿é—®ã€‚</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> mysql </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>MarkDownç¼–è¾‘è¯­æ³•</title>
      <link href="/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/"/>
      <url>/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/</url>
      
        <content type="html"><![CDATA[<p>[toc]<br><font face="zhuZiAWan" size="3"></font></p><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šæš‚æ—¶æœ¨æœ‰å“ˆå“ˆã€‚éšç€ä¸“ä¸šçš„æ·±å…¥ä¼šè¶Šæ¥è¶Šå¹¿å“¦â€¦ä¸€èµ·æœŸå¾…ã€‚<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p><p>ğŸŒ³ğŸŒµğŸŒ²ğŸ€ğŸŒğŸŒğŸ ğŸ”¥â¤ï¸ğŸ’•ğŸ’œğŸ…âœŒğŸ’ªğŸ“¢ğŸ“£ğŸŒ»ğŸ…ğŸ‰</p><p>ğŸŒŸğŸ‘»ğŸ±ğŸ˜ğŸšğŸ›ğŸ¥¡ğŸŒğŸ’¦ğŸ¦¸â€â™‚ğŸ¤”ğŸ«¡ğŸ’¯ğŸ‹ğŸ™ğŸ­ğŸ§‹ğŸŠ</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><p>æœ€åˆå¼€å§‹å†™åšæ–‡çš„æ—¶å€™ï¼Œæ˜¯ç”¨çš„å¯Œæ–‡æœ¬ç¼–è¾‘å™¨ï¼Œç®€å•ç²—æš´ï¼Œå“ªé‡Œäº®äº†ç‚¹å“ªé‡Œï¼Œä½†æ˜¯å…¶åŠŸèƒ½è¾ƒå•ä¸€ï¼Œæœ‰æ—¶å€™ä¸èƒ½å¾ˆå¥½çš„å®ç°æƒ³è¦å‘ˆç°çš„ç»“æœï¼ˆç‰¹åˆ«æ˜¯æ–‡ç« æœ€å¼€å¤´çš„ç›®å½•éƒ¨åˆ†ï¼‰ï¼Œäºæ˜¯ä¾¿è½¬è‡³markdownç¼–è¾‘å™¨äº†ã€‚<br>æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°,è®°å½•å†™åšæ–‡å¸¸ç”¨çš„markdownè¯­æ³•<br>CSDNè‡ªå¸¦çš„MarkDownæ–‡æ¡£æŒ‡å¯¼ï¼š<br>ï¼ˆ1ï¼‰ã€æ‰“å¼€markdownç¼–è¾‘å™¨<br>ï¼ˆ2ï¼‰ã€ç‚¹å‡»â€œå‘å¸ƒæ–‡ç« â€ä¸‹æ ä¸­çš„å¸®åŠ©æ–‡æ¡£<br>ï¼ˆ3ï¼‰ã€ç‚¹å‡»ç®­å¤´æŒ‡çš„æ ‡è¯†ï¼Œä¸‹æ–¹å³å¯å±•ç¤ºå¯¹åº”çš„MarkDownè¯­æ³•æ•™å­¦ã€‚</p><h1 id="ä¸€ã€ğŸŒ³ğŸŒ³ğŸŒ³ç›®å½•ä¸æ ‡é¢˜"><a href="#ä¸€ã€ğŸŒ³ğŸŒ³ğŸŒ³ç›®å½•ä¸æ ‡é¢˜" class="headerlink" title="ä¸€ã€ğŸŒ³ğŸŒ³ğŸŒ³ç›®å½•ä¸æ ‡é¢˜"></a>ä¸€ã€ğŸŒ³ğŸŒ³ğŸŒ³ç›®å½•ä¸æ ‡é¢˜</h1><h3 id="ğŸŒµ1ã€æ ‡é¢˜ï¼šâ€œ-â€-â€œæ ‡é¢˜å†…å®¹â€"><a href="#ğŸŒµ1ã€æ ‡é¢˜ï¼šâ€œ-â€-â€œæ ‡é¢˜å†…å®¹â€" class="headerlink" title="ğŸŒµ1ã€æ ‡é¢˜ï¼šâ€œ#â€+â€œæ ‡é¢˜å†…å®¹â€"></a>ğŸŒµ1ã€æ ‡é¢˜ï¼šâ€œ#â€+â€œæ ‡é¢˜å†…å®¹â€</h3><blockquote><p>ä»¥æ­¤åšæ–‡ä¸ºä¾‹ï¼Œç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼š</p><p><img src="/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/image-20230511153809824.png" alt="image-20230511153809824"></p><p>ç»“æœå‘ˆç°å¦‚ä¸‹ï¼š</p><p><img src="/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/image-20230511154421304.png" alt="image-20230511154421304"></p><p><font color="red">æ˜¾ç„¶ï¼š#å·è¶Šå¤šæ ‡é¢˜çº§æ•°è¶Šé«˜ï¼ˆä¸€äºŒä¸‰â€¦â€¦ï¼‰ï¼Œå­—ä½“è¶Šå°ã€‚</font></p></blockquote><h3 id="ğŸŒ²2ã€ç›®å½•ï¼š-TOC-ä½ å®šä¹‰çš„ç›®å½•æ ‡é¢˜"><a href="#ğŸŒ²2ã€ç›®å½•ï¼š-TOC-ä½ å®šä¹‰çš„ç›®å½•æ ‡é¢˜" class="headerlink" title="ğŸŒ²2ã€ç›®å½•ï¼š@+[TOC]+(ä½ å®šä¹‰çš„ç›®å½•æ ‡é¢˜)"></a>ğŸŒ²2ã€ç›®å½•ï¼š@+[TOC]+(ä½ å®šä¹‰çš„ç›®å½•æ ‡é¢˜)</h3><blockquote><p>ä»¥æ­¤åšæ–‡ä¸ºä¾‹ï¼Œç¼–è¾‘å†…å®¹å¦‚ä¸‹ï¼š</p></blockquote><h1 id="äºŒã€ğŸŒŸğŸŒŸğŸŒŸå†…å®¹æ¸²æŸ“"><a href="#äºŒã€ğŸŒŸğŸŒŸğŸŒŸå†…å®¹æ¸²æŸ“" class="headerlink" title="äºŒã€ğŸŒŸğŸŒŸğŸŒŸå†…å®¹æ¸²æŸ“"></a>äºŒã€ğŸŒŸğŸŒŸğŸŒŸå†…å®¹æ¸²æŸ“</h1><blockquote><h2 id="å‰è¨€-1"><a href="#å‰è¨€-1" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h2><p>Markdownå†…åµŒHTMLï¼Œæ‰€ä»¥å¯ä»¥ç”¨htmlè¯­æ³•æ¥è¿›è¡Œç¼–è¾‘ã€‚</p><h3 id="ğŸ”¥1ã€æ”¹å˜é¢œè‰²"><a href="#ğŸ”¥1ã€æ”¹å˜é¢œè‰²" class="headerlink" title="ğŸ”¥1ã€æ”¹å˜é¢œè‰²"></a>ğŸ”¥1ã€æ”¹å˜é¢œè‰²</h3><p>è¯­æ³•ï¼š<code>&lt;font color=&#39;purple&#39;&gt;æ­¤æ®µæ–‡å­—é¢œè‰²ä¸ºç´«è‰²&lt;/font&gt;</code><br>æ•ˆæœå‘ˆç°ï¼š<font color="purple">æ­¤æ®µæ–‡å­—é¢œè‰²ä¸ºç´«è‰²</font><br>åœ¨purpleä½ç½®æ”¹æˆä½ æƒ³è¦çš„é¢œè‰²è‹±æ–‡å³å¯ã€‚</p><h3 id="ğŸ€2ã€åŠ å…¥ä¸‹åˆ’çº¿"><a href="#ğŸ€2ã€åŠ å…¥ä¸‹åˆ’çº¿" class="headerlink" title="ğŸ€2ã€åŠ å…¥ä¸‹åˆ’çº¿"></a>ğŸ€2ã€åŠ å…¥ä¸‹åˆ’çº¿</h3><p>è¯­æ³•ï¼š<code>&lt;u&gt;æ­¤æ®µå«ä¸‹åˆ’çº¿&lt;/u&gt;</code><br>æ•ˆæœå‘ˆç°ï¼š<u>æ­¤æ®µå«ä¸‹åˆ’çº¿</u></p><h3 id="ğŸŒ3ã€å¼•ç”¨"><a href="#ğŸŒ3ã€å¼•ç”¨" class="headerlink" title="ğŸŒ3ã€å¼•ç”¨"></a>ğŸŒ3ã€å¼•ç”¨</h3><p>è¯­æ³•ï¼š&gt;+æ–‡æœ¬</p><h3 id="ğŸŒ4ã€ç©ºæ ¼"><a href="#ğŸŒ4ã€ç©ºæ ¼" class="headerlink" title="ğŸŒ4ã€ç©ºæ ¼"></a>ğŸŒ4ã€ç©ºæ ¼</h3><p>è¯­æ³•ï¼š<br>ä¸æ¢è¡Œç©ºæ ¼ï¼š<code> </code><br>åŠè§’ç©ºæ ¼ï¼š<code>â€‚</code><br>å…¨è§’ç©ºæ ¼ï¼š<code>&amp;emsp</code></p><p><img src="/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/image-20230511191009562.png" alt="image-20230511191009562"></p><p>ç»“æœå‘ˆç°ï¼š<br>æ­¤æ®µå‰æœ‰ä¸€ä¸ª<code> </code>ï¼ˆä¸æ¢è¡Œç©ºæ ¼ï¼‰<br>â€‚æ­¤æ®µå‰æœ‰ä¸€ä¸ª<code>&amp;enspï¼›</code>ï¼ˆåŠè§’ç©ºæ ¼ï¼‰<br>â€ƒæ­¤æ®µå‰æœ‰ä¸€ä¸ª<code>â€ƒ</code>ï¼ˆå…¨è§’ç©ºæ ¼ï¼‰</p><h3 id="ğŸ 5ã€åˆ†å‰²çº¿"><a href="#ğŸ 5ã€åˆ†å‰²çº¿" class="headerlink" title="ğŸ 5ã€åˆ†å‰²çº¿"></a>ğŸ 5ã€åˆ†å‰²çº¿</h3><p>ä¸‰ä¸ªè¯­æ³•çš†å¯ï¼š<br><code>***</code>ï¼šä¸‰ä¸ª*å·<br><code>---</code>ï¼šä¸‰ä¸ª-å·<br><code>___</code>ï¼šä¸‰ä¸ª_ï¼ˆè‹±æ–‡ä¸‹åˆ’çº¿ï¼‰å·<br>æ•ˆæœå‘ˆç°ï¼š</p><h3 id="ğŸŒ»6ã€è®¾ç½®å›¾åƒå¤§å°ä¸”å±…ä¸­"><a href="#ğŸŒ»6ã€è®¾ç½®å›¾åƒå¤§å°ä¸”å±…ä¸­" class="headerlink" title="ğŸŒ»6ã€è®¾ç½®å›¾åƒå¤§å°ä¸”å±…ä¸­"></a>ğŸŒ»6ã€è®¾ç½®å›¾åƒå¤§å°ä¸”å±…ä¸­</h3><p><img src="/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/image-20230511191201948.png" alt="image-20230511191201948">è®¾ç½®å›¾ç‰‡å±…ä¸­</p><p>ä»£ç ï¼š<code>#pic_center</code></p><p><img src="/2023/05/11/MarkDown%E7%BC%96%E8%BE%91%E8%AF%AD%E6%B3%95/image-20230511191456521.png" alt="image-20230511191456521"></p><h5 id="è®¾ç½®å›¾ç‰‡å¤§å°"><a href="#è®¾ç½®å›¾ç‰‡å¤§å°" class="headerlink" title="è®¾ç½®å›¾ç‰‡å¤§å°"></a>è®¾ç½®å›¾ç‰‡å¤§å°</h5><p>ä»£ç ï¼š<code>=500x400</code>ï¼ˆå‰è¾¹æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰</p><h5 id="è®¾ç½®å›¾ç‰‡å±…ä¸­ä¸”è‡ªå®šä¹‰å¤§å°"><a href="#è®¾ç½®å›¾ç‰‡å±…ä¸­ä¸”è‡ªå®šä¹‰å¤§å°" class="headerlink" title="è®¾ç½®å›¾ç‰‡å±…ä¸­ä¸”è‡ªå®šä¹‰å¤§å°"></a>è®¾ç½®å›¾ç‰‡å±…ä¸­ä¸”è‡ªå®šä¹‰å¤§å°</h5><p>ä»£ç ï¼š<code>#pic_center =500x400</code> ï¼ˆå…¶ä¸­ä¸ºè‹±æ–‡çš„â€œxâ€ï¼Œå±…ä¸­è¦åœ¨è®¾ç½®å¤§å°å‰ï¼Œä¸¤è€…é—´æœ‰ä¸€ä¸ªç©ºæ ¼ï¼‰</p><h3 id="ğŸ‘»7ã€å¥½çœ‹çš„å°ç¬¦å·"><a href="#ğŸ‘»7ã€å¥½çœ‹çš„å°ç¬¦å·" class="headerlink" title="ğŸ‘»7ã€å¥½çœ‹çš„å°ç¬¦å·"></a>ğŸ‘»7ã€å¥½çœ‹çš„å°ç¬¦å·</h3><p>æ¯ç‡¥çš„æ–‡å­—å®¹æ˜“ä½¿è¯»è€…è§†è§‰ç–²åŠ³ï¼Œä¸€äº›å¯çˆ±çš„å°ç¬¦å·ä¼šè®©äººçœ¼å‰ä¸€äº®ã€‚<br>ç›´æ¥å¤åˆ¶ç²˜è´´å¦‚ä¸‹å›¾æ¡ˆè‡³MarkDownç¼–è¾‘é¢æ¿å³å¯ã€‚<br>å›¾æ¡ˆå¦‚ä¸‹ï¼š<br>ğŸŒ³ğŸŒµğŸŒ²ğŸ€ğŸŒğŸŒğŸ ğŸ”¥â¤ï¸ğŸ’•ğŸ’œğŸ…âœŒğŸ’ª<br>ğŸ“¢ğŸ“£ğŸŒ»ğŸ…ğŸ‰ğŸŒŸğŸ‘»<br>ç»“æœå‘ˆç°å¦‚ä¸‹ï¼š</p></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> markdown </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>gulimall-springbootå¯åŠ¨å¤±è´¥</title>
      <link href="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/"/>
      <url>/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/</url>
      
        <content type="html"><![CDATA[<p>[toc]</p><font face="zhuZiAWan" size="3"><blockquote><p>âœ¨ä½ å¥½å•Šï¼Œæˆ‘æ˜¯â€œ ç½—å¸ˆå‚…â€ï¼Œæ˜¯ä¸€åç¨‹åºçŒ¿å“¦ã€‚<br>ğŸŒä¸»é¡µé“¾æ¥ï¼š<a href="https://luozongwei.github.io/">æ¥šé—¨çš„ä¸–ç•Œ - ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿</a><br>â˜€ï¸åšæ–‡ä¸»æ›´æ–¹å‘ä¸ºï¼šåˆ†äº«è‡ªå·±çš„å¿«ä¹<br>â¤ï¸ä¸€ä¸ªâ€œä¸æƒ³è®©æˆ‘æ›¾æ²¡æœ‰åšå¥½è€Œæˆä¸ºä½ çš„é—æ†¾â€çš„åšä¸»ã€‚<br>ğŸ’ªå¾ˆé«˜å…´ä¸ä½ ç›¸é‡ï¼Œä¸€èµ·åŠ æ²¹ï¼</p></blockquote><h1 id="å‰è¨€"><a href="#å‰è¨€" class="headerlink" title="å‰è¨€"></a>å‰è¨€</h1><blockquote><p>å¯åŠ¨springbooté¡¹ç›®ï¼ŒUnable to start web serverï¼› nested exception is org.springframework.beans.factory</p></blockquote><h2 id="ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»é—®é¢˜æè¿°"><a href="#ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»é—®é¢˜æè¿°" class="headerlink" title="ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»é—®é¢˜æè¿°"></a>ä¸€ã€ğŸ‘»ğŸ‘»ğŸ‘»é—®é¢˜æè¿°</h2><p>(1) å¯åŠ¨SpringBooté¡¹ç›®æ—¶å‡ºç°å¼‚å¸¸ï¼š</p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511200131462.png" alt="image-20230511200131462"></p><p>(2)ç”±äºåœ¨ä½¿ç”¨springBootåˆ›å»ºé¡¹ç›®çš„æ—¶å€™åˆ›å»ºäº†cloudä¾èµ–ï¼Œåé¢åˆæ”¹äº†springBootçš„ç‰ˆæœ¬ã€‚</p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511200327492.png" alt="image-20230511200327492"></p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511200422022.png" alt="image-20230511200422022"></p><h2 id="äºŒã€ğŸŒŸğŸŒŸğŸŒŸå¼‚å¸¸åŸå› "><a href="#äºŒã€ğŸŒŸğŸŒŸğŸŒŸå¼‚å¸¸åŸå› " class="headerlink" title="äºŒã€ğŸŒŸğŸŒŸğŸŒŸå¼‚å¸¸åŸå› "></a>äºŒã€ğŸŒŸğŸŒŸğŸŒŸå¼‚å¸¸åŸå› </h2><blockquote><ul><li>æ ¹æœ¬åŸå› ï¼šspringbootçˆ¶å·¥ç¨‹çš„ä¾èµ–ç‰ˆæœ¬ï¼Œä¸springcloudæŸä¸ªç»„ä»¶ä¾èµ–ç‰ˆæœ¬ä¸åŒ¹é…ã€‚</li><li>ç›´æ¥åŸå› ï¼šåˆ©ç”¨IDEAå¿«æ·åˆ›å»ºbooté¡¹ç›®ä¸”å¯¼å…¥æŸä¸ªcloudç»„ä»¶ä¾èµ–æ—¶ã€‚IDEAä¼šé»˜è®¤ä½¿ç”¨æœ€æ–°ç‰ˆæœ¬ç»„ä»¶ï¼ˆåŒ…æ‹¬booté¡¹ç›®ä¹Ÿä¼šä½¿ç”¨æœ€æ–°ç‰ˆæœ¬åˆ›å»ºï¼‰ï¼Œåé¢ä¸€æ—¦æ”¹åŠ¨booté¡¹ç›®ç‰ˆæœ¬å°±ä¼šå¯¼è‡´ä¸¤è€…ä¹‹é—´çš„ç‰ˆæœ¬å†²çªã€‚</li></ul></blockquote><h2 id="ä¸‰ã€âœŒâœŒâœŒè§£å†³æ–¹æ³•"><a href="#ä¸‰ã€âœŒâœŒâœŒè§£å†³æ–¹æ³•" class="headerlink" title="ä¸‰ã€âœŒâœŒâœŒè§£å†³æ–¹æ³•"></a>ä¸‰ã€âœŒâœŒâœŒè§£å†³æ–¹æ³•</h2><p><a href="https://spring.io/projects/spring-cloud">Spring Cloud</a></p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511200901766.png" alt="image-20230511200901766"></p><blockquote><p>springboot:2.1.8.RELEASE å®˜æ–¹å»ºè®®<font color="red"> Greenwich.SR6</font><br> å½“ç„¶é€‰æ‹©ä½ä¸€ç‚¹ç‰ˆæœ¬ä¹Ÿå¯ä»¥å“ˆæˆ‘ç”¨çš„<font color="red"> Greenwich.SR3</font></p></blockquote><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511201039947.png" alt="image-20230511201039947"></p><p><a href="https://mvnrepository.com/">Mavenä»“åº“åœ°å€</a></p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511201604915.png" alt="image-20230511201604915"></p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511201639512.png" alt="image-20230511201639512"></p><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511211611993.png" alt="image-20230511211611993"></p><h2 id="å››ã€ğŸŒğŸŒğŸŒæµ‹è¯•ç»“æœ"><a href="#å››ã€ğŸŒğŸŒğŸŒæµ‹è¯•ç»“æœ" class="headerlink" title="å››ã€ğŸŒğŸŒğŸŒæµ‹è¯•ç»“æœ"></a>å››ã€ğŸŒğŸŒğŸŒæµ‹è¯•ç»“æœ</h2><blockquote><p>springBootæ­£å¸¸å¯åŠ¨</p></blockquote><p><img src="/2023/05/11/gulimall-springboot%E5%90%AF%E5%8A%A8%E5%A4%B1%E8%B4%A5/image-20230511211808733.png" alt="image-20230511211808733"></p><h2 id="äº”ã€ğŸ€ğŸ€ğŸ€æ³¨æ„"><a href="#äº”ã€ğŸ€ğŸ€ğŸ€æ³¨æ„" class="headerlink" title="äº”ã€ğŸ€ğŸ€ğŸ€æ³¨æ„"></a>äº”ã€ğŸ€ğŸ€ğŸ€æ³¨æ„</h2><blockquote><ul><li>å½“booté¡¹ç›®ä¸­å¯¼å…¥cloudç»„ä»¶æ—¶ï¼Œå°¤å…¶éœ€è¦æ³¨æ„ä¸¤è€…ä¹‹é—´çš„ç‰ˆæœ¬æ˜¯å¦åŒ¹é…ï¼ï¼ï¼</li><li>booté¡¹ç›®ä¸­åªè¦å­˜åœ¨ä¸€ä¸ªcloudç»„ä»¶ç‰ˆæœ¬ä¸booté¡¹ç›®ç‰ˆæœ¬ä¸åŒ¹é…ï¼Œéƒ½ä¼šå‡ºç°å¾ˆå¤šå¼‚å¸¸ï¼ŒåŒ…æ‹¬æ— æ³•å¯åŠ¨ã€‚</li></ul></blockquote><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> åç«¯å¼€å‘ </category>
          
      </categories>
      
      
        <tags>
            
            <tag> gulimail </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo-markdowné—®é¢˜è§£å†³</title>
      <link href="/2023/05/06/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/"/>
      <url>/2023/05/06/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3"><h1 id="åˆ›å»ºmarkdown"><a href="#åˆ›å»ºmarkdown" class="headerlink" title="åˆ›å»ºmarkdown"></a>åˆ›å»ºmarkdown</h1><ol><li>é¦–å…ˆåœ¨Hexoçš„æ ¹ç›®å½•ä¸‹æ‰“å¼€git è¾“å…¥ hxeo n æ–‡ä»¶å</li><li>å…¶æ¬¡&#x2F;Blogroot&#x2F;source&#x2F;_post å³å¯çœ‹åˆ°å¯¹åº”çš„mdæ–‡ä»¶å’Œæ–‡ä»¶å¤¹</li></ol><p><img src="/2023/05/06/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230507101807999.png" alt="image-20230507101807999"></p><p><img src="/2023/05/06/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230507101924378.png" alt="image-20230507101924378"></p><h1 id="markdownçš„ä½¿ç”¨"><a href="#markdownçš„ä½¿ç”¨" class="headerlink" title="markdownçš„ä½¿ç”¨"></a>markdownçš„ä½¿ç”¨</h1><ol><li>é¦–å…ˆåœ¨æ–‡ä»¶å¤´éƒ¨æ·»åŠ æ–‡ä»¶çš„åŸºæœ¬ä¿¡æ¯ï¼Œè¿™äº›åŸºæœ¬ä¿¡æ¯å¯ä»¥è¢«hexoæ¡†æ¶è¯»å–+æ¸²æŸ“</li></ol><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">--- ï¼ˆä¸»è¦è¿™é‡Œçš„---ä¸èƒ½å°‘ï¼Œä¸ç„¶hexoè¯†åˆ«ä¸åˆ°ï¼‰</span><br><span class="line">title: hexo-markdowné—®é¢˜è§£å†³</span><br><span class="line"><span class="built_in">date</span>: 2023-05-07 10:14:45</span><br><span class="line">author: luozongwei</span><br><span class="line">categories:</span><br><span class="line">  - hexo</span><br><span class="line">tags:</span><br><span class="line">  - hexo</span><br><span class="line">  - markdown</span><br><span class="line">---</span><br></pre></td></tr></table></figure><ol start="2"><li>æœ€é‡è¦çš„æ˜¯markdownä¸­çš„å›¾ç‰‡æ˜¾ç¤ºé—®é¢˜ï¼Œè¿™é‡Œæˆ‘æä¾›ä¸¤ä¸ªè§£å†³æ–¹æ³•</li></ol><p>ç¬¬ä¸€ä¸ªæ˜¯ç›´æ¥ä½¿ç”¨markdownè¯­æ³•</p><figure class="highlight plaintext"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">![å›¾ç‰‡æ˜¾ç¤ºåç§°](å›¾ç‰‡è·¯å¾„) å¦‚ä¸‹é¢å›¾ç‰‡æ‰€ç¤º</span><br><span class="line">![demo01](/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/demo01.png) </span><br><span class="line">è¿™é‡Œçš„%æ˜¯å› ä¸ºæˆ‘çš„æ–‡ä»¶åç”¨äº†ä¸­æ–‡</span><br><span class="line">æ³¨æ„è¿™é‡Œéå¸¸é‡è¦çš„ä¸€ç‚¹ä½ æ˜¯å¿…é¡»åœ¨å‰é¢åŠ ä¸Šhexo-markdownåŠ ä¸Š  / or ./ å¦åˆ™ä¸Šä¼ çš„æ—¶å€™æ˜¾ç¤ºä¸äº†</span><br></pre></td></tr></table></figure><p><img src="/2023/05/06/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230508094219242.png" alt="image-20230508094219242"></p><p><img src="/2023/05/06/hexo-markdown%E9%97%AE%E9%A2%98%E8%A7%A3%E5%86%B3/image-20230508094322483.png" alt="image-20230508094322483"></p><h1 id="å¯¹äºhexoèƒŒæ™¯å›¾ç‰‡çš„ä¿®æ”¹"><a href="#å¯¹äºhexoèƒŒæ™¯å›¾ç‰‡çš„ä¿®æ”¹" class="headerlink" title="å¯¹äºhexoèƒŒæ™¯å›¾ç‰‡çš„ä¿®æ”¹"></a>å¯¹äºhexoèƒŒæ™¯å›¾ç‰‡çš„ä¿®æ”¹</h1><p>åœ¨_config.butterfly.yml ä¸‹ä¿®æ”¹ï¼š</p><figure class="highlight yml"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Avatar (å¤´åƒ)</span></span><br><span class="line"><span class="attr">avatar:</span></span><br><span class="line">  <span class="comment"># img: https://i.loli.net/2021/02/24/5O1day2nriDzjSu.png</span></span><br><span class="line">  <span class="attr">img:</span> <span class="string">/img/favicon.png</span></span><br><span class="line">  <span class="attr">effect:</span> <span class="literal">false</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># The banner image of home page èƒŒæ™¯å›¾ç‰‡</span></span><br><span class="line"><span class="attr">index_img:</span> <span class="string">/img/background.png</span></span><br></pre></td></tr></table></figure><h1 id="å¯¹äºå¯èƒ½é‡åˆ°hexoæ’ä»¶é—®é¢˜"><a href="#å¯¹äºå¯èƒ½é‡åˆ°hexoæ’ä»¶é—®é¢˜" class="headerlink" title="å¯¹äºå¯èƒ½é‡åˆ°hexoæ’ä»¶é—®é¢˜"></a>å¯¹äºå¯èƒ½é‡åˆ°hexoæ’ä»¶é—®é¢˜</h1><p>å› ä¸ºè¦ä½¿ç”¨åˆ°ä¸€ä¸‹hexoçš„æ’ä»¶ï¼Œå› æ­¤åœ¨ä¸‹é¢ä¸¾äº†ä¸€äº›ä¾‹å­ï¼š</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># hexo-cli æ˜¯ hexoçš„æŒ‡ä»¤é›† ä¸‹è½½åå¯ä»¥ä½¿ç”¨ hexo s;hexo gç­‰ç­‰</span></span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"><span class="comment"># butterflyä¸»é¢˜è¿›è¡Œæ¸²æŸ“</span></span><br><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br><span class="line"><span class="comment"># ä¿è¯markdownä¸­çš„å›¾ç‰‡è·¯å¾„å³æ­£å¸¸æ˜¾ç¤º</span></span><br><span class="line">Â npm install hexo-asset-image --save</span><br></pre></td></tr></table></figure><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
    
    <entry>
      <title>hexo+githubæ­å»ºä¸ªäººåšå®¢</title>
      <link href="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/"/>
      <url>/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/</url>
      
        <content type="html"><![CDATA[<font face="zhuZiAWan" size="3">é¦–å…ˆå£°æ˜æ˜¯åœ¨[Hexo+é˜¿é‡Œäº‘&GitHub æ­å»ºä¸ªäººåšå®¢ | æµ·æ‹¥ (haiyong.site)](https://haiyong.site/post/cda958f2.html)åŸºç¡€ä¸Šæ·»åŠ äº†è‡ªå·±åœ¨å­¦ä¹ ä¸­é‡åˆ°çš„é”™è¯¯ï¼Œäº‹å…ˆå£°æ˜ã€‚<h1 id="å‡†å¤‡å·¥ä½œ"><a href="#å‡†å¤‡å·¥ä½œ" class="headerlink" title="å‡†å¤‡å·¥ä½œ"></a>å‡†å¤‡å·¥ä½œ</h1><p>å®‰è£…å¿…è¦çš„è½¯ä»¶ (æœ¬äººæ˜¯åœ¨Windows11ç³»ç»Ÿä¸‹å®ç°)</p><h2 id="Node-js"><a href="#Node-js" class="headerlink" title="Node.js"></a>Node.js</h2><p><a href="https://blog.csdn.net/weixin_52799373/article/details/123840137">nodejså®‰è£…æ•™ç¨‹</a> </p><h2 id="git"><a href="#git" class="headerlink" title="git"></a>git</h2><p><a href="https://www.cnblogs.com/xueweisuoyong/p/11914045.html">gitå®‰è£…æ•™ç¨‹</a></p><h2 id="hexoæ¡†æ¶å®‰è£…"><a href="#hexoæ¡†æ¶å®‰è£…" class="headerlink" title="hexoæ¡†æ¶å®‰è£…"></a>hexoæ¡†æ¶å®‰è£…</h2><p>å®˜æ–¹åœ°å€ï¼š<a href="https://hexo.io/zh-cn/">https://hexo.io/zh-cn/</a></p><ol><li>é¦–å…ˆéœ€è¦å»ºç«‹åšå®¢æ–‡ä»¶å¤¹ï¼Œå»ºè®®å»ºåœ¨éç³»ç»Ÿç›˜ï¼Œä¾‹å¦‚ï¼Œé‚£ä¹ˆè¿™ä¸ªç›®å½•F:\lwsj\myblog, å°±æ˜¯æˆ‘ä»¬åšå®¢çš„æ ¹ç›®å½•äº†ã€‚<br>å› ä¸ºæ¯ä¸ªäººçš„å‘½åä¹ æƒ¯ä¸åŒï¼Œæœ¬å¸–ä¹‹åä¼šä»¥ [Blogroot] æŒ‡ä»£åšå®¢æ ¹ç›®å½•ã€‚</li><li>ä½¿ç”¨ npm å®‰è£… Hexo, åœ¨ [Blogroot] ï¼ˆå°±æ˜¯ä½ æƒ³è¦æ”¾hexoæ¡†æ¶çš„æ ¹ç›®å½•ï¼‰è·¯å¾„ä¸‹å³é”® -&gt;Git Bash Here, è¾“å…¥</li></ol><p><strong>è¿™é‡Œæ³¨æ„ä¸€ç‚¹npm â€¦ä¸€èˆ¬è¦ç®¡ç†å‘˜æƒé™æ‰èƒ½æ‰§è¡Œ</strong> ï¼ˆWindows11ï¼‰</p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507093706677.png" alt="image-20230507093706677"></p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507093821967.png" alt="image-20230507093821967"></p><p>è¿™æ ·å°±ä»¥ç®¡ç†å‘˜çš„æƒé™è¿›å…¥åˆ°[Blogroot]ç›®å½•äº†ã€‚</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">npm config <span class="built_in">set</span> registry https://registry.npmmirror.com</span><br><span class="line"><span class="comment">#å°†npmæºæ›¿æ¢ä¸ºé˜¿é‡Œçš„é•œåƒã€‚ä¹‹åçš„å®‰è£…å°±ä¼šè¿…é€Ÿå¾ˆå¤šäº†ã€‚</span></span><br><span class="line">npm install hexo-cli -g</span><br><span class="line"><span class="comment"># hexo-cli æ˜¯ hexoçš„æŒ‡ä»¤é›†ã€‚</span></span><br><span class="line">hexo -v</span><br></pre></td></tr></table></figure><ol start="3"><li>åˆå§‹åŒ– Hexo åšå®¢ï¼š<figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment">## æœ¬åœ°åˆ›å»ºä¸€ä¸ªç›®å½•ç”¨äºå­˜æ”¾åšå®¢</span></span><br><span class="line">hexo init</span><br><span class="line">hexo generate</span><br><span class="line">hexo server</span><br></pre></td></tr></table></figure></li></ol><p>ç„¶ååœ¨æµè§ˆå™¨ä¸­æ‰“å¼€ localhost:4000 , å°±èƒ½çœ‹åˆ° (æœ€åˆçš„hexoæ¡†æ¶çš„æ ·å­)</p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507094233583.png" alt="image-20230507094233583"></p><p>ï¼é€šè¿‡ä»¥ä¸Š 3 ç§æ–¹å¼éƒ¨ç½² Hexo åšå®¢ä¹‹åï¼Œå°±æ‹¥æœ‰äº†ä¸€ä¸ªæœ€ç®€å•çš„ä¸ªäººåšå®¢ç½‘ç«™äº†ï¼Œä¸‹é¢è®²è®²åšå®¢çš„ç®€å•åˆå§‹åŒ–ã€‚</p><h1 id="Hexo-åŸºç¡€ä¿®æ”¹"><a href="#Hexo-åŸºç¡€ä¿®æ”¹" class="headerlink" title="Hexo åŸºç¡€ä¿®æ”¹"></a>Hexo åŸºç¡€ä¿®æ”¹</h1><h2 id="ä¿®æ”¹ç½‘ç«™å…³é”®ä¿¡æ¯"><a href="#ä¿®æ”¹ç½‘ç«™å…³é”®ä¿¡æ¯" class="headerlink" title="ä¿®æ”¹ç½‘ç«™å…³é”®ä¿¡æ¯"></a>ä¿®æ”¹ç½‘ç«™å…³é”®ä¿¡æ¯</h2><p>Hexo åˆå§‹åŒ–åï¼Œåšå®¢ç½‘ç«™æœ‰ä¸€äº›å…³é”®ä¿¡æ¯æ˜¯é»˜è®¤çš„ï¼Œéœ€è¦ä¿®æ”¹ä¸ºæˆ‘ä»¬è‡ªå·±çš„ä¿¡æ¯ã€‚ ï¼ˆè¦ç†Ÿç»ƒä½¿ç”¨ctrl+Fè¿›è¡Œæœç´¢ï¼‰</p><h3 id="ç½‘ç«™èµ„æ–™"><a href="#ç½‘ç«™èµ„æ–™" class="headerlink" title="ç½‘ç«™èµ„æ–™"></a>ç½‘ç«™èµ„æ–™</h3><p>ä¿®æ”¹ç½‘ç«™å„ç§èµ„æ–™ï¼Œä¾‹å¦‚æ ‡é¢˜ã€å‰¯æ ‡é¢˜å’Œé‚®ç®±ç­‰ä¸ªäººèµ„æ–™ï¼Œè¯·ä¿®æ”¹åšå®¢æ ¹ç›®å½•çš„ç«™ç‚¹é…ç½®æ–‡ä»¶ _config.ymlï¼š</p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507094503955.png" alt="image-20230507094503955"></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br></pre></td><td class="code"><pre><span class="line"><span class="comment"># Site</span></span><br><span class="line">title: ç½—å¸ˆå‚…</span><br><span class="line">subtitle: <span class="string">&#x27;ä¸€ä¸ªçƒ­çˆ±å­¦ä¹ å’Œè¿åŠ¨çš„ç¨‹åºçŒ¿&#x27;</span></span><br><span class="line">description: <span class="string">&#x27;&#x27;</span></span><br><span class="line">keywords:</span><br><span class="line">author: lwsj</span><br><span class="line">language: zh-CN</span><br><span class="line">timezone: <span class="string">&#x27;&#x27;</span></span><br></pre></td></tr></table></figure><h2 id="Butterflyä¸»é¢˜å®‰è£…"><a href="#Butterflyä¸»é¢˜å®‰è£…" class="headerlink" title="Butterflyä¸»é¢˜å®‰è£…"></a>Butterflyä¸»é¢˜å®‰è£…</h2><p>åœ¨ä½ çš„ Hexo æ ¹ç›®å½•é‡Œæ‰§è¡Œï¼šï¼ˆä¸ºäº†è®©ä½ çš„é¡µé¢å˜å¾—æ›´å¥½çœ‹ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git <span class="built_in">clone</span> -b master https://github.com/jerryc127/hexo-theme-butterfly.git themes/butterfly</span><br></pre></td></tr></table></figure><p>å®‰è£…å®Œåå°†ä¼šåœ¨\Blogroot\themes ä¸‹çœ‹åˆ°butterflyï¼ŒåŒå‡»è¿›å»</p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507095154252.png" alt="image-20230507095154252"></p><p>ä¿®æ”¹ä¸»é¢˜é…ç½®æ–‡ä»¶ <code>_config.butterfly.yml</code>ï¼šï¼ˆè¿™é‡Œè¦åšä¸€ä¸ªè¯´æ˜ï¼‰</p><p>åœ¨ hexo çš„æ ¹ç›®å½•åˆ›å»ºä¸€ä¸ªæ–‡ä»¶ <code>_config.butterfly.yml</code>ï¼Œå¹¶æŠŠ<strong>ä¸»é¢˜ç›®å½•</strong>(å°±æ˜¯butterflyä¸‹)çš„ <code>_config.yml</code> å†…å®¹å¤åˆ¶åˆ° <code>_config.butterfly.yml</code> å»ï¼Œä»¥ååªéœ€è¦åœ¨ <code>_config.butterfly.yml</code> è¿›è¡Œé…ç½®å°±è¡Œã€‚</p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507095256770.png" alt="image-20230507095256770"></p><h3 id="åº”ç”¨ä¸»é¢˜"><a href="#åº”ç”¨ä¸»é¢˜" class="headerlink" title="åº”ç”¨ä¸»é¢˜"></a>åº”ç”¨ä¸»é¢˜</h3><p>ä¿®æ”¹ Hexo æ ¹ç›®å½•ä¸‹çš„ <code>_config.yml</code>ï¼ŒæŠŠä¸»é¢˜æ”¹ä¸º butterfly</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">theme: butterfly</span><br></pre></td></tr></table></figure><h3 id="å®‰è£…æ’ä»¶"><a href="#å®‰è£…æ’ä»¶" class="headerlink" title="å®‰è£…æ’ä»¶"></a>å®‰è£…æ’ä»¶</h3><p>å¦‚æœä½ æ²¡æœ‰ pug ä»¥åŠ stylus çš„æ¸²æŸ“å™¨ï¼Œè¯·ä¸‹è½½å®‰è£…ï¼šï¼ˆä¸ºäº†å°†butterflyä¸»é¢˜æ¸²æŸ“å‡ºæ¥ï¼‰</p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">npm install hexo-renderer-pug hexo-renderer-stylus --save</span><br></pre></td></tr></table></figure><h3 id="å¯¼èˆªèœå•"><a href="#å¯¼èˆªèœå•" class="headerlink" title="å¯¼èˆªèœå•"></a>å¯¼èˆªèœå•</h3><p>çœ‹ä¸Šé¢æˆ‘æŒ‡å®šé“¾æ¥çš„åšå®¢å³å¯<a href="https://haiyong.site/post/cda958f2.html">Hexo+é˜¿é‡Œäº‘&amp;GitHub æ­å»ºä¸ªäººåšå®¢ | æµ·æ‹¥ (haiyong.site)</a></p><p>ä¿®æ”¹åå¦‚ä¸‹: (æœ¬äººå·²ç»åšäº†åˆ å‡äº†)</p><p><img src="/2023/05/06/hexo-github%E6%90%AD%E5%BB%BA%E4%B8%AA%E4%BA%BA%E5%8D%9A%E5%AE%A2/image-20230507100426785.png" alt="image-20230507100426785"></p><h1 id="githubéƒ¨ç½²"><a href="#githubéƒ¨ç½²" class="headerlink" title="githubéƒ¨ç½²"></a>githubéƒ¨ç½²</h1><p>çœ‹æµ·æ‹¥åšä¸»çš„åšå®¢<a href="https://haiyong.site/post/cda958f2.html">Hexo+é˜¿é‡Œäº‘&amp;GitHub æ­å»ºä¸ªäººåšå®¢ | æµ·æ‹¥ (haiyong.site)</a></p><p>è¿™é‡Œå¯¹äºæœ€åçš„ä¸Šä¼ åšä¸ªè¯´æ˜ï¼š<strong>ä¸€å®šè¦è¿›è¡Œhexo cleanï¼Œä¸ç„¶githubåˆ·æ–°æœ‰ç‚¹é—®é¢˜ã€‚</strong></p><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">hexo clean</span><br><span class="line">hexo generate</span><br><span class="line">hexo deploy</span><br><span class="line">ç­‰ä»·äº hexo clean &amp;&amp; hexo g &amp;&amp; hexo d</span><br></pre></td></tr></table></figure><h1 id="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"><a href="#â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼" class="headerlink" title="â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼"></a>â¤ï¸â¤ï¸â¤ï¸å¿™ç¢Œçš„æ•²ä»£ç ä¹Ÿä¸è¦å¿˜äº†æµªæ¼«é¸­ï¼</h1><blockquote><p>ğŸ‰ğŸ‰ğŸ‰æ­¤åšæ–‡ä¼šæŒç»­æ›´æ–°ï¼Œè®°å¾—å¸¸å›æ¥çœ‹çœ‹å“¦ï¼Œä¸€èµ·åŠ æ²¹åšå‡ºæ›´å¥½çœ‹æ›´æœ‰ç”¨çš„åšæ–‡å‘€ğŸ’ªã€‚</p></blockquote><div class="bilibili">   <iframe src="//player.bilibili.com/player.html?aid=244692322&bvid=BV1ov411C7YV&cid=238308474&page=1" scrolling="no" border="0" frameborder="no" framespacing="0" allowfullscreen="true"> </iframe></div></font>]]></content>
      
      
      <categories>
          
          <category> ç™¾å®ç®± </category>
          
      </categories>
      
      
        <tags>
            
            <tag> github </tag>
            
            <tag> hexo </tag>
            
        </tags>
      
    </entry>
    
    
  
  
</search>
